const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/WhereClauseCache-CNrtI-KX.js","assets/WhereClause-_nUp2dxO.js","assets/TimeOnly-TSt7AKcm.js","assets/vendor-0HVaVRtn.js","assets/request-BJnuwDvQ.js","assets/IdentityManager-DfRUxTO3.js","assets/QueueProcessor-B3avX-hx.js","assets/pe-wasm-CRA-qgEz.js","assets/_commonjsHelpers-DCkdB7M8.js","assets/arcadeUtils-D3V9V4V6.js","assets/arcade-DssCcese.js","assets/unitConversion-C6ySdY07.js","assets/ImmutableArray-BPVd6ESQ.js","assets/shared-BAfo2QDy.js","assets/number-y-iPRyYi.js","assets/featureConversionUtils-BA1a396o.js","assets/OptimizedFeature-CCfycK9e.js","assets/memoryEstimations-ULKi3s2m.js","assets/OptimizedGeometry-B-8ZGm5_.js","assets/OptimizedFeatureSet-Blu9Ckm7.js","assets/portalLayers-TL9fiiAU.js","assets/associatedFeatureServiceUtils-D-1OWYwi.js","assets/fetchService-DEvQ0g6r.js","assets/loadUtils-BGY7RuTa.js","assets/lazyLayerLoader-DTE1AkXs.js","assets/arcgisLayers-BcJJfHQG.js","assets/ElevationLayer-CfPb-9_f.js","assets/ArcGISCachedService-Bt23sD22.js","assets/TileInfoTilemapCache-DbnMFVq8.js","assets/TilemapCache-D7fqaagB.js","assets/ByteSizeUnit-BsxeN7wM.js","assets/WorkerHandle-D7A9yBCX.js","assets/statsWorker-ge-ptvY0.js","assets/utils-oDKvpCz_.js","assets/quantizationUtils-BpNpb_IQ.js","assets/utils-BkkOhpMg.js","assets/ClassBreaksDefinition-BuPynw9a.js","assets/geometryEngineWorker-BG_WtZnW.js","assets/geometryEngineJSON-oRyFp_Dn.js","assets/geometryEngineBase-C-gsyNi-.js","assets/json-Wa8cmqdu.js","assets/operatorsWorker-DG_PlHPO.js","assets/CSVSourceWorker-6NLCAXHW.js","assets/date-DCujAECq.js","assets/executeQueryForSnapping-CkfyLf9Q.js","assets/queryUtils-BNlzCAaQ.js","assets/QueryEngine-19azimo4.js","assets/timeSupport-BhEI9ZjB.js","assets/QueryEngineCapabilities-B_pTbIiR.js","assets/SnappingCandidate-DGkpYqI6.js","assets/FixedIntervalBinParameters-Pwcu571l.js","assets/FeatureStore-B5bsWXDO.js","assets/BoundsStore-CzB_KjrX.js","assets/PooledRBush-rs9Q6__i.js","assets/optimizedFeatureQueryEngineAdapter-Dw6vA2-t.js","assets/clientSideDefaults-D3r_8oUt.js","assets/EdgeProcessingWorker-x-u8nZ4D.js","assets/workerHelper-CUsbZMhX.js","assets/InterleavedLayout-J3w3-hBD.js","assets/BufferView-DRyXCzGL.js","assets/types-D0PSWh4d.js","assets/edgeProcessing-D3iqvmUD.js","assets/deduplicate-B-DXODGg.js","assets/Indices-CBEp_gJE.js","assets/VertexAttribute-Cq4MnHjR.js","assets/glUtil-BFb_koKG.js","assets/VertexElementDescriptor-BLyltQyJ.js","assets/Normals-DfWRAFUQ.js","assets/ElevationSamplerWorker-yck0Mwic.js","assets/MeshLocalVertexSpace-sBh_tY5T.js","assets/vertexSpaceConversion-ClhL04wI.js","assets/mat3f64-q3fE-ZOt.js","assets/mat4f64-Dk4dwAN8.js","assets/spatialReferenceEllipsoidUtils-Dh_pZMy1.js","assets/computeTranslationToOriginAndRotation-C9n4vd0J.js","assets/projectPointToVector-BgmvMo_6.js","assets/meshVertexSpaceUtils-NQrc-Q1o.js","assets/vec3-PMm56mnb.js","assets/vec4-BimvBCp3.js","assets/FeatureServiceSnappingSourceWorker-BNv_zSJ9.js","assets/symbologySnappingCandidates-CL2GjFxM.js","assets/pbfQueryUtils-BLsISVrZ.js","assets/pbf-Dl5fc8cs.js","assets/query-D5Z4wGZH.js","assets/GeoJSONSourceWorker-UPV5jSKm.js","assets/geojson-d6MQtEHC.js","assets/sourceUtils-BEBDyPoJ.js","assets/LercWorker-DC8pSDsG.js","assets/MemorySourceWorker-BAkgEJDy.js","assets/objectIdUtils-BmFjqQA3.js","assets/PBFDecoderWorker-C4FyXQ5t.js","assets/dehydratedFeatures-BKKM8fCo.js","assets/FeaturePipelineWorker-dkjmoKR7.js","assets/AttributeStore-Dt2B0O_2.js","assets/Utils-CyIAxrbv.js","assets/BoundingBox-BhY6ngIg.js","assets/UpdateTracking2D-8hKovWHP.js","assets/CIMSymbolHelper-C_TXOkqN.js","assets/BidiEngine-QXap_35O.js","assets/fontUtils-CqD5F-8k.js","assets/GeometryUtils-BMKdnrSq.js","assets/rasterizingUtils-Djzg1OGQ.js","assets/floatRGBA-B19MpK0C.js","assets/Rect-CUzevAry.js","assets/streamLayerUtils-CKwt2uXH.js","assets/MeshWriterRegistry-B1cT3jSn.js","assets/TechniqueType-uMFRS8dR.js","assets/PieChartMeshWriter-Bjz7oHmn.js","assets/TurboLine-Dlp4F0eC.js","assets/utils-G36QMW2V.js","assets/earcut-D9gy186-.js","assets/grouping-P-M1khPN.js","assets/operatorGeodeticDensify-CK9lOkoI.js","assets/SimpleGeometryCursor-B92kdZ15.js","assets/geodeticCurveType-CirnHLSB.js","assets/normalizeUtilsSync-BXFCCzA_.js","assets/ogcFeatureUtils-Dcg1BTmN.js","assets/parquet-C0h6BHwB.js","assets/CircularArray-CujHzHWW.js","assets/createConnection-zLsvOeDD.js","assets/PointCloudWorker-hgjB9jkd.js","assets/quat-BPAx0Soi.js","assets/quatf64-aQ5IuZRd.js","assets/vec3f32-nZdmKIgz.js","assets/PointCloudUniqueValueRenderer-DW3IA1W8.js","assets/I3SBinaryReader-BOza1u0X.js","assets/orientedBoundingBox-ByifBRbT.js","assets/plane-ErUWAFaf.js","assets/RasterWorker-O2piBRfF.js","assets/dataUtils-BgWqaF-N.js","assets/RasterSymbolizer-DCxYuZOQ.js","assets/rasterFunctionHelper-BZ2Cwqv0.js","assets/rasterProjectionHelper-SCiZMxmf.js","assets/PolynomialTransform-D5f5tRLK.js","assets/SceneLayerSnappingSourceWorker-Bh7xXGJC.js","assets/lineSegment-IJ28c2ea.js","assets/sphere-CuaTMZXe.js","assets/Octree-XZTQo73h.js","assets/SceneLayerWorker-DwNc2Lok.js","assets/projectVectorToVector-DC2iLtOz.js","assets/I3SUtil-Dyx2gxsF.js","assets/edgeUtils-CEJxTwYq.js","assets/NormalAttribute.glsl-0HdAsAS6.js","assets/glsl-BH37Aalp.js","assets/ShaderOutput-DnYY5J1_.js","assets/BindType-BBwFZqyN.js","assets/WFSSourceWorker-CRAs5Yjq.js","assets/wfsUtils-BING7ucF.js","assets/xmlUtils-CtUoQO7q.js","assets/WorkerTileHandler-BPWhiIsN.js","assets/enums-BRzLM11V.js","assets/config-BOD8--da.js","assets/StyleDefinition-Dof2el9b.js","assets/SourceLayerData-hLsuwTGL.js","assets/StyleRepository-BH0FPxAB.js","assets/Lyr3DWorker-BbyKNjsl.js","assets/Feature3DPipelineWorker-CHB2azzl.js","assets/projectVectorToPoint--8uTGN_C.js","assets/Geometry-DcqX37ip.js","assets/renderState-DgbFRBEt.js","assets/basicInterfaces-CZwQPxTp.js","assets/boundedPlane-NriGqPNE.js","assets/requestImageUtils-C2zwD5BS.js","assets/TextureFormat-1mYWTFa-.js","assets/triangle-AxlkRFzb.js","assets/HUDMaterial.glsl-DxFAtRKj.js","assets/VertexArrayObject-DoVCN60J.js","assets/dehydratedFeatureUtils-GzMA3OWY.js","assets/doublePrecisionUtils-B0owpBza.js","assets/hydratedFeatures-Oldgm7vW.js","assets/ShaderBuilder-ozdbYX8n.js","assets/IntersectorInterfaces-CmNINbyF.js","assets/RealisticTree.glsl-jO-y-_n4.js","assets/LodResources-N2Vins8_.js","assets/TextureCompressionWorker-BDF77RP3.js","assets/deleteForwardEdits-CAKSAIbb.js","assets/DeleteForwardEditsParameters-D_Bmi0Sx.js","assets/editingSupport-DHQru0rV.js","assets/OverrideHelper-BgpyywX6.js","assets/resourceUtils-DNp2lDwb.js","assets/hydrated-D3kW-210.js","assets/layersLoader-C7KzGmOS.js","assets/jsonContext-DIL1Or4x.js","assets/featureUtils-DX3yWdOR.js","assets/featureLayerUtils-D2KULkXN.js","assets/originUtils-CPX8CCAY.js","assets/multiOriginJSONSupportUtils-C0wm8_Yw.js","assets/utils-Nmg_isHi.js","assets/saveUtils-BgJocPyI.js","assets/FeatureLayerSource-BxhrFgMY.js","assets/External-C2DkQ6nR.js","assets/MeshTransform-BsZWIh25.js","assets/axisAngleDegrees-wDjHiEUO.js","assets/QueryTask-Bq7wk6cC.js","assets/executeForIds-C3J24RyR.js","assets/executeQueryJSON-D70JCkGv.js","assets/TopFeaturesQuery-_STOvB1s.js","assets/AttributeBinsQuery-BUtKfxqt.js","assets/layersCreator-C6nPcvlA.js","assets/ElevationQuery-v606_JgH.js","assets/Popup-wlYEmAnY.js","assets/unitFormatUtils-Dpi52XZ5.js","assets/quantityUtils-CDTUFnD-.js","assets/AttachmentInfo-GNCUBNwx.js","assets/NetworkElement-Bheu66GT.js","assets/ReactiveSet-Bbo2cL01.js","assets/layerViewUtils-QcWzjUdO.js","assets/geometryServiceUtils-MGT8mhzk.js","assets/project-lYyYJz-L.js","assets/webglDeps-DvWTmSEL.js","assets/FramebufferObject-DiZqzhFd.js","assets/ProgramTemplate-DGIO6IiA.js","assets/NestedMap-CImDozOA.js","assets/mapViewDeps-BXO0H_vD.js","assets/FeatureCommandQueue-hlB2SsWB.js","assets/GraphShaderModule-DA3c8CT_.js","assets/WGLContainer-DLLIFM4R.js","assets/Container-B9xjPENy.js","assets/SDFHelper--tf-TGpy.js","assets/GridShader-DOc4mSdX.js","assets/testSVGPremultipliedAlpha-Dedo25W6.js","assets/RenderingContext-D64nTY3m.js","assets/CIMResourceManager-ClAccHdt.js","assets/utils-DUiB3Dut.js","assets/VertexStream-COsPlS-G.js","assets/utils-ehcGqGxa.js","assets/GraphicsView2D-CLkr7LDF.js","assets/GraphicContainer-qTzHvHgb.js","assets/AGraphicContainer-j4iGCDGE.js","assets/TechniqueInstance-cQWkdpwy.js","assets/TileContainer-DYmStfIm.js","assets/gridUtils-f7iT_1Tn.js","assets/geodesicUtils-DhJKbwR0.js","assets/TileLayerView2D-CVY5uaKI.js","assets/imageUtils-kJoApBTS.js","assets/BitmapTechnique-Cdl6vt7D.js","assets/LayerView-D9yvypP5.js","assets/HighlightGraphicContainer-BVHpoUQ6.js","assets/RefreshableLayerView-CsxfecOM.js","assets/MapServiceLayerViewHelper-CHCaUOP7.js","assets/drapedUtils-De7tZzan.js","assets/popupUtils-B3ovlDZ7.js","assets/FeatureLayerView2D-BT7l-f71.js","assets/timeSupport-DyQcfeJU.js","assets/AttributeBinsFeatureSet-BF9lLO6c.js","assets/constants-B4mRqufT.js","assets/BaseDynamicLayerView2D-K8gcl-iT.js","assets/BitmapContainer-B-02qmEh.js","assets/ExportStrategy-Ds8lclQe.js","assets/CatalogLayerView2D-CVJ5TpWP.js","assets/CatalogDynamicGroupLayerView2D-0Eky1WOF.js","assets/CatalogFootprintLayerView2D-KMhEeYrj.js","assets/GeoRSSLayerView2D-eNQODzUL.js","assets/GraphicsLayerView2D-BShHdXJj.js","assets/GroupLayerView2D-BQgX8rkL.js","assets/ImageryLayerView2D-CYzvhQqV.js","assets/RasterVFDisplayObject-CLvdvrgD.js","assets/ImageryTileLayerView2D-Cvf9DIgZ.js","assets/rasterFieldUtils-AOyYrBrS.js","assets/rasterUtils-0btF6Jes.js","assets/RawBlockCache-C9u3pOwI.js","assets/KMLLayerView2D-DnbkdXFU.js","assets/kmlUtils-BgWeQlrM.js","assets/KnowledgeGraphLayerView2D-CS6ACuM5.js","assets/MapImageLayerView2D-C-5UpyVw.js","assets/MapNotesLayerView2D-BpN4eVI-.js","assets/MediaLayerView2D-40tMsIH1.js","assets/mediaLayerUtils-CujGqPmw.js","assets/OverlayContainer-CxKdBm0o.js","assets/OGCFeatureLayerView2D-BzqNi-QL.js","assets/RouteLayerView2D-DD0SaA8Y.js","assets/Stop-CpvMpZEG.js","assets/networkEnums-BTDz3D8w.js","assets/StreamLayerView2D-CTyvYUBr.js","assets/SubtypeGroupLayerView2D-D3uJEEIb.js","assets/VectorTileLayerView2D-DDMLNbh-.js","assets/VideoLayerView2D-DbUnFnOS.js","assets/GraphicsLayer-By3DMs5z.js","assets/TelemetryDisplay-BkNQwcun.js","assets/WMSLayerView2D-BJATqyjO.js","assets/ExportWMSImageParameters-DHTBV7Z7.js","assets/WMTSLayerView2D-B3qWSYAt.js","assets/gif-C_PEwJVo.js","assets/apng-D7srjofB.js","assets/index-C7XRDy6O.js","assets/index-Coz8083l.js","assets/guid-ejniuQmw.js","assets/useT9n-DESmR0qZ.js","assets/index-BlVPZ5Il.js","assets/dom-DCR7g2Gk.js","assets/observers-C46IXtRk.js","assets/ref-Bv2pKjOF.js","assets/static-DiVbdZpY.js","assets/form-uWLpzihm.js","assets/interactive-C5s6vlQf.js","assets/label-DLXHercz.js","assets/loadable-BIkeNJC7.js","assets/component-C_KYmOKA.js","assets/index-BizEGsKy.js","assets/keyed-akJsPju0.js","assets/index-BUtWcg34.js","assets/index-pPN8oAaz.js","assets/floating-ui-BRjVGuIN.js","assets/debounce-D0G5qrda.js","assets/openCloseComponent-CKPjKc7P.js","assets/FloatingArrow-CR9YiHhD.js","assets/useFocusTrap-E1FAaty_.js","assets/key-CZcQa38B.js","assets/index-BZT_fVCg.js","assets/array-BbE1dLa5.js","assets/customElement-JhggOere.js","assets/index-BWIgTMDK.js","assets/interact.min-g6-tpPva.js","assets/dynamicClasses-pKEMtFzB.js","assets/index-Dpm0DIn1.js","assets/index-DX6I-J20.js","assets/index-BNnglAT1.js","assets/index-CYTV4BM-.js","assets/resources6-Cs2_VmEC.js","assets/index-CRgpsPQH.js","assets/utils--XtR_tai.js","assets/resources5-SciNIBSe.js","assets/index-C3OkyxW3.js","assets/index-CHXEeU3_.js","assets/customElement-uCsO61zw.js","assets/index-BbTURvXf.js","assets/index-a3iR4gqj.js","assets/index-6RAhZ3vm.js","assets/index-Ckjxk_-e.js","assets/index-BCIhc8Ui.js","assets/CatalogLayerList-CsStkLqe.js","assets/TableList-DAdx2EXq.js","assets/symbolLayerUtils-97_Z48OJ.js","assets/previewWebStyleSymbol-CM4c3uQn.js","assets/previewSymbol2D-CbfuZXcX.js","assets/previewCIMSymbol-BjBfeZbT.js","assets/CIMSymbolRasterizer-BsftvvtX.js","assets/index-CU5DbpTI.js","assets/index-a2L6Wguo.js"])))=>i.map(i=>d[i]);
import{w as be,o as ar,e as HA,s as ce,r as Br,c as T,a as wn,t as Hh,b as Gm,u as br,F as Be,i as ote,C as ate,g as lte,d as ae,f as ft,p as Yt,h as ute,j as $c,k as f8,l as An,m as _,n as K,q as Di,v as qA,x as Ir,y as m8,z as cte,A as _t,T as WA,B as uc,D as hm,E as q,G as R0,H as ln,I as _s,J as Zo,K as dte,L as hte,M as pte,N as xa,O as fte,P as mte,Q as yte,R as fs,S as gte,U as vte,V as uR,W as bte,X as y8,Y as Dn,Z as wte,_ as _te,$ as ZA,a0 as Hm,a1 as YA,a2 as cs,a3 as cv,a4 as Ste}from"./vendor-0HVaVRtn.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function Sr(e,t){let n;function i(){n=HA(),n.run(()=>t.length?t(()=>{n?.stop(),i()}):t())}be(e,r=>{r&&!n?i():r||(n?.stop(),n=void 0)},{immediate:!0}),ar(()=>{n?.stop()})}const gt=typeof window<"u",JA=gt&&"IntersectionObserver"in window,xte=gt&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),cR=gt&&"EyeDropper"in window;function dR(e,t,n){$te(e,t),t.set(e,n)}function $te(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Tte(e,t,n){return e.set(g8(e,t),n),n}function Vc(e,t){return e.get(g8(e,t))}function g8(e,t,n){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function v8(e,t,n){const i=t.length-1;if(i<0)return e===void 0?n:e;for(let r=0;r<i;r++){if(e==null)return n;e=e[t[r]]}return e==null||e[t[i]]===void 0?n:e[t[i]]}function nr(e,t){if(e===t)return!0;if(e instanceof Date&&t instanceof Date&&e.getTime()!==t.getTime()||e!==Object(e)||t!==Object(t))return!1;const n=Object.keys(e);return n.length!==Object.keys(t).length?!1:n.every(i=>nr(e[i],t[i]))}function xh(e,t,n){return e==null||!t||typeof t!="string"?n:e[t]!==void 0?e[t]:(t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,""),v8(e,t.split("."),n))}function Wn(e,t,n){if(t===!0)return e===void 0?n:e;if(t==null||typeof t=="boolean")return n;if(e!==Object(e)){if(typeof t!="function")return n;const r=t(e,n);return typeof r>"u"?n:r}if(typeof t=="string")return xh(e,t,n);if(Array.isArray(t))return v8(e,t,n);if(typeof t!="function")return n;const i=t(e,n);return typeof i>"u"?n:i}function _a(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:e},(n,i)=>t+i)}function _e(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(e==null||e==="")return;const n=Number(e);return isNaN(n)?String(e):isFinite(n)?`${n}${t}`:void 0}function r2(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function hR(e){let t;return e!==null&&typeof e=="object"&&((t=Object.getPrototypeOf(e))===Object.prototype||t===null)}function KA(e){if(e&&"$el"in e){const t=e.$el;return t?.nodeType===Node.TEXT_NODE?t.nextElementSibling:t}return e}const pR=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),hE=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function b8(e){return Object.keys(e)}function ih(e,t){return t.every(n=>e.hasOwnProperty(n))}function Vl(e,t){const n={};for(const i of t)Object.hasOwn(e,i)&&(n[i]=e[i]);return n}function pE(e,t,n){const i=Object.create(null),r=Object.create(null);for(const s in e)t.some(o=>o instanceof RegExp?o.test(s):o===s)?i[s]=e[s]:r[s]=e[s];return[i,r]}function Ln(e,t){const n={...e};return t.forEach(i=>delete n[i]),n}const w8=/^on[^a-z]/,s2=e=>w8.test(e),Ete=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"],Ite=["ArrowUp","ArrowDown","ArrowRight","ArrowLeft","Enter","Escape","Tab"," "];function Cte(e){return e.isComposing&&Ite.includes(e.key)}function Tc(e){const[t,n]=pE(e,[w8]),i=Ln(t,Ete),[r,s]=pE(n,["class","style","id",/^data-/]);return Object.assign(r,t),Object.assign(s,i),[r,s]}function sn(e){return e==null?[]:Array.isArray(e)?e:[e]}function Mte(e,t){let n=0;const i=function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];clearTimeout(n),n=setTimeout(()=>e(...s),br(t))};return i.clear=()=>{clearTimeout(n)},i.immediate=e,i}function Pn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(t,Math.min(n,e))}function fR(e){const t=e.toString().trim();return t.includes(".")?t.length-t.indexOf(".")-1:0}function mR(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return e+n.repeat(Math.max(0,t-e.length))}function yR(e,t){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,t-e.length))+e}function kte(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const n=[];let i=0;for(;i<e.length;)n.push(e.substr(i,t)),i+=t;return n}function gR(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(e<t)return`${e} B`;const n=t===1024?["Ki","Mi","Gi"]:["k","M","G"];let i=-1;for(;Math.abs(e)>=t&&i<n.length-1;)e/=t,++i;return`${e.toFixed(1)} ${n[i]}B`}function Qi(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const i={};for(const r in e)i[r]=e[r];for(const r in t){const s=e[r],o=t[r];if(hR(s)&&hR(o)){i[r]=Qi(s,o,n);continue}if(n&&Array.isArray(s)&&Array.isArray(o)){i[r]=n(s,o);continue}i[r]=o}return i}function _8(e){return e.map(t=>t.type===Be?_8(t.children):t).flat()}function dh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(dh.cache.has(e))return dh.cache.get(e);const t=e.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return dh.cache.set(e,t),t}dh.cache=new Map;function Af(e,t){if(!t||typeof t!="object")return[];if(Array.isArray(t))return t.map(n=>Af(e,n)).flat(1);if(t.suspense)return Af(e,t.ssContent);if(Array.isArray(t.children))return t.children.map(n=>Af(e,n)).flat(1);if(t.component){if(Object.getOwnPropertySymbols(t.component.provides).includes(e))return[t.component];if(t.component.subTree)return Af(e,t.component.subTree).flat(1)}return[]}var Fb=new WeakMap,mp=new WeakMap;class Ate{constructor(t){dR(this,Fb,[]),dR(this,mp,0),this.size=t}push(t){Vc(Fb,this)[Vc(mp,this)]=t,Tte(mp,this,(Vc(mp,this)+1)%this.size)}values(){return Vc(Fb,this).slice(Vc(mp,this)).concat(Vc(Fb,this).slice(0,Vc(mp,this)))}}function Pte(e){return"touches"in e?{clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}:{clientX:e.clientX,clientY:e.clientY}}function XA(e){const t=Br({}),n=T(e);return wn(()=>{for(const i in n.value)t[i]=n.value[i]},{flush:"sync"}),Hh(t)}function T_(e,t){return e.includes(t)}function S8(e){return e[2].toLowerCase()+e.slice(3)}const xi=()=>[Function,Array];function vR(e,t){return t="on"+Gm(t),!!(e[t]||e[`${t}Once`]||e[`${t}Capture`]||e[`${t}OnceCapture`]||e[`${t}CaptureOnce`])}function o2(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(Array.isArray(e))for(const r of e)r(...n);else typeof e=="function"&&e(...n)}function Bv(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(i=>`${i}${t?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...e.querySelectorAll(n)]}function x8(e,t,n){let i,r=e.indexOf(document.activeElement);const s=t==="next"?1:-1;do r+=s,i=e[r];while((!i||i.offsetParent==null||!(n?.(i)??!0))&&r<e.length&&r>=0);return i}function hh(e,t){const n=Bv(e);if(!t)(e===document.activeElement||!e.contains(document.activeElement))&&n[0]?.focus();else if(t==="first")n[0]?.focus();else if(t==="last")n.at(-1)?.focus();else if(typeof t=="number")n[t]?.focus();else{const i=x8(n,t);i?i.focus():hh(e,t==="next"?"first":"last")}}function jb(e){return e==null||typeof e=="string"&&e.trim()===""}function $8(){}function pm(e,t){if(!(gt&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${t})`)))return null;try{return!!e&&e.matches(t)}catch{return null}}function a2(e){return e.some(t=>ote(t)?t.type===ate?!1:t.type!==Be||a2(t.children):!0)?e:null}function Lte(e,t){if(!gt||e===0)return t(),()=>{};const n=window.setTimeout(t,e);return()=>window.clearTimeout(n)}function Ote(e,t){const n=e.clientX,i=e.clientY,r=t.getBoundingClientRect(),s=r.left,o=r.top,a=r.right,l=r.bottom;return n>=s&&n<=a&&i>=o&&i<=l}function E_(){const e=ce(),t=n=>{e.value=n};return Object.defineProperty(t,"value",{enumerable:!0,get:()=>e.value,set:n=>e.value=n}),Object.defineProperty(t,"el",{enumerable:!0,get:()=>KA(e.value)}),t}function fm(e){const t=e.key.length===1,n=!e.ctrlKey&&!e.metaKey&&!e.altKey;return t&&n}function T8(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="bigint"}const E8=["top","bottom"],Rte=["start","end","left","right"];function fE(e,t){let[n,i]=e.split(" ");return i||(i=T_(E8,n)?"start":T_(Rte,n)?"top":"center"),{side:mE(n,t),align:mE(i,t)}}function mE(e,t){return e==="start"?t?"right":"left":e==="end"?t?"left":"right":e}function c$(e){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.side],align:e.align}}function d$(e){return{side:e.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.align]}}function bR(e){return{side:e.align,align:e.side}}function wR(e){return T_(E8,e.side)?"y":"x"}class ph{constructor(t){let{x:n,y:i,width:r,height:s}=t;this.x=n,this.y=i,this.width=r,this.height=s}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function _R(e,t){return{x:{before:Math.max(0,t.left-e.left),after:Math.max(0,e.right-t.right)},y:{before:Math.max(0,t.top-e.top),after:Math.max(0,e.bottom-t.bottom)}}}function I8(e){return Array.isArray(e)?new ph({x:e[0],y:e[1],width:0,height:0}):e.getBoundingClientRect()}function QA(e){const t=e.getBoundingClientRect(),n=getComputedStyle(e),i=n.transform;if(i){let r,s,o,a,l;if(i.startsWith("matrix3d("))r=i.slice(9,-1).split(/, /),s=Number(r[0]),o=Number(r[5]),a=Number(r[12]),l=Number(r[13]);else if(i.startsWith("matrix("))r=i.slice(7,-1).split(/, /),s=Number(r[0]),o=Number(r[3]),a=Number(r[4]),l=Number(r[5]);else return new ph(t);const c=n.transformOrigin,h=t.x-a-(1-s)*parseFloat(c),p=t.y-l-(1-o)*parseFloat(c.slice(c.indexOf(" ")+1)),m=s?t.width/s:e.offsetWidth+1,y=o?t.height/o:e.offsetHeight+1;return new ph({x:h,y:p,width:m,height:y})}else return new ph(t)}function rh(e,t,n){if(typeof e.animate>"u")return{finished:Promise.resolve()};let i;try{i=e.animate(t,n)}catch{return{finished:Promise.resolve()}}return typeof i.finished>"u"&&(i.finished=new Promise(r=>{i.onfinish=()=>{r(i)}})),i}const Qw=new WeakMap;function Nte(e,t){Object.keys(t).forEach(n=>{if(s2(n)){const i=S8(n),r=Qw.get(e);if(t[n]==null)r?.forEach(s=>{const[o,a]=s;o===i&&(e.removeEventListener(i,a),r.delete(s))});else if(!r||![...r].some(s=>s[0]===i&&s[1]===t[n])){e.addEventListener(i,t[n]);const s=r||new Set;s.add([i,t[n]]),Qw.has(e)||Qw.set(e,s)}}else t[n]==null?e.removeAttribute(n):e.setAttribute(n,t[n])})}function Dte(e,t){Object.keys(t).forEach(n=>{if(s2(n)){const i=S8(n),r=Qw.get(e);r?.forEach(s=>{const[o,a]=s;o===i&&(e.removeEventListener(i,a),r.delete(s))})}else e.removeAttribute(n)})}const yp=2.4,SR=.2126729,xR=.7151522,$R=.072175,Vte=.55,Fte=.58,jte=.57,zte=.62,zb=.03,TR=1.45,Bte=5e-4,Ute=1.25,Gte=1.25,Hte=.078,ER=12.82051282051282,Bb=.06,qte=.001;function IR(e,t){const n=(e.r/255)**yp,i=(e.g/255)**yp,r=(e.b/255)**yp,s=(t.r/255)**yp,o=(t.g/255)**yp,a=(t.b/255)**yp;let l=n*SR+i*xR+r*$R,c=s*SR+o*xR+a*$R;if(l<=zb&&(l+=(zb-l)**TR),c<=zb&&(c+=(zb-c)**TR),Math.abs(c-l)<Bte)return 0;let h;if(c>l){const p=(c**Vte-l**Fte)*Ute;h=p<qte?0:p<Hte?p-p*ER*Bb:p-Bb}else{const p=(c**zte-l**jte)*Gte;h=p>-.001?0:p>-.078?p-p*ER*Bb:p+Bb}return h*100}function Wte(e,t){t=Array.isArray(t)?t.slice(0,-1).map(n=>`'${n}'`).join(", ")+` or '${t.at(-1)}'`:`'${t}'`}const I_=.20689655172413793,Zte=e=>e>I_**3?Math.cbrt(e):e/(3*I_**2)+4/29,Yte=e=>e>I_?e**3:3*I_**2*(e-4/29);function C8(e){const t=Zte,n=t(e[1]);return[116*n-16,500*(t(e[0]/.95047)-n),200*(n-t(e[2]/1.08883))]}function M8(e){const t=Yte,n=(e[0]+16)/116;return[t(n+e[1]/500)*.95047,t(n),t(n-e[2]/200)*1.08883]}const Jte=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],Kte=e=>e<=.0031308?e*12.92:1.055*e**(1/2.4)-.055,Xte=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],Qte=e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4;function k8(e){const t=Array(3),n=Kte,i=Jte;for(let r=0;r<3;++r)t[r]=Math.round(Pn(n(i[r][0]*e[0]+i[r][1]*e[1]+i[r][2]*e[2]))*255);return{r:t[0],g:t[1],b:t[2]}}function eP(e){let{r:t,g:n,b:i}=e;const r=[0,0,0],s=Qte,o=Xte;t=s(t/255),n=s(n/255),i=s(i/255);for(let a=0;a<3;++a)r[a]=o[a][0]*t+o[a][1]*n+o[a][2]*i;return r}function yE(e){return!!e&&/^(#|var\(--|(rgb|hsl)a?\()/.test(e)}function ene(e){return yE(e)&&!/^((rgb|hsl)a?\()?var\(--/.test(e)}const CR=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,tne={rgb:(e,t,n,i)=>({r:e,g:t,b:n,a:i}),rgba:(e,t,n,i)=>({r:e,g:t,b:n,a:i}),hsl:(e,t,n,i)=>MR({h:e,s:t,l:n,a:i}),hsla:(e,t,n,i)=>MR({h:e,s:t,l:n,a:i}),hsv:(e,t,n,i)=>Ml({h:e,s:t,v:n,a:i}),hsva:(e,t,n,i)=>Ml({h:e,s:t,v:n,a:i})};function hs(e){if(typeof e=="number")return{r:(e&16711680)>>16,g:(e&65280)>>8,b:e&255};if(typeof e=="string"&&CR.test(e)){const{groups:t}=e.match(CR),{fn:n,values:i}=t,r=i.split(/,\s*/).map(s=>s.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(n)?parseFloat(s)/100:parseFloat(s));return tne[n](...r)}else if(typeof e=="string"){let t=e.startsWith("#")?e.slice(1):e;return[3,4].includes(t.length)?t=t.split("").map(n=>n+n).join(""):[6,8].includes(t.length),R8(t)}else if(typeof e=="object"){if(ih(e,["r","g","b"]))return e;if(ih(e,["h","s","l"]))return Ml(tP(e));if(ih(e,["h","s","v"]))return Ml(e)}throw new TypeError(`Invalid color: ${e==null?e:String(e)||e.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function Ml(e){const{h:t,s:n,v:i,a:r}=e,s=a=>{const l=(a+t/60)%6;return i-i*n*Math.max(Math.min(l,4-l,1),0)},o=[s(5),s(3),s(1)].map(a=>Math.round(a*255));return{r:o[0],g:o[1],b:o[2],a:r}}function MR(e){return Ml(tP(e))}function N0(e){if(!e)return{h:0,s:1,v:1,a:1};const t=e.r/255,n=e.g/255,i=e.b/255,r=Math.max(t,n,i),s=Math.min(t,n,i);let o=0;r!==s&&(r===t?o=60*(0+(n-i)/(r-s)):r===n?o=60*(2+(i-t)/(r-s)):r===i&&(o=60*(4+(t-n)/(r-s)))),o<0&&(o=o+360);const a=r===0?0:(r-s)/r,l=[o,a,r];return{h:l[0],s:l[1],v:l[2],a:e.a}}function A8(e){const{h:t,s:n,v:i,a:r}=e,s=i-i*n/2,o=s===1||s===0?0:(i-s)/Math.min(s,1-s);return{h:t,s:o,l:s,a:r}}function tP(e){const{h:t,s:n,l:i,a:r}=e,s=i+n*Math.min(i,1-i),o=s===0?0:2-2*i/s;return{h:t,s:o,v:s,a:r}}function P8(e){let{r:t,g:n,b:i,a:r}=e;return r===void 0?`rgb(${t}, ${n}, ${i})`:`rgba(${t}, ${n}, ${i}, ${r})`}function L8(e){return P8(Ml(e))}function Ub(e){const t=Math.round(e).toString(16);return("00".substr(0,2-t.length)+t).toUpperCase()}function O8(e){let{r:t,g:n,b:i,a:r}=e;return`#${[Ub(t),Ub(n),Ub(i),r!==void 0?Ub(Math.round(r*255)):""].join("")}`}function R8(e){e=ine(e);let[t,n,i,r]=kte(e,2).map(s=>parseInt(s,16));return r=r===void 0?r:r/255,{r:t,g:n,b:i,a:r}}function nne(e){const t=R8(e);return N0(t)}function N8(e){return O8(Ml(e))}function ine(e){return e.startsWith("#")&&(e=e.slice(1)),e=e.replace(/([^0-9a-f])/gi,"F"),(e.length===3||e.length===4)&&(e=e.split("").map(t=>t+t).join("")),e.length!==6&&(e=mR(mR(e,6),8,"F")),e}function rne(e,t){const n=C8(eP(e));return n[0]=n[0]+t*10,k8(M8(n))}function sne(e,t){const n=C8(eP(e));return n[0]=n[0]-t*10,k8(M8(n))}function gE(e){const t=hs(e);return eP(t)[1]}function one(e,t){const n=gE(e),i=gE(t),r=Math.max(n,i),s=Math.min(n,i);return(r+.05)/(s+.05)}function D8(e){const t=Math.abs(IR(hs(0),hs(e)));return Math.abs(IR(hs(16777215),hs(e)))>Math.min(t,50)?"#fff":"#000"}function z(e,t){return n=>Object.keys(e).reduce((i,r)=>{const o=typeof e[r]=="object"&&e[r]!=null&&!Array.isArray(e[r])?e[r]:{type:e[r]};return n&&r in n?i[r]={...o,default:n[r]}:i[r]=o,t&&!i[r].source&&(i[r].source=t),i},{})}const xe=z({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function yn(e,t){const n=lte();if(!n)throw new Error(`[Vuetify] ${e} must be called from inside a setup function`);return n}function La(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const t=yn(e).type;return dh(t?.aliasName||t?.name)}let V8=0,e1=new WeakMap;function Ti(){const e=yn("getUid");if(e1.has(e))return e1.get(e);{const t=V8++;return e1.set(e,t),t}}Ti.reset=()=>{V8=0,e1=new WeakMap};function ane(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yn("injectSelf");const{provides:n}=t;if(n&&e in n)return n[e]}const mm=Symbol.for("vuetify:defaults");function lne(e){return ae(e)}function nP(){const e=ft(mm);if(!e)throw new Error("[Vuetify] Could not find defaults instance");return e}function mn(e,t){const n=nP(),i=ae(e),r=T(()=>{if(br(t?.disabled))return n.value;const o=br(t?.scoped),a=br(t?.reset),l=br(t?.root);if(i.value==null&&!(o||a||l))return n.value;let c=Qi(i.value,{prev:n.value});if(o)return c;if(a||l){const h=Number(a||1/0);for(let p=0;p<=h&&!(!c||!("prev"in c));p++)c=c.prev;return c&&typeof l=="string"&&l in c&&(c=Qi(Qi(c,{prev:c}),c[l])),c}return c.prev?Qi(c.prev,c):c});return Yt(mm,r),r}function une(e,t){return typeof e.props?.[t]<"u"||typeof e.props?.[dh(t)]<"u"}function cne(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:nP();const i=yn("useDefaults");if(t=t??i.type.name??i.type.__name,!t)throw new Error("[Vuetify] Could not determine component name");const r=T(()=>n.value?.[e._as??t]),s=new Proxy(e,{get(l,c){const h=Reflect.get(l,c);return c==="class"||c==="style"?[r.value?.[c],h].filter(p=>p!=null):typeof c=="string"&&!une(i.vnode,c)?r.value?.[c]!==void 0?r.value?.[c]:n.value?.global?.[c]!==void 0?n.value?.global?.[c]:h:h}}),o=ce();wn(()=>{if(r.value){const l=Object.entries(r.value).filter(c=>{let[h]=c;return h.startsWith(h[0].toUpperCase())});o.value=l.length?Object.fromEntries(l):void 0}else o.value=void 0});function a(){const l=ane(mm,i);Yt(mm,T(()=>o.value?Qi(l?.value??{},o.value):l?.value))}return{props:s,provideSubDefaults:a}}function Ss(e){if(e._setup=e._setup??e.setup,!e.name)return e;if(e._setup){e.props=z(e.props??{},e.name)();const t=Object.keys(e.props).filter(n=>n!=="class"&&n!=="style");e.filterProps=function(i){return Vl(i,t)},e.props._as=String,e.setup=function(i,r){const s=nP();if(!s.value)return e._setup(i,r);const{props:o,provideSubDefaults:a}=cne(i,i._as??e.name,s),l=e._setup(o,r);return a(),l}}return e}function Z(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t=>(e?Ss:ute)(t)}function dne(e,t){return t.props=e,t}function Oa(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return Z()({name:n??Gm(f8(e.replace(/__/g,"-"))),props:{tag:{type:String,default:t},...xe()},setup(i,r){let{slots:s}=r;return()=>$c(i.tag,{class:[e,i.class],style:i.style},s.default?.())}})}function F8(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}const Uv="cubic-bezier(0.4, 0, 0.2, 1)",hne="cubic-bezier(0.0, 0, 0.2, 1)",pne="cubic-bezier(0.4, 0, 1, 1)";function kR(e,t,n){return Object.keys(e).filter(i=>s2(i)&&i.endsWith(t)).reduce((i,r)=>(i[r.slice(0,-t.length)]=s=>e[r](s,n(s)),i),{})}function iP(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;e;){if(t?fne(e):rP(e))return e;e=e.parentElement}return document.scrollingElement}function C_(e,t){const n=[];if(t&&e&&!t.contains(e))return n;for(;e&&(rP(e)&&n.push(e),e!==t);)e=e.parentElement;return n}function rP(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return t.overflowY==="scroll"||t.overflowY==="auto"&&e.scrollHeight>e.clientHeight}function fne(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return["scroll","auto"].includes(t.overflowY)}function mne(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}function X(e){const t=yn("useRender");t.render=e}function Pe(e,t,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:p=>p,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:p=>p;const s=yn("useProxiedModel"),o=ae(e[t]!==void 0?e[t]:n),a=dh(t),c=a!==t?T(()=>(e[t],!!((s.vnode.props?.hasOwnProperty(t)||s.vnode.props?.hasOwnProperty(a))&&(s.vnode.props?.hasOwnProperty(`onUpdate:${t}`)||s.vnode.props?.hasOwnProperty(`onUpdate:${a}`))))):T(()=>(e[t],!!(s.vnode.props?.hasOwnProperty(t)&&s.vnode.props?.hasOwnProperty(`onUpdate:${t}`))));Sr(()=>!c.value,()=>{be(()=>e[t],p=>{o.value=p})});const h=T({get(){const p=e[t];return i(c.value?p:o.value)},set(p){const m=r(p),y=An(c.value?e[t]:o.value);y===m||i(y)===p||(o.value=m,s?.emit(`update:${t}`,m))}});return Object.defineProperty(h,"externalValue",{get:()=>c.value?e[t]:o.value}),h}const yne={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},fileUpload:{title:"Drag and drop files here",divider:"or",browse:"Browse Files"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},AR="$vuetify.",PR=(e,t)=>e.replace(/\{(\d+)\}/g,(n,i)=>String(t[Number(i)])),j8=(e,t,n)=>function(i){for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];if(!i.startsWith(AR))return PR(i,s);const a=i.replace(AR,""),l=e.value&&n.value[e.value],c=t.value&&n.value[t.value];let h=xh(l,a,null);return h||(`${i}${e.value}`,h=xh(c,a,null)),h||(h=i),typeof h!="string"&&(h=i),PR(h,s)};function z8(e,t){return(n,i)=>new Intl.NumberFormat([e.value,t.value],i).format(n)}function h$(e,t,n){const i=Pe(e,t,e[t]??n.value);return i.value=e[t]??n.value,be(n,r=>{e[t]==null&&(i.value=n.value)}),i}function B8(e){return t=>{const n=h$(t,"locale",e.current),i=h$(t,"fallback",e.fallback),r=h$(t,"messages",e.messages);return{name:"vuetify",current:n,fallback:i,messages:r,t:j8(n,i,r),n:z8(n,i),provide:B8({current:n,fallback:i,messages:r})}}}function gne(e){const t=ce(e?.locale??"en"),n=ce(e?.fallback??"en"),i=ae({en:yne,...e?.messages});return{name:"vuetify",current:t,fallback:n,messages:i,t:j8(t,n,i),n:z8(t,n),provide:B8({current:t,fallback:n,messages:i})}}const ym=Symbol.for("vuetify:locale");function vne(e){return e.name!=null}function bne(e){const t=e?.adapter&&vne(e?.adapter)?e?.adapter:gne(e),n=Sne(t,e);return{...t,...n}}function Sn(){const e=ft(ym);if(!e)throw new Error("[Vuetify] Could not find injected locale instance");return e}function wne(e){const t=ft(ym);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");const n=t.provide(e),i=xne(n,t.rtl,e),r={...n,...i};return Yt(ym,r),r}function _ne(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function Sne(e,t){const n=ae(t?.rtl??_ne()),i=T(()=>n.value[e.current.value]??!1);return{isRtl:i,rtl:n,rtlClasses:T(()=>`v-locale--is-${i.value?"rtl":"ltr"}`)}}function xne(e,t,n){const i=T(()=>n.rtl??t.value[e.current.value]??!1);return{isRtl:i,rtl:t,rtlClasses:T(()=>`v-locale--is-${i.value?"rtl":"ltr"}`)}}function Xn(){const e=ft(ym);if(!e)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:e.isRtl,rtlClasses:e.rtlClasses}}const l2={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function $ne(e,t,n){const i=[];let r=[];const s=U8(e),o=G8(e),a=n??l2[t.slice(-2).toUpperCase()]??0,l=(s.getDay()-a+7)%7,c=(o.getDay()-a+7)%7;for(let h=0;h<l;h++){const p=new Date(s);p.setDate(p.getDate()-(l-h)),r.push(p)}for(let h=1;h<=o.getDate();h++){const p=new Date(e.getFullYear(),e.getMonth(),h);r.push(p),r.length===7&&(i.push(r),r=[])}for(let h=1;h<7-c;h++){const p=new Date(o);p.setDate(p.getDate()+h),r.push(p)}return r.length>0&&i.push(r),i}function Tne(e,t,n){const i=n??l2[t.slice(-2).toUpperCase()]??0,r=new Date(e);for(;r.getDay()!==i;)r.setDate(r.getDate()-1);return r}function Ene(e,t){const n=new Date(e),i=((l2[t.slice(-2).toUpperCase()]??0)+6)%7;for(;n.getDay()!==i;)n.setDate(n.getDate()+1);return n}function U8(e){return new Date(e.getFullYear(),e.getMonth(),1)}function G8(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}function Ine(e){const t=e.split("-").map(Number);return new Date(t[0],t[1]-1,t[2])}const Cne=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function H8(e){if(e==null)return new Date;if(e instanceof Date)return e;if(typeof e=="string"){let t;if(Cne.test(e))return Ine(e);if(t=Date.parse(e),!isNaN(t))return new Date(t)}return null}const LR=new Date(2e3,0,2);function Mne(e,t){const n=t??l2[e.slice(-2).toUpperCase()]??0;return _a(7).map(i=>{const r=new Date(LR);return r.setDate(LR.getDate()+n+i),new Intl.DateTimeFormat(e,{weekday:"narrow"}).format(r)})}function kne(e,t,n,i){const r=H8(e)??new Date,s=i?.[t];if(typeof s=="function")return s(r,t,n);let o={};switch(t){case"fullDate":o={year:"numeric",month:"long",day:"numeric"};break;case"fullDateWithWeekday":o={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const a=r.getDate(),l=new Intl.DateTimeFormat(n,{month:"long"}).format(r);return`${a} ${l}`;case"normalDateWithWeekday":o={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":o={month:"short",day:"numeric"};break;case"year":o={year:"numeric"};break;case"month":o={month:"long"};break;case"monthShort":o={month:"short"};break;case"monthAndYear":o={month:"long",year:"numeric"};break;case"monthAndDate":o={month:"long",day:"numeric"};break;case"weekday":o={weekday:"long"};break;case"weekdayShort":o={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(n).format(r.getDate());case"hours12h":o={hour:"numeric",hour12:!0};break;case"hours24h":o={hour:"numeric",hour12:!1};break;case"minutes":o={minute:"numeric"};break;case"seconds":o={second:"numeric"};break;case"fullTime":o={hour:"numeric",minute:"numeric"};break;case"fullTime12h":o={hour:"numeric",minute:"numeric",hour12:!0};break;case"fullTime24h":o={hour:"numeric",minute:"numeric",hour12:!1};break;case"fullDateTime":o={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"};break;case"fullDateTime12h":o={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};break;case"fullDateTime24h":o={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1};break;case"keyboardDate":o={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":return o={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"},new Intl.DateTimeFormat(n,o).format(r).replace(/, /g," ");case"keyboardDateTime12h":return o={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!0},new Intl.DateTimeFormat(n,o).format(r).replace(/, /g," ");case"keyboardDateTime24h":return o={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!1},new Intl.DateTimeFormat(n,o).format(r).replace(/, /g," ");default:o=s??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(n,o).format(r)}function Ane(e,t){const n=e.toJsDate(t),i=n.getFullYear(),r=yR(String(n.getMonth()+1),2,"0"),s=yR(String(n.getDate()),2,"0");return`${i}-${r}-${s}`}function Pne(e){const[t,n,i]=e.split("-").map(Number);return new Date(t,n-1,i)}function Lne(e,t){const n=new Date(e);return n.setMinutes(n.getMinutes()+t),n}function One(e,t){const n=new Date(e);return n.setHours(n.getHours()+t),n}function Rne(e,t){const n=new Date(e);return n.setDate(n.getDate()+t),n}function Nne(e,t){const n=new Date(e);return n.setDate(n.getDate()+t*7),n}function Dne(e,t){const n=new Date(e);return n.setDate(1),n.setMonth(n.getMonth()+t),n}function Vne(e){return e.getFullYear()}function Fne(e){return e.getMonth()}function jne(e){return e.getDate()}function zne(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}function Bne(e){return new Date(e.getFullYear(),e.getMonth()-1,1)}function Une(e){return e.getHours()}function Gne(e){return e.getMinutes()}function Hne(e){return new Date(e.getFullYear(),0,1)}function qne(e){return new Date(e.getFullYear(),11,31)}function Wne(e,t){return M_(e,t[0])&&Jne(e,t[1])}function Zne(e){const t=new Date(e);return t instanceof Date&&!isNaN(t.getTime())}function M_(e,t){return e.getTime()>t.getTime()}function Yne(e,t){return M_(vE(e),vE(t))}function Jne(e,t){return e.getTime()<t.getTime()}function OR(e,t){return e.getTime()===t.getTime()}function Kne(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function Xne(e,t){return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function Qne(e,t){return e.getFullYear()===t.getFullYear()}function eie(e,t,n){const i=new Date(e),r=new Date(t);switch(n){case"years":return i.getFullYear()-r.getFullYear();case"quarters":return Math.floor((i.getMonth()-r.getMonth()+(i.getFullYear()-r.getFullYear())*12)/4);case"months":return i.getMonth()-r.getMonth()+(i.getFullYear()-r.getFullYear())*12;case"weeks":return Math.floor((i.getTime()-r.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((i.getTime()-r.getTime())/(1e3*60*60*24));case"hours":return Math.floor((i.getTime()-r.getTime())/(1e3*60*60));case"minutes":return Math.floor((i.getTime()-r.getTime())/(1e3*60));case"seconds":return Math.floor((i.getTime()-r.getTime())/1e3);default:return i.getTime()-r.getTime()}}function tie(e,t){const n=new Date(e);return n.setHours(t),n}function nie(e,t){const n=new Date(e);return n.setMinutes(t),n}function iie(e,t){const n=new Date(e);return n.setMonth(t),n}function rie(e,t){const n=new Date(e);return n.setDate(t),n}function sie(e,t){const n=new Date(e);return n.setFullYear(t),n}function vE(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0)}function oie(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59,999)}class aie{constructor(t){this.locale=t.locale,this.formats=t.formats}date(t){return H8(t)}toJsDate(t){return t}toISO(t){return Ane(this,t)}parseISO(t){return Pne(t)}addMinutes(t,n){return Lne(t,n)}addHours(t,n){return One(t,n)}addDays(t,n){return Rne(t,n)}addWeeks(t,n){return Nne(t,n)}addMonths(t,n){return Dne(t,n)}getWeekArray(t,n){return $ne(t,this.locale,n?Number(n):void 0)}startOfWeek(t,n){return Tne(t,this.locale,n?Number(n):void 0)}endOfWeek(t){return Ene(t,this.locale)}startOfMonth(t){return U8(t)}endOfMonth(t){return G8(t)}format(t,n){return kne(t,n,this.locale,this.formats)}isEqual(t,n){return OR(t,n)}isValid(t){return Zne(t)}isWithinRange(t,n){return Wne(t,n)}isAfter(t,n){return M_(t,n)}isAfterDay(t,n){return Yne(t,n)}isBefore(t,n){return!M_(t,n)&&!OR(t,n)}isSameDay(t,n){return Kne(t,n)}isSameMonth(t,n){return Xne(t,n)}isSameYear(t,n){return Qne(t,n)}setMinutes(t,n){return nie(t,n)}setHours(t,n){return tie(t,n)}setMonth(t,n){return iie(t,n)}setDate(t,n){return rie(t,n)}setYear(t,n){return sie(t,n)}getDiff(t,n,i){return eie(t,n,i)}getWeekdays(t){return Mne(this.locale,t?Number(t):void 0)}getYear(t){return Vne(t)}getMonth(t){return Fne(t)}getDate(t){return jne(t)}getNextMonth(t){return zne(t)}getPreviousMonth(t){return Bne(t)}getHours(t){return Une(t)}getMinutes(t){return Gne(t)}startOfDay(t){return vE(t)}endOfDay(t){return oie(t)}startOfYear(t){return Hne(t)}endOfYear(t){return qne(t)}}const q8=Symbol.for("vuetify:date-options"),RR=Symbol.for("vuetify:date-adapter");function lie(e,t){const n=Qi({adapter:aie,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},e);return{options:n,instance:W8(n,t)}}function W8(e,t){const n=Br(typeof e.adapter=="function"?new e.adapter({locale:e.locale[t.current.value]??t.current.value,formats:e.formats}):e.adapter);return be(t.current,i=>{n.locale=e.locale[i]??i??n.locale}),n}function D0(){const e=ft(q8);if(!e)throw new Error("[Vuetify] Could not find injected date options");const t=Sn();return W8(e,t)}function uie(e,t){const n=e.toJsDate(t);let i=n.getFullYear(),r=new Date(i,0,1);if(n<r)i=i-1,r=new Date(i,0,1);else{const a=new Date(i+1,0,1);n>=a&&(i=i+1,r=a)}const s=Math.abs(n.getTime()-r.getTime()),o=Math.ceil(s/(1e3*60*60*24));return Math.floor(o/7)+1}const u2=["sm","md","lg","xl","xxl"],bE=Symbol.for("vuetify:display"),NR={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},cie=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:NR;return Qi(NR,e)};function DR(e){return gt&&!e?window.innerWidth:typeof e=="object"&&e.clientWidth||0}function VR(e){return gt&&!e?window.innerHeight:typeof e=="object"&&e.clientHeight||0}function FR(e){const t=gt&&!e?window.navigator.userAgent:"ssr";function n(g){return!!t.match(g)}const i=n(/android/i),r=n(/iphone|ipad|ipod/i),s=n(/cordova/i),o=n(/electron/i),a=n(/chrome/i),l=n(/edge/i),c=n(/firefox/i),h=n(/opera/i),p=n(/win/i),m=n(/mac/i),y=n(/linux/i);return{android:i,ios:r,cordova:s,electron:o,chrome:a,edge:l,firefox:c,opera:h,win:p,mac:m,linux:y,touch:xte,ssr:t==="ssr"}}function die(e,t){const{thresholds:n,mobileBreakpoint:i}=cie(e),r=ce(VR(t)),s=ce(FR(t)),o=Br({}),a=ce(DR(t));function l(){r.value=VR(),a.value=DR()}function c(){l(),s.value=FR()}return wn(()=>{const h=a.value<n.sm,p=a.value<n.md&&!h,m=a.value<n.lg&&!(p||h),y=a.value<n.xl&&!(m||p||h),g=a.value<n.xxl&&!(y||m||p||h),v=a.value>=n.xxl,b=h?"xs":p?"sm":m?"md":y?"lg":g?"xl":"xxl",w=typeof i=="number"?i:n[i],S=a.value<w;o.xs=h,o.sm=p,o.md=m,o.lg=y,o.xl=g,o.xxl=v,o.smAndUp=!h,o.mdAndUp=!(h||p),o.lgAndUp=!(h||p||m),o.xlAndUp=!(h||p||m||y),o.smAndDown=!(m||y||g||v),o.mdAndDown=!(y||g||v),o.lgAndDown=!(g||v),o.xlAndDown=!v,o.name=b,o.height=r.value,o.width=a.value,o.mobile=S,o.mobileBreakpoint=i,o.platform=s.value,o.thresholds=n}),gt&&window.addEventListener("resize",l,{passive:!0}),{...Hh(o),update:c,ssr:!!t}}const qh=z({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function Qs(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{mobile:null},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:La();const n=ft(bE);if(!n)throw new Error("Could not find Vuetify display injection");const i=T(()=>e.mobile?!0:typeof e.mobileBreakpoint=="number"?n.width.value<e.mobileBreakpoint:e.mobileBreakpoint?n.width.value<n.thresholds.value[e.mobileBreakpoint]:e.mobile===null?n.mobile.value:!1),r=T(()=>t?{[`${t}--mobile`]:i.value}:{});return{...n,displayClasses:r,mobile:i}}const Z8=Symbol.for("vuetify:goto");function Y8(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:e=>e,easeInQuad:e=>e**2,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e**2:-1+(4-2*e)*e,easeInCubic:e=>e**3,easeOutCubic:e=>--e**3+1,easeInOutCubic:e=>e<.5?4*e**3:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e**4,easeOutQuart:e=>1- --e**4,easeInOutQuart:e=>e<.5?8*e**4:1-8*--e**4,easeInQuint:e=>e**5,easeOutQuint:e=>1+--e**5,easeInOutQuint:e=>e<.5?16*e**5:1+16*--e**5}}}function hie(e){return sP(e)??(document.scrollingElement||document.body)}function sP(e){return typeof e=="string"?document.querySelector(e):KA(e)}function p$(e,t,n){if(typeof e=="number")return t&&n?-e:e;let i=sP(e),r=0;for(;i;)r+=t?i.offsetLeft:i.offsetTop,i=i.offsetParent;return r}function pie(e,t){return{rtl:t.isRtl,options:Qi(Y8(),e)}}async function jR(e,t,n,i){const r=n?"scrollLeft":"scrollTop",s=Qi(i?.options??Y8(),t),o=i?.rtl.value,a=(typeof e=="number"?e:sP(e))??0,l=s.container==="parent"&&a instanceof HTMLElement?a.parentElement:hie(s.container),c=typeof s.easing=="function"?s.easing:s.patterns[s.easing];if(!c)throw new TypeError(`Easing function "${s.easing}" not found.`);let h;if(typeof a=="number")h=p$(a,n,o);else if(h=p$(a,n,o)-p$(l,n,o),s.layout){const g=window.getComputedStyle(a).getPropertyValue("--v-layout-top");g&&(h-=parseInt(g,10))}h+=s.offset,h=mie(l,h,!!o,!!n);const p=l[r]??0;if(h===p)return Promise.resolve(h);const m=performance.now();return new Promise(y=>requestAnimationFrame(function g(v){const w=(v-m)/s.duration,S=Math.floor(p+(h-p)*c(Pn(w,0,1)));if(l[r]=S,w>=1&&Math.abs(S-l[r])<10)return y(h);if(w>2)return y(l[r]);requestAnimationFrame(g)}))}function fie(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=ft(Z8),{isRtl:n}=Xn();if(!t)throw new Error("[Vuetify] Could not find injected goto instance");const i={...t,rtl:T(()=>t.rtl.value||n.value)};async function r(s,o){return jR(s,Qi(e,o),!1,i)}return r.horizontal=async(s,o)=>jR(s,Qi(e,o),!0,i),r}function mie(e,t,n,i){const{scrollWidth:r,scrollHeight:s}=e,[o,a]=e===document.scrollingElement?[window.innerWidth,window.innerHeight]:[e.offsetWidth,e.offsetHeight];let l,c;return i?n?(l=-(r-o),c=0):(l=0,c=r-o):(l=0,c=s+-a),Math.max(Math.min(t,c),l)}const yie={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper",upload:"mdi-cloud-upload"},gie={component:e=>$c(aP,{...e,class:"mdi"})},Oe=[String,Function,Object,Array],wE=Symbol.for("vuetify:icons"),c2=z({icon:{type:Oe},tag:{type:String,required:!0}},"icon"),_E=Z()({name:"VComponentIcon",props:c2(),setup(e,t){let{slots:n}=t;return()=>{const i=e.icon;return _(e.tag,null,{default:()=>[e.icon?_(i,null,null):n.default?.()]})}}}),oP=Ss({name:"VSvgIcon",inheritAttrs:!1,props:c2(),setup(e,t){let{attrs:n}=t;return()=>_(e.tag,K(n,{style:null}),{default:()=>[_("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(e.icon)?e.icon.map(i=>Array.isArray(i)?_("path",{d:i[0],"fill-opacity":i[1]},null):_("path",{d:i},null)):_("path",{d:e.icon},null)])]})}}),vie=Ss({name:"VLigatureIcon",props:c2(),setup(e){return()=>_(e.tag,null,{default:()=>[e.icon]})}}),aP=Ss({name:"VClassIcon",props:c2(),setup(e){return()=>_(e.tag,{class:e.icon},null)}});function bie(){return{svg:{component:oP},class:{component:aP}}}function wie(e){const t=bie(),n=e?.defaultSet??"mdi";return n==="mdi"&&!t.mdi&&(t.mdi=gie),Qi({defaultSet:n,sets:t,aliases:{...yie,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},e)}const _ie=e=>{const t=ft(wE);if(!t)throw new Error("Missing Vuetify Icons provide!");return{iconData:T(()=>{const i=br(e);if(!i)return{component:_E};let r=i;if(typeof r=="string"&&(r=r.trim(),r.startsWith("$")&&(r=t.aliases?.[r.slice(1)])),Array.isArray(r))return{component:oP,icon:r};if(typeof r!="string")return{component:_E,icon:r};const s=Object.keys(t.sets).find(l=>typeof r=="string"&&r.startsWith(`${l}:`)),o=s?r.slice(s.length+1):r;return{component:t.sets[s??t.defaultSet].component,icon:o}})}},Gv=Symbol.for("vuetify:theme"),ct=z({theme:String},"theme");function zR(){return{defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#a3a3a3","on-surface-variant":"#424242",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}}}function Sie(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:zR();const t=zR();if(!e)return{...t,isDisabled:!0};const n={};for(const[i,r]of Object.entries(e.themes??{})){const s=r.dark||i==="dark"?t.themes?.dark:t.themes?.light;n[i]=Qi(s,r)}return Qi(t,{...e,themes:n})}function xie(e){const t=Sie(e),n=ae(t.defaultTheme),i=ae(t.themes),r=T(()=>{const h={};for(const[p,m]of Object.entries(i.value)){const y=h[p]={...m,colors:{...m.colors}};if(t.variations)for(const g of t.variations.colors){const v=y.colors[g];if(v)for(const b of["lighten","darken"]){const w=b==="lighten"?rne:sne;for(const S of _a(t.variations[b],1))y.colors[`${g}-${b}-${S}`]=O8(w(hs(v),S))}}for(const g of Object.keys(y.colors)){if(/^on-[a-z]/.test(g)||y.colors[`on-${g}`])continue;const v=`on-${g}`,b=hs(y.colors[g]);y.colors[v]=D8(b)}}return h}),s=T(()=>r.value[n.value]),o=T(()=>{const h=[];s.value?.dark&&Fc(h,":root",["color-scheme: dark"]),Fc(h,":root",BR(s.value));for(const[g,v]of Object.entries(r.value))Fc(h,`.v-theme--${g}`,[`color-scheme: ${v.dark?"dark":"normal"}`,...BR(v)]);const p=[],m=[],y=new Set(Object.values(r.value).flatMap(g=>Object.keys(g.colors)));for(const g of y)/^on-[a-z]/.test(g)?Fc(m,`.${g}`,[`color: rgb(var(--v-theme-${g})) !important`]):(Fc(p,`.bg-${g}`,[`--v-theme-overlay-multiplier: var(--v-theme-${g}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${g})) !important`,`color: rgb(var(--v-theme-on-${g})) !important`]),Fc(m,`.text-${g}`,[`color: rgb(var(--v-theme-${g})) !important`]),Fc(m,`.border-${g}`,[`--v-border-color: var(--v-theme-${g})`]));return h.push(...p,...m),h.map((g,v)=>v===0?g:`    ${g}`).join("")});function a(){return{style:[{children:o.value,id:"vuetify-theme-stylesheet",nonce:t.cspNonce||!1}]}}function l(h){if(t.isDisabled)return;const p=h._context.provides.usehead;if(p)if(p.push){const m=p.push(a);gt&&be(o,()=>{m.patch(a)})}else gt?(p.addHeadObjs(T(a)),wn(()=>p.updateDOM())):p.addHeadObjs(a());else{let y=function(){if(typeof document<"u"&&!m){const g=document.createElement("style");g.type="text/css",g.id="vuetify-theme-stylesheet",t.cspNonce&&g.setAttribute("nonce",t.cspNonce),m=g,document.head.appendChild(m)}m&&(m.innerHTML=o.value)},m=gt?document.getElementById("vuetify-theme-stylesheet"):null;gt?be(o,y,{immediate:!0}):y()}}const c=T(()=>t.isDisabled?void 0:`v-theme--${n.value}`);return{install:l,isDisabled:t.isDisabled,name:n,themes:i,current:s,computedThemes:r,themeClasses:c,styles:o,global:{name:n,current:s}}}function xt(e){yn("provideTheme");const t=ft(Gv,null);if(!t)throw new Error("Could not find Vuetify theme injection");const n=T(()=>e.theme??t.name.value),i=T(()=>t.themes.value[n.value]),r=T(()=>t.isDisabled?void 0:`v-theme--${n.value}`),s={...t,name:n,current:i,themeClasses:r};return Yt(Gv,s),s}function J8(){yn("useTheme");const e=ft(Gv,null);if(!e)throw new Error("Could not find Vuetify theme injection");return e}function Fc(e,t,n){e.push(`${t} {
`,...n.map(i=>`  ${i};
`),`}
`)}function BR(e){const t=e.dark?2:1,n=e.dark?1:2,i=[];for(const[r,s]of Object.entries(e.colors)){const o=hs(s);i.push(`--v-theme-${r}: ${o.r},${o.g},${o.b}`),r.startsWith("on-")||i.push(`--v-theme-${r}-overlay-multiplier: ${gE(s)>.18?t:n}`)}for(const[r,s]of Object.entries(e.variables)){const o=typeof s=="string"&&s.startsWith("#")?hs(s):void 0,a=o?`${o.r}, ${o.g}, ${o.b}`:void 0;i.push(`--v-${r}: ${a??s}`)}return i}function Go(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const n=E_(),i=ae();if(gt){const r=new ResizeObserver(s=>{e?.(s,r),s.length&&(t==="content"?i.value=s[0].contentRect:i.value=s[0].target.getBoundingClientRect())});Di(()=>{r.disconnect()}),be(()=>n.el,(s,o)=>{o&&(r.unobserve(o),i.value=void 0),s&&r.observe(s)},{flush:"post"})}return{resizeRef:n,contentRect:qA(i)}}const Hv=Symbol.for("vuetify:layout"),K8=Symbol.for("vuetify:layout-item"),UR=1e3,X8=z({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),Wh=z({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function Q8(){const e=ft(Hv);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function Zh(e){const t=ft(Hv);if(!t)throw new Error("[Vuetify] Could not find injected layout");const n=e.id??`layout-item-${Ti()}`,i=yn("useLayoutItem");Yt(K8,{id:n});const r=ce(!1);m8(()=>r.value=!0),cte(()=>r.value=!1);const{layoutItemStyles:s,layoutItemScrimStyles:o}=t.register(i,{...e,active:T(()=>r.value?!1:e.active.value),id:n});return Di(()=>t.unregister(n)),{layoutItemStyles:s,layoutRect:t.layoutRect,layoutItemScrimStyles:o}}const $ie=(e,t,n,i)=>{let r={top:0,left:0,right:0,bottom:0};const s=[{id:"",layer:{...r}}];for(const o of e){const a=t.get(o),l=n.get(o),c=i.get(o);if(!a||!l||!c)continue;const h={...r,[a.value]:parseInt(r[a.value],10)+(c.value?parseInt(l.value,10):0)};s.push({id:o,layer:h}),r=h}return s};function ez(e){const t=ft(Hv,null),n=T(()=>t?t.rootZIndex.value-100:UR),i=ae([]),r=Br(new Map),s=Br(new Map),o=Br(new Map),a=Br(new Map),l=Br(new Map),{resizeRef:c,contentRect:h}=Go(),p=T(()=>{const I=new Map,A=e.overlaps??[];for(const M of A.filter(L=>L.includes(":"))){const[L,O]=M.split(":");if(!i.value.includes(L)||!i.value.includes(O))continue;const P=r.get(L),R=r.get(O),V=s.get(L),U=s.get(O);!P||!R||!V||!U||(I.set(O,{position:P.value,amount:parseInt(V.value,10)}),I.set(L,{position:R.value,amount:-parseInt(U.value,10)}))}return I}),m=T(()=>{const I=[...new Set([...o.values()].map(M=>M.value))].sort((M,L)=>M-L),A=[];for(const M of I){const L=i.value.filter(O=>o.get(O)?.value===M);A.push(...L)}return $ie(A,r,s,a)}),y=T(()=>!Array.from(l.values()).some(I=>I.value)),g=T(()=>m.value[m.value.length-1].layer),v=T(()=>({"--v-layout-left":_e(g.value.left),"--v-layout-right":_e(g.value.right),"--v-layout-top":_e(g.value.top),"--v-layout-bottom":_e(g.value.bottom),...y.value?void 0:{transition:"none"}})),b=T(()=>m.value.slice(1).map((I,A)=>{let{id:M}=I;const{layer:L}=m.value[A],O=s.get(M),P=r.get(M);return{id:M,...L,size:Number(O.value),position:P.value}})),w=I=>b.value.find(A=>A.id===I),S=yn("createLayout"),x=ce(!1);Ir(()=>{x.value=!0}),Yt(Hv,{register:(I,A)=>{let{id:M,order:L,position:O,layoutSize:P,elementSize:R,active:V,disableTransitions:U,absolute:ee}=A;o.set(M,L),r.set(M,O),s.set(M,P),a.set(M,V),U&&l.set(M,U);const Se=Af(K8,S?.vnode).indexOf(I);Se>-1?i.value.splice(Se,0,M):i.value.push(M);const oe=T(()=>b.value.findIndex(ue=>ue.id===M)),ie=T(()=>n.value+m.value.length*2-oe.value*2),Q=T(()=>{const ue=O.value==="left"||O.value==="right",$e=O.value==="right",Te=O.value==="bottom",Ne=R.value??P.value,ve=Ne===0?"%":"px",fe={[O.value]:0,zIndex:ie.value,transform:`translate${ue?"X":"Y"}(${(V.value?0:-(Ne===0?100:Ne))*($e||Te?-1:1)}${ve})`,position:ee.value||n.value!==UR?"absolute":"fixed",...y.value?void 0:{transition:"none"}};if(!x.value)return fe;const ze=b.value[oe.value];if(!ze)throw new Error(`[Vuetify] Could not find layout item "${M}"`);const Ht=p.value.get(M);return Ht&&(ze[Ht.position]+=Ht.amount),{...fe,height:ue?`calc(100% - ${ze.top}px - ${ze.bottom}px)`:R.value?`${R.value}px`:void 0,left:$e?void 0:`${ze.left}px`,right:$e?`${ze.right}px`:void 0,top:O.value!=="bottom"?`${ze.top}px`:void 0,bottom:O.value!=="top"?`${ze.bottom}px`:void 0,width:ue?R.value?`${R.value}px`:void 0:`calc(100% - ${ze.left}px - ${ze.right}px)`}}),W=T(()=>({zIndex:ie.value-1}));return{layoutItemStyles:Q,layoutItemScrimStyles:W,zIndex:ie}},unregister:I=>{o.delete(I),r.delete(I),s.delete(I),a.delete(I),l.delete(I),i.value=i.value.filter(A=>A!==I)},mainRect:g,mainStyles:v,getLayoutItem:w,items:b,layoutRect:h,rootZIndex:n});const E=T(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),$=T(()=>({zIndex:t?n.value:void 0,position:t?"relative":void 0,overflow:t?"hidden":void 0}));return{layoutClasses:E,layoutStyles:$,getLayoutItem:w,items:b,layoutRect:h,layoutRef:c}}function tz(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:t,...n}=e,i=Qi(t,n),{aliases:r={},components:s={},directives:o={}}=i,a=lne(i.defaults),l=die(i.display,i.ssr),c=xie(i.theme),h=wie(i.icons),p=bne(i.locale),m=lie(i.date,p),y=pie(i.goTo,p);return{install:v=>{for(const b in o)v.directive(b,o[b]);for(const b in s)v.component(b,s[b]);for(const b in r)v.component(b,Ss({...r[b],name:b,aliasName:r[b].name}));if(c.install(v),v.provide(mm,a),v.provide(bE,l),v.provide(Gv,c),v.provide(wE,h),v.provide(ym,p),v.provide(q8,m.options),v.provide(RR,m.instance),v.provide(Z8,y),gt&&i.ssr)if(v.$nuxt)v.$nuxt.hook("app:suspense:resolve",()=>{l.update()});else{const{mount:b}=v;v.mount=function(){const w=b(...arguments);return _t(()=>l.update()),v.mount=b,w}}Ti.reset(),v.mixin({computed:{$vuetify(){return Br({defaults:gp.call(this,mm),display:gp.call(this,bE),theme:gp.call(this,Gv),icons:gp.call(this,wE),locale:gp.call(this,ym),date:gp.call(this,RR)})}}})},defaults:a,display:l,theme:c,icons:h,locale:p,date:m,goTo:y}}const Tie="3.7.16";tz.version=Tie;function gp(e){const t=this.$,n=t.parent?.provides??t.vnode.appContext?.provides;if(n&&e in n)return n[e]}const Eie=z({...xe(),...X8({fullHeight:!0}),...ct()},"VApp"),Iie=Z()({name:"VApp",props:Eie(),setup(e,t){let{slots:n}=t;const i=xt(e),{layoutClasses:r,getLayoutItem:s,items:o,layoutRef:a}=ez(e),{rtlClasses:l}=Xn();return X(()=>_("div",{ref:a,class:["v-application",i.themeClasses.value,r.value,l.value,e.class],style:[e.style]},[_("div",{class:"v-application__wrap"},[n.default?.()])])),{getLayoutItem:s,items:o,theme:i}}}),Je=z({tag:{type:String,default:"div"}},"tag"),nz=z({text:String,...xe(),...Je()},"VToolbarTitle"),lP=Z()({name:"VToolbarTitle",props:nz(),setup(e,t){let{slots:n}=t;return X(()=>{const i=!!(n.default||n.text||e.text);return _(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>[i&&_("div",{class:"v-toolbar-title__placeholder"},[n.text?n.text():e.text,n.default?.()])]})}),{}}}),Cie=z({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function xs(e,t,n){return Z()({name:e,props:Cie({mode:n,origin:t}),setup(i,r){let{slots:s}=r;const o={onBeforeEnter(a){i.origin&&(a.style.transformOrigin=i.origin)},onLeave(a){if(i.leaveAbsolute){const{offsetTop:l,offsetLeft:c,offsetWidth:h,offsetHeight:p}=a;a._transitionInitialStyles={position:a.style.position,top:a.style.top,left:a.style.left,width:a.style.width,height:a.style.height},a.style.position="absolute",a.style.top=`${l}px`,a.style.left=`${c}px`,a.style.width=`${h}px`,a.style.height=`${p}px`}i.hideOnLeave&&a.style.setProperty("display","none","important")},onAfterLeave(a){if(i.leaveAbsolute&&a?._transitionInitialStyles){const{position:l,top:c,left:h,width:p,height:m}=a._transitionInitialStyles;delete a._transitionInitialStyles,a.style.position=l||"",a.style.top=c||"",a.style.left=h||"",a.style.width=p||"",a.style.height=m||""}}};return()=>{const a=i.group?WA:uc;return $c(a,{name:i.disabled?"":e,css:!i.disabled,...i.group?void 0:{mode:i.mode},...i.disabled?{}:o},s.default)}}})}function iz(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return Z()({name:e,props:{mode:{type:String,default:n},disabled:Boolean,group:Boolean},setup(i,r){let{slots:s}=r;const o=i.group?WA:uc;return()=>$c(o,{name:i.disabled?"":e,css:!i.disabled,...i.disabled?{}:t},s.default)}})}function rz(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",i=f8(`offset-${n}`);return{onBeforeEnter(o){o._parent=o.parentNode,o._initialStyle={transition:o.style.transition,overflow:o.style.overflow,[n]:o.style[n]}},onEnter(o){const a=o._initialStyle;if(!a)return;o.style.setProperty("transition","none","important"),o.style.overflow="hidden";const l=`${o[i]}px`;o.style[n]="0",o.offsetHeight,o.style.transition=a.transition,e&&o._parent&&o._parent.classList.add(e),requestAnimationFrame(()=>{o.style[n]=l})},onAfterEnter:s,onEnterCancelled:s,onLeave(o){o._initialStyle={transition:"",overflow:o.style.overflow,[n]:o.style[n]},o.style.overflow="hidden",o.style[n]=`${o[i]}px`,o.offsetHeight,requestAnimationFrame(()=>o.style[n]="0")},onAfterLeave:r,onLeaveCancelled:r};function r(o){e&&o._parent&&o._parent.classList.remove(e),s(o)}function s(o){if(!o._initialStyle)return;const a=o._initialStyle[n];o.style.overflow=o._initialStyle.overflow,a!=null&&(o.style[n]=a),delete o._initialStyle}}const Mie=z({target:[Object,Array]},"v-dialog-transition"),d2=Z()({name:"VDialogTransition",props:Mie(),setup(e,t){let{slots:n}=t;const i={onBeforeEnter(r){r.style.pointerEvents="none",r.style.visibility="hidden"},async onEnter(r,s){await new Promise(m=>requestAnimationFrame(m)),await new Promise(m=>requestAnimationFrame(m)),r.style.visibility="";const{x:o,y:a,sx:l,sy:c,speed:h}=HR(e.target,r),p=rh(r,[{transform:`translate(${o}px, ${a}px) scale(${l}, ${c})`,opacity:0},{}],{duration:225*h,easing:hne});GR(r)?.forEach(m=>{rh(m,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*h,easing:Uv})}),p.finished.then(()=>s())},onAfterEnter(r){r.style.removeProperty("pointer-events")},onBeforeLeave(r){r.style.pointerEvents="none"},async onLeave(r,s){await new Promise(m=>requestAnimationFrame(m));const{x:o,y:a,sx:l,sy:c,speed:h}=HR(e.target,r);rh(r,[{},{transform:`translate(${o}px, ${a}px) scale(${l}, ${c})`,opacity:0}],{duration:125*h,easing:pne}).finished.then(()=>s()),GR(r)?.forEach(m=>{rh(m,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*h,easing:Uv})})},onAfterLeave(r){r.style.removeProperty("pointer-events")}};return()=>e.target?_(uc,K({name:"dialog-transition"},i,{css:!1}),n):_(uc,{name:"dialog-transition"},n)}});function GR(e){const t=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list")?.children;return t&&[...t]}function HR(e,t){const n=I8(e),i=QA(t),[r,s]=getComputedStyle(t).transformOrigin.split(" ").map(w=>parseFloat(w)),[o,a]=getComputedStyle(t).getPropertyValue("--v-overlay-anchor-origin").split(" ");let l=n.left+n.width/2;o==="left"||a==="left"?l-=n.width/2:(o==="right"||a==="right")&&(l+=n.width/2);let c=n.top+n.height/2;o==="top"||a==="top"?c-=n.height/2:(o==="bottom"||a==="bottom")&&(c+=n.height/2);const h=n.width/i.width,p=n.height/i.height,m=Math.max(1,h,p),y=h/m||0,g=p/m||0,v=i.width*i.height/(window.innerWidth*window.innerHeight),b=v>.12?Math.min(1.5,(v-.12)*10+1):1;return{x:l-(r+i.left),y:c-(s+i.top),sx:y,sy:g,speed:b}}const kie=xs("fab-transition","center center","out-in"),Aie=xs("dialog-bottom-transition"),Pie=xs("dialog-top-transition"),qv=xs("fade-transition"),uP=xs("scale-transition"),Lie=xs("scroll-x-transition"),Oie=xs("scroll-x-reverse-transition"),Rie=xs("scroll-y-transition"),Nie=xs("scroll-y-reverse-transition"),Die=xs("slide-x-transition"),Vie=xs("slide-x-reverse-transition"),cP=xs("slide-y-transition"),Fie=xs("slide-y-reverse-transition"),h2=iz("expand-transition",rz()),dP=iz("expand-x-transition",rz("",!0)),jie=z({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),st=Z(!1)({name:"VDefaultsProvider",props:jie(),setup(e,t){let{slots:n}=t;const{defaults:i,disabled:r,reset:s,root:o,scoped:a}=Hh(e);return mn(i,{reset:s,root:o,scoped:a,disabled:r}),()=>n.default?.()}}),Vn=z({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function Fn(e){return{dimensionStyles:T(()=>{const n={},i=_e(e.height),r=_e(e.maxHeight),s=_e(e.maxWidth),o=_e(e.minHeight),a=_e(e.minWidth),l=_e(e.width);return i!=null&&(n.height=i),r!=null&&(n.maxHeight=r),s!=null&&(n.maxWidth=s),o!=null&&(n.minHeight=o),a!=null&&(n.minWidth=a),l!=null&&(n.width=l),n})}}function zie(e){return{aspectStyles:T(()=>{const t=Number(e.aspectRatio);return t?{paddingBottom:String(1/t*100)+"%"}:void 0})}}const sz=z({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...xe(),...Vn()},"VResponsive"),SE=Z()({name:"VResponsive",props:sz(),setup(e,t){let{slots:n}=t;const{aspectStyles:i}=zie(e),{dimensionStyles:r}=Fn(e);return X(()=>_("div",{class:["v-responsive",{"v-responsive--inline":e.inline},e.class],style:[r.value,e.style]},[_("div",{class:"v-responsive__sizer",style:i.value},null),n.additional?.(),n.default&&_("div",{class:["v-responsive__content",e.contentClass]},[n.default()])])),{}}});function hP(e){return XA(()=>{const t=[],n={};if(e.value.background)if(yE(e.value.background)){if(n.backgroundColor=e.value.background,!e.value.text&&ene(e.value.background)){const i=hs(e.value.background);if(i.a==null||i.a===1){const r=D8(i);n.color=r,n.caretColor=r}}}else t.push(`bg-${e.value.background}`);return e.value.text&&(yE(e.value.text)?(n.color=e.value.text,n.caretColor=e.value.text):t.push(`text-${e.value.text}`)),{colorClasses:t,colorStyles:n}})}function Ri(e,t){const n=T(()=>({text:hm(e)?e.value:t?e[t]:null})),{colorClasses:i,colorStyles:r}=hP(n);return{textColorClasses:i,textColorStyles:r}}function Dt(e,t){const n=T(()=>({background:hm(e)?e.value:t?e[t]:null})),{colorClasses:i,colorStyles:r}=hP(n);return{backgroundColorClasses:i,backgroundColorStyles:r}}const Jt=z({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function gn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:La();return{roundedClasses:T(()=>{const i=hm(e)?e.value:e.rounded,r=hm(e)?e.value:e.tile,s=[];if(i===!0||i==="")s.push(`${t}--rounded`);else if(typeof i=="string"||i===0)for(const o of String(i).split(" "))s.push(`rounded-${o}`);else(r||i===!1)&&s.push("rounded-0");return s})}}const Yo=z({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:e=>e!==!0}},"transition"),er=(e,t)=>{let{slots:n}=t;const{transition:i,disabled:r,group:s,...o}=e,{component:a=s?WA:uc,...l}=typeof i=="object"?i:{};return $c(a,K(typeof i=="string"?{name:r?"":i}:l,typeof i=="string"?{}:Object.fromEntries(Object.entries({disabled:r,group:s}).filter(c=>{let[h,p]=c;return p!==void 0})),o),n)};function Bie(e,t){if(!JA)return;const n=t.modifiers||{},i=t.value,{handler:r,options:s}=typeof i=="object"?i:{handler:i,options:{}},o=new IntersectionObserver(function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=arguments.length>1?arguments[1]:void 0;const c=e._observe?.[t.instance.$.uid];if(!c)return;const h=a.some(p=>p.isIntersecting);r&&(!n.quiet||c.init)&&(!n.once||h||c.init)&&r(h,a,l),h&&n.once?oz(e,t):c.init=!0},s);e._observe=Object(e._observe),e._observe[t.instance.$.uid]={init:!1,observer:o},o.observe(e)}function oz(e,t){const n=e._observe?.[t.instance.$.uid];n&&(n.observer.unobserve(e),delete e._observe[t.instance.$.uid])}const V0={mounted:Bie,unmounted:oz},az=z({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...sz(),...xe(),...Jt(),...Yo()},"VImg"),kl=Z()({name:"VImg",directives:{intersect:V0},props:az(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,t){let{emit:n,slots:i}=t;const{backgroundColorClasses:r,backgroundColorStyles:s}=Dt(q(e,"color")),{roundedClasses:o}=gn(e),a=yn("VImg"),l=ce(""),c=ae(),h=ce(e.eager?"loading":"idle"),p=ce(),m=ce(),y=T(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),g=T(()=>y.value.aspect||p.value/m.value||0);be(()=>e.src,()=>{v(h.value!=="idle")}),be(g,(R,V)=>{!R&&V&&c.value&&E(c.value)}),R0(()=>v());function v(R){if(!(e.eager&&R)&&!(JA&&!R&&!e.eager)){if(h.value="loading",y.value.lazySrc){const V=new Image;V.src=y.value.lazySrc,E(V,null)}y.value.src&&_t(()=>{n("loadstart",c.value?.currentSrc||y.value.src),setTimeout(()=>{if(!a.isUnmounted)if(c.value?.complete){if(c.value.naturalWidth||w(),h.value==="error")return;g.value||E(c.value,null),h.value==="loading"&&b()}else g.value||E(c.value),S()})})}}function b(){a.isUnmounted||(S(),E(c.value),h.value="loaded",n("load",c.value?.currentSrc||y.value.src))}function w(){a.isUnmounted||(h.value="error",n("error",c.value?.currentSrc||y.value.src))}function S(){const R=c.value;R&&(l.value=R.currentSrc||R.src)}let x=-1;Di(()=>{clearTimeout(x)});function E(R){let V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const U=()=>{if(clearTimeout(x),a.isUnmounted)return;const{naturalHeight:ee,naturalWidth:se}=R;ee||se?(p.value=se,m.value=ee):!R.complete&&h.value==="loading"&&V!=null?x=window.setTimeout(U,V):(R.currentSrc.endsWith(".svg")||R.currentSrc.startsWith("data:image/svg+xml"))&&(p.value=1,m.value=1)};U()}const $=T(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),I=()=>{if(!y.value.src||h.value==="idle")return null;const R=_("img",{class:["v-img__img",$.value],style:{objectPosition:e.position},crossorigin:e.crossorigin,src:y.value.src,srcset:y.value.srcset,alt:e.alt,referrerpolicy:e.referrerpolicy,draggable:e.draggable,sizes:e.sizes,ref:c,onLoad:b,onError:w},null),V=i.sources?.();return _(er,{transition:e.transition,appear:!0},{default:()=>[ln(V?_("picture",{class:"v-img__picture"},[V,R]):R,[[Zo,h.value==="loaded"]])]})},A=()=>_(er,{transition:e.transition},{default:()=>[y.value.lazySrc&&h.value!=="loaded"&&_("img",{class:["v-img__img","v-img__img--preload",$.value],style:{objectPosition:e.position},crossorigin:e.crossorigin,src:y.value.lazySrc,alt:e.alt,referrerpolicy:e.referrerpolicy,draggable:e.draggable},null)]}),M=()=>i.placeholder?_(er,{transition:e.transition,appear:!0},{default:()=>[(h.value==="loading"||h.value==="error"&&!i.error)&&_("div",{class:"v-img__placeholder"},[i.placeholder()])]}):null,L=()=>i.error?_(er,{transition:e.transition,appear:!0},{default:()=>[h.value==="error"&&_("div",{class:"v-img__error"},[i.error()])]}):null,O=()=>e.gradient?_("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,P=ce(!1);{const R=be(g,V=>{V&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{P.value=!0})}),R())})}return X(()=>{const R=SE.filterProps(e);return ln(_(SE,K({class:["v-img",{"v-img--absolute":e.absolute,"v-img--booting":!P.value},r.value,o.value,e.class],style:[{width:_e(e.width==="auto"?p.value:e.width)},s.value,e.style]},R,{aspectRatio:g.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>_(Be,null,[_(I,null,null),_(A,null,null),_(O,null,null),_(M,null,null),_(L,null,null)]),default:i.default}),[[_s("intersect"),{handler:v,options:e.options},null,{once:!0}]])}),{currentSrc:l,image:c,state:h,naturalWidth:p,naturalHeight:m}}}),Yr=z({border:[Boolean,Number,String]},"border");function $s(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:La();return{borderClasses:T(()=>{const i=hm(e)?e.value:e.border,r=[];if(i===!0||i==="")r.push(`${t}--border`);else if(typeof i=="string"||i===0)for(const s of String(i).split(" "))r.push(`border-${s}`);return r})}}const Qn=z({elevation:{type:[Number,String],validator(e){const t=parseInt(e);return!isNaN(t)&&t>=0&&t<=24}}},"elevation");function Ei(e){return{elevationClasses:T(()=>{const n=hm(e)?e.value:e.elevation,i=[];return n==null||i.push(`elevation-${n}`),i})}}const Uie=[null,"prominent","default","comfortable","compact"],lz=z({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>Uie.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...Yr(),...xe(),...Qn(),...Jt(),...Je({tag:"header"}),...ct()},"VToolbar"),xE=Z()({name:"VToolbar",props:lz(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:i,backgroundColorStyles:r}=Dt(q(e,"color")),{borderClasses:s}=$s(e),{elevationClasses:o}=Ei(e),{roundedClasses:a}=gn(e),{themeClasses:l}=xt(e),{rtlClasses:c}=Xn(),h=ce(!!(e.extended||n.extension?.())),p=T(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),m=T(()=>h.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return mn({VBtn:{variant:"text"}}),X(()=>{const y=!!(e.title||n.title),g=!!(n.image||e.image),v=n.extension?.();return h.value=!!(e.extended||v),_(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},i.value,s.value,o.value,a.value,l.value,c.value,e.class],style:[r.value,e.style]},{default:()=>[g&&_("div",{key:"image",class:"v-toolbar__image"},[n.image?_(st,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},n.image):_(kl,{key:"image-img",cover:!0,src:e.image},null)]),_(st,{defaults:{VTabs:{height:_e(p.value)}}},{default:()=>[_("div",{class:"v-toolbar__content",style:{height:_e(p.value)}},[n.prepend&&_("div",{class:"v-toolbar__prepend"},[n.prepend?.()]),y&&_(lP,{key:"title",text:e.title},{text:n.title}),n.default?.(),n.append&&_("div",{class:"v-toolbar__append"},[n.append?.()])])]}),_(st,{defaults:{VTabs:{height:_e(m.value)}}},{default:()=>[_(h2,null,{default:()=>[h.value&&_("div",{class:"v-toolbar__extension",style:{height:_e(m.value)}},[v])]})]})]})}),{contentHeight:p,extensionHeight:m}}}),Gie=z({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Hie(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:n}=t;let i=0,r=0;const s=ae(null),o=ce(0),a=ce(0),l=ce(0),c=ce(!1),h=ce(!1),p=T(()=>Number(e.scrollThreshold)),m=T(()=>Pn((p.value-o.value)/p.value||0)),y=()=>{const g=s.value;if(!g||n&&!n.value)return;i=o.value,o.value="window"in g?g.pageYOffset:g.scrollTop;const v=g instanceof Window?document.documentElement.scrollHeight:g.scrollHeight;if(r!==v){r=v;return}h.value=o.value<i,l.value=Math.abs(o.value-p.value)};return be(h,()=>{a.value=a.value||o.value}),be(c,()=>{a.value=0}),Ir(()=>{be(()=>e.scrollTarget,g=>{const v=g?document.querySelector(g):window;v&&v!==s.value&&(s.value?.removeEventListener("scroll",y),s.value=v,s.value.addEventListener("scroll",y,{passive:!0}))},{immediate:!0})}),Di(()=>{s.value?.removeEventListener("scroll",y)}),n&&be(n,y,{immediate:!0}),{scrollThreshold:p,currentScroll:o,currentThreshold:l,isScrollActive:c,scrollRatio:m,isScrollingUp:h,savedScroll:a}}function Yh(){const e=ce(!1);return Ir(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:T(()=>e.value?void 0:{transition:"none !important"}),isBooted:qA(e)}}const qie=z({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...lz(),...Wh(),...Gie(),height:{type:[Number,String],default:64}},"VAppBar"),Wie=Z()({name:"VAppBar",props:qie(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=ae(),r=Pe(e,"modelValue"),s=T(()=>{const S=new Set(e.scrollBehavior?.split(" ")??[]);return{hide:S.has("hide"),fullyHide:S.has("fully-hide"),inverted:S.has("inverted"),collapse:S.has("collapse"),elevate:S.has("elevate"),fadeImage:S.has("fade-image")}}),o=T(()=>{const S=s.value;return S.hide||S.fullyHide||S.inverted||S.collapse||S.elevate||S.fadeImage||!r.value}),{currentScroll:a,scrollThreshold:l,isScrollingUp:c,scrollRatio:h}=Hie(e,{canScroll:o}),p=T(()=>s.value.hide||s.value.fullyHide),m=T(()=>e.collapse||s.value.collapse&&(s.value.inverted?h.value>0:h.value===0)),y=T(()=>e.flat||s.value.fullyHide&&!r.value||s.value.elevate&&(s.value.inverted?a.value>0:a.value===0)),g=T(()=>s.value.fadeImage?s.value.inverted?1-h.value:h.value:void 0),v=T(()=>{if(s.value.hide&&s.value.inverted)return 0;const S=i.value?.contentHeight??0,x=i.value?.extensionHeight??0;return p.value?a.value<l.value||s.value.fullyHide?S+x:S:S+x});Sr(T(()=>!!e.scrollBehavior),()=>{wn(()=>{p.value?s.value.inverted?r.value=a.value>l.value:r.value=c.value||a.value<l.value:r.value=!0})});const{ssrBootStyles:b}=Yh(),{layoutItemStyles:w}=Zh({id:e.name,order:T(()=>parseInt(e.order,10)),position:q(e,"location"),layoutSize:v,elementSize:ce(void 0),active:r,absolute:q(e,"absolute")});return X(()=>{const S=xE.filterProps(e);return _(xE,K({ref:i,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...w.value,"--v-toolbar-image-opacity":g.value,height:void 0,...b.value},e.style]},S,{collapse:m.value,flat:y.value}),n)}),{}}}),Zie=[null,"default","comfortable","compact"],ci=z({density:{type:String,default:"default",validator:e=>Zie.includes(e)}},"density");function lr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:La();return{densityClasses:T(()=>`${t}--density-${e.density}`)}}const Yie=["elevated","flat","tonal","outlined","text","plain"];function Ec(e,t){return _(Be,null,[e&&_("span",{key:"overlay",class:`${t}__overlay`},null),_("span",{key:"underlay",class:`${t}__underlay`},null)])}const eo=z({color:String,variant:{type:String,default:"elevated",validator:e=>Yie.includes(e)}},"variant");function Jh(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:La();const n=T(()=>{const{variant:s}=br(e);return`${t}--variant-${s}`}),{colorClasses:i,colorStyles:r}=hP(T(()=>{const{variant:s,color:o}=br(e);return{[["elevated","flat"].includes(s)?"background":"text"]:o}}));return{colorClasses:i,colorStyles:r,variantClasses:n}}const uz=z({baseColor:String,divided:Boolean,...Yr(),...xe(),...ci(),...Qn(),...Jt(),...Je(),...ct(),...eo()},"VBtnGroup"),$E=Z()({name:"VBtnGroup",props:uz(),setup(e,t){let{slots:n}=t;const{themeClasses:i}=xt(e),{densityClasses:r}=lr(e),{borderClasses:s}=$s(e),{elevationClasses:o}=Ei(e),{roundedClasses:a}=gn(e);mn({VBtn:{height:"auto",baseColor:q(e,"baseColor"),color:q(e,"color"),density:q(e,"density"),flat:!0,variant:q(e,"variant")}}),X(()=>_(e.tag,{class:["v-btn-group",{"v-btn-group--divided":e.divided},i.value,s.value,r.value,o.value,a.value,e.class],style:e.style},n))}}),Kh=z({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),Xh=z({value:null,disabled:Boolean,selectedClass:String},"group-item");function Qh(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const i=yn("useGroupItem");if(!i)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const r=Ti();Yt(Symbol.for(`${t.description}:id`),r);const s=ft(t,null);if(!s){if(!n)return s;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${t.description}`)}const o=q(e,"value"),a=T(()=>!!(s.disabled.value||e.disabled));s.register({id:r,value:o,disabled:a},i),Di(()=>{s.unregister(r)});const l=T(()=>s.isSelected(r)),c=T(()=>s.items.value[0].id===r),h=T(()=>s.items.value[s.items.value.length-1].id===r),p=T(()=>l.value&&[s.selectedClass.value,e.selectedClass]);return be(l,m=>{i.emit("group:selected",{value:m})},{flush:"sync"}),{id:r,isSelected:l,isFirst:c,isLast:h,toggle:()=>s.select(r,!l.value),select:m=>s.select(r,m),selectedClass:p,value:o,disabled:a,group:s}}function Ic(e,t){let n=!1;const i=Br([]),r=Pe(e,"modelValue",[],m=>m==null?[]:cz(i,sn(m)),m=>{const y=Kie(i,m);return e.multiple?y:y[0]}),s=yn("useGroup");function o(m,y){const g=m,v=Symbol.for(`${t.description}:id`),w=Af(v,s?.vnode).indexOf(y);br(g.value)==null&&(g.value=w,g.useIndexAsValue=!0),w>-1?i.splice(w,0,g):i.push(g)}function a(m){if(n)return;l();const y=i.findIndex(g=>g.id===m);i.splice(y,1)}function l(){const m=i.find(y=>!y.disabled);m&&e.mandatory==="force"&&!r.value.length&&(r.value=[m.id])}Ir(()=>{l()}),Di(()=>{n=!0}),dte(()=>{for(let m=0;m<i.length;m++)i[m].useIndexAsValue&&(i[m].value=m)});function c(m,y){const g=i.find(v=>v.id===m);if(!(y&&g?.disabled))if(e.multiple){const v=r.value.slice(),b=v.findIndex(S=>S===m),w=~b;if(y=y??!w,w&&e.mandatory&&v.length<=1||!w&&e.max!=null&&v.length+1>e.max)return;b<0&&y?v.push(m):b>=0&&!y&&v.splice(b,1),r.value=v}else{const v=r.value.includes(m);if(e.mandatory&&v)return;r.value=y??!v?[m]:[]}}function h(m){if(e.multiple,r.value.length){const y=r.value[0],g=i.findIndex(w=>w.id===y);let v=(g+m)%i.length,b=i[v];for(;b.disabled&&v!==g;)v=(v+m)%i.length,b=i[v];if(b.disabled)return;r.value=[i[v].id]}else{const y=i.find(g=>!g.disabled);y&&(r.value=[y.id])}}const p={register:o,unregister:a,selected:r,select:c,disabled:q(e,"disabled"),prev:()=>h(i.length-1),next:()=>h(1),isSelected:m=>r.value.includes(m),selectedClass:T(()=>e.selectedClass),items:T(()=>i),getItemIndex:m=>Jie(i,m)};return Yt(t,p),p}function Jie(e,t){const n=cz(e,[t]);return n.length?e.findIndex(i=>i.id===n[0]):-1}function cz(e,t){const n=[];return t.forEach(i=>{const r=e.find(o=>nr(i,o.value)),s=e[i];r?.value!=null?n.push(r.id):s!=null&&n.push(s.id)}),n}function Kie(e,t){const n=[];return t.forEach(i=>{const r=e.findIndex(s=>s.id===i);if(~r){const s=e[r];n.push(s.value!=null?s.value:r)}}),n}const pP=Symbol.for("vuetify:v-btn-toggle"),Xie=z({...uz(),...Kh()},"VBtnToggle"),Qie=Z()({name:"VBtnToggle",props:Xie(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isSelected:i,next:r,prev:s,select:o,selected:a}=Ic(e,pP);return X(()=>{const l=$E.filterProps(e);return _($E,K({class:["v-btn-toggle",e.class]},l,{style:e.style}),{default:()=>[n.default?.({isSelected:i,next:r,prev:s,select:o,selected:a})]})}),{next:r,prev:s,select:o}}}),ere=["x-small","small","default","large","x-large"],Ra=z({size:{type:[String,Number],default:"default"}},"size");function qm(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:La();return XA(()=>{let n,i;return T_(ere,e.size)?n=`${t}--size-${e.size}`:e.size&&(i={width:_e(e.size),height:_e(e.size)}),{sizeClasses:n,sizeStyles:i}})}const tre=z({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:Oe,...xe(),...Ra(),...Je({tag:"i"}),...ct()},"VIcon"),bt=Z()({name:"VIcon",props:tre(),setup(e,t){let{attrs:n,slots:i}=t;const r=ae(),{themeClasses:s}=xt(e),{iconData:o}=_ie(T(()=>r.value||e.icon)),{sizeClasses:a}=qm(e),{textColorClasses:l,textColorStyles:c}=Ri(q(e,"color"));return X(()=>{const h=i.default?.();h&&(r.value=_8(h).filter(m=>m.type===hte&&m.children&&typeof m.children=="string")[0]?.children);const p=!!(n.onClick||n.onClickOnce);return _(o.value.component,{tag:e.tag,icon:o.value.icon,class:["v-icon","notranslate",s.value,a.value,l.value,{"v-icon--clickable":p,"v-icon--disabled":e.disabled,"v-icon--start":e.start,"v-icon--end":e.end},e.class],style:[a.value?void 0:{fontSize:_e(e.size),height:_e(e.size),width:_e(e.size)},c.value,e.style],role:p?"button":void 0,"aria-hidden":!p,tabindex:p?e.disabled?-1:0:void 0},{default:()=>[h]})}),{}}});function p2(e,t){const n=ae(),i=ce(!1);if(JA){const r=new IntersectionObserver(s=>{i.value=!!s.find(o=>o.isIntersecting)},t);Di(()=>{r.disconnect()}),be(n,(s,o)=>{o&&(r.unobserve(o),i.value=!1),s&&r.observe(s)},{flush:"post"})}return{intersectionRef:n,isIntersecting:i}}const nre=z({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...xe(),...Ra(),...Je({tag:"div"}),...ct()},"VProgressCircular"),gm=Z()({name:"VProgressCircular",props:nre(),setup(e,t){let{slots:n}=t;const i=20,r=2*Math.PI*i,s=ae(),{themeClasses:o}=xt(e),{sizeClasses:a,sizeStyles:l}=qm(e),{textColorClasses:c,textColorStyles:h}=Ri(q(e,"color")),{textColorClasses:p,textColorStyles:m}=Ri(q(e,"bgColor")),{intersectionRef:y,isIntersecting:g}=p2(),{resizeRef:v,contentRect:b}=Go(),w=T(()=>Math.max(0,Math.min(100,parseFloat(e.modelValue)))),S=T(()=>Number(e.width)),x=T(()=>l.value?Number(e.size):b.value?b.value.width:Math.max(S.value,32)),E=T(()=>i/(1-S.value/x.value)*2),$=T(()=>S.value/x.value*E.value),I=T(()=>_e((100-w.value)/100*r));return wn(()=>{y.value=s.value,v.value=s.value}),X(()=>_(e.tag,{ref:s,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":g.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},o.value,a.value,c.value,e.class],style:[l.value,h.value,e.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:w.value},{default:()=>[_("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${E.value} ${E.value}`},[_("circle",{class:["v-progress-circular__underlay",p.value],style:m.value,fill:"transparent",cx:"50%",cy:"50%",r:i,"stroke-width":$.value,"stroke-dasharray":r,"stroke-dashoffset":0},null),_("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:i,"stroke-width":$.value,"stroke-dasharray":r,"stroke-dashoffset":I.value},null)]),n.default&&_("div",{class:"v-progress-circular__content"},[n.default({value:w.value})])]})),{}}}),qR={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},Fl=z({location:String},"location");function ep(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const{isRtl:i}=Xn();return{locationStyles:T(()=>{if(!e.location)return{};const{side:s,align:o}=fE(e.location.split(" ").length>1?e.location:`${e.location} center`,i.value);function a(c){return n?n(c):0}const l={};return s!=="center"&&(t?l[qR[s]]=`calc(100% - ${a(s)}px)`:l[s]=0),o!=="center"?t?l[qR[o]]=`calc(100% - ${a(o)}px)`:l[o]=0:(s==="center"?l.top=l.left="50%":l[{top:"left",bottom:"left",left:"top",right:"top"}[s]]="50%",l.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[s]),l})}}const ire=z({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...xe(),...Fl({location:"top"}),...Jt(),...Je(),...ct()},"VProgressLinear"),f2=Z()({name:"VProgressLinear",props:ire(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=Pe(e,"modelValue"),{isRtl:r,rtlClasses:s}=Xn(),{themeClasses:o}=xt(e),{locationStyles:a}=ep(e),{textColorClasses:l,textColorStyles:c}=Ri(e,"color"),{backgroundColorClasses:h,backgroundColorStyles:p}=Dt(T(()=>e.bgColor||e.color)),{backgroundColorClasses:m,backgroundColorStyles:y}=Dt(T(()=>e.bufferColor||e.bgColor||e.color)),{backgroundColorClasses:g,backgroundColorStyles:v}=Dt(e,"color"),{roundedClasses:b}=gn(e),{intersectionRef:w,isIntersecting:S}=p2(),x=T(()=>parseFloat(e.max)),E=T(()=>parseFloat(e.height)),$=T(()=>Pn(parseFloat(e.bufferValue)/x.value*100,0,100)),I=T(()=>Pn(parseFloat(i.value)/x.value*100,0,100)),A=T(()=>r.value!==e.reverse),M=T(()=>e.indeterminate?"fade-transition":"slide-x-transition"),L=gt&&window.matchMedia?.("(forced-colors: active)").matches;function O(P){if(!w.value)return;const{left:R,right:V,width:U}=w.value.getBoundingClientRect(),ee=A.value?U-P.clientX+(V-U):P.clientX-R;i.value=Math.round(ee/U*x.value)}return X(()=>_(e.tag,{ref:w,class:["v-progress-linear",{"v-progress-linear--absolute":e.absolute,"v-progress-linear--active":e.active&&S.value,"v-progress-linear--reverse":A.value,"v-progress-linear--rounded":e.rounded,"v-progress-linear--rounded-bar":e.roundedBar,"v-progress-linear--striped":e.striped},b.value,o.value,s.value,e.class],style:[{bottom:e.location==="bottom"?0:void 0,top:e.location==="top"?0:void 0,height:e.active?_e(E.value):0,"--v-progress-linear-height":_e(E.value),...e.absolute?a.value:{}},e.style],role:"progressbar","aria-hidden":e.active?"false":"true","aria-valuemin":"0","aria-valuemax":e.max,"aria-valuenow":e.indeterminate?void 0:Math.min(parseFloat(i.value),x.value),onClick:e.clickable&&O},{default:()=>[e.stream&&_("div",{key:"stream",class:["v-progress-linear__stream",l.value],style:{...c.value,[A.value?"left":"right"]:_e(-E.value),borderTop:`${_e(E.value/2)} dotted`,opacity:parseFloat(e.bufferOpacity),top:`calc(50% - ${_e(E.value/4)})`,width:_e(100-$.value,"%"),"--v-progress-linear-stream-to":_e(E.value*(A.value?1:-1))}},null),_("div",{class:["v-progress-linear__background",L?void 0:h.value],style:[p.value,{opacity:parseFloat(e.bgOpacity),width:e.stream?0:void 0}]},null),_("div",{class:["v-progress-linear__buffer",L?void 0:m.value],style:[y.value,{opacity:parseFloat(e.bufferOpacity),width:_e($.value,"%")}]},null),_(uc,{name:M.value},{default:()=>[e.indeterminate?_("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(P=>_("div",{key:P,class:["v-progress-linear__indeterminate",P,L?void 0:g.value],style:v.value},null))]):_("div",{class:["v-progress-linear__determinate",L?void 0:g.value],style:[v.value,{width:_e(I.value,"%")}]},null)]}),n.default&&_("div",{class:"v-progress-linear__content"},[n.default({value:I.value,buffer:$.value})])]})),{}}}),m2=z({loading:[Boolean,String]},"loader");function F0(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:La();return{loaderClasses:T(()=>({[`${t}--loading`]:e.loading}))}}function j0(e,t){let{slots:n}=t;return _("div",{class:`${e.name}__loader`},[n.default?.({color:e.color,isActive:e.active})||_(f2,{absolute:e.absolute,active:e.active,color:e.color,height:"2",indeterminate:!0},null)])}const rre=["static","relative","fixed","absolute","sticky"],Wm=z({position:{type:String,validator:e=>rre.includes(e)}},"position");function Zm(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:La();return{positionClasses:T(()=>e.position?`${t}--${e.position}`:void 0)}}function sre(){const e=yn("useRoute");return T(()=>e?.proxy?.$route)}function dz(){return yn("useRouter")?.proxy?.$router}function z0(e,t){const n=pte("RouterLink"),i=T(()=>!!(e.href||e.to)),r=T(()=>i?.value||vR(t,"click")||vR(e,"click"));if(typeof n=="string"||!("useLink"in n)){const p=q(e,"href");return{isLink:i,isClickable:r,href:p,linkProps:Br({href:p})}}const s=T(()=>({...e,to:q(()=>e.to||"")})),o=n.useLink(s.value),a=T(()=>e.to?o:void 0),l=sre(),c=T(()=>a.value?e.exact?l.value?a.value.isExactActive?.value&&nr(a.value.route.value.query,l.value.query):a.value.isExactActive?.value??!1:a.value.isActive?.value??!1:!1),h=T(()=>e.to?a.value?.route.value.href:e.href);return{isLink:i,isClickable:r,isActive:c,route:a.value?.route,navigate:a.value?.navigate,href:h,linkProps:Br({href:h,"aria-current":T(()=>c.value?"page":void 0)})}}const B0=z({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let f$=!1;function ore(e,t){let n=!1,i,r;gt&&e?.beforeEach&&(_t(()=>{window.addEventListener("popstate",s),i=e.beforeEach((o,a,l)=>{f$?n?t(l):l():setTimeout(()=>n?t(l):l()),f$=!0}),r=e?.afterEach(()=>{f$=!1})}),ar(()=>{window.removeEventListener("popstate",s),i?.(),r?.()}));function s(o){o.state?.replaced||(n=!0,setTimeout(()=>n=!1))}}function are(e,t){be(()=>e.isActive?.value,n=>{e.isLink.value&&n&&t&&_t(()=>{t(!0)})},{immediate:!0})}const TE=Symbol("rippleStop"),lre=80;function WR(e,t){e.style.transform=t,e.style.webkitTransform=t}function EE(e){return e.constructor.name==="TouchEvent"}function hz(e){return e.constructor.name==="KeyboardEvent"}const ure=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=0,r=0;if(!hz(e)){const p=t.getBoundingClientRect(),m=EE(e)?e.touches[e.touches.length-1]:e;i=m.clientX-p.left,r=m.clientY-p.top}let s=0,o=.3;t._ripple?.circle?(o=.15,s=t.clientWidth/2,s=n.center?s:s+Math.sqrt((i-s)**2+(r-s)**2)/4):s=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const a=`${(t.clientWidth-s*2)/2}px`,l=`${(t.clientHeight-s*2)/2}px`,c=n.center?a:`${i-s}px`,h=n.center?l:`${r-s}px`;return{radius:s,scale:o,x:c,y:h,centerX:a,centerY:l}},k_={show(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!t?._ripple?.enabled)return;const i=document.createElement("span"),r=document.createElement("span");i.appendChild(r),i.className="v-ripple__container",n.class&&(i.className+=` ${n.class}`);const{radius:s,scale:o,x:a,y:l,centerX:c,centerY:h}=ure(e,t,n),p=`${s*2}px`;r.className="v-ripple__animation",r.style.width=p,r.style.height=p,t.appendChild(i);const m=window.getComputedStyle(t);m&&m.position==="static"&&(t.style.position="relative",t.dataset.previousPosition="static"),r.classList.add("v-ripple__animation--enter"),r.classList.add("v-ripple__animation--visible"),WR(r,`translate(${a}, ${l}) scale3d(${o},${o},${o})`),r.dataset.activated=String(performance.now()),requestAnimationFrame(()=>{requestAnimationFrame(()=>{r.classList.remove("v-ripple__animation--enter"),r.classList.add("v-ripple__animation--in"),WR(r,`translate(${c}, ${h}) scale3d(1,1,1)`)})})},hide(e){if(!e?._ripple?.enabled)return;const t=e.getElementsByClassName("v-ripple__animation");if(t.length===0)return;const n=t[t.length-1];if(n.dataset.isHiding)return;n.dataset.isHiding="true";const i=performance.now()-Number(n.dataset.activated),r=Math.max(250-i,0);setTimeout(()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout(()=>{e.getElementsByClassName("v-ripple__animation").length===1&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),n.parentNode?.parentNode===e&&e.removeChild(n.parentNode)},300)},r)}};function pz(e){return typeof e>"u"||!!e}function Wv(e){const t={},n=e.currentTarget;if(!(!n?._ripple||n._ripple.touched||e[TE])){if(e[TE]=!0,EE(e))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(t.center=n._ripple.centered||hz(e),n._ripple.class&&(t.class=n._ripple.class),EE(e)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{k_.show(e,n,t)},n._ripple.showTimer=window.setTimeout(()=>{n?._ripple?.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},lre)}else k_.show(e,n,t)}}function ZR(e){e[TE]=!0}function ds(e){const t=e.currentTarget;if(t?._ripple){if(window.clearTimeout(t._ripple.showTimer),e.type==="touchend"&&t._ripple.showTimerCommit){t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null,t._ripple.showTimer=window.setTimeout(()=>{ds(e)});return}window.setTimeout(()=>{t._ripple&&(t._ripple.touched=!1)}),k_.hide(t)}}function fz(e){const t=e.currentTarget;t?._ripple&&(t._ripple.showTimerCommit&&(t._ripple.showTimerCommit=null),window.clearTimeout(t._ripple.showTimer))}let Zv=!1;function mz(e){!Zv&&(e.keyCode===pR.enter||e.keyCode===pR.space)&&(Zv=!0,Wv(e))}function yz(e){Zv=!1,ds(e)}function gz(e){Zv&&(Zv=!1,ds(e))}function vz(e,t,n){const{value:i,modifiers:r}=t,s=pz(i);if(s||k_.hide(e),e._ripple=e._ripple??{},e._ripple.enabled=s,e._ripple.centered=r.center,e._ripple.circle=r.circle,r2(i)&&i.class&&(e._ripple.class=i.class),s&&!n){if(r.stop){e.addEventListener("touchstart",ZR,{passive:!0}),e.addEventListener("mousedown",ZR);return}e.addEventListener("touchstart",Wv,{passive:!0}),e.addEventListener("touchend",ds,{passive:!0}),e.addEventListener("touchmove",fz,{passive:!0}),e.addEventListener("touchcancel",ds),e.addEventListener("mousedown",Wv),e.addEventListener("mouseup",ds),e.addEventListener("mouseleave",ds),e.addEventListener("keydown",mz),e.addEventListener("keyup",yz),e.addEventListener("blur",gz),e.addEventListener("dragstart",ds,{passive:!0})}else!s&&n&&bz(e)}function bz(e){e.removeEventListener("mousedown",Wv),e.removeEventListener("touchstart",Wv),e.removeEventListener("touchend",ds),e.removeEventListener("touchmove",fz),e.removeEventListener("touchcancel",ds),e.removeEventListener("mouseup",ds),e.removeEventListener("mouseleave",ds),e.removeEventListener("keydown",mz),e.removeEventListener("keyup",yz),e.removeEventListener("dragstart",ds),e.removeEventListener("blur",gz)}function cre(e,t){vz(e,t,!1)}function dre(e){delete e._ripple,bz(e)}function hre(e,t){if(t.value===t.oldValue)return;const n=pz(t.oldValue);vz(e,t,n)}const jl={mounted:cre,unmounted:dre,updated:hre},y2=z({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:pP},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:Oe,appendIcon:Oe,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},...Yr(),...xe(),...ci(),...Vn(),...Qn(),...Xh(),...m2(),...Fl(),...Wm(),...Jt(),...B0(),...Ra(),...Je({tag:"button"}),...ct(),...eo({variant:"elevated"})},"VBtn"),vt=Z()({name:"VBtn",props:y2(),emits:{"group:selected":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const{themeClasses:r}=xt(e),{borderClasses:s}=$s(e),{densityClasses:o}=lr(e),{dimensionStyles:a}=Fn(e),{elevationClasses:l}=Ei(e),{loaderClasses:c}=F0(e),{locationStyles:h}=ep(e),{positionClasses:p}=Zm(e),{roundedClasses:m}=gn(e),{sizeClasses:y,sizeStyles:g}=qm(e),v=Qh(e,e.symbol,!1),b=z0(e,n),w=T(()=>e.active!==void 0?e.active:b.isLink.value?b.isActive?.value:v?.isSelected.value),S=T(()=>w.value?e.activeColor??e.color:e.color),x=T(()=>({color:v?.isSelected.value&&(!b.isLink.value||b.isActive?.value)||!v||b.isActive?.value?S.value??e.baseColor:e.baseColor,variant:e.variant})),{colorClasses:E,colorStyles:$,variantClasses:I}=Jh(x),A=T(()=>v?.disabled.value||e.disabled),M=T(()=>e.variant==="elevated"&&!(e.disabled||e.flat||e.border)),L=T(()=>{if(!(e.value===void 0||typeof e.value=="symbol"))return Object(e.value)===e.value?JSON.stringify(e.value,null,0):e.value});function O(P){A.value||b.isLink.value&&(P.metaKey||P.ctrlKey||P.shiftKey||P.button!==0||n.target==="_blank")||(b.navigate?.(P),v?.toggle())}return are(b,v?.select),X(()=>{const P=b.isLink.value?"a":e.tag,R=!!(e.prependIcon||i.prepend),V=!!(e.appendIcon||i.append),U=!!(e.icon&&e.icon!==!0);return ln(_(P,K({type:P==="a"?void 0:"button",class:["v-btn",v?.selectedClass.value,{"v-btn--active":w.value,"v-btn--block":e.block,"v-btn--disabled":A.value,"v-btn--elevated":M.value,"v-btn--flat":e.flat,"v-btn--icon":!!e.icon,"v-btn--loading":e.loading,"v-btn--readonly":e.readonly,"v-btn--slim":e.slim,"v-btn--stacked":e.stacked},r.value,s.value,E.value,o.value,l.value,c.value,p.value,m.value,y.value,I.value,e.class],style:[$.value,a.value,h.value,g.value,e.style],"aria-busy":e.loading?!0:void 0,disabled:A.value||void 0,tabindex:e.loading||e.readonly?-1:void 0,onClick:O,value:L.value},b.linkProps),{default:()=>[Ec(!0,"v-btn"),!e.icon&&R&&_("span",{key:"prepend",class:"v-btn__prepend"},[i.prepend?_(st,{key:"prepend-defaults",disabled:!e.prependIcon,defaults:{VIcon:{icon:e.prependIcon}}},i.prepend):_(bt,{key:"prepend-icon",icon:e.prependIcon},null)]),_("span",{class:"v-btn__content","data-no-activator":""},[!i.default&&U?_(bt,{key:"content-icon",icon:e.icon},null):_(st,{key:"content-defaults",disabled:!U,defaults:{VIcon:{icon:e.icon}}},{default:()=>[i.default?.()??xa(e.text)]})]),!e.icon&&V&&_("span",{key:"append",class:"v-btn__append"},[i.append?_(st,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VIcon:{icon:e.appendIcon}}},i.append):_(bt,{key:"append-icon",icon:e.appendIcon},null)]),!!e.loading&&_("span",{key:"loader",class:"v-btn__loader"},[i.loader?.()??_(gm,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,width:"2"},null)])]}),[[jl,!A.value&&e.ripple,"",{center:!!e.icon}]])}),{group:v}}}),pre=z({...y2({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),fre=Z()({name:"VAppBarNavIcon",props:pre(),setup(e,t){let{slots:n}=t;return X(()=>_(vt,K(e,{class:["v-app-bar-nav-icon"]}),n)),{}}}),mre=Z()({name:"VAppBarTitle",props:nz(),setup(e,t){let{slots:n}=t;return X(()=>_(lP,K(e,{class:"v-app-bar-title"}),n)),{}}}),wz=Oa("v-alert-title"),yre=["success","info","warning","error"],gre=z({border:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:Oe,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>yre.includes(e)},...xe(),...ci(),...Vn(),...Qn(),...Fl(),...Wm(),...Jt(),...Je(),...ct(),...eo({variant:"flat"})},"VAlert"),vre=Z()({name:"VAlert",props:gre(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const r=Pe(e,"modelValue"),s=T(()=>{if(e.icon!==!1)return e.type?e.icon??`$${e.type}`:e.icon}),o=T(()=>({color:e.color??e.type,variant:e.variant})),{themeClasses:a}=xt(e),{colorClasses:l,colorStyles:c,variantClasses:h}=Jh(o),{densityClasses:p}=lr(e),{dimensionStyles:m}=Fn(e),{elevationClasses:y}=Ei(e),{locationStyles:g}=ep(e),{positionClasses:v}=Zm(e),{roundedClasses:b}=gn(e),{textColorClasses:w,textColorStyles:S}=Ri(q(e,"borderColor")),{t:x}=Sn(),E=T(()=>({"aria-label":x(e.closeLabel),onClick($){r.value=!1,n("click:close",$)}}));return()=>{const $=!!(i.prepend||s.value),I=!!(i.title||e.title),A=!!(i.close||e.closable);return r.value&&_(e.tag,{class:["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${e.border===!0?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},a.value,l.value,p.value,y.value,v.value,b.value,h.value,e.class],style:[c.value,m.value,g.value,e.style],role:"alert"},{default:()=>[Ec(!1,"v-alert"),e.border&&_("div",{key:"border",class:["v-alert__border",w.value],style:S.value},null),$&&_("div",{key:"prepend",class:"v-alert__prepend"},[i.prepend?_(st,{key:"prepend-defaults",disabled:!s.value,defaults:{VIcon:{density:e.density,icon:s.value,size:e.prominent?44:28}}},i.prepend):_(bt,{key:"prepend-icon",density:e.density,icon:s.value,size:e.prominent?44:28},null)]),_("div",{class:"v-alert__content"},[I&&_(wz,{key:"title"},{default:()=>[i.title?.()??e.title]}),i.text?.()??e.text,i.default?.()]),i.append&&_("div",{key:"append",class:"v-alert__append"},[i.append()]),A&&_("div",{key:"close",class:"v-alert__close"},[i.close?_(st,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>[i.close?.({props:E.value})]}):_(vt,K({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},E.value),null)])]})}}}),bre=z({start:Boolean,end:Boolean,icon:Oe,image:String,text:String,...Yr(),...xe(),...ci(),...Jt(),...Ra(),...Je(),...ct(),...eo({variant:"flat"})},"VAvatar"),Ys=Z()({name:"VAvatar",props:bre(),setup(e,t){let{slots:n}=t;const{themeClasses:i}=xt(e),{borderClasses:r}=$s(e),{colorClasses:s,colorStyles:o,variantClasses:a}=Jh(e),{densityClasses:l}=lr(e),{roundedClasses:c}=gn(e),{sizeClasses:h,sizeStyles:p}=qm(e);return X(()=>_(e.tag,{class:["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},i.value,r.value,s.value,l.value,c.value,h.value,a.value,e.class],style:[o.value,p.value,e.style]},{default:()=>[n.default?_(st,{key:"content-defaults",defaults:{VImg:{cover:!0,src:e.image},VIcon:{icon:e.icon}}},{default:()=>[n.default()]}):e.image?_(kl,{key:"image",src:e.image,alt:"",cover:!0},null):e.icon?_(bt,{key:"icon",icon:e.icon},null):e.text,Ec(!1,"v-avatar")]})),{}}}),wre=z({text:String,onClick:xi(),...xe(),...ct()},"VLabel"),Ym=Z()({name:"VLabel",props:wre(),setup(e,t){let{slots:n}=t;return X(()=>_("label",{class:["v-label",{"v-label--clickable":!!e.onClick},e.class],style:e.style,onClick:e.onClick},[e.text,n.default?.()])),{}}}),_z=Symbol.for("vuetify:selection-control-group"),fP=z({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:Oe,trueIcon:Oe,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:nr},...xe(),...ci(),...ct()},"SelectionControlGroup"),_re=z({...fP({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup"),Sz=Z()({name:"VSelectionControlGroup",props:_re(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=Pe(e,"modelValue"),r=Ti(),s=T(()=>e.id||`v-selection-control-group-${r}`),o=T(()=>e.name||s.value),a=new Set;return Yt(_z,{modelValue:i,forceUpdate:()=>{a.forEach(l=>l())},onForceUpdate:l=>{a.add(l),ar(()=>{a.delete(l)})}}),mn({[e.defaultsTarget]:{color:q(e,"color"),disabled:q(e,"disabled"),density:q(e,"density"),error:q(e,"error"),inline:q(e,"inline"),modelValue:i,multiple:T(()=>!!e.multiple||e.multiple==null&&Array.isArray(i.value)),name:o,falseIcon:q(e,"falseIcon"),trueIcon:q(e,"trueIcon"),readonly:q(e,"readonly"),ripple:q(e,"ripple"),type:q(e,"type"),valueComparator:q(e,"valueComparator")}}),X(()=>_("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class],style:e.style,role:e.type==="radio"?"radiogroup":void 0},[n.default?.()])),{}}}),g2=z({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...xe(),...fP()},"VSelectionControl");function Sre(e){const t=ft(_z,void 0),{densityClasses:n}=lr(e),i=Pe(e,"modelValue"),r=T(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),s=T(()=>e.falseValue!==void 0?e.falseValue:!1),o=T(()=>!!e.multiple||e.multiple==null&&Array.isArray(i.value)),a=T({get(){const y=t?t.modelValue.value:i.value;return o.value?sn(y).some(g=>e.valueComparator(g,r.value)):e.valueComparator(y,r.value)},set(y){if(e.readonly)return;const g=y?r.value:s.value;let v=g;o.value&&(v=y?[...sn(i.value),g]:sn(i.value).filter(b=>!e.valueComparator(b,r.value))),t?t.modelValue.value=v:i.value=v}}),{textColorClasses:l,textColorStyles:c}=Ri(T(()=>{if(!(e.error||e.disabled))return a.value?e.color:e.baseColor})),{backgroundColorClasses:h,backgroundColorStyles:p}=Dt(T(()=>a.value&&!e.error&&!e.disabled?e.color:e.baseColor)),m=T(()=>a.value?e.trueIcon:e.falseIcon);return{group:t,densityClasses:n,trueValue:r,falseValue:s,model:a,textColorClasses:l,textColorStyles:c,backgroundColorClasses:h,backgroundColorStyles:p,icon:m}}const cc=Z()({name:"VSelectionControl",directives:{Ripple:jl},inheritAttrs:!1,props:g2(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const{group:r,densityClasses:s,icon:o,model:a,textColorClasses:l,textColorStyles:c,backgroundColorClasses:h,backgroundColorStyles:p,trueValue:m}=Sre(e),y=Ti(),g=ce(!1),v=ce(!1),b=ae(),w=T(()=>e.id||`input-${y}`),S=T(()=>!e.disabled&&!e.readonly);r?.onForceUpdate(()=>{b.value&&(b.value.checked=a.value)});function x(A){S.value&&(g.value=!0,pm(A.target,":focus-visible")!==!1&&(v.value=!0))}function E(){g.value=!1,v.value=!1}function $(A){A.stopPropagation()}function I(A){if(!S.value){b.value&&(b.value.checked=a.value);return}e.readonly&&r&&_t(()=>r.forceUpdate()),a.value=A.target.checked}return X(()=>{const A=i.label?i.label({label:e.label,props:{for:w.value}}):e.label,[M,L]=Tc(n),O=_("input",K({ref:b,checked:a.value,disabled:!!e.disabled,id:w.value,onBlur:E,onFocus:x,onInput:I,"aria-disabled":!!e.disabled,"aria-label":e.label,type:e.type,value:m.value,name:e.name,"aria-checked":e.type==="checkbox"?a.value:void 0},L),null);return _("div",K({class:["v-selection-control",{"v-selection-control--dirty":a.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":g.value,"v-selection-control--focus-visible":v.value,"v-selection-control--inline":e.inline},s.value,e.class]},M,{style:e.style}),[_("div",{class:["v-selection-control__wrapper",l.value],style:c.value},[i.default?.({backgroundColorClasses:h,backgroundColorStyles:p}),ln(_("div",{class:["v-selection-control__input"]},[i.input?.({model:a,textColorClasses:l,textColorStyles:c,backgroundColorClasses:h,backgroundColorStyles:p,inputNode:O,icon:o.value,props:{onFocus:x,onBlur:E,id:w.value}})??_(Be,null,[o.value&&_(bt,{key:"icon",icon:o.value},null),O])]),[[_s("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),A&&_(Ym,{for:w.value,onClick:$},{default:()=>[A]})])}),{isFocused:g,input:b}}}),xz=z({indeterminate:Boolean,indeterminateIcon:{type:Oe,default:"$checkboxIndeterminate"},...g2({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),Al=Z()({name:"VCheckboxBtn",props:xz(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{slots:n}=t;const i=Pe(e,"indeterminate"),r=Pe(e,"modelValue");function s(l){i.value&&(i.value=!1)}const o=T(()=>i.value?e.indeterminateIcon:e.falseIcon),a=T(()=>i.value?e.indeterminateIcon:e.trueIcon);return X(()=>{const l=Ln(cc.filterProps(e),["modelValue"]);return _(cc,K(l,{modelValue:r.value,"onUpdate:modelValue":[c=>r.value=c,s],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:o.value,trueIcon:a.value,"aria-checked":i.value?"mixed":void 0}),n)}),{}}});function $z(e){const{t}=Sn();function n(i){let{name:r}=i;const s={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[r],o=e[`onClick:${r}`];function a(c){c.key!=="Enter"&&c.key!==" "||(c.preventDefault(),c.stopPropagation(),o2(o,new PointerEvent("click",c)))}const l=o&&s?t(`$vuetify.input.${s}`,e.label??""):void 0;return _(bt,{icon:e[`${r}Icon`],"aria-label":l,onClick:o,onKeydown:a},null)}return{InputIcon:n}}const xre=z({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...xe(),...Yo({transition:{component:cP,leaveAbsolute:!0,group:!0}})},"VMessages"),Tz=Z()({name:"VMessages",props:xre(),setup(e,t){let{slots:n}=t;const i=T(()=>sn(e.messages)),{textColorClasses:r,textColorStyles:s}=Ri(T(()=>e.color));return X(()=>_(er,{transition:e.transition,tag:"div",class:["v-messages",r.value,e.class],style:[s.value,e.style]},{default:()=>[e.active&&i.value.map((o,a)=>_("div",{class:"v-messages__message",key:`${a}-${i.value}`},[n.message?n.message({message:o}):o]))]})),{}}}),U0=z({focused:Boolean,"onUpdate:focused":xi()},"focus");function zl(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:La();const n=Pe(e,"focused"),i=T(()=>({[`${t}--focused`]:n.value}));function r(){n.value=!0}function s(){n.value=!1}return{focusClasses:i,isFocused:n,focus:r,blur:s}}const Ez=Symbol.for("vuetify:form"),$re=z({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function Tre(e){const t=Pe(e,"modelValue"),n=T(()=>e.disabled),i=T(()=>e.readonly),r=ce(!1),s=ae([]),o=ae([]);async function a(){const h=[];let p=!0;o.value=[],r.value=!0;for(const m of s.value){const y=await m.validate();if(y.length>0&&(p=!1,h.push({id:m.id,errorMessages:y})),!p&&e.fastFail)break}return o.value=h,r.value=!1,{valid:p,errors:o.value}}function l(){s.value.forEach(h=>h.reset())}function c(){s.value.forEach(h=>h.resetValidation())}return be(s,()=>{let h=0,p=0;const m=[];for(const y of s.value)y.isValid===!1?(p++,m.push({id:y.id,errorMessages:y.errorMessages})):y.isValid===!0&&h++;o.value=m,t.value=p>0?!1:h===s.value.length?!0:null},{deep:!0,flush:"post"}),Yt(Ez,{register:h=>{let{id:p,vm:m,validate:y,reset:g,resetValidation:v}=h;s.value.some(b=>b.id===p),s.value.push({id:p,validate:y,reset:g,resetValidation:v,vm:fte(m),isValid:null,errorMessages:[]})},unregister:h=>{s.value=s.value.filter(p=>p.id!==h)},update:(h,p,m)=>{const y=s.value.find(g=>g.id===h);y&&(y.isValid=p,y.errorMessages=m)},isDisabled:n,isReadonly:i,isValidating:r,isValid:t,items:s,validateOn:q(e,"validateOn")}),{errors:o,isDisabled:n,isReadonly:i,isValidating:r,isValid:t,items:s,validate:a,reset:l,resetValidation:c}}function v2(e){const t=ft(Ez,null);return{...t,isReadonly:T(()=>!!(e?.readonly??t?.isReadonly.value)),isDisabled:T(()=>!!(e?.disabled??t?.isDisabled.value))}}const Iz=z({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...U0()},"validation");function Cz(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:La(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ti();const i=Pe(e,"modelValue"),r=T(()=>e.validationValue===void 0?i.value:e.validationValue),s=v2(e),o=ae([]),a=ce(!0),l=T(()=>!!(sn(i.value===""?null:i.value).length||sn(r.value===""?null:r.value).length)),c=T(()=>e.errorMessages?.length?sn(e.errorMessages).concat(o.value).slice(0,Math.max(0,Number(e.maxErrors))):o.value),h=T(()=>{let x=(e.validateOn??s.validateOn?.value)||"input";x==="lazy"&&(x="input lazy"),x==="eager"&&(x="input eager");const E=new Set(x?.split(" ")??[]);return{input:E.has("input"),blur:E.has("blur")||E.has("input")||E.has("invalid-input"),invalidInput:E.has("invalid-input"),lazy:E.has("lazy"),eager:E.has("eager")}}),p=T(()=>e.error||e.errorMessages?.length?!1:e.rules.length?a.value?o.value.length||h.value.lazy?null:!0:!o.value.length:!0),m=ce(!1),y=T(()=>({[`${t}--error`]:p.value===!1,[`${t}--dirty`]:l.value,[`${t}--disabled`]:s.isDisabled.value,[`${t}--readonly`]:s.isReadonly.value})),g=yn("validation"),v=T(()=>e.name??br(n));R0(()=>{s.register?.({id:v.value,vm:g,validate:S,reset:b,resetValidation:w})}),Di(()=>{s.unregister?.(v.value)}),Ir(async()=>{h.value.lazy||await S(!h.value.eager),s.update?.(v.value,p.value,c.value)}),Sr(()=>h.value.input||h.value.invalidInput&&p.value===!1,()=>{be(r,()=>{if(r.value!=null)S();else if(e.focused){const x=be(()=>e.focused,E=>{E||S(),x()})}})}),Sr(()=>h.value.blur,()=>{be(()=>e.focused,x=>{x||S()})}),be([p,c],()=>{s.update?.(v.value,p.value,c.value)});async function b(){i.value=null,await _t(),await w()}async function w(){a.value=!0,h.value.lazy?o.value=[]:await S(!h.value.eager)}async function S(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const E=[];m.value=!0;for(const $ of e.rules){if(E.length>=Number(e.maxErrors??1))break;const A=await(typeof $=="function"?$:()=>$)(r.value);if(A!==!0){if(A!==!1&&typeof A!="string"){console.warn(`${A} is not a valid value. Rule functions must return boolean true or a string.`);continue}E.push(A||"")}}return o.value=E,m.value=!1,a.value=x,o.value}return{errorMessages:c,isDirty:l,isDisabled:s.isDisabled,isReadonly:s.isReadonly,isPristine:a,isValid:p,isValidating:m,reset:b,resetValidation:w,validate:S,validationClasses:y}}const Bl=z({id:String,appendIcon:Oe,centerAffix:{type:Boolean,default:!0},prependIcon:Oe,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":xi(),"onClick:append":xi(),...xe(),...ci(),...Vl(Vn(),["maxWidth","minWidth","width"]),...ct(),...Iz()},"VInput"),Ni=Z()({name:"VInput",props:{...Bl()},emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:i,emit:r}=t;const{densityClasses:s}=lr(e),{dimensionStyles:o}=Fn(e),{themeClasses:a}=xt(e),{rtlClasses:l}=Xn(),{InputIcon:c}=$z(e),h=Ti(),p=T(()=>e.id||`input-${h}`),m=T(()=>`${p.value}-messages`),{errorMessages:y,isDirty:g,isDisabled:v,isReadonly:b,isPristine:w,isValid:S,isValidating:x,reset:E,resetValidation:$,validate:I,validationClasses:A}=Cz(e,"v-input",p),M=T(()=>({id:p,messagesId:m,isDirty:g,isDisabled:v,isReadonly:b,isPristine:w,isValid:S,isValidating:x,reset:E,resetValidation:$,validate:I})),L=T(()=>e.errorMessages?.length||!w.value&&y.value.length?y.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages);return X(()=>{const O=!!(i.prepend||e.prependIcon),P=!!(i.append||e.appendIcon),R=L.value.length>0,V=!e.hideDetails||e.hideDetails==="auto"&&(R||!!i.details);return _("div",{class:["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix,"v-input--hide-spin-buttons":e.hideSpinButtons},s.value,a.value,l.value,A.value,e.class],style:[o.value,e.style]},[O&&_("div",{key:"prepend",class:"v-input__prepend"},[i.prepend?.(M.value),e.prependIcon&&_(c,{key:"prepend-icon",name:"prepend"},null)]),i.default&&_("div",{class:"v-input__control"},[i.default?.(M.value)]),P&&_("div",{key:"append",class:"v-input__append"},[e.appendIcon&&_(c,{key:"append-icon",name:"append"},null),i.append?.(M.value)]),V&&_("div",{id:m.value,class:"v-input__details",role:"alert","aria-live":"polite"},[_(Tz,{active:R,messages:L.value},{message:i.message}),i.details?.(M.value)])])}),{reset:E,resetValidation:$,validate:I,isValid:S,errorMessages:y}}}),Ere=z({...Bl(),...Ln(xz(),["inline"])},"VCheckbox"),Ire=Z()({name:"VCheckbox",inheritAttrs:!1,props:Ere(),emits:{"update:modelValue":e=>!0,"update:focused":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const r=Pe(e,"modelValue"),{isFocused:s,focus:o,blur:a}=zl(e),l=Ti(),c=T(()=>e.id||`checkbox-${l}`);return X(()=>{const[h,p]=Tc(n),m=Ni.filterProps(e),y=Al.filterProps(e);return _(Ni,K({class:["v-checkbox",e.class]},h,m,{modelValue:r.value,"onUpdate:modelValue":g=>r.value=g,id:c.value,focused:s.value,style:e.style}),{...i,default:g=>{let{id:v,messagesId:b,isDisabled:w,isReadonly:S,isValid:x}=g;return _(Al,K(y,{id:v.value,"aria-describedby":b.value,disabled:w.value,readonly:S.value},p,{error:x.value===!1,modelValue:r.value,"onUpdate:modelValue":E=>r.value=E,onFocus:o,onBlur:a}),i)}})}),{}}});function Cre(e){let{selectedElement:t,containerElement:n,isRtl:i,isHorizontal:r}=e;const s=Yv(r,n),o=Mz(r,i,n),a=Yv(r,t),l=kz(r,t),c=a*.4;return o>l?l-c:o+s<l+a?l-s+a+c:o}function Mre(e){let{selectedElement:t,containerElement:n,isHorizontal:i}=e;const r=Yv(i,n),s=kz(i,t),o=Yv(i,t);return s-r/2+o/2}function YR(e,t){return t?.[e?"scrollWidth":"scrollHeight"]||0}function kre(e,t){return t?.[e?"clientWidth":"clientHeight"]||0}function Mz(e,t,n){if(!n)return 0;const{scrollLeft:i,offsetWidth:r,scrollWidth:s}=n;return e?t?s-r+i:i:n.scrollTop}function Yv(e,t){return t?.[e?"offsetWidth":"offsetHeight"]||0}function kz(e,t){return t?.[e?"offsetLeft":"offsetTop"]||0}const Az=Symbol.for("vuetify:v-slide-group"),mP=z({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:Az},nextIcon:{type:Oe,default:"$next"},prevIcon:{type:Oe,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...xe(),...qh({mobile:null}),...Je(),...Kh({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),Jv=Z()({name:"VSlideGroup",props:mP(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isRtl:i}=Xn(),{displayClasses:r,mobile:s}=Qs(e),o=Ic(e,e.symbol),a=ce(!1),l=ce(0),c=ce(0),h=ce(0),p=T(()=>e.direction==="horizontal"),{resizeRef:m,contentRect:y}=Go(),{resizeRef:g,contentRect:v}=Go(),b=fie(),w=T(()=>({container:m.el,duration:200,easing:"easeOutQuart"})),S=T(()=>o.selected.value.length?o.items.value.findIndex(W=>W.id===o.selected.value[0]):-1),x=T(()=>o.selected.value.length?o.items.value.findIndex(W=>W.id===o.selected.value[o.selected.value.length-1]):-1);if(gt){let W=-1;be(()=>[o.selected.value,y.value,v.value,p.value],()=>{cancelAnimationFrame(W),W=requestAnimationFrame(()=>{if(y.value&&v.value){const ue=p.value?"width":"height";c.value=y.value[ue],h.value=v.value[ue],a.value=c.value+1<h.value}if(S.value>=0&&g.el){const ue=g.el.children[x.value];$(ue,e.centerActive)}})})}const E=ce(!1);function $(W,ue){let $e=0;ue?$e=Mre({containerElement:m.el,isHorizontal:p.value,selectedElement:W}):$e=Cre({containerElement:m.el,isHorizontal:p.value,isRtl:i.value,selectedElement:W}),I($e)}function I(W){if(!gt||!m.el)return;const ue=Yv(p.value,m.el),$e=Mz(p.value,i.value,m.el);if(!(YR(p.value,m.el)<=ue||Math.abs(W-$e)<16)){if(p.value&&i.value&&m.el){const{scrollWidth:Ne,offsetWidth:ve}=m.el;W=Ne-ve-W}p.value?b.horizontal(W,w.value):b(W,w.value)}}function A(W){const{scrollTop:ue,scrollLeft:$e}=W.target;l.value=p.value?$e:ue}function M(W){if(E.value=!0,!(!a.value||!g.el)){for(const ue of W.composedPath())for(const $e of g.el.children)if($e===ue){$($e);return}}}function L(W){E.value=!1}let O=!1;function P(W){!O&&!E.value&&!(W.relatedTarget&&g.el?.contains(W.relatedTarget))&&ee(),O=!1}function R(){O=!0}function V(W){if(!g.el)return;function ue($e){W.preventDefault(),ee($e)}p.value?W.key==="ArrowRight"?ue(i.value?"prev":"next"):W.key==="ArrowLeft"&&ue(i.value?"next":"prev"):W.key==="ArrowDown"?ue("next"):W.key==="ArrowUp"&&ue("prev"),W.key==="Home"?ue("first"):W.key==="End"&&ue("last")}function U(W,ue){if(!W)return;let $e=W;do $e=$e?.[ue==="next"?"nextElementSibling":"previousElementSibling"];while($e?.hasAttribute("disabled"));return $e}function ee(W){if(!g.el)return;let ue;if(!W)ue=Bv(g.el)[0];else if(W==="next"){if(ue=U(g.el.querySelector(":focus"),W),!ue)return ee("first")}else if(W==="prev"){if(ue=U(g.el.querySelector(":focus"),W),!ue)return ee("last")}else W==="first"?(ue=g.el.firstElementChild,ue?.hasAttribute("disabled")&&(ue=U(ue,"next"))):W==="last"&&(ue=g.el.lastElementChild,ue?.hasAttribute("disabled")&&(ue=U(ue,"prev")));ue&&ue.focus({preventScroll:!0})}function se(W){const ue=p.value&&i.value?-1:1,$e=(W==="prev"?-ue:ue)*c.value;let Te=l.value+$e;if(p.value&&i.value&&m.el){const{scrollWidth:Ne,offsetWidth:ve}=m.el;Te+=Ne-ve}I(Te)}const Se=T(()=>({next:o.next,prev:o.prev,select:o.select,isSelected:o.isSelected})),oe=T(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!s.value;case!0:return a.value||Math.abs(l.value)>0;case"mobile":return s.value||a.value||Math.abs(l.value)>0;default:return!s.value&&(a.value||Math.abs(l.value)>0)}}),ie=T(()=>Math.abs(l.value)>1),Q=T(()=>{if(!m.value)return!1;const W=YR(p.value,m.el),ue=kre(p.value,m.el);return W-ue-Math.abs(l.value)>1});return X(()=>_(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!p.value,"v-slide-group--has-affixes":oe.value,"v-slide-group--is-overflowing":a.value},r.value,e.class],style:e.style,tabindex:E.value||o.selected.value.length?-1:0,onFocus:P},{default:()=>[oe.value&&_("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!ie.value}],onMousedown:R,onClick:()=>ie.value&&se("prev")},[n.prev?.(Se.value)??_(qv,null,{default:()=>[_(bt,{icon:i.value?e.nextIcon:e.prevIcon},null)]})]),_("div",{key:"container",ref:m,class:"v-slide-group__container",onScroll:A},[_("div",{ref:g,class:"v-slide-group__content",onFocusin:M,onFocusout:L,onKeydown:V},[n.default?.(Se.value)])]),oe.value&&_("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!Q.value}],onMousedown:R,onClick:()=>Q.value&&se("next")},[n.next?.(Se.value)??_(qv,null,{default:()=>[_(bt,{icon:i.value?e.prevIcon:e.nextIcon},null)]})])]})),{selected:o.selected,scrollTo:se,scrollOffset:l,focus:ee,hasPrev:ie,hasNext:Q}}}),Pz=Symbol.for("vuetify:v-chip-group"),Are=z({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:nr},...mP(),...xe(),...Kh({selectedClass:"v-chip--selected"}),...Je(),...ct(),...eo({variant:"tonal"})},"VChipGroup"),Pre=Z()({name:"VChipGroup",props:Are(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:i}=xt(e),{isSelected:r,select:s,next:o,prev:a,selected:l}=Ic(e,Pz);return mn({VChip:{color:q(e,"color"),disabled:q(e,"disabled"),filter:q(e,"filter"),variant:q(e,"variant")}}),X(()=>{const c=Jv.filterProps(e);return _(Jv,K(c,{class:["v-chip-group",{"v-chip-group--column":e.column},i.value,e.class],style:e.style}),{default:()=>[n.default?.({isSelected:r,select:s,next:o,prev:a,selected:l.value})]})}),{}}}),Lre=z({activeClass:String,appendAvatar:String,appendIcon:Oe,closable:Boolean,closeIcon:{type:Oe,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:Oe,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:Oe,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},modelValue:{type:Boolean,default:!0},onClick:xi(),onClickOnce:xi(),...Yr(),...xe(),...ci(),...Qn(),...Xh(),...Jt(),...B0(),...Ra(),...Je({tag:"span"}),...ct(),...eo({variant:"tonal"})},"VChip"),Jm=Z()({name:"VChip",directives:{Ripple:jl},props:Lre(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const{t:s}=Sn(),{borderClasses:o}=$s(e),{colorClasses:a,colorStyles:l,variantClasses:c}=Jh(e),{densityClasses:h}=lr(e),{elevationClasses:p}=Ei(e),{roundedClasses:m}=gn(e),{sizeClasses:y}=qm(e),{themeClasses:g}=xt(e),v=Pe(e,"modelValue"),b=Qh(e,Pz,!1),w=z0(e,n),S=T(()=>e.link!==!1&&w.isLink.value),x=T(()=>!e.disabled&&e.link!==!1&&(!!b||e.link||w.isClickable.value)),E=T(()=>({"aria-label":s(e.closeLabel),onClick(A){A.preventDefault(),A.stopPropagation(),v.value=!1,i("click:close",A)}}));function $(A){i("click",A),x.value&&(w.navigate?.(A),b?.toggle())}function I(A){(A.key==="Enter"||A.key===" ")&&(A.preventDefault(),$(A))}return()=>{const A=w.isLink.value?"a":e.tag,M=!!(e.appendIcon||e.appendAvatar),L=!!(M||r.append),O=!!(r.close||e.closable),P=!!(r.filter||e.filter)&&b,R=!!(e.prependIcon||e.prependAvatar),V=!!(R||r.prepend),U=!b||b.isSelected.value;return v.value&&ln(_(A,K({class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":x.value,"v-chip--filter":P,"v-chip--pill":e.pill,[`${e.activeClass}`]:e.activeClass&&w.isActive?.value},g.value,o.value,U?a.value:void 0,h.value,p.value,m.value,y.value,c.value,b?.selectedClass.value,e.class],style:[U?l.value:void 0,e.style],disabled:e.disabled||void 0,draggable:e.draggable,tabindex:x.value?0:void 0,onClick:$,onKeydown:x.value&&!S.value&&I},w.linkProps),{default:()=>[Ec(x.value,"v-chip"),P&&_(dP,{key:"filter"},{default:()=>[ln(_("div",{class:"v-chip__filter"},[r.filter?_(st,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},r.filter):_(bt,{key:"filter-icon",icon:e.filterIcon},null)]),[[Zo,b.isSelected.value]])]}),V&&_("div",{key:"prepend",class:"v-chip__prepend"},[r.prepend?_(st,{key:"prepend-defaults",disabled:!R,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},r.prepend):_(Be,null,[e.prependIcon&&_(bt,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&_(Ys,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),_("div",{class:"v-chip__content","data-no-activator":""},[r.default?.({isSelected:b?.isSelected.value,selectedClass:b?.selectedClass.value,select:b?.select,toggle:b?.toggle,value:b?.value.value,disabled:e.disabled})??xa(e.text)]),L&&_("div",{key:"append",class:"v-chip__append"},[r.append?_(st,{key:"append-defaults",disabled:!M,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},r.append):_(Be,null,[e.appendIcon&&_(bt,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&_(Ys,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),O&&_("button",K({key:"close",class:"v-chip__close",type:"button","data-testid":"close-chip"},E.value),[r.close?_(st,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},r.close):_(bt,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}),[[_s("ripple"),x.value&&e.ripple,null]])}}}),IE=Symbol.for("vuetify:list");function Lz(){const e=ft(IE,{hasPrepend:ce(!1),updateHasPrepend:()=>null}),t={hasPrepend:ce(!1),updateHasPrepend:n=>{n&&(t.hasPrepend.value=n)}};return Yt(IE,t),e}function Oz(){return ft(IE,null)}const yP=e=>{const t={activate:n=>{let{id:i,value:r,activated:s}=n;return i=An(i),e&&!r&&s.size===1&&s.has(i)||(r?s.add(i):s.delete(i)),s},in:(n,i,r)=>{let s=new Set;if(n!=null)for(const o of sn(n))s=t.activate({id:o,value:!0,activated:new Set(s),children:i,parents:r});return s},out:n=>Array.from(n)};return t},Rz=e=>{const t=yP(e);return{activate:i=>{let{activated:r,id:s,...o}=i;s=An(s);const a=r.has(s)?new Set([s]):new Set;return t.activate({...o,id:s,activated:a})},in:(i,r,s)=>{let o=new Set;if(i!=null){const a=sn(i);a.length&&(o=t.in(a.slice(0,1),r,s))}return o},out:(i,r,s)=>t.out(i,r,s)}},Ore=e=>{const t=yP(e);return{activate:i=>{let{id:r,activated:s,children:o,...a}=i;return r=An(r),o.has(r)?s:t.activate({id:r,activated:s,children:o,...a})},in:t.in,out:t.out}},Rre=e=>{const t=Rz(e);return{activate:i=>{let{id:r,activated:s,children:o,...a}=i;return r=An(r),o.has(r)?s:t.activate({id:r,activated:s,children:o,...a})},in:t.in,out:t.out}},Nre={open:e=>{let{id:t,value:n,opened:i,parents:r}=e;if(n){const s=new Set;s.add(t);let o=r.get(t);for(;o!=null;)s.add(o),o=r.get(o);return s}else return i.delete(t),i},select:()=>null},Nz={open:e=>{let{id:t,value:n,opened:i,parents:r}=e;if(n){let s=r.get(t);for(i.add(t);s!=null&&s!==t;)i.add(s),s=r.get(s);return i}else i.delete(t);return i},select:()=>null},Dre={open:Nz.open,select:e=>{let{id:t,value:n,opened:i,parents:r}=e;if(!n)return i;const s=[];let o=r.get(t);for(;o!=null;)s.push(o),o=r.get(o);return new Set(s)}},gP=e=>{const t={select:n=>{let{id:i,value:r,selected:s}=n;if(i=An(i),e&&!r){const o=Array.from(s.entries()).reduce((a,l)=>{let[c,h]=l;return h==="on"&&a.push(c),a},[]);if(o.length===1&&o[0]===i)return s}return s.set(i,r?"on":"off"),s},in:(n,i,r)=>{const s=new Map;for(const o of n||[])t.select({id:o,value:!0,selected:s,children:i,parents:r});return s},out:n=>{const i=[];for(const[r,s]of n.entries())s==="on"&&i.push(r);return i}};return t},Dz=e=>{const t=gP(e);return{select:i=>{let{selected:r,id:s,...o}=i;s=An(s);const a=r.has(s)?new Map([[s,r.get(s)]]):new Map;return t.select({...o,id:s,selected:a})},in:(i,r,s)=>i?.length?t.in(i.slice(0,1),r,s):new Map,out:(i,r,s)=>t.out(i,r,s)}},Vre=e=>{const t=gP(e);return{select:i=>{let{id:r,selected:s,children:o,...a}=i;return r=An(r),o.has(r)?s:t.select({id:r,selected:s,children:o,...a})},in:t.in,out:t.out}},Fre=e=>{const t=Dz(e);return{select:i=>{let{id:r,selected:s,children:o,...a}=i;return r=An(r),o.has(r)?s:t.select({id:r,selected:s,children:o,...a})},in:t.in,out:t.out}},jre=e=>{const t={select:n=>{let{id:i,value:r,selected:s,children:o,parents:a}=n;i=An(i);const l=new Map(s),c=[i];for(;c.length;){const p=c.shift();s.set(An(p),r?"on":"off"),o.has(p)&&c.push(...o.get(p))}let h=An(a.get(i));for(;h;){const p=o.get(h),m=p.every(g=>s.get(An(g))==="on"),y=p.every(g=>!s.has(An(g))||s.get(An(g))==="off");s.set(h,m?"on":y?"off":"indeterminate"),h=An(a.get(h))}return e&&!r&&Array.from(s.entries()).reduce((m,y)=>{let[g,v]=y;return v==="on"&&m.push(g),m},[]).length===0?l:s},in:(n,i,r)=>{let s=new Map;for(const o of n||[])s=t.select({id:o,value:!0,selected:s,children:i,parents:r});return s},out:(n,i)=>{const r=[];for(const[s,o]of n.entries())o==="on"&&!i.has(s)&&r.push(s);return r}};return t},Kv=Symbol.for("vuetify:nested"),Vz={id:ce(),root:{register:()=>null,unregister:()=>null,parents:ae(new Map),children:ae(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:ae(!1),selectable:ae(!1),opened:ae(new Set),activated:ae(new Set),selected:ae(new Map),selectedValues:ae([]),getPath:()=>[]}},zre=z({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),Bre=e=>{let t=!1;const n=ae(new Map),i=ae(new Map),r=Pe(e,"opened",e.opened,g=>new Set(g),g=>[...g.values()]),s=T(()=>{if(typeof e.activeStrategy=="object")return e.activeStrategy;if(typeof e.activeStrategy=="function")return e.activeStrategy(e.mandatory);switch(e.activeStrategy){case"leaf":return Ore(e.mandatory);case"single-leaf":return Rre(e.mandatory);case"independent":return yP(e.mandatory);case"single-independent":default:return Rz(e.mandatory)}}),o=T(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;if(typeof e.selectStrategy=="function")return e.selectStrategy(e.mandatory);switch(e.selectStrategy){case"single-leaf":return Fre(e.mandatory);case"leaf":return Vre(e.mandatory);case"independent":return gP(e.mandatory);case"single-independent":return Dz(e.mandatory);case"classic":default:return jre(e.mandatory)}}),a=T(()=>{if(typeof e.openStrategy=="object")return e.openStrategy;switch(e.openStrategy){case"list":return Dre;case"single":return Nre;case"multiple":default:return Nz}}),l=Pe(e,"activated",e.activated,g=>s.value.in(g,n.value,i.value),g=>s.value.out(g,n.value,i.value)),c=Pe(e,"selected",e.selected,g=>o.value.in(g,n.value,i.value),g=>o.value.out(g,n.value,i.value));Di(()=>{t=!0});function h(g){const v=[];let b=g;for(;b!=null;)v.unshift(b),b=i.value.get(b);return v}const p=yn("nested"),m=new Set,y={id:ce(),root:{opened:r,activatable:q(e,"activatable"),selectable:q(e,"selectable"),activated:l,selected:c,selectedValues:T(()=>{const g=[];for(const[v,b]of c.value.entries())b==="on"&&g.push(v);return g}),register:(g,v,b)=>{if(m.has(g)){h(g).map(String).join(" -> "),h(v).concat(g).map(String).join(" -> ");return}else m.add(g);v&&g!==v&&i.value.set(g,v),b&&n.value.set(g,[]),v!=null&&n.value.set(v,[...n.value.get(v)||[],g])},unregister:g=>{if(t)return;m.delete(g),n.value.delete(g);const v=i.value.get(g);if(v){const b=n.value.get(v)??[];n.value.set(v,b.filter(w=>w!==g))}i.value.delete(g)},open:(g,v,b)=>{p.emit("click:open",{id:g,value:v,path:h(g),event:b});const w=a.value.open({id:g,value:v,opened:new Set(r.value),children:n.value,parents:i.value,event:b});w&&(r.value=w)},openOnSelect:(g,v,b)=>{const w=a.value.select({id:g,value:v,selected:new Map(c.value),opened:new Set(r.value),children:n.value,parents:i.value,event:b});w&&(r.value=w)},select:(g,v,b)=>{p.emit("click:select",{id:g,value:v,path:h(g),event:b});const w=o.value.select({id:g,value:v,selected:new Map(c.value),children:n.value,parents:i.value,event:b});w&&(c.value=w),y.root.openOnSelect(g,v,b)},activate:(g,v,b)=>{if(!e.activatable)return y.root.select(g,!0,b);p.emit("click:activate",{id:g,value:v,path:h(g),event:b});const w=s.value.activate({id:g,value:v,activated:new Set(l.value),children:n.value,parents:i.value,event:b});if(w.size!==l.value.size)l.value=w;else{for(const S of w)if(!l.value.has(S)){l.value=w;return}for(const S of l.value)if(!w.has(S)){l.value=w;return}}},children:n,parents:i,getPath:h}};return Yt(Kv,y),y.root},Fz=(e,t)=>{const n=ft(Kv,Vz),i=Symbol(Ti()),r=T(()=>e.value!==void 0?e.value:i),s={...n,id:r,open:(o,a)=>n.root.open(r.value,o,a),openOnSelect:(o,a)=>n.root.openOnSelect(r.value,o,a),isOpen:T(()=>n.root.opened.value.has(r.value)),parent:T(()=>n.root.parents.value.get(r.value)),activate:(o,a)=>n.root.activate(r.value,o,a),isActivated:T(()=>n.root.activated.value.has(An(r.value))),select:(o,a)=>n.root.select(r.value,o,a),isSelected:T(()=>n.root.selected.value.get(An(r.value))==="on"),isIndeterminate:T(()=>n.root.selected.value.get(An(r.value))==="indeterminate"),isLeaf:T(()=>!n.root.children.value.get(r.value)),isGroupActivator:n.isGroupActivator};return R0(()=>{!n.isGroupActivator&&n.root.register(r.value,n.id.value,t)}),Di(()=>{!n.isGroupActivator&&n.root.unregister(r.value)}),t&&Yt(Kv,s),s},Ure=()=>{const e=ft(Kv,Vz);Yt(Kv,{...e,isGroupActivator:!0})},Gre=Ss({name:"VListGroupActivator",setup(e,t){let{slots:n}=t;return Ure(),()=>n.default?.()}}),Hre=z({activeColor:String,baseColor:String,color:String,collapseIcon:{type:Oe,default:"$collapse"},expandIcon:{type:Oe,default:"$expand"},prependIcon:Oe,appendIcon:Oe,fluid:Boolean,subgroup:Boolean,title:String,value:null,...xe(),...Je()},"VListGroup"),CE=Z()({name:"VListGroup",props:Hre(),setup(e,t){let{slots:n}=t;const{isOpen:i,open:r,id:s}=Fz(q(e,"value"),!0),o=T(()=>`v-list-group--id-${String(s.value)}`),a=Oz(),{isBooted:l}=Yh();function c(y){y.stopPropagation(),r(!i.value,y)}const h=T(()=>({onClick:c,class:"v-list-group__header",id:o.value})),p=T(()=>i.value?e.collapseIcon:e.expandIcon),m=T(()=>({VListItem:{active:i.value,activeColor:e.activeColor,baseColor:e.baseColor,color:e.color,prependIcon:e.prependIcon||e.subgroup&&p.value,appendIcon:e.appendIcon||!e.subgroup&&p.value,title:e.title,value:e.value}}));return X(()=>_(e.tag,{class:["v-list-group",{"v-list-group--prepend":a?.hasPrepend.value,"v-list-group--fluid":e.fluid,"v-list-group--subgroup":e.subgroup,"v-list-group--open":i.value},e.class],style:e.style},{default:()=>[n.activator&&_(st,{defaults:m.value},{default:()=>[_(Gre,null,{default:()=>[n.activator({props:h.value,isOpen:i.value})]})]}),_(er,{transition:{component:h2},disabled:!l.value},{default:()=>[ln(_("div",{class:"v-list-group__items",role:"group","aria-labelledby":o.value},[n.default?.()]),[[Zo,i.value]])]})]})),{isOpen:i}}}),qre=z({opacity:[Number,String],...xe(),...Je()},"VListItemSubtitle"),jz=Z()({name:"VListItemSubtitle",props:qre(),setup(e,t){let{slots:n}=t;return X(()=>_(e.tag,{class:["v-list-item-subtitle",e.class],style:[{"--v-list-item-subtitle-opacity":e.opacity},e.style]},n)),{}}}),zz=Oa("v-list-item-title"),Wre=z({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:Oe,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:Oe,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},value:null,onClick:xi(),onClickOnce:xi(),...Yr(),...xe(),...ci(),...Vn(),...Qn(),...Jt(),...B0(),...Je(),...ct(),...eo({variant:"text"})},"VListItem"),Pl=Z()({name:"VListItem",directives:{Ripple:jl},props:Wre(),emits:{click:e=>!0},setup(e,t){let{attrs:n,slots:i,emit:r}=t;const s=z0(e,n),o=T(()=>e.value===void 0?s.href.value:e.value),{activate:a,isActivated:l,select:c,isOpen:h,isSelected:p,isIndeterminate:m,isGroupActivator:y,root:g,parent:v,openOnSelect:b,id:w}=Fz(o,!1),S=Oz(),x=T(()=>e.active!==!1&&(e.active||s.isActive?.value||(g.activatable.value?l.value:p.value))),E=T(()=>e.link!==!1&&s.isLink.value),$=T(()=>!!S&&(g.selectable.value||g.activatable.value||e.value!=null)),I=T(()=>!e.disabled&&e.link!==!1&&(e.link||s.isClickable.value||$.value)),A=T(()=>e.rounded||e.nav),M=T(()=>e.color??e.activeColor),L=T(()=>({color:x.value?M.value??e.baseColor:e.baseColor,variant:e.variant}));be(()=>s.isActive?.value,Te=>{Te&&O()}),R0(()=>{s.isActive?.value&&O()});function O(){v.value!=null&&g.open(v.value,!0),b(!0)}const{themeClasses:P}=xt(e),{borderClasses:R}=$s(e),{colorClasses:V,colorStyles:U,variantClasses:ee}=Jh(L),{densityClasses:se}=lr(e),{dimensionStyles:Se}=Fn(e),{elevationClasses:oe}=Ei(e),{roundedClasses:ie}=gn(A),Q=T(()=>e.lines?`v-list-item--${e.lines}-line`:void 0),W=T(()=>({isActive:x.value,select:c,isOpen:h.value,isSelected:p.value,isIndeterminate:m.value}));function ue(Te){r("click",Te),I.value&&(s.navigate?.(Te),!y&&(g.activatable.value?a(!l.value,Te):(g.selectable.value||e.value!=null)&&c(!p.value,Te)))}function $e(Te){const Ne=Te.target;["INPUT","TEXTAREA"].includes(Ne.tagName)||(Te.key==="Enter"||Te.key===" ")&&(Te.preventDefault(),Te.target.dispatchEvent(new MouseEvent("click",Te)))}return X(()=>{const Te=E.value?"a":e.tag,Ne=i.title||e.title!=null,ve=i.subtitle||e.subtitle!=null,fe=!!(e.appendAvatar||e.appendIcon),ze=!!(fe||i.append),Ht=!!(e.prependAvatar||e.prependIcon),yt=!!(Ht||i.prepend);return S?.updateHasPrepend(yt),e.activeColor&&Wte("active-color",["color","base-color"]),ln(_(Te,K({class:["v-list-item",{"v-list-item--active":x.value,"v-list-item--disabled":e.disabled,"v-list-item--link":I.value,"v-list-item--nav":e.nav,"v-list-item--prepend":!yt&&S?.hasPrepend.value,"v-list-item--slim":e.slim,[`${e.activeClass}`]:e.activeClass&&x.value},P.value,R.value,V.value,se.value,oe.value,Q.value,ie.value,ee.value,e.class],style:[U.value,Se.value,e.style],tabindex:I.value?S?-2:0:void 0,"aria-selected":$.value?g.activatable.value?l.value:g.selectable.value?p.value:x.value:void 0,onClick:ue,onKeydown:I.value&&!E.value&&$e},s.linkProps),{default:()=>[Ec(I.value||x.value,"v-list-item"),yt&&_("div",{key:"prepend",class:"v-list-item__prepend"},[i.prepend?_(st,{key:"prepend-defaults",disabled:!Ht,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon},VListItemAction:{start:!0}}},{default:()=>[i.prepend?.(W.value)]}):_(Be,null,[e.prependAvatar&&_(Ys,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&_(bt,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)]),_("div",{class:"v-list-item__spacer"},null)]),_("div",{class:"v-list-item__content","data-no-activator":""},[Ne&&_(zz,{key:"title"},{default:()=>[i.title?.({title:e.title})??xa(e.title)]}),ve&&_(jz,{key:"subtitle"},{default:()=>[i.subtitle?.({subtitle:e.subtitle})??xa(e.subtitle)]}),i.default?.(W.value)]),ze&&_("div",{key:"append",class:"v-list-item__append"},[i.append?_(st,{key:"append-defaults",disabled:!fe,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon},VListItemAction:{end:!0}}},{default:()=>[i.append?.(W.value)]}):_(Be,null,[e.appendIcon&&_(bt,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&_(Ys,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)]),_("div",{class:"v-list-item__spacer"},null)])]}),[[_s("ripple"),I.value&&e.ripple]])}),{activate:a,isActivated:l,isGroupActivator:y,isSelected:p,list:S,select:c,root:g,id:w,link:s}}}),Zre=z({color:String,inset:Boolean,sticky:Boolean,title:String,...xe(),...Je()},"VListSubheader"),Bz=Z()({name:"VListSubheader",props:Zre(),setup(e,t){let{slots:n}=t;const{textColorClasses:i,textColorStyles:r}=Ri(q(e,"color"));return X(()=>{const s=!!(n.default||e.title);return _(e.tag,{class:["v-list-subheader",{"v-list-subheader--inset":e.inset,"v-list-subheader--sticky":e.sticky},i.value,e.class],style:[{textColorStyles:r},e.style]},{default:()=>[s&&_("div",{class:"v-list-subheader__text"},[n.default?.()??e.title])]})}),{}}}),Yre=z({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...xe(),...ct()},"VDivider"),G0=Z()({name:"VDivider",props:Yre(),setup(e,t){let{attrs:n,slots:i}=t;const{themeClasses:r}=xt(e),{textColorClasses:s,textColorStyles:o}=Ri(q(e,"color")),a=T(()=>{const l={};return e.length&&(l[e.vertical?"height":"width"]=_e(e.length)),e.thickness&&(l[e.vertical?"borderRightWidth":"borderTopWidth"]=_e(e.thickness)),l});return X(()=>{const l=_("hr",{class:[{"v-divider":!0,"v-divider--inset":e.inset,"v-divider--vertical":e.vertical},r.value,s.value,e.class],style:[a.value,o.value,{"--v-border-opacity":e.opacity},e.style],"aria-orientation":!n.role||n.role==="separator"?e.vertical?"vertical":"horizontal":void 0,role:`${n.role||"separator"}`},null);return i.default?_("div",{class:["v-divider__wrapper",{"v-divider__wrapper--vertical":e.vertical,"v-divider__wrapper--inset":e.inset}]},[l,_("div",{class:"v-divider__content"},[i.default()]),l]):l}),{}}}),Jre=z({items:Array,returnObject:Boolean},"VListChildren"),Uz=Z()({name:"VListChildren",props:Jre(),setup(e,t){let{slots:n}=t;return Lz(),()=>n.default?.()??e.items?.map(i=>{let{children:r,props:s,type:o,raw:a}=i;if(o==="divider")return n.divider?.({props:s})??_(G0,s,null);if(o==="subheader")return n.subheader?.({props:s})??_(Bz,s,null);const l={subtitle:n.subtitle?h=>n.subtitle?.({...h,item:a}):void 0,prepend:n.prepend?h=>n.prepend?.({...h,item:a}):void 0,append:n.append?h=>n.append?.({...h,item:a}):void 0,title:n.title?h=>n.title?.({...h,item:a}):void 0},c=CE.filterProps(s);return r?_(CE,K({value:s?.value},c),{activator:h=>{let{props:p}=h;const m={...s,...p,value:e.returnObject?a:s.value};return n.header?n.header({props:m}):_(Pl,m,l)},default:()=>_(Uz,{items:r,returnObject:e.returnObject},n)}):n.item?n.item({props:s}):_(Pl,K(s,{value:e.returnObject?a:s.value}),l)})}}),Gz=z({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:Function},"list-items");function Hu(e,t){const n=Wn(t,e.itemTitle,t),i=Wn(t,e.itemValue,n),r=Wn(t,e.itemChildren),s=e.itemProps===!0?typeof t=="object"&&t!=null&&!Array.isArray(t)?"children"in t?Ln(t,["children"]):t:void 0:Wn(t,e.itemProps),o={title:n,value:i,...s};return{title:String(o.title??""),value:o.value,props:o,children:Array.isArray(r)?Hz(e,r):void 0,raw:t}}function Hz(e,t){const n=Vl(e,["itemTitle","itemValue","itemChildren","itemProps","returnObject","valueComparator"]),i=[];for(const r of t)i.push(Hu(n,r));return i}function vP(e){const t=T(()=>Hz(e,e.items)),n=T(()=>t.value.some(a=>a.value===null)),i=ce(new Map),r=ce([]);wn(()=>{const a=t.value,l=new Map,c=[];for(let h=0;h<a.length;h++){const p=a[h];if(T8(p.value)||p.value===null){let m=l.get(p.value);m||(m=[],l.set(p.value,m)),m.push(p)}else c.push(p)}i.value=l,r.value=c});function s(a){const l=i.value,c=t.value,h=r.value,p=n.value,m=e.returnObject,y=!!e.valueComparator,g=e.valueComparator||nr,v=Vl(e,["itemTitle","itemValue","itemChildren","itemProps","returnObject","valueComparator"]),b=[];e:for(const w of a){if(!p&&w===null)continue;if(m&&typeof w=="string"){b.push(Hu(v,w));continue}const S=l.get(w);if(y||!S){for(const x of y?c:h)if(g(w,x.value)){b.push(x);continue e}b.push(Hu(v,w));continue}b.push(...S)}return b}function o(a){return e.returnObject?a.map(l=>{let{raw:c}=l;return c}):a.map(l=>{let{value:c}=l;return c})}return{items:t,transformIn:s,transformOut:o}}function Kre(e,t){const n=Wn(t,e.itemType,"item"),i=T8(t)?t:Wn(t,e.itemTitle),r=Wn(t,e.itemValue,void 0),s=Wn(t,e.itemChildren),o=e.itemProps===!0?Ln(t,["children"]):Wn(t,e.itemProps),a={title:i,value:r,...o};return{type:n,title:a.title,value:a.value,props:a,children:n==="item"&&s?qz(e,s):void 0,raw:t}}function qz(e,t){const n=[];for(const i of t)n.push(Kre(e,i));return n}function Xre(e){return{items:T(()=>qz(e,e.items))}}const Qre=z({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:Oe,collapseIcon:Oe,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":xi(),"onClick:select":xi(),"onUpdate:opened":xi(),...zre({selectStrategy:"single-leaf",openStrategy:"list"}),...Yr(),...xe(),...ci(),...Vn(),...Qn(),itemType:{type:String,default:"type"},...Gz(),...Jt(),...Je(),...ct(),...eo({variant:"text"})},"VList"),b2=Z()({name:"VList",props:Qre(),emits:{"update:selected":e=>!0,"update:activated":e=>!0,"update:opened":e=>!0,"click:open":e=>!0,"click:activate":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:n}=t;const{items:i}=Xre(e),{themeClasses:r}=xt(e),{backgroundColorClasses:s,backgroundColorStyles:o}=Dt(q(e,"bgColor")),{borderClasses:a}=$s(e),{densityClasses:l}=lr(e),{dimensionStyles:c}=Fn(e),{elevationClasses:h}=Ei(e),{roundedClasses:p}=gn(e),{children:m,open:y,parents:g,select:v,getPath:b}=Bre(e),w=T(()=>e.lines?`v-list--${e.lines}-line`:void 0),S=q(e,"activeColor"),x=q(e,"baseColor"),E=q(e,"color");Lz(),mn({VListGroup:{activeColor:S,baseColor:x,color:E,expandIcon:q(e,"expandIcon"),collapseIcon:q(e,"collapseIcon")},VListItem:{activeClass:q(e,"activeClass"),activeColor:S,baseColor:x,color:E,density:q(e,"density"),disabled:q(e,"disabled"),lines:q(e,"lines"),nav:q(e,"nav"),slim:q(e,"slim"),variant:q(e,"variant")}});const $=ce(!1),I=ae();function A(V){$.value=!0}function M(V){$.value=!1}function L(V){!$.value&&!(V.relatedTarget&&I.value?.contains(V.relatedTarget))&&R()}function O(V){const U=V.target;if(!(!I.value||["INPUT","TEXTAREA"].includes(U.tagName))){if(V.key==="ArrowDown")R("next");else if(V.key==="ArrowUp")R("prev");else if(V.key==="Home")R("first");else if(V.key==="End")R("last");else return;V.preventDefault()}}function P(V){$.value=!0}function R(V){if(I.value)return hh(I.value,V)}return X(()=>_(e.tag,{ref:I,class:["v-list",{"v-list--disabled":e.disabled,"v-list--nav":e.nav,"v-list--slim":e.slim},r.value,s.value,a.value,l.value,h.value,w.value,p.value,e.class],style:[o.value,c.value,e.style],tabindex:e.disabled?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:A,onFocusout:M,onFocus:L,onKeydown:O,onMousedown:P},{default:()=>[_(Uz,{items:i.value,returnObject:e.returnObject},n)]})),{open:y,select:v,focus:R,children:m,parents:g,getPath:b}}}),ese=Oa("v-list-img"),tse=z({start:Boolean,end:Boolean,...xe(),...Je()},"VListItemAction"),nse=Z()({name:"VListItemAction",props:tse(),setup(e,t){let{slots:n}=t;return X(()=>_(e.tag,{class:["v-list-item-action",{"v-list-item-action--start":e.start,"v-list-item-action--end":e.end},e.class],style:e.style},n)),{}}}),ise=z({start:Boolean,end:Boolean,...xe(),...Je()},"VListItemMedia"),rse=Z()({name:"VListItemMedia",props:ise(),setup(e,t){let{slots:n}=t;return X(()=>_(e.tag,{class:["v-list-item-media",{"v-list-item-media--start":e.start,"v-list-item-media--end":e.end},e.class],style:e.style},n)),{}}});function m$(e,t){return{x:e.x+t.x,y:e.y+t.y}}function sse(e,t){return{x:e.x-t.x,y:e.y-t.y}}function JR(e,t){if(e.side==="top"||e.side==="bottom"){const{side:n,align:i}=e,r=i==="left"?0:i==="center"?t.width/2:i==="right"?t.width:i,s=n==="top"?0:n==="bottom"?t.height:n;return m$({x:r,y:s},t)}else if(e.side==="left"||e.side==="right"){const{side:n,align:i}=e,r=n==="left"?0:n==="right"?t.width:n,s=i==="top"?0:i==="center"?t.height/2:i==="bottom"?t.height:i;return m$({x:r,y:s},t)}return m$({x:t.width/2,y:t.height/2},t)}const Wz={static:lse,connected:cse},ose=z({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in Wz},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function ase(e,t){const n=ae({}),i=ae();gt&&Sr(()=>!!(t.isActive.value&&e.locationStrategy),s=>{be(()=>e.locationStrategy,s),ar(()=>{window.removeEventListener("resize",r),i.value=void 0}),window.addEventListener("resize",r,{passive:!0}),typeof e.locationStrategy=="function"?i.value=e.locationStrategy(t,e,n)?.updateLocation:i.value=Wz[e.locationStrategy](t,e,n)?.updateLocation});function r(s){i.value?.(s)}return{contentStyles:n,updateLocation:i}}function lse(){}function use(e,t){const n=QA(e);return t?n.x+=parseFloat(e.style.right||0):n.x-=parseFloat(e.style.left||0),n.y-=parseFloat(e.style.top||0),n}function cse(e,t,n){(Array.isArray(e.target.value)||mne(e.target.value))&&Object.assign(n.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:r,preferredOrigin:s}=XA(()=>{const g=fE(t.location,e.isRtl.value),v=t.origin==="overlap"?g:t.origin==="auto"?c$(g):fE(t.origin,e.isRtl.value);return g.side===v.side&&g.align===d$(v).align?{preferredAnchor:bR(g),preferredOrigin:bR(v)}:{preferredAnchor:g,preferredOrigin:v}}),[o,a,l,c]=["minWidth","minHeight","maxWidth","maxHeight"].map(g=>T(()=>{const v=parseFloat(t[g]);return isNaN(v)?1/0:v})),h=T(()=>{if(Array.isArray(t.offset))return t.offset;if(typeof t.offset=="string"){const g=t.offset.split(" ").map(parseFloat);return g.length<2&&g.push(0),g}return typeof t.offset=="number"?[t.offset,0]:[0,0]});let p=!1;const m=new ResizeObserver(()=>{p&&y()});be([e.target,e.contentEl],(g,v)=>{let[b,w]=g,[S,x]=v;S&&!Array.isArray(S)&&m.unobserve(S),b&&!Array.isArray(b)&&m.observe(b),x&&m.unobserve(x),w&&m.observe(w)},{immediate:!0}),ar(()=>{m.disconnect()});function y(){if(p=!1,requestAnimationFrame(()=>p=!0),!e.target.value||!e.contentEl.value)return;const g=I8(e.target.value),v=use(e.contentEl.value,e.isRtl.value),b=C_(e.contentEl.value),w=12;b.length||(b.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(v.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),v.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const S=b.reduce((P,R)=>{const V=R.getBoundingClientRect(),U=new ph({x:R===document.documentElement?0:V.x,y:R===document.documentElement?0:V.y,width:R.clientWidth,height:R.clientHeight});return P?new ph({x:Math.max(P.left,U.left),y:Math.max(P.top,U.top),width:Math.min(P.right,U.right)-Math.max(P.left,U.left),height:Math.min(P.bottom,U.bottom)-Math.max(P.top,U.top)}):U},void 0);S.x+=w,S.y+=w,S.width-=w*2,S.height-=w*2;let x={anchor:r.value,origin:s.value};function E(P){const R=new ph(v),V=JR(P.anchor,g),U=JR(P.origin,R);let{x:ee,y:se}=sse(V,U);switch(P.anchor.side){case"top":se-=h.value[0];break;case"bottom":se+=h.value[0];break;case"left":ee-=h.value[0];break;case"right":ee+=h.value[0];break}switch(P.anchor.align){case"top":se-=h.value[1];break;case"bottom":se+=h.value[1];break;case"left":ee-=h.value[1];break;case"right":ee+=h.value[1];break}return R.x+=ee,R.y+=se,R.width=Math.min(R.width,l.value),R.height=Math.min(R.height,c.value),{overflows:_R(R,S),x:ee,y:se}}let $=0,I=0;const A={x:0,y:0},M={x:!1,y:!1};let L=-1;for(;!(L++>10);){const{x:P,y:R,overflows:V}=E(x);$+=P,I+=R,v.x+=P,v.y+=R;{const U=wR(x.anchor),ee=V.x.before||V.x.after,se=V.y.before||V.y.after;let Se=!1;if(["x","y"].forEach(oe=>{if(oe==="x"&&ee&&!M.x||oe==="y"&&se&&!M.y){const ie={anchor:{...x.anchor},origin:{...x.origin}},Q=oe==="x"?U==="y"?d$:c$:U==="y"?c$:d$;ie.anchor=Q(ie.anchor),ie.origin=Q(ie.origin);const{overflows:W}=E(ie);(W[oe].before<=V[oe].before&&W[oe].after<=V[oe].after||W[oe].before+W[oe].after<(V[oe].before+V[oe].after)/2)&&(x=ie,Se=M[oe]=!0)}}),Se)continue}V.x.before&&($+=V.x.before,v.x+=V.x.before),V.x.after&&($-=V.x.after,v.x-=V.x.after),V.y.before&&(I+=V.y.before,v.y+=V.y.before),V.y.after&&(I-=V.y.after,v.y-=V.y.after);{const U=_R(v,S);A.x=S.width-U.x.before-U.x.after,A.y=S.height-U.y.before-U.y.after,$+=U.x.before,v.x+=U.x.before,I+=U.y.before,v.y+=U.y.before}break}const O=wR(x.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${x.anchor.side} ${x.anchor.align}`,transformOrigin:`${x.origin.side} ${x.origin.align}`,top:_e(y$(I)),left:e.isRtl.value?void 0:_e(y$($)),right:e.isRtl.value?_e(y$(-$)):void 0,minWidth:_e(O==="y"?Math.min(o.value,g.width):o.value),maxWidth:_e(KR(Pn(A.x,o.value===1/0?0:o.value,l.value))),maxHeight:_e(KR(Pn(A.y,a.value===1/0?0:a.value,c.value)))}),{available:A,contentBox:v}}return be(()=>[r.value,s.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight],()=>y()),_t(()=>{const g=y();if(!g)return;const{available:v,contentBox:b}=g;b.height>v.y&&requestAnimationFrame(()=>{y(),requestAnimationFrame(()=>{y()})})}),{updateLocation:y}}function y$(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function KR(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let ME=!0;const A_=[];function dse(e){!ME||A_.length?(A_.push(e),kE()):(ME=!1,e(),kE())}let XR=-1;function kE(){cancelAnimationFrame(XR),XR=requestAnimationFrame(()=>{const e=A_.shift();e&&e(),A_.length?kE():ME=!0})}const Zz={none:null,close:fse,block:mse,reposition:yse},hse=z({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in Zz}},"VOverlay-scroll-strategies");function pse(e,t){if(!gt)return;let n;wn(async()=>{n?.stop(),t.isActive.value&&e.scrollStrategy&&(n=HA(),await new Promise(i=>setTimeout(i)),n.active&&n.run(()=>{typeof e.scrollStrategy=="function"?e.scrollStrategy(t,e,n):Zz[e.scrollStrategy]?.(t,e,n)}))}),ar(()=>{n?.stop()})}function fse(e){function t(n){e.isActive.value=!1}Yz(e.targetEl.value??e.contentEl.value,t)}function mse(e,t){const n=e.root.value?.offsetParent,i=[...new Set([...C_(e.targetEl.value,t.contained?n:void 0),...C_(e.contentEl.value,t.contained?n:void 0)])].filter(o=>!o.classList.contains("v-overlay-scroll-blocked")),r=window.innerWidth-document.documentElement.offsetWidth,s=(o=>rP(o)&&o)(n||document.documentElement);s&&e.root.value.classList.add("v-overlay--scroll-blocked"),i.forEach((o,a)=>{o.style.setProperty("--v-body-scroll-x",_e(-o.scrollLeft)),o.style.setProperty("--v-body-scroll-y",_e(-o.scrollTop)),o!==document.documentElement&&o.style.setProperty("--v-scrollbar-offset",_e(r)),o.classList.add("v-overlay-scroll-blocked")}),ar(()=>{i.forEach((o,a)=>{const l=parseFloat(o.style.getPropertyValue("--v-body-scroll-x")),c=parseFloat(o.style.getPropertyValue("--v-body-scroll-y")),h=o.style.scrollBehavior;o.style.scrollBehavior="auto",o.style.removeProperty("--v-body-scroll-x"),o.style.removeProperty("--v-body-scroll-y"),o.style.removeProperty("--v-scrollbar-offset"),o.classList.remove("v-overlay-scroll-blocked"),o.scrollLeft=-l,o.scrollTop=-c,o.style.scrollBehavior=h}),s&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function yse(e,t,n){let i=!1,r=-1,s=-1;function o(a){dse(()=>{const l=performance.now();e.updateLocation.value?.(a),i=(performance.now()-l)/(1e3/60)>2})}s=(typeof requestIdleCallback>"u"?a=>a():requestIdleCallback)(()=>{n.run(()=>{Yz(e.targetEl.value??e.contentEl.value,a=>{i?(cancelAnimationFrame(r),r=requestAnimationFrame(()=>{r=requestAnimationFrame(()=>{o(a)})})):o(a)})})}),ar(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(s),cancelAnimationFrame(r)})}function Yz(e,t){const n=[document,...C_(e)];n.forEach(i=>{i.addEventListener("scroll",t,{passive:!0})}),ar(()=>{n.forEach(i=>{i.removeEventListener("scroll",t)})})}const AE=Symbol.for("vuetify:v-menu"),bP=z({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function wP(e,t){let n=()=>{};function i(o){n?.();const a=Number(o?e.openDelay:e.closeDelay);return new Promise(l=>{n=Lte(a,()=>{t?.(o),l(o)})})}function r(){return i(!0)}function s(){return i(!1)}return{clearDelay:n,runOpenDelay:r,runCloseDelay:s}}const gse=z({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...bP()},"VOverlay-activator");function vse(e,t){let{isActive:n,isTop:i,contentEl:r}=t;const s=yn("useActivator"),o=ae();let a=!1,l=!1,c=!0;const h=T(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),p=T(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!h.value),{runOpenDelay:m,runCloseDelay:y}=wP(e,M=>{M===(e.openOnHover&&a||h.value&&l)&&!(e.openOnHover&&n.value&&!i.value)&&(n.value!==M&&(c=!0),n.value=M)}),g=ae(),v={onClick:M=>{M.stopPropagation(),o.value=M.currentTarget||M.target,n.value||(g.value=[M.clientX,M.clientY]),n.value=!n.value},onMouseenter:M=>{M.sourceCapabilities?.firesTouchEvents||(a=!0,o.value=M.currentTarget||M.target,m())},onMouseleave:M=>{a=!1,y()},onFocus:M=>{pm(M.target,":focus-visible")!==!1&&(l=!0,M.stopPropagation(),o.value=M.currentTarget||M.target,m())},onBlur:M=>{l=!1,M.stopPropagation(),y()}},b=T(()=>{const M={};return p.value&&(M.onClick=v.onClick),e.openOnHover&&(M.onMouseenter=v.onMouseenter,M.onMouseleave=v.onMouseleave),h.value&&(M.onFocus=v.onFocus,M.onBlur=v.onBlur),M}),w=T(()=>{const M={};if(e.openOnHover&&(M.onMouseenter=()=>{a=!0,m()},M.onMouseleave=()=>{a=!1,y()}),h.value&&(M.onFocusin=()=>{l=!0,m()},M.onFocusout=()=>{l=!1,y()}),e.closeOnContentClick){const L=ft(AE,null);M.onClick=()=>{n.value=!1,L?.closeParents()}}return M}),S=T(()=>{const M={};return e.openOnHover&&(M.onMouseenter=()=>{c&&(a=!0,c=!1,m())},M.onMouseleave=()=>{a=!1,y()}),M});be(i,M=>{M&&(e.openOnHover&&!a&&(!h.value||!l)||h.value&&!l&&(!e.openOnHover||!a))&&!r.value?.contains(document.activeElement)&&(n.value=!1)}),be(n,M=>{M||setTimeout(()=>{g.value=void 0})},{flush:"post"});const x=E_();wn(()=>{x.value&&_t(()=>{o.value=x.el})});const E=E_(),$=T(()=>e.target==="cursor"&&g.value?g.value:E.value?E.el:Jz(e.target,s)||o.value),I=T(()=>Array.isArray($.value)?void 0:$.value);let A;return be(()=>!!e.activator,M=>{M&&gt?(A=HA(),A.run(()=>{bse(e,s,{activatorEl:o,activatorEvents:b})})):A&&A.stop()},{flush:"post",immediate:!0}),ar(()=>{A?.stop()}),{activatorEl:o,activatorRef:x,target:$,targetEl:I,targetRef:E,activatorEvents:b,contentEvents:w,scrimEvents:S}}function bse(e,t,n){let{activatorEl:i,activatorEvents:r}=n;be(()=>e.activator,(l,c)=>{if(c&&l!==c){const h=a(c);h&&o(h)}l&&_t(()=>s())},{immediate:!0}),be(()=>e.activatorProps,()=>{s()}),ar(()=>{o()});function s(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a(),c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;l&&Nte(l,K(r.value,c))}function o(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a(),c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;l&&Dte(l,K(r.value,c))}function a(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator;const c=Jz(l,t);return i.value=c?.nodeType===Node.ELEMENT_NODE?c:void 0,i.value}}function Jz(e,t){if(!e)return;let n;if(e==="parent"){let i=t?.proxy?.$el?.parentNode;for(;i?.hasAttribute("data-no-activator");)i=i.parentNode;n=i}else typeof e=="string"?n=document.querySelector(e):"$el"in e?n=e.$el:n=e;return n}function Kz(){if(!gt)return ce(!1);const{ssr:e}=Qs();if(e){const t=ce(!1);return Ir(()=>{t.value=!0}),t}else return ce(!0)}const _P=z({eager:Boolean},"lazy");function SP(e,t){const n=ce(!1),i=T(()=>n.value||e.eager||t.value);be(t,()=>n.value=!0);function r(){e.eager||(n.value=!1)}return{isBooted:n,hasContent:i,onAfterLeave:r}}function tp(){const t=yn("useScopeId").vnode.scopeId;return{scopeId:t?{[t]:""}:void 0}}const QR=Symbol.for("vuetify:stack"),by=Br([]);function wse(e,t,n){const i=yn("useStack"),r=!n,s=ft(QR,void 0),o=Br({activeChildren:new Set});Yt(QR,o);const a=ce(Number(t.value));Sr(e,()=>{const h=by.at(-1)?.[1];a.value=h?h+10:Number(t.value),r&&by.push([i.uid,a.value]),s?.activeChildren.add(i.uid),ar(()=>{if(r){const p=An(by).findIndex(m=>m[0]===i.uid);by.splice(p,1)}s?.activeChildren.delete(i.uid)})});const l=ce(!0);r&&wn(()=>{const h=by.at(-1)?.[0]===i.uid;setTimeout(()=>l.value=h)});const c=T(()=>!o.activeChildren.size);return{globalTop:qA(l),localTop:c,stackStyles:T(()=>({zIndex:a.value}))}}function _se(e){return{teleportTarget:T(()=>{const n=e();if(n===!0||!gt)return;const i=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(i==null)return;let r=[...i.children].find(s=>s.matches(".v-overlay-container"));return r||(r=document.createElement("div"),r.className="v-overlay-container",i.appendChild(r)),r})}}function Sse(){return!0}function Xz(e,t,n){if(!e||Qz(e,n)===!1)return!1;const i=F8(t);if(typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&i.host===e.target)return!1;const r=(typeof n.value=="object"&&n.value.include||(()=>[]))();return r.push(t),!r.some(s=>s?.contains(e.target))}function Qz(e,t){return(typeof t.value=="object"&&t.value.closeConditional||Sse)(e)}function xse(e,t,n){const i=typeof n.value=="function"?n.value:n.value.handler;e.shadowTarget=e.target,t._clickOutside.lastMousedownWasOutside&&Xz(e,t,n)&&setTimeout(()=>{Qz(e,n)&&i&&i(e)},0)}function eN(e,t){const n=F8(e);t(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&t(n)}const eB={mounted(e,t){const n=r=>xse(r,e,t),i=r=>{e._clickOutside.lastMousedownWasOutside=Xz(r,e,t)};eN(e,r=>{r.addEventListener("click",n,!0),r.addEventListener("mousedown",i,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[t.instance.$.uid]={onClick:n,onMousedown:i}},beforeUnmount(e,t){e._clickOutside&&(eN(e,n=>{if(!n||!e._clickOutside?.[t.instance.$.uid])return;const{onClick:i,onMousedown:r}=e._clickOutside[t.instance.$.uid];n.removeEventListener("click",i,!0),n.removeEventListener("mousedown",r,!0)}),delete e._clickOutside[t.instance.$.uid])}};function $se(e){const{modelValue:t,color:n,...i}=e;return _(uc,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&_("div",K({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},i),null)]})}const H0=z({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...gse(),...xe(),...Vn(),..._P(),...ose(),...hse(),...ct(),...Yo()},"VOverlay"),$a=Z()({name:"VOverlay",directives:{ClickOutside:eB},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...H0()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,keydown:e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{slots:n,attrs:i,emit:r}=t;const s=yn("VOverlay"),o=ae(),a=ae(),l=ae(),c=Pe(e,"modelValue"),h=T({get:()=>c.value,set:fe=>{fe&&e.disabled||(c.value=fe)}}),{themeClasses:p}=xt(e),{rtlClasses:m,isRtl:y}=Xn(),{hasContent:g,onAfterLeave:v}=SP(e,h),b=Dt(T(()=>typeof e.scrim=="string"?e.scrim:null)),{globalTop:w,localTop:S,stackStyles:x}=wse(h,q(e,"zIndex"),e._disableGlobalStack),{activatorEl:E,activatorRef:$,target:I,targetEl:A,targetRef:M,activatorEvents:L,contentEvents:O,scrimEvents:P}=vse(e,{isActive:h,isTop:S,contentEl:l}),{teleportTarget:R}=_se(()=>{const fe=e.attach||e.contained;if(fe)return fe;const ze=E?.value?.getRootNode()||s.proxy?.$el?.getRootNode();return ze instanceof ShadowRoot?ze:!1}),{dimensionStyles:V}=Fn(e),U=Kz(),{scopeId:ee}=tp();be(()=>e.disabled,fe=>{fe&&(h.value=!1)});const{contentStyles:se,updateLocation:Se}=ase(e,{isRtl:y,contentEl:l,target:I,isActive:h});pse(e,{root:o,contentEl:l,targetEl:A,isActive:h,updateLocation:Se});function oe(fe){r("click:outside",fe),e.persistent?Te():h.value=!1}function ie(fe){return h.value&&w.value&&(!e.scrim||fe.target===a.value||fe instanceof MouseEvent&&fe.shadowTarget===a.value)}gt&&be(h,fe=>{fe?window.addEventListener("keydown",Q):window.removeEventListener("keydown",Q)},{immediate:!0}),Di(()=>{gt&&window.removeEventListener("keydown",Q)});function Q(fe){fe.key==="Escape"&&w.value&&(l.value?.contains(document.activeElement)||r("keydown",fe),e.persistent?Te():(h.value=!1,l.value?.contains(document.activeElement)&&E.value?.focus()))}function W(fe){fe.key==="Escape"&&!w.value||r("keydown",fe)}const ue=dz();Sr(()=>e.closeOnBack,()=>{ore(ue,fe=>{w.value&&h.value?(fe(!1),e.persistent?Te():h.value=!1):fe()})});const $e=ae();be(()=>h.value&&(e.absolute||e.contained)&&R.value==null,fe=>{if(fe){const ze=iP(o.value);ze&&ze!==document.scrollingElement&&($e.value=ze.scrollTop)}});function Te(){e.noClickAnimation||l.value&&rh(l.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:Uv})}function Ne(){r("afterEnter")}function ve(){v(),r("afterLeave")}return X(()=>_(Be,null,[n.activator?.({isActive:h.value,targetRef:M,props:K({ref:$},L.value,e.activatorProps)}),U.value&&g.value&&_(mte,{disabled:!R.value,to:R.value},{default:()=>[_("div",K({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":h.value,"v-overlay--contained":e.contained},p.value,m.value,e.class],style:[x.value,{"--v-overlay-opacity":e.opacity,top:_e($e.value)},e.style],ref:o,onKeydown:W},ee,i),[_($se,K({color:b,modelValue:h.value&&!!e.scrim,ref:a},P.value),null),_(er,{appear:!0,persisted:!0,transition:e.transition,target:I.value,onAfterEnter:Ne,onAfterLeave:ve},{default:()=>[ln(_("div",K({ref:l,class:["v-overlay__content",e.contentClass],style:[V.value,se.value]},O.value,e.contentProps),[n.default?.({isActive:h})]),[[Zo,h.value],[_s("click-outside"),{handler:oe,closeConditional:ie,include:()=>[E.value]}]])]})])]})])),{activatorEl:E,scrimEl:a,target:I,animateClick:Te,contentEl:l,globalTop:w,localTop:S,updateLocation:Se}}}),g$=Symbol("Forwarded refs");function v$(e,t){let n=e;for(;n;){const i=Reflect.getOwnPropertyDescriptor(n,t);if(i)return i;n=Object.getPrototypeOf(n)}}function to(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return e[g$]=n,new Proxy(e,{get(r,s){if(Reflect.has(r,s))return Reflect.get(r,s);if(!(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))){for(const o of n)if(o.value&&Reflect.has(o.value,s)){const a=Reflect.get(o.value,s);return typeof a=="function"?a.bind(o.value):a}}},has(r,s){if(Reflect.has(r,s))return!0;if(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))return!1;for(const o of n)if(o.value&&Reflect.has(o.value,s))return!0;return!1},set(r,s,o){if(Reflect.has(r,s))return Reflect.set(r,s,o);if(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))return!1;for(const a of n)if(a.value&&Reflect.has(a.value,s))return Reflect.set(a.value,s,o);return!1},getOwnPropertyDescriptor(r,s){const o=Reflect.getOwnPropertyDescriptor(r,s);if(o)return o;if(!(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))){for(const a of n){if(!a.value)continue;const l=v$(a.value,s)??("_"in a.value?v$(a.value._?.setupState,s):void 0);if(l)return l}for(const a of n){const l=a.value&&a.value[g$];if(!l)continue;const c=l.slice();for(;c.length;){const h=c.shift(),p=v$(h.value,s);if(p)return p;const m=h.value&&h.value[g$];m&&c.push(...m)}}}}})}const tB=z({id:String,submenu:Boolean,...Ln(H0({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:d2}}),["absolute"])},"VMenu"),vm=Z()({name:"VMenu",props:tB(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=Pe(e,"modelValue"),{scopeId:r}=tp(),{isRtl:s}=Xn(),o=Ti(),a=T(()=>e.id||`v-menu-${o}`),l=ae(),c=ft(AE,null),h=ce(new Set);Yt(AE,{register(){h.value.add(o)},unregister(){h.value.delete(o)},closeParents(b){setTimeout(()=>{!h.value.size&&!e.persistent&&(b==null||l.value?.contentEl&&!Ote(b,l.value.contentEl))&&(i.value=!1,c?.closeParents())},40)}}),Di(()=>{c?.unregister(),document.removeEventListener("focusin",p)}),m8(()=>i.value=!1);async function p(b){const w=b.relatedTarget,S=b.target;await _t(),i.value&&w!==S&&l.value?.contentEl&&l.value?.globalTop&&![document,l.value.contentEl].includes(S)&&!l.value.contentEl.contains(S)&&Bv(l.value.contentEl)[0]?.focus()}be(i,b=>{b?(c?.register(),gt&&document.addEventListener("focusin",p,{once:!0})):(c?.unregister(),gt&&document.removeEventListener("focusin",p))},{immediate:!0});function m(b){c?.closeParents(b)}function y(b){if(!e.disabled)if(b.key==="Tab"||b.key==="Enter"&&!e.closeOnContentClick){if(b.key==="Enter"&&(b.target instanceof HTMLTextAreaElement||b.target instanceof HTMLInputElement&&b.target.closest("form")))return;b.key==="Enter"&&b.preventDefault(),x8(Bv(l.value?.contentEl,!1),b.shiftKey?"prev":"next",S=>S.tabIndex>=0)||(i.value=!1,l.value?.activatorEl?.focus())}else e.submenu&&b.key===(s.value?"ArrowRight":"ArrowLeft")&&(i.value=!1,l.value?.activatorEl?.focus())}function g(b){if(e.disabled)return;const w=l.value?.contentEl;w&&i.value?b.key==="ArrowDown"?(b.preventDefault(),b.stopImmediatePropagation(),hh(w,"next")):b.key==="ArrowUp"?(b.preventDefault(),b.stopImmediatePropagation(),hh(w,"prev")):e.submenu&&(b.key===(s.value?"ArrowRight":"ArrowLeft")?i.value=!1:b.key===(s.value?"ArrowLeft":"ArrowRight")&&(b.preventDefault(),hh(w,"first"))):(e.submenu?b.key===(s.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(b.key))&&(i.value=!0,b.preventDefault(),setTimeout(()=>setTimeout(()=>g(b))))}const v=T(()=>K({"aria-haspopup":"menu","aria-expanded":String(i.value),"aria-controls":a.value,onKeydown:g},e.activatorProps));return X(()=>{const b=$a.filterProps(e);return _($a,K({ref:l,id:a.value,class:["v-menu",e.class],style:e.style},b,{modelValue:i.value,"onUpdate:modelValue":w=>i.value=w,absolute:!0,activatorProps:v.value,location:e.location??(e.submenu?"end":"bottom"),"onClick:outside":m,onKeydown:y},r),{activator:n.activator,default:function(){for(var w=arguments.length,S=new Array(w),x=0;x<w;x++)S[x]=arguments[x];return _(st,{root:"VMenu"},{default:()=>[n.default?.(...S)]})}})}),to({id:a,ΨopenChildren:h},l)}}),Tse=z({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...xe(),...Yo({transition:{component:cP}})},"VCounter"),w2=Z()({name:"VCounter",functional:!0,props:Tse(),setup(e,t){let{slots:n}=t;const i=T(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return X(()=>_(er,{transition:e.transition},{default:()=>[ln(_("div",{class:["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class],style:e.style},[n.default?n.default({counter:i.value,max:e.max,value:e.value}):i.value]),[[Zo,e.active]])]})),{}}}),Ese=z({floating:Boolean,...xe()},"VFieldLabel"),Yy=Z()({name:"VFieldLabel",props:Ese(),setup(e,t){let{slots:n}=t;return X(()=>_(Ym,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},n)),{}}}),Ise=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],q0=z({appendInnerIcon:Oe,bgColor:String,clearable:Boolean,clearIcon:{type:Oe,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:Oe,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>Ise.includes(e)},"onClick:clear":xi(),"onClick:appendInner":xi(),"onClick:prependInner":xi(),...xe(),...m2(),...Jt(),...ct()},"VField"),Km=Z()({name:"VField",inheritAttrs:!1,props:{id:String,...U0(),...q0()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const{themeClasses:s}=xt(e),{loaderClasses:o}=F0(e),{focusClasses:a,isFocused:l,focus:c,blur:h}=zl(e),{InputIcon:p}=$z(e),{roundedClasses:m}=gn(e),{rtlClasses:y}=Xn(),g=T(()=>e.dirty||e.active),v=T(()=>!!(e.label||r.label)),b=T(()=>!e.singleLine&&v.value),w=Ti(),S=T(()=>e.id||`input-${w}`),x=T(()=>`${S.value}-messages`),E=ae(),$=ae(),I=ae(),A=T(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:M,backgroundColorStyles:L}=Dt(q(e,"bgColor")),{textColorClasses:O,textColorStyles:P}=Ri(T(()=>e.error||e.disabled?void 0:g.value&&l.value?e.color:e.baseColor));be(g,U=>{if(b.value){const ee=E.value.$el,se=$.value.$el;requestAnimationFrame(()=>{const Se=QA(ee),oe=se.getBoundingClientRect(),ie=oe.x-Se.x,Q=oe.y-Se.y-(Se.height/2-oe.height/2),W=oe.width/.75,ue=Math.abs(W-Se.width)>1?{maxWidth:_e(W)}:void 0,$e=getComputedStyle(ee),Te=getComputedStyle(se),Ne=parseFloat($e.transitionDuration)*1e3||150,ve=parseFloat(Te.getPropertyValue("--v-field-label-scale")),fe=Te.getPropertyValue("color");ee.style.visibility="visible",se.style.visibility="hidden",rh(ee,{transform:`translate(${ie}px, ${Q}px) scale(${ve})`,color:fe,...ue},{duration:Ne,easing:Uv,direction:U?"normal":"reverse"}).finished.then(()=>{ee.style.removeProperty("visibility"),se.style.removeProperty("visibility")})})}},{flush:"post"});const R=T(()=>({isActive:g,isFocused:l,controlRef:I,blur:h,focus:c}));function V(U){U.target!==document.activeElement&&U.preventDefault()}return X(()=>{const U=e.variant==="outlined",ee=!!(r["prepend-inner"]||e.prependInnerIcon),se=!!(e.clearable||r.clear)&&!e.disabled,Se=!!(r["append-inner"]||e.appendInnerIcon||se),oe=()=>r.label?r.label({...R.value,label:e.label,props:{for:S.value}}):e.label;return _("div",K({class:["v-field",{"v-field--active":g.value,"v-field--appended":Se,"v-field--center-affix":e.centerAffix??!A.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":ee,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!oe(),[`v-field--variant-${e.variant}`]:!0},s.value,M.value,a.value,o.value,m.value,y.value,e.class],style:[L.value,e.style],onClick:V},n),[_("div",{class:"v-field__overlay"},null),_(j0,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:r.loader}),ee&&_("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&_(p,{key:"prepend-icon",name:"prependInner"},null),r["prepend-inner"]?.(R.value)]),_("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&b.value&&_(Yy,{key:"floating-label",ref:$,class:[O.value],floating:!0,for:S.value,style:P.value},{default:()=>[oe()]}),v.value&&_(Yy,{key:"label",ref:E,for:S.value},{default:()=>[oe()]}),r.default?.({...R.value,props:{id:S.value,class:"v-field__input","aria-describedby":x.value},focus:c,blur:h})]),se&&_(dP,{key:"clear"},{default:()=>[ln(_("div",{class:"v-field__clearable",onMousedown:ie=>{ie.preventDefault(),ie.stopPropagation()}},[_(st,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[r.clear?r.clear({...R.value,props:{onFocus:c,onBlur:h,onClick:e["onClick:clear"]}}):_(p,{name:"clear",onFocus:c,onBlur:h},null)]})]),[[Zo,e.dirty]])]}),Se&&_("div",{key:"append",class:"v-field__append-inner"},[r["append-inner"]?.(R.value),e.appendInnerIcon&&_(p,{key:"append-icon",name:"appendInner"},null)]),_("div",{class:["v-field__outline",O.value],style:P.value},[U&&_(Be,null,[_("div",{class:"v-field__outline__start"},null),b.value&&_("div",{class:"v-field__outline__notch"},[_(Yy,{ref:$,floating:!0,for:S.value},{default:()=>[oe()]})]),_("div",{class:"v-field__outline__end"},null)]),A.value&&b.value&&_(Yy,{ref:$,floating:!0,for:S.value},{default:()=>[oe()]})])])}),{controlRef:I}}});function xP(e){const t=Object.keys(Km.props).filter(n=>!s2(n)&&n!=="class"&&n!=="style");return Vl(e,t)}const Cse=["color","file","time","date","datetime-local","week","month"],_2=z({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...Bl(),...q0()},"VTextField"),$h=Z()({name:"VTextField",directives:{Intersect:V0},inheritAttrs:!1,props:_2(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const s=Pe(e,"modelValue"),{isFocused:o,focus:a,blur:l}=zl(e),c=T(()=>typeof e.counterValue=="function"?e.counterValue(s.value):typeof e.counterValue=="number"?e.counterValue:(s.value??"").toString().length),h=T(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),p=T(()=>["plain","underlined"].includes(e.variant));function m(I,A){!e.autofocus||!I||A[0].target?.focus?.()}const y=ae(),g=ae(),v=ae(),b=T(()=>Cse.includes(e.type)||e.persistentPlaceholder||o.value||e.active);function w(){v.value!==document.activeElement&&v.value?.focus(),o.value||a()}function S(I){i("mousedown:control",I),I.target!==v.value&&(w(),I.preventDefault())}function x(I){w(),i("click:control",I)}function E(I){I.stopPropagation(),w(),_t(()=>{s.value=null,o2(e["onClick:clear"],I)})}function $(I){const A=I.target;if(s.value=A.value,e.modelModifiers?.trim&&["text","search","password","tel","url"].includes(e.type)){const M=[A.selectionStart,A.selectionEnd];_t(()=>{A.selectionStart=M[0],A.selectionEnd=M[1]})}}return X(()=>{const I=!!(r.counter||e.counter!==!1&&e.counter!=null),A=!!(I||r.details),[M,L]=Tc(n),{modelValue:O,...P}=Ni.filterProps(e),R=xP(e);return _(Ni,K({ref:y,modelValue:s.value,"onUpdate:modelValue":V=>s.value=V,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":p.value},e.class],style:e.style},M,P,{centerAffix:!p.value,focused:o.value}),{...r,default:V=>{let{id:U,isDisabled:ee,isDirty:se,isReadonly:Se,isValid:oe}=V;return _(Km,K({ref:g,onMousedown:S,onClick:x,"onClick:clear":E,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},R,{id:U.value,active:b.value||se.value,dirty:se.value||e.dirty,disabled:ee.value,focused:o.value,error:oe.value===!1}),{...r,default:ie=>{let{props:{class:Q,...W}}=ie;const ue=ln(_("input",K({ref:v,value:s.value,onInput:$,autofocus:e.autofocus,readonly:Se.value,disabled:ee.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:w,onBlur:l},W,L),null),[[_s("intersect"),{handler:m},null,{once:!0}]]);return _(Be,null,[e.prefix&&_("span",{class:"v-text-field__prefix"},[_("span",{class:"v-text-field__prefix__text"},[e.prefix])]),r.default?_("div",{class:Q,"data-no-activator":""},[r.default(),ue]):yte(ue,{class:Q}),e.suffix&&_("span",{class:"v-text-field__suffix"},[_("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:A?V=>_(Be,null,[r.details?.(V),I&&_(Be,null,[_("span",null,null),_(w2,{active:e.persistentCounter||o.value,value:c.value,max:h.value,disabled:e.disabled},r.counter)])]):void 0})}),to({},y,g,v)}}),Mse=z({renderless:Boolean,...xe()},"VVirtualScrollItem"),nB=Z()({name:"VVirtualScrollItem",inheritAttrs:!1,props:Mse(),emits:{"update:height":e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const{resizeRef:s,contentRect:o}=Go(void 0,"border");be(()=>o.value?.height,a=>{a!=null&&i("update:height",a)}),X(()=>e.renderless?_(Be,null,[r.default?.({itemRef:s})]):_("div",K({ref:s,class:["v-virtual-scroll__item",e.class],style:e.style},n),[r.default?.()]))}}),kse=-1,Ase=1,b$=100,iB=z({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function rB(e,t){const n=Qs(),i=ce(0);wn(()=>{i.value=parseFloat(e.itemHeight||0)});const r=ce(0),s=ce(Math.ceil((parseInt(e.height)||n.height.value)/(i.value||16))||1),o=ce(0),a=ce(0),l=ae(),c=ae();let h=0;const{resizeRef:p,contentRect:m}=Go();wn(()=>{p.value=l.value});const y=T(()=>l.value===document.documentElement?n.height.value:m.value?.height||parseInt(e.height)||0),g=T(()=>!!(l.value&&c.value&&y.value&&i.value));let v=Array.from({length:t.value.length}),b=Array.from({length:t.value.length});const w=ce(0);let S=-1;function x(Q){return v[Q]||i.value}const E=Mte(()=>{const Q=performance.now();b[0]=0;const W=t.value.length;for(let ue=1;ue<=W-1;ue++)b[ue]=(b[ue-1]||0)+x(ue-1);w.value=Math.max(w.value,performance.now()-Q)},w),$=be(g,Q=>{Q&&($(),h=c.value.offsetTop,E.immediate(),se(),~S&&_t(()=>{gt&&window.requestAnimationFrame(()=>{oe(S),S=-1})}))});ar(()=>{E.clear()});function I(Q,W){const ue=v[Q],$e=i.value;i.value=$e?Math.min(i.value,W):W,(ue!==W||$e!==i.value)&&(v[Q]=W,E())}function A(Q){return Q=Pn(Q,0,t.value.length-1),b[Q]||0}function M(Q){return Pse(b,Q)}let L=0,O=0,P=0;be(y,(Q,W)=>{W&&(se(),Q<W&&requestAnimationFrame(()=>{O=0,se()}))});let R=-1;function V(){if(!l.value||!c.value)return;const Q=l.value.scrollTop,W=performance.now();W-P>500?(O=Math.sign(Q-L),h=c.value.offsetTop):O=Q-L,L=Q,P=W,window.clearTimeout(R),R=window.setTimeout(U,500),se()}function U(){!l.value||!c.value||(O=0,P=0,window.clearTimeout(R),se())}let ee=-1;function se(){cancelAnimationFrame(ee),ee=requestAnimationFrame(Se)}function Se(){if(!l.value||!y.value)return;const Q=L-h,W=Math.sign(O),ue=Math.max(0,Q-b$),$e=Pn(M(ue),0,t.value.length),Te=Q+y.value+b$,Ne=Pn(M(Te)+1,$e+1,t.value.length);if((W!==kse||$e<r.value)&&(W!==Ase||Ne>s.value)){const ve=A(r.value)-A($e),fe=A(Ne)-A(s.value);Math.max(ve,fe)>b$?(r.value=$e,s.value=Ne):($e<=0&&(r.value=$e),Ne>=t.value.length&&(s.value=Ne))}o.value=A(r.value),a.value=A(t.value.length)-A(s.value)}function oe(Q){const W=A(Q);!l.value||Q&&!W?S=Q:l.value.scrollTop=W}const ie=T(()=>t.value.slice(r.value,s.value).map((Q,W)=>({raw:Q,index:W+r.value,key:r2(Q)&&"value"in Q?Q.value:W+r.value})));return be(t,()=>{v=Array.from({length:t.value.length}),b=Array.from({length:t.value.length}),E.immediate(),se()},{deep:!0}),{calculateVisibleItems:se,containerRef:l,markerRef:c,computedItems:ie,paddingTop:o,paddingBottom:a,scrollToIndex:oe,handleScroll:V,handleScrollend:U,handleItemResize:I}}function Pse(e,t){let n=e.length-1,i=0,r=0,s=null,o=-1;if(e[n]<t)return n;for(;i<=n;)if(r=i+n>>1,s=e[r],s>t)n=r-1;else if(s<t)o=r,i=r+1;else return s===t?r:i;return o}const Lse=z({items:{type:Array,default:()=>[]},renderless:Boolean,...iB(),...xe(),...Vn()},"VVirtualScroll"),S2=Z()({name:"VVirtualScroll",props:Lse(),setup(e,t){let{slots:n}=t;const i=yn("VVirtualScroll"),{dimensionStyles:r}=Fn(e),{calculateVisibleItems:s,containerRef:o,markerRef:a,handleScroll:l,handleScrollend:c,handleItemResize:h,scrollToIndex:p,paddingTop:m,paddingBottom:y,computedItems:g}=rB(e,q(e,"items"));return Sr(()=>e.renderless,()=>{function v(){const w=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";o.value===document.documentElement?(document[w]("scroll",l,{passive:!0}),document[w]("scrollend",c)):(o.value?.[w]("scroll",l,{passive:!0}),o.value?.[w]("scrollend",c))}Ir(()=>{o.value=iP(i.vnode.el,!0),v(!0)}),ar(v)}),X(()=>{const v=g.value.map(b=>_(nB,{key:b.key,renderless:e.renderless,"onUpdate:height":w=>h(b.index,w)},{default:w=>n.default?.({item:b.raw,index:b.index,...w})}));return e.renderless?_(Be,null,[_("div",{ref:a,class:"v-virtual-scroll__spacer",style:{paddingTop:_e(m.value)}},null),v,_("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:_e(y.value)}},null)]):_("div",{ref:o,class:["v-virtual-scroll",e.class],onScrollPassive:l,onScrollend:c,style:[r.value,e.style]},[_("div",{ref:a,class:"v-virtual-scroll__container",style:{paddingTop:_e(m.value),paddingBottom:_e(y.value)}},[v])])}),{calculateVisibleItems:s,scrollToIndex:p}}});function $P(e,t){const n=ce(!1);let i;function r(a){cancelAnimationFrame(i),n.value=!0,i=requestAnimationFrame(()=>{i=requestAnimationFrame(()=>{n.value=!1})})}async function s(){await new Promise(a=>requestAnimationFrame(a)),await new Promise(a=>requestAnimationFrame(a)),await new Promise(a=>requestAnimationFrame(a)),await new Promise(a=>{if(n.value){const l=be(n,()=>{l(),a()})}else a()})}async function o(a){if(a.key==="Tab"&&t.value?.focus(),!["PageDown","PageUp","Home","End"].includes(a.key))return;const l=e.value?.$el;if(!l)return;(a.key==="Home"||a.key==="End")&&l.scrollTo({top:a.key==="Home"?0:l.scrollHeight,behavior:"smooth"}),await s();const c=l.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(a.key==="PageDown"||a.key==="Home"){const h=l.getBoundingClientRect().top;for(const p of c)if(p.getBoundingClientRect().top>=h){p.focus();break}}else{const h=l.getBoundingClientRect().bottom;for(const p of[...c].reverse())if(p.getBoundingClientRect().bottom<=h){p.focus();break}}}return{onScrollPassive:r,onKeydown:o}}const TP=z({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:Oe,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...Gz({itemChildren:!1})},"Select"),Ose=z({...TP(),...Ln(_2({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Yo({transition:{component:d2}})},"VSelect"),EP=Z()({name:"VSelect",props:Ose(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:n}=t;const{t:i}=Sn(),r=ae(),s=ae(),o=ae(),a=Pe(e,"menu"),l=T({get:()=>a.value,set:ie=>{a.value&&!ie&&s.value?.ΨopenChildren.size||(a.value=ie)}}),{items:c,transformIn:h,transformOut:p}=vP(e),m=Pe(e,"modelValue",[],ie=>h(ie===null?[null]:sn(ie)),ie=>{const Q=p(ie);return e.multiple?Q:Q[0]??null}),y=T(()=>typeof e.counterValue=="function"?e.counterValue(m.value):typeof e.counterValue=="number"?e.counterValue:m.value.length),g=v2(e),v=T(()=>m.value.map(ie=>ie.value)),b=ce(!1),w=T(()=>l.value?e.closeText:e.openText);let S="",x;const E=T(()=>e.hideSelected?c.value.filter(ie=>!m.value.some(Q=>(e.valueComparator||nr)(Q,ie))):c.value),$=T(()=>e.hideNoData&&!E.value.length||g.isReadonly.value||g.isDisabled.value),I=T(()=>({...e.menuProps,activatorProps:{...e.menuProps?.activatorProps||{},"aria-haspopup":"listbox"}})),A=ae(),M=$P(A,r);function L(ie){e.openOnClear&&(l.value=!0)}function O(){$.value||(l.value=!l.value)}function P(ie){fm(ie)&&R(ie)}function R(ie){if(!ie.key||g.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(ie.key)&&ie.preventDefault(),["Enter","ArrowDown"," "].includes(ie.key)&&(l.value=!0),["Escape","Tab"].includes(ie.key)&&(l.value=!1),ie.key==="Home"?A.value?.focus("first"):ie.key==="End"&&A.value?.focus("last");const Q=1e3;if(!fm(ie))return;const W=performance.now();W-x>Q&&(S=""),S+=ie.key.toLowerCase(),x=W;const ue=c.value.find($e=>$e.title.toLowerCase().startsWith(S));if(ue!==void 0){m.value=[ue];const $e=E.value.indexOf(ue);gt&&window.requestAnimationFrame(()=>{$e>=0&&o.value?.scrollToIndex($e)})}}function V(ie){let Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!ie.props.disabled)if(e.multiple){const W=m.value.findIndex($e=>(e.valueComparator||nr)($e.value,ie.value)),ue=Q??!~W;if(~W){const $e=ue?[...m.value,ie]:[...m.value];$e.splice(W,1),m.value=$e}else ue&&(m.value=[...m.value,ie])}else{const W=Q!==!1;m.value=W?[ie]:[],_t(()=>{l.value=!1})}}function U(ie){A.value?.$el.contains(ie.relatedTarget)||(l.value=!1)}function ee(){e.eager&&o.value?.calculateVisibleItems()}function se(){b.value&&r.value?.focus()}function Se(ie){b.value=!0}function oe(ie){if(ie==null)m.value=[];else if(pm(r.value,":autofill")||pm(r.value,":-webkit-autofill")){const Q=c.value.find(W=>W.title===ie);Q&&V(Q)}else r.value&&(r.value.value="")}return be(l,()=>{if(!e.hideSelected&&l.value&&m.value.length){const ie=E.value.findIndex(Q=>m.value.some(W=>(e.valueComparator||nr)(W.value,Q.value)));gt&&window.requestAnimationFrame(()=>{ie>=0&&o.value?.scrollToIndex(ie)})}}),be(()=>e.items,(ie,Q)=>{l.value||b.value&&!Q.length&&ie.length&&(l.value=!0)}),X(()=>{const ie=!!(e.chips||n.chip),Q=!!(!e.hideNoData||E.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),W=m.value.length>0,ue=$h.filterProps(e),$e=W||!b.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return _($h,K({ref:r},ue,{modelValue:m.value.map(Te=>Te.props.value).join(", "),"onUpdate:modelValue":oe,focused:b.value,"onUpdate:focused":Te=>b.value=Te,validationValue:m.externalValue,counterValue:y.value,dirty:W,class:["v-select",{"v-select--active-menu":l.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":m.value.length,"v-select--selection-slot":!!n.selection},e.class],style:e.style,inputmode:"none",placeholder:$e,"onClick:clear":L,"onMousedown:control":O,onBlur:U,onKeydown:R,"aria-label":i(w.value),title:i(w.value)}),{...n,default:()=>_(Be,null,[_(vm,K({ref:s,modelValue:l.value,"onUpdate:modelValue":Te=>l.value=Te,activator:"parent",contentClass:"v-select__content",disabled:$.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:ee,onAfterLeave:se},I.value),{default:()=>[Q&&_(b2,K({ref:A,selected:v.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:Te=>Te.preventDefault(),onKeydown:P,onFocusin:Se,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},M,e.listProps),{default:()=>[n["prepend-item"]?.(),!E.value.length&&!e.hideNoData&&(n["no-data"]?.()??_(Pl,{key:"no-data",title:i(e.noDataText)},null)),_(S2,{ref:o,renderless:!0,items:E.value},{default:Te=>{let{item:Ne,index:ve,itemRef:fe}=Te;const ze=K(Ne.props,{ref:fe,key:Ne.value,onClick:()=>V(Ne,null)});return n.item?.({item:Ne,index:ve,props:ze})??_(Pl,K(ze,{role:"option"}),{prepend:Ht=>{let{isSelected:yt}=Ht;return _(Be,null,[e.multiple&&!e.hideSelected?_(Al,{key:Ne.value,modelValue:yt,ripple:!1,tabindex:"-1"},null):void 0,Ne.props.prependAvatar&&_(Ys,{image:Ne.props.prependAvatar},null),Ne.props.prependIcon&&_(bt,{icon:Ne.props.prependIcon},null)])}})}}),n["append-item"]?.()]})]}),m.value.map((Te,Ne)=>{function ve(yt){yt.stopPropagation(),yt.preventDefault(),V(Te,!1)}const fe={"onClick:close":ve,onKeydown(yt){yt.key!=="Enter"&&yt.key!==" "||(yt.preventDefault(),yt.stopPropagation(),ve(yt))},onMousedown(yt){yt.preventDefault(),yt.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},ze=ie?!!n.chip:!!n.selection,Ht=ze?a2(ie?n.chip({item:Te,index:Ne,props:fe}):n.selection({item:Te,index:Ne})):void 0;if(!(ze&&!Ht))return _("div",{key:Te.value,class:"v-select__selection"},[ie?n.chip?_(st,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:Te.title}}},{default:()=>[Ht]}):_(Jm,K({key:"chip",closable:e.closableChips,size:"small",text:Te.title,disabled:Te.props.disabled},fe),null):Ht??_("span",{class:"v-select__selection-text"},[Te.title,e.multiple&&Ne<m.value.length-1&&_("span",{class:"v-select__selection-comma"},[fs(",")])])])})]),"append-inner":function(){for(var Te=arguments.length,Ne=new Array(Te),ve=0;ve<Te;ve++)Ne[ve]=arguments[ve];return _(Be,null,[n["append-inner"]?.(...Ne),e.menuIcon?_(bt,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),to({isFocused:b,menu:l,select:V},r)}}),Rse=(e,t,n)=>e==null||t==null?-1:e.toString().toLocaleLowerCase().indexOf(t.toString().toLocaleLowerCase()),W0=z({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function Nse(e,t,n){const i=[],r=n?.default??Rse,s=n?.filterKeys?sn(n.filterKeys):!1,o=Object.keys(n?.customKeyFilter??{}).length;if(!e?.length)return i;e:for(let a=0;a<e.length;a++){const[l,c=l]=sn(e[a]),h={},p={};let m=-1;if((t||o>0)&&!n?.noFilter){if(typeof l=="object"){const v=s||Object.keys(c);for(const b of v){const w=Wn(c,b),S=n?.customKeyFilter?.[b];if(m=S?S(w,t,l):r(w,t,l),m!==-1&&m!==!1)S?h[b]=m:p[b]=m;else if(n?.filterMode==="every")continue e}}else m=r(l,t,l),m!==-1&&m!==!1&&(p.title=m);const y=Object.keys(p).length,g=Object.keys(h).length;if(!y&&!g||n?.filterMode==="union"&&g!==o&&!y||n?.filterMode==="intersection"&&(g!==o||!y))continue}i.push({index:a,matches:{...p,...h}})}return i}function Z0(e,t,n,i){const r=ce([]),s=ce(new Map),o=T(()=>i?.transform?br(t).map(l=>[l,i.transform(l)]):br(t));wn(()=>{const l=typeof n=="function"?n():br(n),c=typeof l!="string"&&typeof l!="number"?"":String(l),h=Nse(o.value,c,{customKeyFilter:{...e.customKeyFilter,...br(i?.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),p=br(t),m=[],y=new Map;h.forEach(g=>{let{index:v,matches:b}=g;const w=p[v];m.push(w),y.set(w.value,b)}),r.value=m,s.value=y});function a(l){return s.value.get(l.value)}return{filteredItems:r,filteredMatches:s,getMatches:a}}function Dse(e,t,n){if(t==null)return e;if(Array.isArray(t))throw new Error("Multiple matches is not implemented");return typeof t=="number"&&~t?_(Be,null,[_("span",{class:"v-autocomplete__unmask"},[e.substr(0,t)]),_("span",{class:"v-autocomplete__mask"},[e.substr(t,n)]),_("span",{class:"v-autocomplete__unmask"},[e.substr(t+n)])]):e}const Vse=z({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...W0({filterKeys:["title"]}),...TP(),...Ln(_2({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Yo({transition:!1})},"VAutocomplete"),Fse=Z()({name:"VAutocomplete",props:Vse(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:n}=t;const{t:i}=Sn(),r=ae(),s=ce(!1),o=ce(!0),a=ce(!1),l=ae(),c=ae(),h=Pe(e,"menu"),p=T({get:()=>h.value,set:Me=>{h.value&&!Me&&l.value?.ΨopenChildren.size||(h.value=Me)}}),m=ce(-1),y=T(()=>r.value?.color),g=T(()=>p.value?e.closeText:e.openText),{items:v,transformIn:b,transformOut:w}=vP(e),{textColorClasses:S,textColorStyles:x}=Ri(y),E=Pe(e,"search",""),$=Pe(e,"modelValue",[],Me=>b(Me===null?[null]:sn(Me)),Me=>{const de=w(Me);return e.multiple?de:de[0]??null}),I=T(()=>typeof e.counterValue=="function"?e.counterValue($.value):typeof e.counterValue=="number"?e.counterValue:$.value.length),A=v2(e),{filteredItems:M,getMatches:L}=Z0(e,v,()=>o.value?"":E.value),O=T(()=>e.hideSelected?M.value.filter(Me=>!$.value.some(de=>de.value===Me.value)):M.value),P=T(()=>!!(e.chips||n.chip)),R=T(()=>P.value||!!n.selection),V=T(()=>$.value.map(Me=>Me.props.value)),U=T(()=>(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&E.value===O.value[0]?.title)&&O.value.length>0&&!o.value&&!a.value),ee=T(()=>e.hideNoData&&!O.value.length||A.isReadonly.value||A.isDisabled.value),se=ae(),Se=$P(se,r);function oe(Me){e.openOnClear&&(p.value=!0),E.value=""}function ie(){ee.value||(p.value=!0)}function Q(Me){ee.value||(s.value&&(Me.preventDefault(),Me.stopPropagation()),p.value=!p.value)}function W(Me){Me.key!==" "&&fm(Me)&&r.value?.focus()}function ue(Me){if(A.isReadonly.value)return;const de=r.value.selectionStart,Ze=$.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(Me.key)&&Me.preventDefault(),["Enter","ArrowDown"].includes(Me.key)&&(p.value=!0),["Escape"].includes(Me.key)&&(p.value=!1),U.value&&["Enter","Tab"].includes(Me.key)&&!$.value.some(De=>{let{value:ke}=De;return ke===O.value[0].value})&&yt(O.value[0]),Me.key==="ArrowDown"&&U.value&&se.value?.focus("next"),["Backspace","Delete"].includes(Me.key)){if(!e.multiple&&R.value&&$.value.length>0&&!E.value)return yt($.value[0],!1);if(~m.value){Me.preventDefault();const De=m.value;yt($.value[m.value],!1),m.value=De>=Ze-1?Ze-2:De}else Me.key==="Backspace"&&!E.value&&(m.value=Ze-1);return}if(e.multiple)if(Me.key==="ArrowLeft"){if(m.value<0&&de>0)return;const De=m.value>-1?m.value-1:Ze-1;$.value[De]?m.value=De:(m.value=-1,r.value.setSelectionRange(E.value?.length,E.value?.length))}else if(Me.key==="ArrowRight"){if(m.value<0)return;const De=m.value+1;$.value[De]?m.value=De:(m.value=-1,r.value.setSelectionRange(0,0))}else~m.value&&fm(Me)&&(m.value=-1)}function $e(Me){if(pm(r.value,":autofill")||pm(r.value,":-webkit-autofill")){const de=v.value.find(Ze=>Ze.title===Me.target.value);de&&yt(de)}}function Te(){e.eager&&c.value?.calculateVisibleItems()}function Ne(){s.value&&(o.value=!0,r.value?.focus())}function ve(Me){s.value=!0,setTimeout(()=>{a.value=!0})}function fe(Me){a.value=!1}function ze(Me){(Me==null||Me===""&&!e.multiple&&!R.value)&&($.value=[])}const Ht=ce(!1);function yt(Me){let de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!Me||Me.props.disabled))if(e.multiple){const Ze=$.value.findIndex(ke=>(e.valueComparator||nr)(ke.value,Me.value)),De=de??!~Ze;if(~Ze){const ke=De?[...$.value,Me]:[...$.value];ke.splice(Ze,1),$.value=ke}else De&&($.value=[...$.value,Me]);e.clearOnSelect&&(E.value="")}else{const Ze=de!==!1;$.value=Ze?[Me]:[],E.value=Ze&&!R.value?Me.title:"",_t(()=>{p.value=!1,o.value=!0})}}return be(s,(Me,de)=>{Me!==de&&(Me?(Ht.value=!0,E.value=e.multiple||R.value?"":String($.value.at(-1)?.props.title??""),o.value=!0,_t(()=>Ht.value=!1)):(!e.multiple&&E.value==null&&($.value=[]),p.value=!1,$.value.some(Ze=>{let{title:De}=Ze;return De===E.value})||(E.value=""),m.value=-1))}),be(E,Me=>{!s.value||Ht.value||(Me&&(p.value=!0),o.value=!Me)}),be(p,()=>{if(!e.hideSelected&&p.value&&$.value.length){const Me=O.value.findIndex(de=>$.value.some(Ze=>de.value===Ze.value));gt&&window.requestAnimationFrame(()=>{Me>=0&&c.value?.scrollToIndex(Me)})}}),be(()=>e.items,(Me,de)=>{p.value||s.value&&!de.length&&Me.length&&(p.value=!0)}),X(()=>{const Me=!!(!e.hideNoData||O.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),de=$.value.length>0,Ze=$h.filterProps(e);return _($h,K({ref:r},Ze,{modelValue:E.value,"onUpdate:modelValue":[De=>E.value=De,ze],focused:s.value,"onUpdate:focused":De=>s.value=De,validationValue:$.externalValue,counterValue:I.value,dirty:de,onChange:$e,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":p.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!R.value,"v-autocomplete--selecting-index":m.value>-1},e.class],style:e.style,readonly:A.isReadonly.value,placeholder:de?void 0:e.placeholder,"onClick:clear":oe,"onMousedown:control":ie,onKeydown:ue}),{...n,default:()=>_(Be,null,[_(vm,K({ref:l,modelValue:p.value,"onUpdate:modelValue":De=>p.value=De,activator:"parent",contentClass:"v-autocomplete__content",disabled:ee.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:Te,onAfterLeave:Ne},e.menuProps),{default:()=>[Me&&_(b2,K({ref:se,selected:V.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:De=>De.preventDefault(),onKeydown:W,onFocusin:ve,onFocusout:fe,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},Se,e.listProps),{default:()=>[n["prepend-item"]?.(),!O.value.length&&!e.hideNoData&&(n["no-data"]?.()??_(Pl,{key:"no-data",title:i(e.noDataText)},null)),_(S2,{ref:c,renderless:!0,items:O.value},{default:De=>{let{item:ke,index:ot,itemRef:Ci}=De;const Ts=K(ke.props,{ref:Ci,key:ke.value,active:U.value&&ot===0?!0:void 0,onClick:()=>yt(ke,null)});return n.item?.({item:ke,index:ot,props:Ts})??_(Pl,K(Ts,{role:"option"}),{prepend:Jr=>{let{isSelected:On}=Jr;return _(Be,null,[e.multiple&&!e.hideSelected?_(Al,{key:ke.value,modelValue:On,ripple:!1,tabindex:"-1"},null):void 0,ke.props.prependAvatar&&_(Ys,{image:ke.props.prependAvatar},null),ke.props.prependIcon&&_(bt,{icon:ke.props.prependIcon},null)])},title:()=>o.value?ke.title:Dse(ke.title,L(ke)?.title,E.value?.length??0)})}}),n["append-item"]?.()]})]}),$.value.map((De,ke)=>{function ot(On){On.stopPropagation(),On.preventDefault(),yt(De,!1)}const Ci={"onClick:close":ot,onKeydown(On){On.key!=="Enter"&&On.key!==" "||(On.preventDefault(),On.stopPropagation(),ot(On))},onMousedown(On){On.preventDefault(),On.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},Ts=P.value?!!n.chip:!!n.selection,Jr=Ts?a2(P.value?n.chip({item:De,index:ke,props:Ci}):n.selection({item:De,index:ke})):void 0;if(!(Ts&&!Jr))return _("div",{key:De.value,class:["v-autocomplete__selection",ke===m.value&&["v-autocomplete__selection--selected",S.value]],style:ke===m.value?x.value:{}},[P.value?n.chip?_(st,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:De.title}}},{default:()=>[Jr]}):_(Jm,K({key:"chip",closable:e.closableChips,size:"small",text:De.title,disabled:De.props.disabled},Ci),null):Jr??_("span",{class:"v-autocomplete__selection-text"},[De.title,e.multiple&&ke<$.value.length-1&&_("span",{class:"v-autocomplete__selection-comma"},[fs(",")])])])})]),"append-inner":function(){for(var De=arguments.length,ke=new Array(De),ot=0;ot<De;ot++)ke[ot]=arguments[ot];return _(Be,null,[n["append-inner"]?.(...ke),e.menuIcon?_(bt,{class:"v-autocomplete__menu-icon",icon:e.menuIcon,onMousedown:Q,onClick:$8,"aria-label":i(g.value),title:i(g.value),tabindex:"-1"},null):void 0])}})}),to({isFocused:s,isPristine:o,menu:p,search:E,filteredItems:M,select:yt},r)}}),jse=z({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:Oe,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...xe(),...Fl({location:"top end"}),...Jt(),...Je(),...ct(),...Yo({transition:"scale-rotate-transition"})},"VBadge"),zse=Z()({name:"VBadge",inheritAttrs:!1,props:jse(),setup(e,t){const{backgroundColorClasses:n,backgroundColorStyles:i}=Dt(q(e,"color")),{roundedClasses:r}=gn(e),{t:s}=Sn(),{textColorClasses:o,textColorStyles:a}=Ri(q(e,"textColor")),{themeClasses:l}=J8(),{locationStyles:c}=ep(e,!0,h=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(h)?Number(e.offsetY??0):["left","right"].includes(h)?Number(e.offsetX??0):0));return X(()=>{const h=Number(e.content),p=!e.max||isNaN(h)?e.content:h<=Number(e.max)?h:`${e.max}+`,[m,y]=pE(t.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return _(e.tag,K({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},y,{style:e.style}),{default:()=>[_("div",{class:"v-badge__wrapper"},[t.slots.default?.(),_(er,{transition:e.transition},{default:()=>[ln(_("span",K({class:["v-badge__badge",l.value,n.value,r.value,o.value],style:[i.value,a.value,e.inline?{}:c.value],"aria-atomic":"true","aria-label":s(e.label,h),"aria-live":"polite",role:"status"},m),[e.dot?void 0:t.slots.badge?t.slots.badge?.():e.icon?_(bt,{icon:e.icon},null):p]),[[Zo,e.modelValue]])]})])]})}),{}}}),Bse=z({color:String,density:String,...xe()},"VBannerActions"),sB=Z()({name:"VBannerActions",props:Bse(),setup(e,t){let{slots:n}=t;return mn({VBtn:{color:e.color,density:e.density,slim:!0,variant:"text"}}),X(()=>_("div",{class:["v-banner-actions",e.class],style:e.style},[n.default?.()])),{}}}),oB=Oa("v-banner-text"),Use=z({avatar:String,bgColor:String,color:String,icon:Oe,lines:String,stacked:Boolean,sticky:Boolean,text:String,...Yr(),...xe(),...ci(),...Vn(),...qh({mobile:null}),...Qn(),...Fl(),...Wm(),...Jt(),...Je(),...ct()},"VBanner"),Gse=Z()({name:"VBanner",props:Use(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:i,backgroundColorStyles:r}=Dt(e,"bgColor"),{borderClasses:s}=$s(e),{densityClasses:o}=lr(e),{displayClasses:a,mobile:l}=Qs(e),{dimensionStyles:c}=Fn(e),{elevationClasses:h}=Ei(e),{locationStyles:p}=ep(e),{positionClasses:m}=Zm(e),{roundedClasses:y}=gn(e),{themeClasses:g}=xt(e),v=q(e,"color"),b=q(e,"density");mn({VBannerActions:{color:v,density:b}}),X(()=>{const w=!!(e.text||n.text),S=!!(e.avatar||e.icon),x=!!(S||n.prepend);return _(e.tag,{class:["v-banner",{"v-banner--stacked":e.stacked||l.value,"v-banner--sticky":e.sticky,[`v-banner--${e.lines}-line`]:!!e.lines},g.value,i.value,s.value,o.value,a.value,h.value,m.value,y.value,e.class],style:[r.value,c.value,p.value,e.style],role:"banner"},{default:()=>[x&&_("div",{key:"prepend",class:"v-banner__prepend"},[n.prepend?_(st,{key:"prepend-defaults",disabled:!S,defaults:{VAvatar:{color:v.value,density:b.value,icon:e.icon,image:e.avatar}}},n.prepend):_(Ys,{key:"prepend-avatar",color:v.value,density:b.value,icon:e.icon,image:e.avatar},null)]),_("div",{class:"v-banner__content"},[w&&_(oB,{key:"text"},{default:()=>[n.text?.()??e.text]}),n.default?.()]),n.actions&&_(sB,{key:"actions"},n.actions)]})})}}),Hse=z({baseColor:String,bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:e=>!e||["horizontal","shift"].includes(e)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...Yr(),...xe(),...ci(),...Qn(),...Jt(),...Wh({name:"bottom-navigation"}),...Je({tag:"header"}),...Kh({selectedClass:"v-btn--selected"}),...ct()},"VBottomNavigation"),qse=Z()({name:"VBottomNavigation",props:Hse(),emits:{"update:active":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:i}=J8(),{borderClasses:r}=$s(e),{backgroundColorClasses:s,backgroundColorStyles:o}=Dt(q(e,"bgColor")),{densityClasses:a}=lr(e),{elevationClasses:l}=Ei(e),{roundedClasses:c}=gn(e),{ssrBootStyles:h}=Yh(),p=T(()=>Number(e.height)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0)),m=Pe(e,"active",e.active),{layoutItemStyles:y}=Zh({id:e.name,order:T(()=>parseInt(e.order,10)),position:T(()=>"bottom"),layoutSize:T(()=>m.value?p.value:0),elementSize:p,active:m,absolute:q(e,"absolute")});return Ic(e,pP),mn({VBtn:{baseColor:q(e,"baseColor"),color:q(e,"color"),density:q(e,"density"),stacked:T(()=>e.mode!=="horizontal"),variant:"text"}},{scoped:!0}),X(()=>_(e.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":m.value,"v-bottom-navigation--grow":e.grow,"v-bottom-navigation--shift":e.mode==="shift"},i.value,s.value,r.value,a.value,l.value,c.value,e.class],style:[o.value,y.value,{height:_e(p.value)},h.value,e.style]},{default:()=>[n.default&&_("div",{class:"v-bottom-navigation__content"},[n.default()])]})),{}}}),aB=z({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...H0({origin:"center center",scrollStrategy:"block",transition:{component:d2},zIndex:2400})},"VDialog"),PE=Z()({name:"VDialog",props:aB(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{emit:n,slots:i}=t;const r=Pe(e,"modelValue"),{scopeId:s}=tp(),o=ae();function a(h){const p=h.relatedTarget,m=h.target;if(p!==m&&o.value?.contentEl&&o.value?.globalTop&&![document,o.value.contentEl].includes(m)&&!o.value.contentEl.contains(m)){const y=Bv(o.value.contentEl);if(!y.length)return;const g=y[0],v=y[y.length-1];p===g?v.focus():g.focus()}}Di(()=>{document.removeEventListener("focusin",a)}),gt&&be(()=>r.value&&e.retainFocus,h=>{h?document.addEventListener("focusin",a):document.removeEventListener("focusin",a)},{immediate:!0});function l(){n("afterEnter"),o.value?.contentEl&&!o.value.contentEl.contains(document.activeElement)&&o.value.contentEl.focus({preventScroll:!0})}function c(){n("afterLeave")}return be(r,async h=>{h||(await _t(),o.value.activatorEl?.focus({preventScroll:!0}))}),X(()=>{const h=$a.filterProps(e),p=K({"aria-haspopup":"dialog"},e.activatorProps),m=K({tabindex:-1},e.contentProps);return _($a,K({ref:o,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},h,{modelValue:r.value,"onUpdate:modelValue":y=>r.value=y,"aria-modal":"true",activatorProps:p,contentProps:m,height:e.fullscreen?void 0:e.height,width:e.fullscreen?void 0:e.width,maxHeight:e.fullscreen?void 0:e.maxHeight,maxWidth:e.fullscreen?void 0:e.maxWidth,role:"dialog",onAfterEnter:l,onAfterLeave:c},s),{activator:i.activator,default:function(){for(var y=arguments.length,g=new Array(y),v=0;v<y;v++)g[v]=arguments[v];return _(st,{root:"VDialog"},{default:()=>[i.default?.(...g)]})}})}),to({},o)}}),Wse=z({inset:Boolean,...aB({transition:"bottom-sheet-transition"})},"VBottomSheet"),Zse=Z()({name:"VBottomSheet",props:Wse(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=Pe(e,"modelValue");return X(()=>{const r=PE.filterProps(e);return _(PE,K(r,{contentClass:["v-bottom-sheet__content",e.contentClass],modelValue:i.value,"onUpdate:modelValue":s=>i.value=s,class:["v-bottom-sheet",{"v-bottom-sheet--inset":e.inset},e.class],style:e.style}),n)}),{}}}),Yse=z({divider:[Number,String],...xe()},"VBreadcrumbsDivider"),lB=Z()({name:"VBreadcrumbsDivider",props:Yse(),setup(e,t){let{slots:n}=t;return X(()=>_("li",{"aria-hidden":"true",class:["v-breadcrumbs-divider",e.class],style:e.style},[n?.default?.()??e.divider])),{}}}),Jse=z({active:Boolean,activeClass:String,activeColor:String,color:String,disabled:Boolean,title:String,...xe(),...B0(),...Je({tag:"li"})},"VBreadcrumbsItem"),uB=Z()({name:"VBreadcrumbsItem",props:Jse(),setup(e,t){let{slots:n,attrs:i}=t;const r=z0(e,i),s=T(()=>e.active||r.isActive?.value),o=T(()=>s.value?e.activeColor:e.color),{textColorClasses:a,textColorStyles:l}=Ri(o);return X(()=>_(e.tag,{class:["v-breadcrumbs-item",{"v-breadcrumbs-item--active":s.value,"v-breadcrumbs-item--disabled":e.disabled,[`${e.activeClass}`]:s.value&&e.activeClass},a.value,e.class],style:[l.value,e.style],"aria-current":s.value?"page":void 0},{default:()=>[r.isLink.value?_("a",K({class:"v-breadcrumbs-item--link",onClick:r.navigate},r.linkProps),[n.default?.()??e.title]):n.default?.()??e.title]})),{}}}),Kse=z({activeClass:String,activeColor:String,bgColor:String,color:String,disabled:Boolean,divider:{type:String,default:"/"},icon:Oe,items:{type:Array,default:()=>[]},...xe(),...ci(),...Jt(),...Je({tag:"ul"})},"VBreadcrumbs"),Xse=Z()({name:"VBreadcrumbs",props:Kse(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:i,backgroundColorStyles:r}=Dt(q(e,"bgColor")),{densityClasses:s}=lr(e),{roundedClasses:o}=gn(e);mn({VBreadcrumbsDivider:{divider:q(e,"divider")},VBreadcrumbsItem:{activeClass:q(e,"activeClass"),activeColor:q(e,"activeColor"),color:q(e,"color"),disabled:q(e,"disabled")}});const a=T(()=>e.items.map(l=>typeof l=="string"?{item:{title:l},raw:l}:{item:l,raw:l}));return X(()=>{const l=!!(n.prepend||e.icon);return _(e.tag,{class:["v-breadcrumbs",i.value,s.value,o.value,e.class],style:[r.value,e.style]},{default:()=>[l&&_("li",{key:"prepend",class:"v-breadcrumbs__prepend"},[n.prepend?_(st,{key:"prepend-defaults",disabled:!e.icon,defaults:{VIcon:{icon:e.icon,start:!0}}},n.prepend):_(bt,{key:"prepend-icon",start:!0,icon:e.icon},null)]),a.value.map((c,h,p)=>{let{item:m,raw:y}=c;return _(Be,null,[n.item?.({item:m,index:h})??_(uB,K({key:h,disabled:h>=p.length-1},typeof m=="string"?{title:m}:m),{default:n.title?()=>n.title?.({item:m,index:h}):void 0}),h<p.length-1&&_(lB,null,{default:n.divider?()=>n.divider?.({item:y,index:h}):void 0})])}),n.default?.()]})}),{}}}),cB=Z()({name:"VCardActions",props:xe(),setup(e,t){let{slots:n}=t;return mn({VBtn:{slim:!0,variant:"text"}}),X(()=>_("div",{class:["v-card-actions",e.class],style:e.style},[n.default?.()])),{}}}),Qse=z({opacity:[Number,String],...xe(),...Je()},"VCardSubtitle"),dB=Z()({name:"VCardSubtitle",props:Qse(),setup(e,t){let{slots:n}=t;return X(()=>_(e.tag,{class:["v-card-subtitle",e.class],style:[{"--v-card-subtitle-opacity":e.opacity},e.style]},n)),{}}}),hB=Oa("v-card-title"),eoe=z({appendAvatar:String,appendIcon:Oe,prependAvatar:String,prependIcon:Oe,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...xe(),...ci()},"VCardItem"),pB=Z()({name:"VCardItem",props:eoe(),setup(e,t){let{slots:n}=t;return X(()=>{const i=!!(e.prependAvatar||e.prependIcon),r=!!(i||n.prepend),s=!!(e.appendAvatar||e.appendIcon),o=!!(s||n.append),a=!!(e.title!=null||n.title),l=!!(e.subtitle!=null||n.subtitle);return _("div",{class:["v-card-item",e.class],style:e.style},[r&&_("div",{key:"prepend",class:"v-card-item__prepend"},[n.prepend?_(st,{key:"prepend-defaults",disabled:!i,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon}}},n.prepend):_(Be,null,[e.prependAvatar&&_(Ys,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&_(bt,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])]),_("div",{class:"v-card-item__content"},[a&&_(hB,{key:"title"},{default:()=>[n.title?.()??xa(e.title)]}),l&&_(dB,{key:"subtitle"},{default:()=>[n.subtitle?.()??xa(e.subtitle)]}),n.default?.()]),o&&_("div",{key:"append",class:"v-card-item__append"},[n.append?_(st,{key:"append-defaults",disabled:!s,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon}}},n.append):_(Be,null,[e.appendIcon&&_(bt,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&_(Ys,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)])])])}),{}}}),toe=z({opacity:[Number,String],...xe(),...Je()},"VCardText"),fB=Z()({name:"VCardText",props:toe(),setup(e,t){let{slots:n}=t;return X(()=>_(e.tag,{class:["v-card-text",e.class],style:[{"--v-card-text-opacity":e.opacity},e.style]},n)),{}}}),noe=z({appendAvatar:String,appendIcon:Oe,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:Oe,ripple:{type:[Boolean,Object],default:!0},subtitle:{type:[String,Number,Boolean],default:void 0},text:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...Yr(),...xe(),...ci(),...Vn(),...Qn(),...m2(),...Fl(),...Wm(),...Jt(),...B0(),...Je(),...ct(),...eo({variant:"elevated"})},"VCard"),ioe=Z()({name:"VCard",directives:{Ripple:jl},props:noe(),setup(e,t){let{attrs:n,slots:i}=t;const{themeClasses:r}=xt(e),{borderClasses:s}=$s(e),{colorClasses:o,colorStyles:a,variantClasses:l}=Jh(e),{densityClasses:c}=lr(e),{dimensionStyles:h}=Fn(e),{elevationClasses:p}=Ei(e),{loaderClasses:m}=F0(e),{locationStyles:y}=ep(e),{positionClasses:g}=Zm(e),{roundedClasses:v}=gn(e),b=z0(e,n),w=T(()=>e.link!==!1&&b.isLink.value),S=T(()=>!e.disabled&&e.link!==!1&&(e.link||b.isClickable.value));return X(()=>{const x=w.value?"a":e.tag,E=!!(i.title||e.title!=null),$=!!(i.subtitle||e.subtitle!=null),I=E||$,A=!!(i.append||e.appendAvatar||e.appendIcon),M=!!(i.prepend||e.prependAvatar||e.prependIcon),L=!!(i.image||e.image),O=I||M||A,P=!!(i.text||e.text!=null);return ln(_(x,K({class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":S.value},r.value,s.value,o.value,c.value,p.value,m.value,g.value,v.value,l.value,e.class],style:[a.value,h.value,y.value,e.style],onClick:S.value&&b.navigate,tabindex:e.disabled?-1:void 0},b.linkProps),{default:()=>[L&&_("div",{key:"image",class:"v-card__image"},[i.image?_(st,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},i.image):_(kl,{key:"image-img",cover:!0,src:e.image},null)]),_(j0,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:i.loader}),O&&_(pB,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:i.item,prepend:i.prepend,title:i.title,subtitle:i.subtitle,append:i.append}),P&&_(fB,{key:"text"},{default:()=>[i.text?.()??e.text]}),i.default?.(),i.actions&&_(cB,null,{default:i.actions}),Ec(S.value,"v-card")]}),[[_s("ripple"),S.value&&e.ripple]])}),{}}}),roe=e=>{const{touchstartX:t,touchendX:n,touchstartY:i,touchendY:r}=e,s=.5,o=16;e.offsetX=n-t,e.offsetY=r-i,Math.abs(e.offsetY)<s*Math.abs(e.offsetX)&&(e.left&&n<t-o&&e.left(e),e.right&&n>t+o&&e.right(e)),Math.abs(e.offsetX)<s*Math.abs(e.offsetY)&&(e.up&&r<i-o&&e.up(e),e.down&&r>i+o&&e.down(e))};function soe(e,t){const n=e.changedTouches[0];t.touchstartX=n.clientX,t.touchstartY=n.clientY,t.start?.({originalEvent:e,...t})}function ooe(e,t){const n=e.changedTouches[0];t.touchendX=n.clientX,t.touchendY=n.clientY,t.end?.({originalEvent:e,...t}),roe(t)}function aoe(e,t){const n=e.changedTouches[0];t.touchmoveX=n.clientX,t.touchmoveY=n.clientY,t.move?.({originalEvent:e,...t})}function loe(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:n=>soe(n,t),touchend:n=>ooe(n,t),touchmove:n=>aoe(n,t)}}function uoe(e,t){const n=t.value,i=n?.parent?e.parentElement:e,r=n?.options??{passive:!0},s=t.instance?.$.uid;if(!i||!s)return;const o=loe(t.value);i._touchHandlers=i._touchHandlers??Object.create(null),i._touchHandlers[s]=o,b8(o).forEach(a=>{i.addEventListener(a,o[a],r)})}function coe(e,t){const n=t.value?.parent?e.parentElement:e,i=t.instance?.$.uid;if(!n?._touchHandlers||!i)return;const r=n._touchHandlers[i];b8(r).forEach(s=>{n.removeEventListener(s,r[s])}),delete n._touchHandlers[i]}const IP={mounted:uoe,unmounted:coe},mB=Symbol.for("vuetify:v-window"),yB=Symbol.for("vuetify:v-window-group"),x2=z({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...xe(),...Je(),...ct()},"VWindow"),Th=Z()({name:"VWindow",directives:{Touch:IP},props:x2(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:i}=xt(e),{isRtl:r}=Xn(),{t:s}=Sn(),o=Ic(e,yB),a=ae(),l=T(()=>r.value?!e.reverse:e.reverse),c=ce(!1),h=T(()=>{const E=e.direction==="vertical"?"y":"x",I=(l.value?!c.value:c.value)?"-reverse":"";return`v-window-${E}${I}-transition`}),p=ce(0),m=ae(void 0),y=T(()=>o.items.value.findIndex(E=>o.selected.value.includes(E.id)));be(y,(E,$)=>{const I=o.items.value.length,A=I-1;I<=2?c.value=E<$:E===A&&$===0?c.value=!0:E===0&&$===A?c.value=!1:c.value=E<$}),Yt(mB,{transition:h,isReversed:c,transitionCount:p,transitionHeight:m,rootRef:a});const g=T(()=>e.continuous||y.value!==0),v=T(()=>e.continuous||y.value!==o.items.value.length-1);function b(){g.value&&o.prev()}function w(){v.value&&o.next()}const S=T(()=>{const E=[],$={icon:r.value?e.nextIcon:e.prevIcon,class:`v-window__${l.value?"right":"left"}`,onClick:o.prev,"aria-label":s("$vuetify.carousel.prev")};E.push(g.value?n.prev?n.prev({props:$}):_(vt,$,null):_("div",null,null));const I={icon:r.value?e.prevIcon:e.nextIcon,class:`v-window__${l.value?"left":"right"}`,onClick:o.next,"aria-label":s("$vuetify.carousel.next")};return E.push(v.value?n.next?n.next({props:I}):_(vt,I,null):_("div",null,null)),E}),x=T(()=>e.touch===!1?e.touch:{...{left:()=>{l.value?b():w()},right:()=>{l.value?w():b()},start:$=>{let{originalEvent:I}=$;I.stopPropagation()}},...e.touch===!0?{}:e.touch});return X(()=>ln(_(e.tag,{ref:a,class:["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover"},i.value,e.class],style:e.style},{default:()=>[_("div",{class:"v-window__container",style:{height:m.value}},[n.default?.({group:o}),e.showArrows!==!1&&_("div",{class:"v-window__controls"},[S.value])]),n.additional?.({group:o})]}),[[_s("touch"),x.value]])),{group:o}}}),doe=z({color:String,cycle:Boolean,delimiterIcon:{type:Oe,default:"$delimiter"},height:{type:[Number,String],default:500},hideDelimiters:Boolean,hideDelimiterBackground:Boolean,interval:{type:[Number,String],default:6e3,validator:e=>Number(e)>0},progress:[Boolean,String],verticalDelimiters:[Boolean,String],...x2({continuous:!0,mandatory:"force",showArrows:!0})},"VCarousel"),hoe=Z()({name:"VCarousel",props:doe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=Pe(e,"modelValue"),{t:r}=Sn(),s=ae();let o=-1;be(i,l),be(()=>e.interval,l),be(()=>e.cycle,c=>{c?l():window.clearTimeout(o)}),Ir(a);function a(){!e.cycle||!s.value||(o=window.setTimeout(s.value.group.next,Number(e.interval)>0?Number(e.interval):6e3))}function l(){window.clearTimeout(o),window.requestAnimationFrame(a)}return X(()=>{const c=Th.filterProps(e);return _(Th,K({ref:s},c,{modelValue:i.value,"onUpdate:modelValue":h=>i.value=h,class:["v-carousel",{"v-carousel--hide-delimiter-background":e.hideDelimiterBackground,"v-carousel--vertical-delimiters":e.verticalDelimiters},e.class],style:[{height:_e(e.height)},e.style]}),{default:n.default,additional:h=>{let{group:p}=h;return _(Be,null,[!e.hideDelimiters&&_("div",{class:"v-carousel__controls",style:{left:e.verticalDelimiters==="left"&&e.verticalDelimiters?0:"auto",right:e.verticalDelimiters==="right"?0:"auto"}},[p.items.value.length>0&&_(st,{defaults:{VBtn:{color:e.color,icon:e.delimiterIcon,size:"x-small",variant:"text"}},scoped:!0},{default:()=>[p.items.value.map((m,y)=>{const g={id:`carousel-item-${m.id}`,"aria-label":r("$vuetify.carousel.ariaLabel.delimiter",y+1,p.items.value.length),class:["v-carousel__controls__item",p.isSelected(m.id)&&"v-btn--active"],onClick:()=>p.select(m.id,!0)};return n.item?n.item({props:g,item:m}):_(vt,K(m,g),null)})]})]),e.progress&&_(f2,{class:"v-carousel__progress",color:typeof e.progress=="string"?e.progress:void 0,modelValue:(p.getItemIndex(i.value)+1)/p.items.value.length*100},null)])},prev:n.prev,next:n.next})}),{}}}),$2=z({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...xe(),...Xh(),..._P()},"VWindowItem"),Eh=Z()({name:"VWindowItem",directives:{Touch:IP},props:$2(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const i=ft(mB),r=Qh(e,yB),{isBooted:s}=Yh();if(!i||!r)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const o=ce(!1),a=T(()=>s.value&&(i.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function l(){!o.value||!i||(o.value=!1,i.transitionCount.value>0&&(i.transitionCount.value-=1,i.transitionCount.value===0&&(i.transitionHeight.value=void 0)))}function c(){o.value||!i||(o.value=!0,i.transitionCount.value===0&&(i.transitionHeight.value=_e(i.rootRef.value?.clientHeight)),i.transitionCount.value+=1)}function h(){l()}function p(g){o.value&&_t(()=>{!a.value||!o.value||!i||(i.transitionHeight.value=_e(g.clientHeight))})}const m=T(()=>{const g=i.isReversed.value?e.reverseTransition:e.transition;return a.value?{name:typeof g!="string"?i.transition.value:g,onBeforeEnter:c,onAfterEnter:l,onEnterCancelled:h,onBeforeLeave:c,onAfterLeave:l,onLeaveCancelled:h,onEnter:p}:!1}),{hasContent:y}=SP(e,r.isSelected);return X(()=>_(er,{transition:m.value,disabled:!s.value},{default:()=>[ln(_("div",{class:["v-window-item",r.selectedClass.value,e.class],style:e.style},[y.value&&n.default?.()]),[[Zo,r.isSelected.value]])]})),{groupItem:r}}}),poe=z({...az(),...$2()},"VCarouselItem"),foe=Z()({name:"VCarouselItem",inheritAttrs:!1,props:poe(),setup(e,t){let{slots:n,attrs:i}=t;X(()=>{const r=kl.filterProps(e),s=Eh.filterProps(e);return _(Eh,K({class:["v-carousel-item",e.class]},s),{default:()=>[_(kl,K(i,r),n)]})})}}),moe=Oa("v-code","code"),yoe=z({color:{type:Object},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300},...xe()},"VColorPickerCanvas"),goe=Ss({name:"VColorPickerCanvas",props:yoe(),emits:{"update:color":e=>!0,"update:position":e=>!0},setup(e,t){let{emit:n}=t;const i=ce(!1),r=ae(),s=ce(parseFloat(e.width)),o=ce(parseFloat(e.height)),a=ae({x:0,y:0}),l=T({get:()=>a.value,set(b){if(!r.value)return;const{x:w,y:S}=b;a.value=b,n("update:color",{h:e.color?.h??0,s:Pn(w,0,s.value)/s.value,v:1-Pn(S,0,o.value)/o.value,a:e.color?.a??1})}}),c=T(()=>{const{x:b,y:w}=l.value,S=parseInt(e.dotSize,10)/2;return{width:_e(e.dotSize),height:_e(e.dotSize),transform:`translate(${_e(b-S)}, ${_e(w-S)})`}}),{resizeRef:h}=Go(b=>{if(!h.el?.offsetParent)return;const{width:w,height:S}=b[0].contentRect;s.value=w,o.value=S});function p(b,w,S){const{left:x,top:E,width:$,height:I}=S;l.value={x:Pn(b-x,0,$),y:Pn(w-E,0,I)}}function m(b){b.type==="mousedown"&&b.preventDefault(),!e.disabled&&(y(b),window.addEventListener("mousemove",y),window.addEventListener("mouseup",g),window.addEventListener("touchmove",y),window.addEventListener("touchend",g))}function y(b){if(e.disabled||!r.value)return;i.value=!0;const w=Pte(b);p(w.clientX,w.clientY,r.value.getBoundingClientRect())}function g(){window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",g),window.removeEventListener("touchmove",y),window.removeEventListener("touchend",g)}function v(){if(!r.value)return;const b=r.value,w=b.getContext("2d");if(!w)return;const S=w.createLinearGradient(0,0,b.width,0);S.addColorStop(0,"hsla(0, 0%, 100%, 1)"),S.addColorStop(1,`hsla(${e.color?.h??0}, 100%, 50%, 1)`),w.fillStyle=S,w.fillRect(0,0,b.width,b.height);const x=w.createLinearGradient(0,0,0,b.height);x.addColorStop(0,"hsla(0, 0%, 0%, 0)"),x.addColorStop(1,"hsla(0, 0%, 0%, 1)"),w.fillStyle=x,w.fillRect(0,0,b.width,b.height)}return be(()=>e.color?.h,v,{immediate:!0}),be(()=>[s.value,o.value],(b,w)=>{v(),a.value={x:l.value.x*b[0]/w[0],y:l.value.y*b[1]/w[1]}},{flush:"post"}),be(()=>e.color,()=>{if(i.value){i.value=!1;return}a.value=e.color?{x:e.color.s*s.value,y:(1-e.color.v)*o.value}:{x:0,y:0}},{deep:!0,immediate:!0}),Ir(()=>v()),X(()=>_("div",{ref:h,class:["v-color-picker-canvas",e.class],style:e.style,onMousedown:m,onTouchstartPassive:m},[_("canvas",{ref:r,width:s.value,height:o.value},null),e.color&&_("div",{class:["v-color-picker-canvas__dot",{"v-color-picker-canvas__dot--disabled":e.disabled}],style:c.value},null)])),{}}});function voe(e,t){if(t){const{a:n,...i}=e;return i}return e}function boe(e,t){if(t==null||typeof t=="string"){const n=N8(e);return e.a===1?n.slice(0,7):n}if(typeof t=="object"){let n;return ih(t,["r","g","b"])?n=Ml(e):ih(t,["h","s","l"])?n=A8(e):ih(t,["h","s","v"])&&(n=e),voe(n,!ih(t,["a"])&&e.a===1)}return e}const Pf={h:0,s:0,v:0,a:1},LE={inputProps:{type:"number",min:0},inputs:[{label:"R",max:255,step:1,getValue:e=>Math.round(e.r),getColor:(e,t)=>({...e,r:Number(t)})},{label:"G",max:255,step:1,getValue:e=>Math.round(e.g),getColor:(e,t)=>({...e,g:Number(t)})},{label:"B",max:255,step:1,getValue:e=>Math.round(e.b),getColor:(e,t)=>({...e,b:Number(t)})},{label:"A",max:1,step:.01,getValue:e=>{let{a:t}=e;return t!=null?Math.round(t*100)/100:1},getColor:(e,t)=>({...e,a:Number(t)})}],to:Ml,from:N0},woe={...LE,inputs:LE.inputs?.slice(0,3)},OE={inputProps:{type:"number",min:0},inputs:[{label:"H",max:360,step:1,getValue:e=>Math.round(e.h),getColor:(e,t)=>({...e,h:Number(t)})},{label:"S",max:1,step:.01,getValue:e=>Math.round(e.s*100)/100,getColor:(e,t)=>({...e,s:Number(t)})},{label:"L",max:1,step:.01,getValue:e=>Math.round(e.l*100)/100,getColor:(e,t)=>({...e,l:Number(t)})},{label:"A",max:1,step:.01,getValue:e=>{let{a:t}=e;return t!=null?Math.round(t*100)/100:1},getColor:(e,t)=>({...e,a:Number(t)})}],to:A8,from:tP},_oe={...OE,inputs:OE.inputs.slice(0,3)},gB={inputProps:{type:"text"},inputs:[{label:"HEXA",getValue:e=>e,getColor:(e,t)=>t}],to:N8,from:nne},Soe={...gB,inputs:[{label:"HEX",getValue:e=>e.slice(0,7),getColor:(e,t)=>t}]},fh={rgb:woe,rgba:LE,hsl:_oe,hsla:OE,hex:Soe,hexa:gB},xoe=e=>{let{label:t,...n}=e;return _("div",{class:"v-color-picker-edit__input"},[_("input",n,null),_("span",null,[t])])},$oe=z({color:Object,disabled:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(fh).includes(e)},modes:{type:Array,default:()=>Object.keys(fh),validator:e=>Array.isArray(e)&&e.every(t=>Object.keys(fh).includes(t))},...xe()},"VColorPickerEdit"),Toe=Ss({name:"VColorPickerEdit",props:$oe(),emits:{"update:color":e=>!0,"update:mode":e=>!0},setup(e,t){let{emit:n}=t;const i=T(()=>e.modes.map(s=>({...fh[s],name:s}))),r=T(()=>{const s=i.value.find(a=>a.name===e.mode);if(!s)return[];const o=e.color?s.to(e.color):null;return s.inputs?.map(a=>{let{getValue:l,getColor:c,...h}=a;return{...s.inputProps,...h,disabled:e.disabled,value:o&&l(o),onChange:p=>{const m=p.target;m&&n("update:color",s.from(c(o??s.to(Pf),m.value)))}}})});return X(()=>_("div",{class:["v-color-picker-edit",e.class],style:e.style},[r.value?.map(s=>_(xoe,s,null)),i.value.length>1&&_(vt,{icon:"$unfold",size:"x-small",variant:"plain",onClick:()=>{const s=i.value.findIndex(o=>o.name===e.mode);n("update:mode",i.value[(s+1)%i.value.length].name)}},null)])),{}}}),CP=Symbol.for("vuetify:v-slider");function RE(e,t,n){const i=n==="vertical",r=t.getBoundingClientRect(),s="touches"in e?e.touches[0]:e;return i?s.clientY-(r.top+r.height/2):s.clientX-(r.left+r.width/2)}function Eoe(e,t){return"touches"in e&&e.touches.length?e.touches[0][t]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][t]:e[t]}const vB=z({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>typeof e=="boolean"||e==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>typeof e=="boolean"||e==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,...Jt(),...Qn({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),bB=e=>{const t=T(()=>parseFloat(e.min)),n=T(()=>parseFloat(e.max)),i=T(()=>Number(e.step)>0?parseFloat(e.step):0),r=T(()=>Math.max(fR(i.value),fR(t.value)));function s(o){if(o=parseFloat(o),i.value<=0)return o;const a=Pn(o,t.value,n.value),l=t.value%i.value,c=Math.round((a-l)/i.value)*i.value+l;return parseFloat(Math.min(c,n.value).toFixed(r.value))}return{min:t,max:n,step:i,decimals:r,roundValue:s}},wB=e=>{let{props:t,steps:n,onSliderStart:i,onSliderMove:r,onSliderEnd:s,getActiveThumb:o}=e;const{isRtl:a}=Xn(),l=q(t,"reverse"),c=T(()=>t.direction==="vertical"),h=T(()=>c.value!==l.value),{min:p,max:m,step:y,decimals:g,roundValue:v}=n,b=T(()=>parseInt(t.thumbSize,10)),w=T(()=>parseInt(t.tickSize,10)),S=T(()=>parseInt(t.trackSize,10)),x=T(()=>(m.value-p.value)/y.value),E=q(t,"disabled"),$=T(()=>t.error||t.disabled?void 0:t.thumbColor??t.color),I=T(()=>t.error||t.disabled?void 0:t.trackColor??t.color),A=T(()=>t.error||t.disabled?void 0:t.trackFillColor??t.color),M=ce(!1),L=ce(0),O=ae(),P=ae();function R(ve){const fe=O.value?.$el;if(!fe)return;const ze=t.direction==="vertical",Ht=ze?"top":"left",yt=ze?"height":"width",Me=ze?"clientY":"clientX",{[Ht]:de,[yt]:Ze}=fe.getBoundingClientRect(),De=Eoe(ve,Me);let ke=Math.min(Math.max((De-de-L.value)/Ze,0),1)||0;return(ze?h.value:h.value!==a.value)&&(ke=1-ke),v(p.value+ke*(m.value-p.value))}const V=ve=>{const fe=R(ve);fe!=null&&s({value:fe}),M.value=!1,L.value=0},U=ve=>{const fe=R(ve);P.value=o(ve),P.value&&(M.value=!0,P.value.contains(ve.target)?L.value=RE(ve,P.value,t.direction):(L.value=0,fe!=null&&r({value:fe})),fe!=null&&i({value:fe}),_t(()=>P.value?.focus()))},ee={passive:!0,capture:!0};function se(ve){const fe=R(ve);fe!=null&&r({value:fe})}function Se(ve){ve.stopPropagation(),ve.preventDefault(),V(ve),window.removeEventListener("mousemove",se,ee),window.removeEventListener("mouseup",Se)}function oe(ve){V(ve),window.removeEventListener("touchmove",se,ee),ve.target?.removeEventListener("touchend",oe)}function ie(ve){U(ve),window.addEventListener("touchmove",se,ee),ve.target?.addEventListener("touchend",oe,{passive:!1})}function Q(ve){ve.button===0&&(ve.preventDefault(),U(ve),window.addEventListener("mousemove",se,ee),window.addEventListener("mouseup",Se,{passive:!1}))}const W=ve=>{const fe=(ve-p.value)/(m.value-p.value)*100;return Pn(isNaN(fe)?0:fe,0,100)},ue=q(t,"showTicks"),$e=T(()=>ue.value?t.ticks?Array.isArray(t.ticks)?t.ticks.map(ve=>({value:ve,position:W(ve),label:ve.toString()})):Object.keys(t.ticks).map(ve=>({value:parseFloat(ve),position:W(parseFloat(ve)),label:t.ticks[ve]})):x.value!==1/0?_a(x.value+1).map(ve=>{const fe=p.value+ve*y.value;return{value:fe,position:W(fe)}}):[]:[]),Te=T(()=>$e.value.some(ve=>{let{label:fe}=ve;return!!fe})),Ne={activeThumbRef:P,color:q(t,"color"),decimals:g,disabled:E,direction:q(t,"direction"),elevation:q(t,"elevation"),hasLabels:Te,isReversed:l,indexFromEnd:h,min:p,max:m,mousePressed:M,numTicks:x,onSliderMousedown:Q,onSliderTouchstart:ie,parsedTicks:$e,parseMouseMove:R,position:W,readonly:q(t,"readonly"),rounded:q(t,"rounded"),roundValue:v,showTicks:ue,startOffset:L,step:y,thumbSize:b,thumbColor:$,thumbLabel:q(t,"thumbLabel"),ticks:q(t,"ticks"),tickSize:w,trackColor:I,trackContainerRef:O,trackFillColor:A,trackSize:S,vertical:c};return Yt(CP,Ne),Ne},Ioe=z({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,...xe()},"VSliderThumb"),NE=Z()({name:"VSliderThumb",directives:{Ripple:jl},props:Ioe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n,emit:i}=t;const r=ft(CP),{isRtl:s,rtlClasses:o}=Xn();if(!r)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:a,step:l,disabled:c,thumbSize:h,thumbLabel:p,direction:m,isReversed:y,vertical:g,readonly:v,elevation:b,mousePressed:w,decimals:S,indexFromEnd:x}=r,E=T(()=>c.value?void 0:b.value),{elevationClasses:$}=Ei(E),{textColorClasses:I,textColorStyles:A}=Ri(a),{pageup:M,pagedown:L,end:O,home:P,left:R,right:V,down:U,up:ee}=hE,se=[M,L,O,P,R,V,U,ee],Se=T(()=>l.value?[1,2,3]:[1,5,10]);function oe(Q,W){if(!se.includes(Q.key))return;Q.preventDefault();const ue=l.value||.1,$e=(e.max-e.min)/ue;if([R,V,U,ee].includes(Q.key)){const Ne=(g.value?[s.value?R:V,y.value?U:ee]:x.value!==s.value?[R,ee]:[V,ee]).includes(Q.key)?1:-1,ve=Q.shiftKey?2:Q.ctrlKey?1:0;W=W+Ne*ue*Se.value[ve]}else if(Q.key===P)W=e.min;else if(Q.key===O)W=e.max;else{const Te=Q.key===L?1:-1;W=W-Te*ue*($e>100?$e/10:10)}return Math.max(e.min,Math.min(e.max,W))}function ie(Q){const W=oe(Q,e.modelValue);W!=null&&i("update:modelValue",W)}return X(()=>{const Q=_e(x.value?100-e.position:e.position,"%");return _("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&w.value},e.class,o.value],style:[{"--v-slider-thumb-position":Q,"--v-slider-thumb-size":_e(h.value)},e.style],role:"slider",tabindex:c.value?-1:0,"aria-label":e.name,"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.modelValue,"aria-readonly":!!v.value,"aria-orientation":m.value,onKeydown:v.value?void 0:ie},[_("div",{class:["v-slider-thumb__surface",I.value,$.value],style:{...A.value}},null),ln(_("div",{class:["v-slider-thumb__ripple",I.value],style:A.value},null),[[_s("ripple"),e.ripple,null,{circle:!0,center:!0}]]),_(uP,{origin:"bottom center"},{default:()=>[ln(_("div",{class:"v-slider-thumb__label-container"},[_("div",{class:["v-slider-thumb__label"]},[_("div",null,[n["thumb-label"]?.({modelValue:e.modelValue})??e.modelValue.toFixed(l.value?S.value:1)])])]),[[Zo,p.value&&e.focused||p.value==="always"]])]})])}),{}}}),Coe=z({start:{type:Number,required:!0},stop:{type:Number,required:!0},...xe()},"VSliderTrack"),_B=Z()({name:"VSliderTrack",props:Coe(),emits:{},setup(e,t){let{slots:n}=t;const i=ft(CP);if(!i)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:r,parsedTicks:s,rounded:o,showTicks:a,tickSize:l,trackColor:c,trackFillColor:h,trackSize:p,vertical:m,min:y,max:g,indexFromEnd:v}=i,{roundedClasses:b}=gn(o),{backgroundColorClasses:w,backgroundColorStyles:S}=Dt(h),{backgroundColorClasses:x,backgroundColorStyles:E}=Dt(c),$=T(()=>`inset-${m.value?"block":"inline"}-${v.value?"end":"start"}`),I=T(()=>m.value?"height":"width"),A=T(()=>({[$.value]:"0%",[I.value]:"100%"})),M=T(()=>e.stop-e.start),L=T(()=>({[$.value]:_e(e.start,"%"),[I.value]:_e(M.value,"%")})),O=T(()=>a.value?(m.value?s.value.slice().reverse():s.value).map((R,V)=>{const U=R.value!==y.value&&R.value!==g.value?_e(R.position,"%"):void 0;return _("div",{key:R.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":R.position>=e.start&&R.position<=e.stop,"v-slider-track__tick--first":R.value===y.value,"v-slider-track__tick--last":R.value===g.value}],style:{[$.value]:U}},[(R.label||n["tick-label"])&&_("div",{class:"v-slider-track__tick-label"},[n["tick-label"]?.({tick:R,index:V})??R.label])])}):[]);return X(()=>_("div",{class:["v-slider-track",b.value,e.class],style:[{"--v-slider-track-size":_e(p.value),"--v-slider-tick-size":_e(l.value)},e.style]},[_("div",{class:["v-slider-track__background",x.value,{"v-slider-track__background--opacity":!!r.value||!h.value}],style:{...A.value,...E.value}},null),_("div",{class:["v-slider-track__fill",w.value],style:{...L.value,...S.value}},null),a.value&&_("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":a.value==="always"}]},[O.value])])),{}}}),Moe=z({...U0(),...vB(),...Bl(),modelValue:{type:[Number,String],default:0}},"VSlider"),DE=Z()({name:"VSlider",props:Moe(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,t){let{slots:n,emit:i}=t;const r=ae(),{rtlClasses:s}=Xn(),o=bB(e),a=Pe(e,"modelValue",void 0,I=>o.roundValue(I??o.min.value)),{min:l,max:c,mousePressed:h,roundValue:p,onSliderMousedown:m,onSliderTouchstart:y,trackContainerRef:g,position:v,hasLabels:b,readonly:w}=wB({props:e,steps:o,onSliderStart:()=>{i("start",a.value)},onSliderEnd:I=>{let{value:A}=I;const M=p(A);a.value=M,i("end",M)},onSliderMove:I=>{let{value:A}=I;return a.value=p(A)},getActiveThumb:()=>r.value?.$el}),{isFocused:S,focus:x,blur:E}=zl(e),$=T(()=>v(a.value));return X(()=>{const I=Ni.filterProps(e),A=!!(e.label||n.label||n.prepend);return _(Ni,K({class:["v-slider",{"v-slider--has-labels":!!n["tick-label"]||b.value,"v-slider--focused":S.value,"v-slider--pressed":h.value,"v-slider--disabled":e.disabled},s.value,e.class],style:e.style},I,{focused:S.value}),{...n,prepend:A?M=>_(Be,null,[n.label?.(M)??(e.label?_(Ym,{id:M.id.value,class:"v-slider__label",text:e.label},null):void 0),n.prepend?.(M)]):void 0,default:M=>{let{id:L,messagesId:O}=M;return _("div",{class:"v-slider__container",onMousedown:w.value?void 0:m,onTouchstartPassive:w.value?void 0:y},[_("input",{id:L.value,name:e.name||L.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:a.value},null),_(_B,{ref:g,start:0,stop:$.value},{"tick-label":n["tick-label"]}),_(NE,{ref:r,"aria-describedby":O.value,focused:S.value,min:l.value,max:c.value,modelValue:a.value,"onUpdate:modelValue":P=>a.value=P,position:$.value,elevation:e.elevation,onFocus:x,onBlur:E,ripple:e.ripple,name:e.name},{"thumb-label":n["thumb-label"]})])}})}),{}}}),koe=z({color:{type:Object},disabled:Boolean,hideAlpha:Boolean,...xe()},"VColorPickerPreview"),Aoe=Ss({name:"VColorPickerPreview",props:koe(),emits:{"update:color":e=>!0},setup(e,t){let{emit:n}=t;const i=new AbortController;gte(()=>i.abort());async function r(){if(!cR)return;const s=new window.EyeDropper;try{const o=await s.open({signal:i.signal}),a=N0(hs(o.sRGBHex));n("update:color",{...e.color??Pf,...a})}catch{}}return X(()=>_("div",{class:["v-color-picker-preview",{"v-color-picker-preview--hide-alpha":e.hideAlpha},e.class],style:e.style},[cR&&_("div",{class:"v-color-picker-preview__eye-dropper",key:"eyeDropper"},[_(vt,{onClick:r,icon:"$eyeDropper",variant:"plain",density:"comfortable"},null)]),_("div",{class:"v-color-picker-preview__dot"},[_("div",{style:{background:L8(e.color??Pf)}},null)]),_("div",{class:"v-color-picker-preview__sliders"},[_(DE,{class:"v-color-picker-preview__track v-color-picker-preview__hue",modelValue:e.color?.h,"onUpdate:modelValue":s=>n("update:color",{...e.color??Pf,h:s}),step:0,min:0,max:360,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null),!e.hideAlpha&&_(DE,{class:"v-color-picker-preview__track v-color-picker-preview__alpha",modelValue:e.color?.a??1,"onUpdate:modelValue":s=>n("update:color",{...e.color??Pf,a:s}),step:1/256,min:0,max:1,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null)])])),{}}}),Poe={base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"},Loe={base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"},Ooe={base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"},Roe={base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"},Noe={base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"},Doe={base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"},Voe={base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"},Foe={base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"},joe={base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"},zoe={base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"},Boe={base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"},Uoe={base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"},Goe={base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"},Hoe={base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"},qoe={base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"},Woe={base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"},Zoe={base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"},Yoe={base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"},Joe={base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"},Koe={black:"#000000",white:"#ffffff",transparent:"#ffffff00"},Xoe={red:Poe,pink:Loe,purple:Ooe,deepPurple:Roe,indigo:Noe,blue:Doe,lightBlue:Voe,cyan:Foe,teal:joe,green:zoe,lightGreen:Boe,lime:Uoe,yellow:Goe,amber:Hoe,orange:qoe,deepOrange:Woe,brown:Zoe,blueGrey:Yoe,grey:Joe,shades:Koe},Qoe=z({swatches:{type:Array,default:()=>eae(Xoe)},disabled:Boolean,color:Object,maxHeight:[Number,String],...xe()},"VColorPickerSwatches");function eae(e){return Object.keys(e).map(t=>{const n=e[t];return n.base?[n.base,n.darken4,n.darken3,n.darken2,n.darken1,n.lighten1,n.lighten2,n.lighten3,n.lighten4,n.lighten5]:[n.black,n.white,n.transparent]})}const tae=Ss({name:"VColorPickerSwatches",props:Qoe(),emits:{"update:color":e=>!0},setup(e,t){let{emit:n}=t;return X(()=>_("div",{class:["v-color-picker-swatches",e.class],style:[{maxHeight:_e(e.maxHeight)},e.style]},[_("div",null,[e.swatches.map(i=>_("div",{class:"v-color-picker-swatches__swatch"},[i.map(r=>{const s=hs(r),o=N0(s),a=P8(s);return _("div",{class:"v-color-picker-swatches__color",onClick:()=>o&&n("update:color",o)},[_("div",{style:{background:a}},[e.color&&nr(e.color,o)?_(bt,{size:"x-small",icon:"$success",color:one(r,"#FFFFFF")>2?"white":"black"},null):void 0])])})]))])])),{}}}),T2=z({color:String,...Yr(),...xe(),...Vn(),...Qn(),...Fl(),...Wm(),...Jt(),...Je(),...ct()},"VSheet"),Ih=Z()({name:"VSheet",props:T2(),setup(e,t){let{slots:n}=t;const{themeClasses:i}=xt(e),{backgroundColorClasses:r,backgroundColorStyles:s}=Dt(q(e,"color")),{borderClasses:o}=$s(e),{dimensionStyles:a}=Fn(e),{elevationClasses:l}=Ei(e),{locationStyles:c}=ep(e),{positionClasses:h}=Zm(e),{roundedClasses:p}=gn(e);return X(()=>_(e.tag,{class:["v-sheet",i.value,r.value,o.value,l.value,h.value,p.value,e.class],style:[s.value,a.value,c.value,e.style]},n)),{}}}),nae=z({canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},hideCanvas:Boolean,hideSliders:Boolean,hideInputs:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(fh).includes(e)},modes:{type:Array,default:()=>Object.keys(fh),validator:e=>Array.isArray(e)&&e.every(t=>Object.keys(fh).includes(t))},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},modelValue:{type:[Object,String]},...Ln(T2({width:300}),["height","location","minHeight","maxHeight","minWidth","maxWidth"])},"VColorPicker"),iae=Ss({name:"VColorPicker",props:nae(),emits:{"update:modelValue":e=>!0,"update:mode":e=>!0},setup(e){const t=Pe(e,"mode"),n=ae(null),i=Pe(e,"modelValue",void 0,l=>{if(l==null||l==="")return null;let c;try{c=N0(hs(l))}catch{return null}return c},l=>l?boe(l,e.modelValue):null),r=T(()=>i.value?{...i.value,h:n.value??i.value.h}:null),{rtlClasses:s}=Xn();let o=!0;be(i,l=>{if(!o){o=!0;return}l&&(n.value=l.h)},{immediate:!0});const a=l=>{o=!1,n.value=l.h,i.value=l};return R0(()=>{e.modes.includes(t.value)||(t.value=e.modes[0])}),mn({VSlider:{color:void 0,trackColor:void 0,trackFillColor:void 0}}),X(()=>{const l=Ih.filterProps(e);return _(Ih,K({rounded:e.rounded,elevation:e.elevation,theme:e.theme,class:["v-color-picker",s.value,e.class],style:[{"--v-color-picker-color-hsv":L8({...r.value??Pf,a:1})},e.style]},l,{maxWidth:e.width}),{default:()=>[!e.hideCanvas&&_(goe,{key:"canvas",color:r.value,"onUpdate:color":a,disabled:e.disabled,dotSize:e.dotSize,width:e.width,height:e.canvasHeight},null),(!e.hideSliders||!e.hideInputs)&&_("div",{key:"controls",class:"v-color-picker__controls"},[!e.hideSliders&&_(Aoe,{key:"preview",color:r.value,"onUpdate:color":a,hideAlpha:!t.value.endsWith("a"),disabled:e.disabled},null),!e.hideInputs&&_(Toe,{key:"edit",modes:e.modes,mode:t.value,"onUpdate:mode":c=>t.value=c,color:r.value,"onUpdate:color":a,disabled:e.disabled},null)]),e.showSwatches&&_(tae,{key:"swatches",color:r.value,"onUpdate:color":a,maxHeight:e.swatchesMaxHeight,swatches:e.swatches,disabled:e.disabled},null)]})}),{}}});function rae(e,t,n){if(t==null)return e;if(Array.isArray(t))throw new Error("Multiple matches is not implemented");return typeof t=="number"&&~t?_(Be,null,[_("span",{class:"v-combobox__unmask"},[e.substr(0,t)]),_("span",{class:"v-combobox__mask"},[e.substr(t,n)]),_("span",{class:"v-combobox__unmask"},[e.substr(t+n)])]):e}const sae=z({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:{type:Boolean,default:!0},delimiters:Array,...W0({filterKeys:["title"]}),...TP({hideNoData:!0,returnObject:!0}),...Ln(_2({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Yo({transition:!1})},"VCombobox"),oae=Z()({name:"VCombobox",props:sae(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:search":e=>!0,"update:menu":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const{t:r}=Sn(),s=ae(),o=ce(!1),a=ce(!0),l=ce(!1),c=ae(),h=ae(),p=Pe(e,"menu"),m=T({get:()=>p.value,set:de=>{p.value&&!de&&c.value?.ΨopenChildren.size||(p.value=de)}}),y=ce(-1);let g=!1;const v=T(()=>s.value?.color),b=T(()=>m.value?e.closeText:e.openText),{items:w,transformIn:S,transformOut:x}=vP(e),{textColorClasses:E,textColorStyles:$}=Ri(v),I=Pe(e,"modelValue",[],de=>S(sn(de)),de=>{const Ze=x(de);return e.multiple?Ze:Ze[0]??null}),A=v2(e),M=T(()=>!!(e.chips||i.chip)),L=T(()=>M.value||!!i.selection),O=ce(!e.multiple&&!L.value?I.value[0]?.title??"":""),P=T({get:()=>O.value,set:de=>{if(O.value=de??"",!e.multiple&&!L.value&&(I.value=[Hu(e,de)]),de&&e.multiple&&e.delimiters?.length){const Ze=de.split(new RegExp(`(?:${e.delimiters.join("|")})+`));Ze.length>1&&(Ze.forEach(De=>{De=De.trim(),De&&ze(Hu(e,De))}),O.value="")}de||(y.value=-1),a.value=!de}}),R=T(()=>typeof e.counterValue=="function"?e.counterValue(I.value):typeof e.counterValue=="number"?e.counterValue:e.multiple?I.value.length:P.value.length);be(O,de=>{g?_t(()=>g=!1):o.value&&!m.value&&(m.value=!0),n("update:search",de)}),be(I,de=>{!e.multiple&&!L.value&&(O.value=de[0]?.title??"")});const{filteredItems:V,getMatches:U}=Z0(e,w,()=>a.value?"":P.value),ee=T(()=>e.hideSelected?V.value.filter(de=>!I.value.some(Ze=>Ze.value===de.value)):V.value),se=T(()=>I.value.map(de=>de.value)),Se=T(()=>(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&P.value===ee.value[0]?.title)&&ee.value.length>0&&!a.value&&!l.value),oe=T(()=>e.hideNoData&&!ee.value.length||A.isReadonly.value||A.isDisabled.value),ie=ae(),Q=$P(ie,s);function W(de){g=!0,e.openOnClear&&(m.value=!0)}function ue(){oe.value||(m.value=!0)}function $e(de){oe.value||(o.value&&(de.preventDefault(),de.stopPropagation()),m.value=!m.value)}function Te(de){de.key!==" "&&fm(de)&&s.value?.focus()}function Ne(de){if(Cte(de)||A.isReadonly.value)return;const Ze=s.value.selectionStart,De=I.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(de.key)&&de.preventDefault(),["Enter","ArrowDown"].includes(de.key)&&(m.value=!0),["Escape"].includes(de.key)&&(m.value=!1),["Enter","Escape","Tab"].includes(de.key)&&(Se.value&&["Enter","Tab"].includes(de.key)&&!I.value.some(ke=>{let{value:ot}=ke;return ot===ee.value[0].value})&&ze(V.value[0]),a.value=!0),de.key==="ArrowDown"&&Se.value&&ie.value?.focus("next"),de.key==="Enter"&&P.value&&(ze(Hu(e,P.value)),L.value&&(O.value="")),["Backspace","Delete"].includes(de.key)){if(!e.multiple&&L.value&&I.value.length>0&&!P.value)return ze(I.value[0],!1);if(~y.value){de.preventDefault();const ke=y.value;ze(I.value[y.value],!1),y.value=ke>=De-1?De-2:ke}else de.key==="Backspace"&&!P.value&&(y.value=De-1);return}if(e.multiple)if(de.key==="ArrowLeft"){if(y.value<0&&Ze>0)return;const ke=y.value>-1?y.value-1:De-1;I.value[ke]?y.value=ke:(y.value=-1,s.value.setSelectionRange(P.value.length,P.value.length))}else if(de.key==="ArrowRight"){if(y.value<0)return;const ke=y.value+1;I.value[ke]?y.value=ke:(y.value=-1,s.value.setSelectionRange(0,0))}else~y.value&&fm(de)&&(y.value=-1)}function ve(){e.eager&&h.value?.calculateVisibleItems()}function fe(){o.value&&(a.value=!0,s.value?.focus())}function ze(de){let Ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!de||de.props.disabled))if(e.multiple){const De=I.value.findIndex(ot=>(e.valueComparator||nr)(ot.value,de.value)),ke=Ze??!~De;if(~De){const ot=ke?[...I.value,de]:[...I.value];ot.splice(De,1),I.value=ot}else ke&&(I.value=[...I.value,de]);e.clearOnSelect&&(P.value="")}else{const De=Ze!==!1;I.value=De?[de]:[],O.value=De&&!L.value?de.title:"",_t(()=>{m.value=!1,a.value=!0})}}function Ht(de){o.value=!0,setTimeout(()=>{l.value=!0})}function yt(de){l.value=!1}function Me(de){(de==null||de===""&&!e.multiple&&!L.value)&&(I.value=[])}return be(o,(de,Ze)=>{if(!(de||de===Ze)&&(y.value=-1,m.value=!1,P.value)){if(e.multiple){ze(Hu(e,P.value));return}if(!L.value)return;I.value.some(De=>{let{title:ke}=De;return ke===P.value})?O.value="":ze(Hu(e,P.value))}}),be(m,()=>{if(!e.hideSelected&&m.value&&I.value.length){const de=ee.value.findIndex(Ze=>I.value.some(De=>(e.valueComparator||nr)(De.value,Ze.value)));gt&&window.requestAnimationFrame(()=>{de>=0&&h.value?.scrollToIndex(de)})}}),be(()=>e.items,(de,Ze)=>{m.value||o.value&&!Ze.length&&de.length&&(m.value=!0)}),X(()=>{const de=!!(!e.hideNoData||ee.value.length||i["prepend-item"]||i["append-item"]||i["no-data"]),Ze=I.value.length>0,De=$h.filterProps(e);return _($h,K({ref:s},De,{modelValue:P.value,"onUpdate:modelValue":[ke=>P.value=ke,Me],focused:o.value,"onUpdate:focused":ke=>o.value=ke,validationValue:I.externalValue,counterValue:R.value,dirty:Ze,class:["v-combobox",{"v-combobox--active-menu":m.value,"v-combobox--chips":!!e.chips,"v-combobox--selection-slot":!!L.value,"v-combobox--selecting-index":y.value>-1,[`v-combobox--${e.multiple?"multiple":"single"}`]:!0},e.class],style:e.style,readonly:A.isReadonly.value,placeholder:Ze?void 0:e.placeholder,"onClick:clear":W,"onMousedown:control":ue,onKeydown:Ne}),{...i,default:()=>_(Be,null,[_(vm,K({ref:c,modelValue:m.value,"onUpdate:modelValue":ke=>m.value=ke,activator:"parent",contentClass:"v-combobox__content",disabled:oe.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:ve,onAfterLeave:fe},e.menuProps),{default:()=>[de&&_(b2,K({ref:ie,selected:se.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:ke=>ke.preventDefault(),onKeydown:Te,onFocusin:Ht,onFocusout:yt,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},Q,e.listProps),{default:()=>[i["prepend-item"]?.(),!ee.value.length&&!e.hideNoData&&(i["no-data"]?.()??_(Pl,{key:"no-data",title:r(e.noDataText)},null)),_(S2,{ref:h,renderless:!0,items:ee.value},{default:ke=>{let{item:ot,index:Ci,itemRef:Ts}=ke;const Jr=K(ot.props,{ref:Ts,key:ot.value,active:Se.value&&Ci===0?!0:void 0,onClick:()=>ze(ot,null)});return i.item?.({item:ot,index:Ci,props:Jr})??_(Pl,K(Jr,{role:"option"}),{prepend:On=>{let{isSelected:Fi}=On;return _(Be,null,[e.multiple&&!e.hideSelected?_(Al,{key:ot.value,modelValue:Fi,ripple:!1,tabindex:"-1"},null):void 0,ot.props.prependAvatar&&_(Ys,{image:ot.props.prependAvatar},null),ot.props.prependIcon&&_(bt,{icon:ot.props.prependIcon},null)])},title:()=>a.value?ot.title:rae(ot.title,U(ot)?.title,P.value?.length??0)})}}),i["append-item"]?.()]})]}),I.value.map((ke,ot)=>{function Ci(Fi){Fi.stopPropagation(),Fi.preventDefault(),ze(ke,!1)}const Ts={"onClick:close":Ci,onKeydown(Fi){Fi.key!=="Enter"&&Fi.key!==" "||(Fi.preventDefault(),Fi.stopPropagation(),Ci(Fi))},onMousedown(Fi){Fi.preventDefault(),Fi.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},Jr=M.value?!!i.chip:!!i.selection,On=Jr?a2(M.value?i.chip({item:ke,index:ot,props:Ts}):i.selection({item:ke,index:ot})):void 0;if(!(Jr&&!On))return _("div",{key:ke.value,class:["v-combobox__selection",ot===y.value&&["v-combobox__selection--selected",E.value]],style:ot===y.value?$.value:{}},[M.value?i.chip?_(st,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:ke.title}}},{default:()=>[On]}):_(Jm,K({key:"chip",closable:e.closableChips,size:"small",text:ke.title,disabled:ke.props.disabled},Ts),null):On??_("span",{class:"v-combobox__selection-text"},[ke.title,e.multiple&&ot<I.value.length-1&&_("span",{class:"v-combobox__selection-comma"},[fs(",")])])])})]),"append-inner":function(){for(var ke=arguments.length,ot=new Array(ke),Ci=0;Ci<ke;Ci++)ot[Ci]=arguments[Ci];return _(Be,null,[i["append-inner"]?.(...ot),(!e.hideNoData||e.items.length)&&e.menuIcon?_(bt,{class:"v-combobox__menu-icon",icon:e.menuIcon,onMousedown:$e,onClick:$8,"aria-label":r(b.value),title:r(b.value),tabindex:"-1"},null):void 0])}})}),to({isFocused:o,isPristine:a,menu:m,search:P,selectionIndex:y,filteredItems:V,select:ze},s)}}),aae=z({modelValue:null,color:String,cancelText:{type:String,default:"$vuetify.confirmEdit.cancel"},okText:{type:String,default:"$vuetify.confirmEdit.ok"}},"VConfirmEdit"),lae=Z()({name:"VConfirmEdit",props:aae(),emits:{cancel:()=>!0,save:e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const r=Pe(e,"modelValue"),s=ae();wn(()=>{s.value=structuredClone(An(r.value))});const{t:o}=Sn(),a=T(()=>nr(r.value,s.value));function l(){r.value=s.value,n("save",s.value)}function c(){s.value=structuredClone(An(r.value)),n("cancel")}function h(m){return _(Be,null,[_(vt,K({disabled:a.value,variant:"text",color:e.color,onClick:c,text:o(e.cancelText)},m),null),_(vt,K({disabled:a.value,variant:"text",color:e.color,onClick:l,text:o(e.okText)},m),null)])}let p=!1;return X(()=>_(Be,null,[i.default?.({model:s,save:l,cancel:c,isPristine:a.value,get actions(){return p=!0,h}}),!p&&h()])),{save:l,cancel:c,isPristine:a}}}),SB=z({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),xB=Symbol.for("vuetify:datatable:expanded");function E2(e){const t=q(e,"expandOnClick"),n=Pe(e,"expanded",e.expanded,a=>new Set(a),a=>[...a.values()]);function i(a,l){const c=new Set(n.value);l?c.add(a.value):c.delete(a.value),n.value=c}function r(a){return n.value.has(a.value)}function s(a){i(a,!r(a))}const o={expand:i,expanded:n,expandOnClick:t,isExpanded:r,toggleExpand:s};return Yt(xB,o),o}function $B(){const e=ft(xB);if(!e)throw new Error("foo");return e}const MP=z({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),TB=Symbol.for("vuetify:data-table-group");function kP(e){return{groupBy:Pe(e,"groupBy")}}function I2(e){const{disableSort:t,groupBy:n,sortBy:i}=e,r=ae(new Set),s=T(()=>n.value.map(h=>({...h,order:h.order??!1})).concat(t?.value?[]:i.value));function o(h){return r.value.has(h.id)}function a(h){const p=new Set(r.value);o(h)?p.delete(h.id):p.add(h.id),r.value=p}function l(h){function p(m){const y=[];for(const g of m.items)"type"in g&&g.type==="group"?y.push(...p(g)):y.push(g);return[...new Set(y)]}return p({items:h})}const c={sortByWithGroups:s,toggleGroup:a,opened:r,groupBy:n,extractRows:l,isGroupOpen:o};return Yt(TB,c),c}function EB(){const e=ft(TB);if(!e)throw new Error("Missing group!");return e}function uae(e,t){if(!e.length)return[];const n=new Map;for(const i of e){const r=xh(i.raw,t);n.has(r)||n.set(r,[]),n.get(r).push(i)}return n}function IB(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!t.length)return[];const r=uae(e,t[0]),s=[],o=t.slice(1);return r.forEach((a,l)=>{const c=t[0],h=`${i}_${c}_${l}`;s.push({depth:n,id:h,key:c,value:l,items:o.length?IB(a,o,n+1,h):a,type:"group"})}),s}function CB(e,t){const n=[];for(const i of e)"type"in i&&i.type==="group"?(i.value!=null&&n.push(i),(t.has(i.id)||i.value==null)&&n.push(...CB(i.items,t))):n.push(i);return n}function C2(e,t,n){return{flatItems:T(()=>{if(!t.value.length)return e.value;const r=IB(e.value,t.value.map(s=>s.key));return CB(r,n.value)})}}function M2(e){let{page:t,itemsPerPage:n,sortBy:i,groupBy:r,search:s}=e;const o=yn("VDataTable"),a=T(()=>({page:t.value,itemsPerPage:n.value,sortBy:i.value,groupBy:r.value,search:s.value}));let l=null;be(a,()=>{nr(l,a.value)||(l&&l.search!==a.value.search&&(t.value=1),o.emit("update:options",a.value),l=a.value)},{deep:!0,immediate:!0})}const AP=z({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),MB=Symbol.for("vuetify:data-table-pagination");function PP(e){const t=Pe(e,"page",void 0,i=>Number(i??1)),n=Pe(e,"itemsPerPage",void 0,i=>Number(i??10));return{page:t,itemsPerPage:n}}function LP(e){const{page:t,itemsPerPage:n,itemsLength:i}=e,r=T(()=>n.value===-1?0:n.value*(t.value-1)),s=T(()=>n.value===-1?i.value:Math.min(i.value,r.value+n.value)),o=T(()=>n.value===-1||i.value===0?1:Math.ceil(i.value/n.value));be([t,o],()=>{t.value>o.value&&(t.value=o.value)});function a(m){n.value=m,t.value=1}function l(){t.value=Pn(t.value+1,1,o.value)}function c(){t.value=Pn(t.value-1,1,o.value)}function h(m){t.value=Pn(m,1,o.value)}const p={page:t,itemsPerPage:n,startIndex:r,stopIndex:s,pageCount:o,itemsLength:i,nextPage:l,prevPage:c,setPage:h,setItemsPerPage:a};return Yt(MB,p),p}function cae(){const e=ft(MB);if(!e)throw new Error("Missing pagination!");return e}function kB(e){const t=yn("usePaginatedItems"),{items:n,startIndex:i,stopIndex:r,itemsPerPage:s}=e,o=T(()=>s.value<=0?n.value:n.value.slice(i.value,r.value));return be(o,a=>{t.emit("update:currentItems",a)},{immediate:!0}),{paginatedItems:o}}const dae={showSelectAll:!1,allSelected:()=>[],select:e=>{let{items:t,value:n}=e;return new Set(n?[t[0]?.value]:[])},selectAll:e=>{let{selected:t}=e;return t}},AB={showSelectAll:!0,allSelected:e=>{let{currentPage:t}=e;return t},select:e=>{let{items:t,value:n,selected:i}=e;for(const r of t)n?i.add(r.value):i.delete(r.value);return i},selectAll:e=>{let{value:t,currentPage:n,selected:i}=e;return AB.select({items:n,value:t,selected:i})}},PB={showSelectAll:!0,allSelected:e=>{let{allItems:t}=e;return t},select:e=>{let{items:t,value:n,selected:i}=e;for(const r of t)n?i.add(r.value):i.delete(r.value);return i},selectAll:e=>{let{value:t,allItems:n,selected:i}=e;return PB.select({items:n,value:t,selected:i})}},LB=z({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:nr}},"DataTable-select"),OB=Symbol.for("vuetify:data-table-selection");function k2(e,t){let{allItems:n,currentPage:i}=t;const r=Pe(e,"modelValue",e.modelValue,w=>new Set(sn(w).map(S=>n.value.find(x=>e.valueComparator(S,x.value))?.value??S)),w=>[...w.values()]),s=T(()=>n.value.filter(w=>w.selectable)),o=T(()=>i.value.filter(w=>w.selectable)),a=T(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return dae;case"all":return PB;case"page":default:return AB}});function l(w){return sn(w).every(S=>r.value.has(S.value))}function c(w){return sn(w).some(S=>r.value.has(S.value))}function h(w,S){const x=a.value.select({items:w,value:S,selected:new Set(r.value)});r.value=x}function p(w){h([w],!l([w]))}function m(w){const S=a.value.selectAll({value:w,allItems:s.value,currentPage:o.value,selected:new Set(r.value)});r.value=S}const y=T(()=>r.value.size>0),g=T(()=>{const w=a.value.allSelected({allItems:s.value,currentPage:o.value});return!!w.length&&l(w)}),v=T(()=>a.value.showSelectAll),b={toggleSelect:p,select:h,selectAll:m,isSelected:l,isSomeSelected:c,someSelected:y,allSelected:g,showSelectAll:v};return Yt(OB,b),b}function A2(){const e=ft(OB);if(!e)throw new Error("Missing selection!");return e}const RB=z({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),NB=Symbol.for("vuetify:data-table-sort");function P2(e){const t=Pe(e,"sortBy"),n=q(e,"mustSort"),i=q(e,"multiSort");return{sortBy:t,mustSort:n,multiSort:i}}function L2(e){const{sortBy:t,mustSort:n,multiSort:i,page:r}=e,s=l=>{if(l.key==null)return;let c=t.value.map(p=>({...p}))??[];const h=c.find(p=>p.key===l.key);h?h.order==="desc"?n.value&&c.length===1?h.order="asc":c=c.filter(p=>p.key!==l.key):h.order="desc":i.value?c.push({key:l.key,order:"asc"}):c=[{key:l.key,order:"asc"}],t.value=c,r&&(r.value=1)};function o(l){return!!t.value.find(c=>c.key===l.key)}const a={sortBy:t,toggleSort:s,isSorted:o};return Yt(NB,a),a}function DB(){const e=ft(NB);if(!e)throw new Error("Missing sort!");return e}function OP(e,t,n,i){const r=Sn();return{sortedItems:T(()=>n.value.length?hae(t.value,n.value,r.current.value,{transform:i?.transform,sortFunctions:{...e.customKeySort,...i?.sortFunctions?.value},sortRawFunctions:i?.sortRawFunctions?.value}):t.value)}}function hae(e,t,n,i){const r=new Intl.Collator(n,{sensitivity:"accent",usage:"sort"});return e.map(o=>[o,i?.transform?i.transform(o):o]).sort((o,a)=>{for(let l=0;l<t.length;l++){let c=!1;const h=t[l].key,p=t[l].order??"asc";if(p===!1)continue;let m=xh(o[1],h),y=xh(a[1],h),g=o[0].raw,v=a[0].raw;if(p==="desc"&&([m,y]=[y,m],[g,v]=[v,g]),i?.sortRawFunctions?.[h]){const b=i.sortRawFunctions[h](g,v);if(b==null)continue;if(c=!0,b)return b}if(i?.sortFunctions?.[h]){const b=i.sortFunctions[h](m,y);if(b==null)continue;if(c=!0,b)return b}if(!c){if(m instanceof Date&&y instanceof Date)return m.getTime()-y.getTime();if([m,y]=[m,y].map(b=>b!=null?b.toString().toLocaleLowerCase():b),m!==y)return jb(m)&&jb(y)?0:jb(m)?-1:jb(y)?1:!isNaN(m)&&!isNaN(y)?Number(m)-Number(y):r.compare(m,y)}}return 0}).map(o=>{let[a]=o;return a})}const pae=z({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},returnObject:Boolean},"DataIterator-items");function fae(e,t){const n=e.returnObject?t:Wn(t,e.itemValue),i=Wn(t,e.itemSelectable,!0);return{type:"item",value:n,selectable:i,raw:t}}function mae(e,t){const n=[];for(const i of t)n.push(fae(e,i));return n}function yae(e){return{items:T(()=>mae(e,e.items))}}const gae=z({search:String,loading:Boolean,...xe(),...pae(),...LB(),...RB(),...AP({itemsPerPage:5}),...SB(),...MP(),...W0(),...Je(),...Yo({transition:{component:qv,hideOnLeave:!0}})},"VDataIterator"),vae=Z()({name:"VDataIterator",props:gae(),emits:{"update:modelValue":e=>!0,"update:groupBy":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,t){let{slots:n}=t;const i=Pe(e,"groupBy"),r=q(e,"search"),{items:s}=yae(e),{filteredItems:o}=Z0(e,s,r,{transform:W=>W.raw}),{sortBy:a,multiSort:l,mustSort:c}=P2(e),{page:h,itemsPerPage:p}=PP(e),{toggleSort:m}=L2({sortBy:a,multiSort:l,mustSort:c,page:h}),{sortByWithGroups:y,opened:g,extractRows:v,isGroupOpen:b,toggleGroup:w}=I2({groupBy:i,sortBy:a}),{sortedItems:S}=OP(e,o,y,{transform:W=>W.raw}),{flatItems:x}=C2(S,i,g),E=T(()=>x.value.length),{startIndex:$,stopIndex:I,pageCount:A,prevPage:M,nextPage:L,setItemsPerPage:O,setPage:P}=LP({page:h,itemsPerPage:p,itemsLength:E}),{paginatedItems:R}=kB({items:x,startIndex:$,stopIndex:I,itemsPerPage:p}),V=T(()=>v(R.value)),{isSelected:U,select:ee,selectAll:se,toggleSelect:Se}=k2(e,{allItems:s,currentPage:V}),{isExpanded:oe,toggleExpand:ie}=E2(e);M2({page:h,itemsPerPage:p,sortBy:a,groupBy:i,search:r});const Q=T(()=>({page:h.value,itemsPerPage:p.value,sortBy:a.value,pageCount:A.value,toggleSort:m,prevPage:M,nextPage:L,setPage:P,setItemsPerPage:O,isSelected:U,select:ee,selectAll:se,toggleSelect:Se,isExpanded:oe,toggleExpand:ie,isGroupOpen:b,toggleGroup:w,items:V.value,groupedItems:R.value}));return X(()=>_(e.tag,{class:["v-data-iterator",{"v-data-iterator--loading":e.loading},e.class],style:e.style},{default:()=>[n.header?.(Q.value),_(er,{transition:e.transition},{default:()=>[e.loading?_(j0,{key:"loader",name:"v-data-iterator",active:!0},{default:W=>n.loader?.(W)}):_("div",{key:"items"},[R.value.length?n.default?.(Q.value):n["no-data"]?.()])]}),n.footer?.(Q.value)]})),{}}});function bae(){const e=ae([]);vte(()=>e.value=[]);function t(n,i){e.value[i]=n}return{refs:e,updateRef:t}}const wae=z({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:Oe,default:"$first"},prevIcon:{type:Oe,default:"$prev"},nextIcon:{type:Oe,default:"$next"},lastIcon:{type:Oe,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...Yr(),...xe(),...ci(),...Qn(),...Jt(),...Ra(),...Je({tag:"nav"}),...ct(),...eo({variant:"text"})},"VPagination"),VE=Z()({name:"VPagination",props:wae(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,t){let{slots:n,emit:i}=t;const r=Pe(e,"modelValue"),{t:s,n:o}=Sn(),{isRtl:a}=Xn(),{themeClasses:l}=xt(e),{width:c}=Qs(),h=ce(-1);mn(void 0,{scoped:!0});const{resizeRef:p}=Go(M=>{if(!M.length)return;const{target:L,contentRect:O}=M[0],P=L.querySelector(".v-pagination__list > *");if(!P)return;const R=O.width,V=P.offsetWidth+parseFloat(getComputedStyle(P).marginRight)*2;h.value=v(R,V)}),m=T(()=>parseInt(e.length,10)),y=T(()=>parseInt(e.start,10)),g=T(()=>e.totalVisible!=null?parseInt(e.totalVisible,10):h.value>=0?h.value:v(c.value,58));function v(M,L){const O=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(Number(((M-L*O)/L).toFixed(2))))}const b=T(()=>{if(m.value<=0||isNaN(m.value)||m.value>Number.MAX_SAFE_INTEGER)return[];if(g.value<=0)return[];if(g.value===1)return[r.value];if(m.value<=g.value)return _a(m.value,y.value);const M=g.value%2===0,L=M?g.value/2:Math.floor(g.value/2),O=M?L:L+1,P=m.value-L;if(O-r.value>=0)return[..._a(Math.max(1,g.value-1),y.value),e.ellipsis,m.value];if(r.value-P>=(M?1:0)){const R=g.value-1,V=m.value-R+y.value;return[y.value,e.ellipsis,..._a(R,V)]}else{const R=Math.max(1,g.value-2),V=R===1?r.value:r.value-Math.ceil(R/2)+y.value;return[y.value,e.ellipsis,..._a(R,V),e.ellipsis,m.value]}});function w(M,L,O){M.preventDefault(),r.value=L,O&&i(O,L)}const{refs:S,updateRef:x}=bae();mn({VPaginationBtn:{color:q(e,"color"),border:q(e,"border"),density:q(e,"density"),size:q(e,"size"),variant:q(e,"variant"),rounded:q(e,"rounded"),elevation:q(e,"elevation")}});const E=T(()=>b.value.map((M,L)=>{const O=P=>x(P,L);if(typeof M=="string")return{isActive:!1,key:`ellipsis-${L}`,page:M,props:{ref:O,ellipsis:!0,icon:!0,disabled:!0}};{const P=M===r.value;return{isActive:P,key:M,page:o(M),props:{ref:O,ellipsis:!1,icon:!0,disabled:!!e.disabled||Number(e.length)<2,color:P?e.activeColor:e.color,"aria-current":P,"aria-label":s(P?e.currentPageAriaLabel:e.pageAriaLabel,M),onClick:R=>w(R,M)}}}})),$=T(()=>{const M=!!e.disabled||r.value<=y.value,L=!!e.disabled||r.value>=y.value+m.value-1;return{first:e.showFirstLastPage?{icon:a.value?e.lastIcon:e.firstIcon,onClick:O=>w(O,y.value,"first"),disabled:M,"aria-label":s(e.firstAriaLabel),"aria-disabled":M}:void 0,prev:{icon:a.value?e.nextIcon:e.prevIcon,onClick:O=>w(O,r.value-1,"prev"),disabled:M,"aria-label":s(e.previousAriaLabel),"aria-disabled":M},next:{icon:a.value?e.prevIcon:e.nextIcon,onClick:O=>w(O,r.value+1,"next"),disabled:L,"aria-label":s(e.nextAriaLabel),"aria-disabled":L},last:e.showFirstLastPage?{icon:a.value?e.firstIcon:e.lastIcon,onClick:O=>w(O,y.value+m.value-1,"last"),disabled:L,"aria-label":s(e.lastAriaLabel),"aria-disabled":L}:void 0}});function I(){const M=r.value-y.value;S.value[M]?.$el.focus()}function A(M){M.key===hE.left&&!e.disabled&&r.value>Number(e.start)?(r.value=r.value-1,_t(I)):M.key===hE.right&&!e.disabled&&r.value<y.value+m.value-1&&(r.value=r.value+1,_t(I))}return X(()=>_(e.tag,{ref:p,class:["v-pagination",l.value,e.class],style:e.style,role:"navigation","aria-label":s(e.ariaLabel),onKeydown:A,"data-test":"v-pagination-root"},{default:()=>[_("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&_("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[n.first?n.first($.value.first):_(vt,K({_as:"VPaginationBtn"},$.value.first),null)]),_("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[n.prev?n.prev($.value.prev):_(vt,K({_as:"VPaginationBtn"},$.value.prev),null)]),E.value.map((M,L)=>_("li",{key:M.key,class:["v-pagination__item",{"v-pagination__item--is-active":M.isActive}],"data-test":"v-pagination-item"},[n.item?n.item(M):_(vt,K({_as:"VPaginationBtn"},M.props),{default:()=>[M.page]})])),_("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[n.next?n.next($.value.next):_(vt,K({_as:"VPaginationBtn"},$.value.next),null)]),e.showFirstLastPage&&_("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[n.last?n.last($.value.last):_(vt,K({_as:"VPaginationBtn"},$.value.last),null)])])]})),{}}}),RP=z({prevIcon:{type:Oe,default:"$prev"},nextIcon:{type:Oe,default:"$next"},firstIcon:{type:Oe,default:"$first"},lastIcon:{type:Oe,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),Xv=Z()({name:"VDataTableFooter",props:RP(),setup(e,t){let{slots:n}=t;const{t:i}=Sn(),{page:r,pageCount:s,startIndex:o,stopIndex:a,itemsLength:l,itemsPerPage:c,setItemsPerPage:h}=cae(),p=T(()=>e.itemsPerPageOptions.map(m=>typeof m=="number"?{value:m,title:m===-1?i("$vuetify.dataFooter.itemsPerPageAll"):String(m)}:{...m,title:isNaN(Number(m.title))?i(m.title):m.title}));return X(()=>{const m=VE.filterProps(e);return _("div",{class:"v-data-table-footer"},[n.prepend?.(),_("div",{class:"v-data-table-footer__items-per-page"},[_("span",null,[i(e.itemsPerPageText)]),_(EP,{items:p.value,modelValue:c.value,"onUpdate:modelValue":y=>h(Number(y)),density:"compact",variant:"outlined","hide-details":!0},null)]),_("div",{class:"v-data-table-footer__info"},[_("div",null,[i(e.pageText,l.value?o.value+1:0,a.value,l.value)])]),_("div",{class:"v-data-table-footer__pagination"},[_(VE,K({modelValue:r.value,"onUpdate:modelValue":y=>r.value=y,density:"comfortable","first-aria-label":e.firstPageLabel,"last-aria-label":e.lastPageLabel,length:s.value,"next-aria-label":e.nextPageLabel,"previous-aria-label":e.prevPageLabel,rounded:!0,"show-first-last-page":!0,"total-visible":e.showCurrentPage?1:0,variant:"plain"},m),null)])])}),{}}}),P_=dne({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(e,t)=>{let{slots:n}=t;const i=e.tag??"td";return _(i,{class:["v-data-table__td",{"v-data-table-column--fixed":e.fixed,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--no-padding":e.noPadding,"v-data-table-column--nowrap":e.nowrap},`v-data-table-column--align-${e.align}`],style:{height:_e(e.height),width:_e(e.width),maxWidth:_e(e.maxWidth),left:_e(e.fixedOffset||null)}},{default:()=>[n.default?.()]})}),_ae=z({headers:Array},"DataTable-header"),VB=Symbol.for("vuetify:data-table-headers"),FB={title:"",sortable:!1},Sae={...FB,width:48};function xae(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(n=>({element:n,priority:0}));return{enqueue:(n,i)=>{let r=!1;for(let s=0;s<t.length;s++)if(t[s].priority>i){t.splice(s,0,{element:n,priority:i}),r=!0;break}r||t.push({element:n,priority:i})},size:()=>t.length,count:()=>{let n=0;if(!t.length)return 0;const i=Math.floor(t[0].priority);for(let r=0;r<t.length;r++)Math.floor(t[r].priority)===i&&(n+=1);return n},dequeue:()=>t.shift()}}function FE(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)t.push(e);else for(const n of e.children)FE(n,t);return t}function jB(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const n of e)n.key&&t.add(n.key),n.children&&jB(n.children,t);return t}function $ae(e){if(e.key){if(e.key==="data-table-group")return FB;if(["data-table-expand","data-table-select"].includes(e.key))return Sae}}function NP(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(t,...e.children.map(n=>NP(n,t+1))):t}function Tae(e){let t=!1;function n(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(s)if(o&&(s.fixed=!0),s.fixed)if(s.children)for(let a=s.children.length-1;a>=0;a--)n(s.children[a],!0);else t?isNaN(Number(s.width))?(`${s.key}`,void 0):s.minWidth=Math.max(Number(s.width)||0,Number(s.minWidth)||0):s.lastFixed=!0,t=!0;else if(s.children)for(let a=s.children.length-1;a>=0;a--)n(s.children[a]);else t=!1}for(let s=e.length-1;s>=0;s--)n(e[s]);function i(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!s)return o;if(s.children){s.fixedOffset=o;for(const a of s.children)o=i(a,o)}else s.fixed&&(s.fixedOffset=o,o+=parseFloat(s.width||"0")||0);return o}let r=0;for(const s of e)r=i(s,r)}function Eae(e,t){const n=[];let i=0;const r=xae(e);for(;r.size()>0;){let o=r.count();const a=[];let l=1;for(;o>0;){const{element:c,priority:h}=r.dequeue(),p=t-i-NP(c);if(a.push({...c,rowspan:p??1,colspan:c.children?FE(c).length:1}),c.children)for(const m of c.children){const y=h%1+l/Math.pow(10,i+2);r.enqueue(m,i+p+y)}l+=1,o-=1}i+=1,n.push(a)}return{columns:e.map(o=>FE(o)).flat(),headers:n}}function zB(e){const t=[];for(const n of e){const i={...$ae(n),...n},r=i.key??(typeof i.value=="string"?i.value:null),s=i.value??r??null,o={...i,key:r,value:s,sortable:i.sortable??(i.key!=null||!!i.sort),children:i.children?zB(i.children):void 0};t.push(o)}return t}function DP(e,t){const n=ae([]),i=ae([]),r=ae({}),s=ae({}),o=ae({});wn(()=>{const c=(e.headers||Object.keys(e.items[0]??{}).map(v=>({key:v,title:Gm(v)}))).slice(),h=jB(c);t?.groupBy?.value.length&&!h.has("data-table-group")&&c.unshift({key:"data-table-group",title:"Group"}),t?.showSelect?.value&&!h.has("data-table-select")&&c.unshift({key:"data-table-select"}),t?.showExpand?.value&&!h.has("data-table-expand")&&c.push({key:"data-table-expand"});const p=zB(c);Tae(p);const m=Math.max(...p.map(v=>NP(v)))+1,y=Eae(p,m);n.value=y.headers,i.value=y.columns;const g=y.headers.flat(1);for(const v of g)v.key&&(v.sortable&&(v.sort&&(r.value[v.key]=v.sort),v.sortRaw&&(s.value[v.key]=v.sortRaw)),v.filter&&(o.value[v.key]=v.filter))});const a={headers:n,columns:i,sortFunctions:r,sortRawFunctions:s,filterFunctions:o};return Yt(VB,a),a}function O2(){const e=ft(VB);if(!e)throw new Error("Missing headers!");return e}const BB=z({color:String,disableSort:Boolean,fixedHeader:Boolean,multiSort:Boolean,sortAscIcon:{type:Oe,default:"$sortAsc"},sortDescIcon:{type:Oe,default:"$sortDesc"},headerProps:{type:Object},sticky:Boolean,...qh(),...m2()},"VDataTableHeaders"),Ch=Z()({name:"VDataTableHeaders",props:BB(),setup(e,t){let{slots:n}=t;const{t:i}=Sn(),{toggleSort:r,sortBy:s,isSorted:o}=DB(),{someSelected:a,allSelected:l,selectAll:c,showSelectAll:h}=A2(),{columns:p,headers:m}=O2(),{loaderClasses:y}=F0(e);function g(M,L){if(!(!(e.sticky||e.fixedHeader)&&!M.fixed))return{position:"sticky",left:M.fixed?_e(M.fixedOffset):void 0,top:e.sticky||e.fixedHeader?`calc(var(--v-table-header-height) * ${L})`:void 0}}function v(M){const L=s.value.find(O=>O.key===M.key);return L?L.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:b,backgroundColorStyles:w}=Dt(e,"color"),{displayClasses:S,mobile:x}=Qs(e),E=T(()=>({headers:m.value,columns:p.value,toggleSort:r,isSorted:o,sortBy:s.value,someSelected:a.value,allSelected:l.value,selectAll:c,getSortIcon:v})),$=T(()=>["v-data-table__th",{"v-data-table__th--sticky":e.sticky||e.fixedHeader},S.value,y.value]),I=M=>{let{column:L,x:O,y:P}=M;const R=L.key==="data-table-select"||L.key==="data-table-expand",V=K(e.headerProps??{},L.headerProps??{});return _(P_,K({tag:"th",align:L.align,class:[{"v-data-table__th--sortable":L.sortable&&!e.disableSort,"v-data-table__th--sorted":o(L),"v-data-table__th--fixed":L.fixed},...$.value],style:{width:_e(L.width),minWidth:_e(L.minWidth),maxWidth:_e(L.maxWidth),...g(L,P)},colspan:L.colspan,rowspan:L.rowspan,onClick:L.sortable?()=>r(L):void 0,fixed:L.fixed,nowrap:L.nowrap,lastFixed:L.lastFixed,noPadding:R},V),{default:()=>{const U=`header.${L.key}`,ee={column:L,selectAll:c,isSorted:o,toggleSort:r,sortBy:s.value,someSelected:a.value,allSelected:l.value,getSortIcon:v};return n[U]?n[U](ee):L.key==="data-table-select"?n["header.data-table-select"]?.(ee)??(h.value&&_(Al,{modelValue:l.value,indeterminate:a.value&&!l.value,"onUpdate:modelValue":c},null)):_("div",{class:"v-data-table-header__content"},[_("span",null,[L.title]),L.sortable&&!e.disableSort&&_(bt,{key:"icon",class:"v-data-table-header__sort-icon",icon:v(L)},null),e.multiSort&&o(L)&&_("div",{key:"badge",class:["v-data-table-header__sort-badge",...b.value],style:w.value},[s.value.findIndex(se=>se.key===L.key)+1])])}})},A=()=>{const M=K(e.headerProps??{}??{}),L=T(()=>p.value.filter(P=>P?.sortable&&!e.disableSort)),O=T(()=>{if(p.value.find(R=>R.key==="data-table-select")!=null)return l.value?"$checkboxOn":a.value?"$checkboxIndeterminate":"$checkboxOff"});return _(P_,K({tag:"th",class:[...$.value],colspan:m.value.length+1},M),{default:()=>[_("div",{class:"v-data-table-header__content"},[_(EP,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:L.value,label:i("$vuetify.dataTable.sortBy"),multiple:e.multiSort,variant:"underlined","onClick:clear":()=>s.value=[],appendIcon:O.value,"onClick:append":()=>c(!l.value)},{...n,chip:P=>_(Jm,{onClick:P.item.raw?.sortable?()=>r(P.item.raw):void 0,onMousedown:R=>{R.preventDefault(),R.stopPropagation()}},{default:()=>[P.item.title,_(bt,{class:["v-data-table__td-sort-icon",o(P.item.raw)&&"v-data-table__td-sort-icon-active"],icon:v(P.item.raw),size:"small"},null)]})})])]})};X(()=>x.value?_("tr",null,[_(A,null,null)]):_(Be,null,[n.headers?n.headers(E.value):m.value.map((M,L)=>_("tr",null,[M.map((O,P)=>_(I,{column:O,x:P,y:L},null))])),e.loading&&_("tr",{class:"v-data-table-progress"},[_("th",{colspan:p.value.length},[_(j0,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:n.loader})])])]))}}),Iae=z({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),Cae=Z()({name:"VDataTableGroupHeaderRow",props:Iae(),setup(e,t){let{slots:n}=t;const{isGroupOpen:i,toggleGroup:r,extractRows:s}=EB(),{isSelected:o,isSomeSelected:a,select:l}=A2(),{columns:c}=O2(),h=T(()=>s([e.item]));return()=>_("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[c.value.map(p=>{if(p.key==="data-table-group"){const m=i(e.item)?"$expand":"$next",y=()=>r(e.item);return n["data-table-group"]?.({item:e.item,count:h.value.length,props:{icon:m,onClick:y}})??_(P_,{class:"v-data-table-group-header-row__column"},{default:()=>[_(vt,{size:"small",variant:"text",icon:m,onClick:y},null),_("span",null,[e.item.value]),_("span",null,[fs("("),h.value.length,fs(")")])]})}if(p.key==="data-table-select"){const m=o(h.value),y=a(h.value)&&!m,g=v=>l(h.value,v);return n["data-table-select"]?.({props:{modelValue:m,indeterminate:y,"onUpdate:modelValue":g}})??_("td",null,[_(Al,{modelValue:m,indeterminate:y,"onUpdate:modelValue":g},null)])}return _("td",null,null)})])}}),Mae=z({index:Number,item:Object,cellProps:[Object,Function],onClick:xi(),onContextmenu:xi(),onDblclick:xi(),...qh()},"VDataTableRow"),VP=Z()({name:"VDataTableRow",props:Mae(),setup(e,t){let{slots:n}=t;const{displayClasses:i,mobile:r}=Qs(e,"v-data-table__tr"),{isSelected:s,toggleSelect:o,someSelected:a,allSelected:l,selectAll:c}=A2(),{isExpanded:h,toggleExpand:p}=$B(),{toggleSort:m,sortBy:y,isSorted:g}=DB(),{columns:v}=O2();X(()=>_("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)},i.value],onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&v.value.map((b,w)=>{const S=e.item,x=`item.${b.key}`,E=`header.${b.key}`,$={index:e.index,item:S.raw,internalItem:S,value:xh(S.columns,b.key),column:b,isSelected:s,toggleSelect:o,isExpanded:h,toggleExpand:p},I={column:b,selectAll:c,isSorted:g,toggleSort:m,sortBy:y.value,someSelected:a.value,allSelected:l.value,getSortIcon:()=>""},A=typeof e.cellProps=="function"?e.cellProps({index:$.index,item:$.item,internalItem:$.internalItem,value:$.value,column:b}):e.cellProps,M=typeof b.cellProps=="function"?b.cellProps({index:$.index,item:$.item,internalItem:$.internalItem,value:$.value}):b.cellProps;return _(P_,K({align:b.align,class:{"v-data-table__td--expanded-row":b.key==="data-table-expand","v-data-table__td--select-row":b.key==="data-table-select"},fixed:b.fixed,fixedOffset:b.fixedOffset,lastFixed:b.lastFixed,maxWidth:r.value?void 0:b.maxWidth,noPadding:b.key==="data-table-select"||b.key==="data-table-expand",nowrap:b.nowrap,width:r.value?void 0:b.width},A,M),{default:()=>{if(n[x]&&!r.value)return n[x]?.($);if(b.key==="data-table-select")return n["item.data-table-select"]?.($)??_(Al,{disabled:!S.selectable,modelValue:s([S]),onClick:uR(()=>o(S),["stop"])},null);if(b.key==="data-table-expand")return n["item.data-table-expand"]?.($)??_(vt,{icon:h(S)?"$collapse":"$expand",size:"small",variant:"text",onClick:uR(()=>p(S),["stop"])},null);const L=xa($.value);return r.value?_(Be,null,[_("div",{class:"v-data-table__td-title"},[n[E]?.(I)??b.title]),_("div",{class:"v-data-table__td-value"},[n[x]?.($)??L])]):L}})})]))}}),UB=z({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...qh()},"VDataTableRows"),Mh=Z()({name:"VDataTableRows",inheritAttrs:!1,props:UB(),setup(e,t){let{attrs:n,slots:i}=t;const{columns:r}=O2(),{expandOnClick:s,toggleExpand:o,isExpanded:a}=$B(),{isSelected:l,toggleSelect:c}=A2(),{toggleGroup:h,isGroupOpen:p}=EB(),{t:m}=Sn(),{mobile:y}=Qs(e);return X(()=>e.loading&&(!e.items.length||i.loading)?_("tr",{class:"v-data-table-rows-loading",key:"loading"},[_("td",{colspan:r.value.length},[i.loading?.()??m(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?_("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[_("td",{colspan:r.value.length},[i["no-data"]?.()??m(e.noDataText)])]):_(Be,null,[e.items.map((g,v)=>{if(g.type==="group"){const S={index:v,item:g,columns:r.value,isExpanded:a,toggleExpand:o,isSelected:l,toggleSelect:c,toggleGroup:h,isGroupOpen:p};return i["group-header"]?i["group-header"](S):_(Cae,K({key:`group-header_${g.id}`,item:g},kR(n,":group-header",()=>S)),i)}const b={index:v,item:g.raw,internalItem:g,columns:r.value,isExpanded:a,toggleExpand:o,isSelected:l,toggleSelect:c},w={...b,props:K({key:`item_${g.key??g.index}`,onClick:s.value?()=>{o(g)}:void 0,index:v,item:g,cellProps:e.cellProps,mobile:y.value},kR(n,":row",()=>b),typeof e.rowProps=="function"?e.rowProps({item:b.item,index:b.index,internalItem:b.internalItem}):e.rowProps)};return _(Be,{key:w.props.key},[i.item?i.item(w):_(VP,w.props,i),a(g)&&i["expanded-row"]?.(b)])})])),{}}}),GB=z({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...xe(),...ci(),...Je(),...ct()},"VTable"),kh=Z()({name:"VTable",props:GB(),setup(e,t){let{slots:n,emit:i}=t;const{themeClasses:r}=xt(e),{densityClasses:s}=lr(e);return X(()=>_(e.tag,{class:["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!n.top,"v-table--has-bottom":!!n.bottom,"v-table--hover":e.hover},r.value,s.value,e.class],style:e.style},{default:()=>[n.top?.(),n.default?_("div",{class:"v-table__wrapper",style:{height:_e(e.height)}},[_("table",null,[n.default()])]):n.wrapper?.(),n.bottom?.()]})),{}}}),kae=z({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function Aae(e,t,n,i){const r=e.returnObject?t:Wn(t,e.itemValue),s=Wn(t,e.itemSelectable,!0),o=i.reduce((a,l)=>(l.key!=null&&(a[l.key]=Wn(t,l.value)),a),{});return{type:"item",key:e.returnObject?Wn(t,e.itemValue):r,index:n,value:r,selectable:s,columns:o,raw:t}}function Pae(e,t,n){return t.map((i,r)=>Aae(e,i,r,n))}function FP(e,t){return{items:T(()=>Pae(e,e.items,t.value))}}const jP=z({...UB(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...SB(),...MP(),..._ae(),...kae(),...LB(),...RB(),...BB(),...GB()},"DataTable"),Lae=z({...AP(),...jP(),...W0(),...RP()},"VDataTable"),Oae=Z()({name:"VDataTable",props:Lae(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const{groupBy:r}=kP(e),{sortBy:s,multiSort:o,mustSort:a}=P2(e),{page:l,itemsPerPage:c}=PP(e),{disableSort:h}=Hh(e),{columns:p,headers:m,sortFunctions:y,sortRawFunctions:g,filterFunctions:v}=DP(e,{groupBy:r,showSelect:q(e,"showSelect"),showExpand:q(e,"showExpand")}),{items:b}=FP(e,p),w=q(e,"search"),{filteredItems:S}=Z0(e,b,w,{transform:fe=>fe.columns,customKeyFilter:v}),{toggleSort:x}=L2({sortBy:s,multiSort:o,mustSort:a,page:l}),{sortByWithGroups:E,opened:$,extractRows:I,isGroupOpen:A,toggleGroup:M}=I2({groupBy:r,sortBy:s,disableSort:h}),{sortedItems:L}=OP(e,S,E,{transform:fe=>({...fe.raw,...fe.columns}),sortFunctions:y,sortRawFunctions:g}),{flatItems:O}=C2(L,r,$),P=T(()=>O.value.length),{startIndex:R,stopIndex:V,pageCount:U,setItemsPerPage:ee}=LP({page:l,itemsPerPage:c,itemsLength:P}),{paginatedItems:se}=kB({items:O,startIndex:R,stopIndex:V,itemsPerPage:c}),Se=T(()=>I(se.value)),{isSelected:oe,select:ie,selectAll:Q,toggleSelect:W,someSelected:ue,allSelected:$e}=k2(e,{allItems:b,currentPage:Se}),{isExpanded:Te,toggleExpand:Ne}=E2(e);M2({page:l,itemsPerPage:c,sortBy:s,groupBy:r,search:w}),mn({VDataTableRows:{hideNoData:q(e,"hideNoData"),noDataText:q(e,"noDataText"),loading:q(e,"loading"),loadingText:q(e,"loadingText")}});const ve=T(()=>({page:l.value,itemsPerPage:c.value,sortBy:s.value,pageCount:U.value,toggleSort:x,setItemsPerPage:ee,someSelected:ue.value,allSelected:$e.value,isSelected:oe,select:ie,selectAll:Q,toggleSelect:W,isExpanded:Te,toggleExpand:Ne,isGroupOpen:A,toggleGroup:M,items:Se.value.map(fe=>fe.raw),internalItems:Se.value,groupedItems:se.value,columns:p.value,headers:m.value}));return X(()=>{const fe=Xv.filterProps(e),ze=Ch.filterProps(e),Ht=Mh.filterProps(e),yt=kh.filterProps(e);return _(kh,K({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},yt,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>i.top?.(ve.value),default:()=>i.default?i.default(ve.value):_(Be,null,[i.colgroup?.(ve.value),!e.hideDefaultHeader&&_("thead",{key:"thead"},[_(Ch,ze,i)]),i.thead?.(ve.value),!e.hideDefaultBody&&_("tbody",null,[i["body.prepend"]?.(ve.value),i.body?i.body(ve.value):_(Mh,K(n,Ht,{items:se.value}),i),i["body.append"]?.(ve.value)]),i.tbody?.(ve.value),i.tfoot?.(ve.value)]),bottom:()=>i.bottom?i.bottom(ve.value):!e.hideDefaultFooter&&_(Be,null,[_(G0,null,null),_(Xv,fe,{prepend:i["footer.prepend"]})])})}),{}}}),Rae=z({...jP(),...MP(),...iB(),...W0()},"VDataTableVirtual"),Nae=Z()({name:"VDataTableVirtual",props:Rae(),emits:{"update:modelValue":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const{groupBy:r}=kP(e),{sortBy:s,multiSort:o,mustSort:a}=P2(e),{disableSort:l}=Hh(e),{columns:c,headers:h,filterFunctions:p,sortFunctions:m,sortRawFunctions:y}=DP(e,{groupBy:r,showSelect:q(e,"showSelect"),showExpand:q(e,"showExpand")}),{items:g}=FP(e,c),v=q(e,"search"),{filteredItems:b}=Z0(e,g,v,{transform:ze=>ze.columns,customKeyFilter:p}),{toggleSort:w}=L2({sortBy:s,multiSort:o,mustSort:a}),{sortByWithGroups:S,opened:x,extractRows:E,isGroupOpen:$,toggleGroup:I}=I2({groupBy:r,sortBy:s,disableSort:l}),{sortedItems:A}=OP(e,b,S,{transform:ze=>({...ze.raw,...ze.columns}),sortFunctions:m,sortRawFunctions:y}),{flatItems:M}=C2(A,r,x),L=T(()=>E(M.value)),{isSelected:O,select:P,selectAll:R,toggleSelect:V,someSelected:U,allSelected:ee}=k2(e,{allItems:L,currentPage:L}),{isExpanded:se,toggleExpand:Se}=E2(e),{containerRef:oe,markerRef:ie,paddingTop:Q,paddingBottom:W,computedItems:ue,handleItemResize:$e,handleScroll:Te,handleScrollend:Ne}=rB(e,M),ve=T(()=>ue.value.map(ze=>ze.raw));M2({sortBy:s,page:ce(1),itemsPerPage:ce(-1),groupBy:r,search:v}),mn({VDataTableRows:{hideNoData:q(e,"hideNoData"),noDataText:q(e,"noDataText"),loading:q(e,"loading"),loadingText:q(e,"loadingText")}});const fe=T(()=>({sortBy:s.value,toggleSort:w,someSelected:U.value,allSelected:ee.value,isSelected:O,select:P,selectAll:R,toggleSelect:V,isExpanded:se,toggleExpand:Se,isGroupOpen:$,toggleGroup:I,items:L.value.map(ze=>ze.raw),internalItems:L.value,groupedItems:M.value,columns:c.value,headers:h.value}));X(()=>{const ze=Ch.filterProps(e),Ht=Mh.filterProps(e),yt=kh.filterProps(e);return _(kh,K({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},yt,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>i.top?.(fe.value),wrapper:()=>_("div",{ref:oe,onScrollPassive:Te,onScrollend:Ne,class:"v-table__wrapper",style:{height:_e(e.height)}},[_("table",null,[i.colgroup?.(fe.value),!e.hideDefaultHeader&&_("thead",{key:"thead"},[_(Ch,ze,i)]),!e.hideDefaultBody&&_("tbody",null,[_("tr",{ref:ie,style:{height:_e(Q.value),border:0}},[_("td",{colspan:c.value.length,style:{height:0,border:0}},null)]),i["body.prepend"]?.(fe.value),_(Mh,K(n,Ht,{items:ve.value}),{...i,item:Me=>_(nB,{key:Me.internalItem.index,renderless:!0,"onUpdate:height":de=>$e(Me.internalItem.index,de)},{default:de=>{let{itemRef:Ze}=de;return i.item?.({...Me,itemRef:Ze})??_(VP,K(Me.props,{ref:Ze,key:Me.internalItem.index,index:Me.internalItem.index}),i)}})}),i["body.append"]?.(fe.value),_("tr",{style:{height:_e(W.value),border:0}},[_("td",{colspan:c.value.length,style:{height:0,border:0}},null)])])])]),bottom:()=>i.bottom?.(fe.value)})})}}),Dae=z({itemsLength:{type:[Number,String],required:!0},...AP(),...jP(),...RP()},"VDataTableServer"),Vae=Z()({name:"VDataTableServer",props:Dae(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const{groupBy:r}=kP(e),{sortBy:s,multiSort:o,mustSort:a}=P2(e),{page:l,itemsPerPage:c}=PP(e),{disableSort:h}=Hh(e),p=T(()=>parseInt(e.itemsLength,10)),{columns:m,headers:y}=DP(e,{groupBy:r,showSelect:q(e,"showSelect"),showExpand:q(e,"showExpand")}),{items:g}=FP(e,m),{toggleSort:v}=L2({sortBy:s,multiSort:o,mustSort:a,page:l}),{opened:b,isGroupOpen:w,toggleGroup:S,extractRows:x}=I2({groupBy:r,sortBy:s,disableSort:h}),{pageCount:E,setItemsPerPage:$}=LP({page:l,itemsPerPage:c,itemsLength:p}),{flatItems:I}=C2(g,r,b),{isSelected:A,select:M,selectAll:L,toggleSelect:O,someSelected:P,allSelected:R}=k2(e,{allItems:g,currentPage:g}),{isExpanded:V,toggleExpand:U}=E2(e),ee=T(()=>x(g.value));M2({page:l,itemsPerPage:c,sortBy:s,groupBy:r,search:q(e,"search")}),Yt("v-data-table",{toggleSort:v,sortBy:s}),mn({VDataTableRows:{hideNoData:q(e,"hideNoData"),noDataText:q(e,"noDataText"),loading:q(e,"loading"),loadingText:q(e,"loadingText")}});const se=T(()=>({page:l.value,itemsPerPage:c.value,sortBy:s.value,pageCount:E.value,toggleSort:v,setItemsPerPage:$,someSelected:P.value,allSelected:R.value,isSelected:A,select:M,selectAll:L,toggleSelect:O,isExpanded:V,toggleExpand:U,isGroupOpen:w,toggleGroup:S,items:ee.value.map(Se=>Se.raw),internalItems:ee.value,groupedItems:I.value,columns:m.value,headers:y.value}));X(()=>{const Se=Xv.filterProps(e),oe=Ch.filterProps(e),ie=Mh.filterProps(e),Q=kh.filterProps(e);return _(kh,K({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},Q,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>i.top?.(se.value),default:()=>i.default?i.default(se.value):_(Be,null,[i.colgroup?.(se.value),!e.hideDefaultHeader&&_("thead",{key:"thead",class:"v-data-table__thead",role:"rowgroup"},[_(Ch,oe,i)]),i.thead?.(se.value),!e.hideDefaultBody&&_("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[i["body.prepend"]?.(se.value),i.body?i.body(se.value):_(Mh,K(n,ie,{items:I.value}),i),i["body.append"]?.(se.value)]),i.tbody?.(se.value),i.tfoot?.(se.value)]),bottom:()=>i.bottom?i.bottom(se.value):!e.hideDefaultFooter&&_(Be,null,[_(G0,null,null),_(Xv,Se,{prepend:i["footer.prepend"]})])})})}}),Fae=z({fluid:{type:Boolean,default:!1},...xe(),...Vn(),...Je()},"VContainer"),jae=Z()({name:"VContainer",props:Fae(),setup(e,t){let{slots:n}=t;const{rtlClasses:i}=Xn(),{dimensionStyles:r}=Fn(e);return X(()=>_(e.tag,{class:["v-container",{"v-container--fluid":e.fluid},i.value,e.class],style:[r.value,e.style]},n)),{}}}),HB=u2.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}),qB=u2.reduce((e,t)=>{const n="offset"+Gm(t);return e[n]={type:[String,Number],default:null},e},{}),WB=u2.reduce((e,t)=>{const n="order"+Gm(t);return e[n]={type:[String,Number],default:null},e},{}),tN={col:Object.keys(HB),offset:Object.keys(qB),order:Object.keys(WB)};function zae(e,t,n){let i=e;if(!(n==null||n===!1)){if(t){const r=t.replace(e,"");i+=`-${r}`}return e==="col"&&(i="v-"+i),e==="col"&&(n===""||n===!0)||(i+=`-${n}`),i.toLowerCase()}}const Bae=["auto","start","end","center","baseline","stretch"],Uae=z({cols:{type:[Boolean,String,Number],default:!1},...HB,offset:{type:[String,Number],default:null},...qB,order:{type:[String,Number],default:null},...WB,alignSelf:{type:String,default:null,validator:e=>Bae.includes(e)},...xe(),...Je()},"VCol"),Gae=Z()({name:"VCol",props:Uae(),setup(e,t){let{slots:n}=t;const i=T(()=>{const r=[];let s;for(s in tN)tN[s].forEach(a=>{const l=e[a],c=zae(s,a,l);c&&r.push(c)});const o=r.some(a=>a.startsWith("v-col-"));return r.push({"v-col":!o||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),r});return()=>$c(e.tag,{class:[i.value,e.class],style:e.style},n.default?.())}}),zP=["start","end","center"],ZB=["space-between","space-around","space-evenly"];function BP(e,t){return u2.reduce((n,i)=>{const r=e+Gm(i);return n[r]=t(),n},{})}const Hae=[...zP,"baseline","stretch"],YB=e=>Hae.includes(e),JB=BP("align",()=>({type:String,default:null,validator:YB})),qae=[...zP,...ZB],KB=e=>qae.includes(e),XB=BP("justify",()=>({type:String,default:null,validator:KB})),Wae=[...zP,...ZB,"stretch"],QB=e=>Wae.includes(e),eU=BP("alignContent",()=>({type:String,default:null,validator:QB})),nN={align:Object.keys(JB),justify:Object.keys(XB),alignContent:Object.keys(eU)},Zae={align:"align",justify:"justify",alignContent:"align-content"};function Yae(e,t,n){let i=Zae[e];if(n!=null){if(t){const r=t.replace(e,"");i+=`-${r}`}return i+=`-${n}`,i.toLowerCase()}}const Jae=z({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:YB},...JB,justify:{type:String,default:null,validator:KB},...XB,alignContent:{type:String,default:null,validator:QB},...eU,...xe(),...Je()},"VRow"),Kae=Z()({name:"VRow",props:Jae(),setup(e,t){let{slots:n}=t;const i=T(()=>{const r=[];let s;for(s in nN)nN[s].forEach(o=>{const a=e[o],l=Yae(s,o,a);l&&r.push(l)});return r.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),r});return()=>$c(e.tag,{class:["v-row",i.value,e.class],style:e.style},n.default?.())}}),tU=Oa("v-spacer","div","VSpacer"),nU=z({active:{type:[String,Array],default:void 0},disabled:{type:[Boolean,String,Array],default:null},nextIcon:{type:Oe,default:"$next"},prevIcon:{type:Oe,default:"$prev"},modeIcon:{type:Oe,default:"$subgroup"},text:String,viewMode:{type:String,default:"month"}},"VDatePickerControls"),jE=Z()({name:"VDatePickerControls",props:nU(),emits:{"click:year":()=>!0,"click:month":()=>!0,"click:prev":()=>!0,"click:next":()=>!0,"click:text":()=>!0},setup(e,t){let{emit:n}=t;const i=T(()=>Array.isArray(e.disabled)?e.disabled.includes("text"):!!e.disabled),r=T(()=>Array.isArray(e.disabled)?e.disabled.includes("mode"):!!e.disabled),s=T(()=>Array.isArray(e.disabled)?e.disabled.includes("prev"):!!e.disabled),o=T(()=>Array.isArray(e.disabled)?e.disabled.includes("next"):!!e.disabled);function a(){n("click:prev")}function l(){n("click:next")}function c(){n("click:year")}function h(){n("click:month")}return X(()=>_("div",{class:["v-date-picker-controls"]},[_(vt,{class:"v-date-picker-controls__month-btn",disabled:i.value,text:e.text,variant:"text",rounded:!0,onClick:h},null),_(vt,{key:"mode-btn",class:"v-date-picker-controls__mode-btn",disabled:r.value,density:"comfortable",icon:e.modeIcon,variant:"text",onClick:c},null),_(tU,{key:"mode-spacer"},null),_("div",{key:"month-buttons",class:"v-date-picker-controls__month"},[_(vt,{disabled:s.value,icon:e.prevIcon,variant:"text",onClick:a},null),_(vt,{disabled:o.value,icon:e.nextIcon,variant:"text",onClick:l},null)])])),{}}}),Xae=z({appendIcon:Oe,color:String,header:String,transition:String,onClick:xi()},"VDatePickerHeader"),zE=Z()({name:"VDatePickerHeader",props:Xae(),emits:{click:()=>!0,"click:append":()=>!0},setup(e,t){let{emit:n,slots:i}=t;const{backgroundColorClasses:r,backgroundColorStyles:s}=Dt(e,"color");function o(){n("click")}function a(){n("click:append")}return X(()=>{const l=!!(i.default||e.header),c=!!(i.append||e.appendIcon);return _("div",{class:["v-date-picker-header",{"v-date-picker-header--clickable":!!e.onClick},r.value],style:s.value,onClick:o},[i.prepend&&_("div",{key:"prepend",class:"v-date-picker-header__prepend"},[i.prepend()]),l&&_(er,{key:"content",name:e.transition},{default:()=>[_("div",{key:e.header,class:"v-date-picker-header__content"},[i.default?.()??e.header])]}),c&&_("div",{class:"v-date-picker-header__append"},[i.append?_(st,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VBtn:{icon:e.appendIcon,variant:"text"}}},{default:()=>[i.append?.()]}):_(vt,{key:"append-btn",icon:e.appendIcon,variant:"text",onClick:a},null)])])}),{}}}),Qae=z({allowedDates:[Array,Function],disabled:{type:Boolean,default:null},displayValue:null,modelValue:Array,month:[Number,String],max:null,min:null,showAdjacentMonths:Boolean,year:[Number,String],weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},weeksInMonth:{type:String,default:"dynamic"},firstDayOfWeek:[Number,String]},"calendar");function ele(e){const t=D0(),n=Pe(e,"modelValue",[],g=>sn(g)),i=T(()=>e.displayValue?t.date(e.displayValue):n.value.length>0?t.date(n.value[0]):e.min?t.date(e.min):Array.isArray(e.allowedDates)?t.date(e.allowedDates[0]):t.date()),r=Pe(e,"year",void 0,g=>{const v=g!=null?Number(g):t.getYear(i.value);return t.startOfYear(t.setYear(t.date(),v))},g=>t.getYear(g)),s=Pe(e,"month",void 0,g=>{const v=g!=null?Number(g):t.getMonth(i.value),b=t.setYear(t.startOfMonth(t.date()),t.getYear(r.value));return t.setMonth(b,v)},g=>t.getMonth(g)),o=T(()=>e.firstDayOfWeek??e.weekdays[0]),a=T(()=>{const g=Number(e.firstDayOfWeek??0);return e.weekdays.map(v=>(v+g)%7)}),l=T(()=>{const g=t.getWeekArray(s.value,o.value),v=g.flat(),b=6*7;if(e.weeksInMonth==="static"&&v.length<b){const w=v[v.length-1];let S=[];for(let x=1;x<=b-v.length;x++)S.push(t.addDays(w,x)),x%7===0&&(g.push(S),S=[])}return g});function c(g,v){return g.filter(b=>a.value.includes(t.toJsDate(b).getDay())).map((b,w)=>{const S=t.toISO(b),x=!t.isSameMonth(b,s.value),E=t.isSameDay(b,t.startOfMonth(s.value)),$=t.isSameDay(b,t.endOfMonth(s.value)),I=t.isSameDay(b,s.value);return{date:b,isoDate:S,formatted:t.format(b,"keyboardDate"),year:t.getYear(b),month:t.getMonth(b),isDisabled:y(b),isWeekStart:w%7===0,isWeekEnd:w%7===6,isToday:t.isSameDay(b,v),isAdjacent:x,isHidden:x&&!e.showAdjacentMonths,isStart:E,isSelected:n.value.some(A=>t.isSameDay(b,A)),isEnd:$,isSame:I,localized:t.format(b,"dayOfMonth")}})}const h=T(()=>{const g=t.startOfWeek(i.value,e.firstDayOfWeek),v=[];for(let w=0;w<=6;w++)v.push(t.addDays(g,w));const b=t.date();return c(v,b)}),p=T(()=>{const g=l.value.flat(),v=t.date();return c(g,v)}),m=T(()=>l.value.map(g=>g.length?uie(t,g[0]):null));function y(g){if(e.disabled)return!0;const v=t.date(g);return e.min&&t.isAfter(t.date(e.min),v)||e.max&&t.isAfter(v,t.date(e.max))?!0:Array.isArray(e.allowedDates)&&e.allowedDates.length>0?!e.allowedDates.some(b=>t.isSameDay(t.date(b),v)):typeof e.allowedDates=="function"?!e.allowedDates(v):!1}return{displayValue:i,daysInMonth:p,daysInWeek:h,genDays:c,model:n,weeksInMonth:l,weekDays:a,weekNumbers:m}}const iU=z({color:String,hideWeekdays:Boolean,multiple:[Boolean,Number,String],showWeek:Boolean,transition:{type:String,default:"picker-transition"},reverseTransition:{type:String,default:"picker-reverse-transition"},...Ln(Qae(),["displayValue"])},"VDatePickerMonth"),BE=Z()({name:"VDatePickerMonth",props:iU(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const r=ae(),{daysInMonth:s,model:o,weekNumbers:a}=ele(e),l=D0(),c=ce(),h=ce(),p=ce(!1),m=T(()=>p.value?e.reverseTransition:e.transition);e.multiple==="range"&&o.value.length>0&&(c.value=o.value[0],o.value.length>1&&(h.value=o.value[o.value.length-1]));const y=T(()=>{const w=["number","string"].includes(typeof e.multiple)?Number(e.multiple):1/0;return o.value.length>=w});be(s,(w,S)=>{S&&(p.value=l.isBefore(w[0].date,S[0].date))});function g(w){const S=l.startOfDay(w);if(o.value.length===0?c.value=void 0:o.value.length===1&&(c.value=o.value[0],h.value=void 0),!c.value)c.value=S,o.value=[c.value];else if(h.value)c.value=w,h.value=void 0,o.value=[c.value];else{if(l.isSameDay(S,c.value)){c.value=void 0,o.value=[];return}else l.isBefore(S,c.value)?(h.value=l.endOfDay(c.value),c.value=S):h.value=l.endOfDay(S);const x=l.getDiff(h.value,c.value,"days"),E=[c.value];for(let $=1;$<x;$++){const I=l.addDays(c.value,$);E.push(I)}E.push(h.value),o.value=E}}function v(w){const S=o.value.findIndex(x=>l.isSameDay(x,w));if(S===-1)o.value=[...o.value,w];else{const x=[...o.value];x.splice(S,1),o.value=x}}function b(w){e.multiple==="range"?g(w):e.multiple?v(w):o.value=[w]}X(()=>_("div",{class:"v-date-picker-month"},[e.showWeek&&_("div",{key:"weeks",class:"v-date-picker-month__weeks"},[!e.hideWeekdays&&_("div",{key:"hide-week-days",class:"v-date-picker-month__day"},[fs(" ")]),a.value.map(w=>_("div",{class:["v-date-picker-month__day","v-date-picker-month__day--adjacent"]},[w]))]),_(er,{name:m.value},{default:()=>[_("div",{ref:r,key:s.value[0].date?.toString(),class:"v-date-picker-month__days"},[!e.hideWeekdays&&l.getWeekdays(e.firstDayOfWeek).map(w=>_("div",{class:["v-date-picker-month__day","v-date-picker-month__weekday"]},[w])),s.value.map((w,S)=>{const x={props:{class:"v-date-picker-month__day-btn",color:(w.isSelected||w.isToday)&&!w.isDisabled?e.color:void 0,disabled:w.isDisabled,icon:!0,ripple:!1,text:w.localized,variant:w.isDisabled?w.isToday?"outlined":"text":w.isToday&&!w.isSelected?"outlined":"flat",onClick:()=>b(w.date)},item:w,i:S};return y.value&&!w.isSelected&&(w.isDisabled=!0),_("div",{class:["v-date-picker-month__day",{"v-date-picker-month__day--adjacent":w.isAdjacent,"v-date-picker-month__day--hide-adjacent":w.isHidden,"v-date-picker-month__day--selected":w.isSelected,"v-date-picker-month__day--week-end":w.isWeekEnd,"v-date-picker-month__day--week-start":w.isWeekStart}],"data-v-date":w.isDisabled?void 0:w.isoDate},[(e.showAdjacentMonths||!w.isAdjacent)&&(i.day?.(x)??_(vt,x.props,null))])})])]})]))}}),rU=z({color:String,height:[String,Number],min:null,max:null,modelValue:Number,year:Number},"VDatePickerMonths"),UE=Z()({name:"VDatePickerMonths",props:rU(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const r=D0(),s=Pe(e,"modelValue"),o=T(()=>{let a=r.startOfYear(r.date());return e.year&&(a=r.setYear(a,e.year)),_a(12).map(l=>{const c=r.format(a,"monthShort"),h=!!(e.min&&r.isAfter(r.startOfMonth(r.date(e.min)),a)||e.max&&r.isAfter(a,r.startOfMonth(r.date(e.max))));return a=r.getNextMonth(a),{isDisabled:h,text:c,value:l}})});return wn(()=>{s.value=s.value??r.getMonth(r.date())}),X(()=>_("div",{class:"v-date-picker-months",style:{height:_e(e.height)}},[_("div",{class:"v-date-picker-months__content"},[o.value.map((a,l)=>{const c={active:s.value===l,color:s.value===l?e.color:void 0,disabled:a.isDisabled,rounded:!0,text:a.text,variant:s.value===a.value?"flat":"text",onClick:()=>h(l)};function h(p){if(s.value===p){n("update:modelValue",s.value);return}s.value=p}return i.month?.({month:a,i:l,props:c})??_(vt,K({key:"month"},c),null)})])])),{}}}),sU=z({color:String,height:[String,Number],min:null,max:null,modelValue:Number},"VDatePickerYears"),GE=Z()({name:"VDatePickerYears",props:sU(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const r=D0(),s=Pe(e,"modelValue"),o=T(()=>{const l=r.getYear(r.date());let c=l-100,h=l+52;e.min&&(c=r.getYear(r.date(e.min))),e.max&&(h=r.getYear(r.date(e.max)));let p=r.startOfYear(r.date());return p=r.setYear(p,c),_a(h-c+1,c).map(m=>{const y=r.format(p,"year");return p=r.setYear(p,r.getYear(p)+1),{text:y,value:m}})});wn(()=>{s.value=s.value??r.getYear(r.date())});const a=E_();return Ir(async()=>{await _t(),a.el?.scrollIntoView({block:"center"})}),X(()=>_("div",{class:"v-date-picker-years",style:{height:_e(e.height)}},[_("div",{class:"v-date-picker-years__content"},[o.value.map((l,c)=>{const h={ref:s.value===l.value?a:void 0,active:s.value===l.value,color:s.value===l.value?e.color:void 0,rounded:!0,text:l.text,variant:s.value===l.value?"flat":"text",onClick:()=>{if(s.value===l.value){n("update:modelValue",s.value);return}s.value=l.value}};return i.year?.({year:l,i:c,props:h})??_(vt,K({key:"month"},h),null)})])])),{}}}),tle=Oa("v-picker-title"),oU=z({bgColor:String,landscape:Boolean,title:String,hideHeader:Boolean,...T2()},"VPicker"),iN=Z()({name:"VPicker",props:oU(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:i,backgroundColorStyles:r}=Dt(q(e,"color"));return X(()=>{const s=Ih.filterProps(e),o=!!(e.title||n.title);return _(Ih,K(s,{color:e.bgColor,class:["v-picker",{"v-picker--landscape":e.landscape,"v-picker--with-actions":!!n.actions},e.class],style:e.style}),{default:()=>[!e.hideHeader&&_("div",{key:"header",class:[i.value],style:[r.value]},[o&&_(tle,{key:"picker-title"},{default:()=>[n.title?.()??e.title]}),n.header&&_("div",{class:"v-picker__header"},[n.header()])]),_("div",{class:"v-picker__body"},[n.default?.()]),n.actions&&_(st,{defaults:{VBtn:{slim:!0,variant:"text"}}},{default:()=>[_("div",{class:"v-picker__actions"},[n.actions()])]})]})}),{}}}),nle=z({header:{type:String,default:"$vuetify.datePicker.header"},...nU(),...iU({weeksInMonth:"static"}),...Ln(rU(),["modelValue"]),...Ln(sU(),["modelValue"]),...oU({title:"$vuetify.datePicker.title"}),modelValue:null},"VDatePicker"),ile=Z()({name:"VDatePicker",props:nle(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0,"update:viewMode":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const r=D0(),{t:s}=Sn(),o=Pe(e,"modelValue",void 0,L=>sn(L),L=>e.multiple?L:L[0]),a=Pe(e,"viewMode"),l=T(()=>{const L=r.date(e.min);return e.min&&r.isValid(L)?L:null}),c=T(()=>{const L=r.date(e.max);return e.max&&r.isValid(L)?L:null}),h=T(()=>{const L=r.date();let O=L;return o.value?.[0]?O=r.date(o.value[0]):l.value&&r.isBefore(L,l.value)?O=l.value:c.value&&r.isAfter(L,c.value)&&(O=c.value),O&&r.isValid(O)?O:L}),p=ae(Number(e.month??r.getMonth(r.startOfMonth(h.value)))),m=ae(Number(e.year??r.getYear(r.startOfYear(r.setMonth(h.value,p.value))))),y=ce(!1),g=T(()=>e.multiple&&o.value.length>1?s("$vuetify.datePicker.itemsSelected",o.value.length):o.value[0]&&r.isValid(o.value[0])?r.format(r.date(o.value[0]),"normalDateWithWeekday"):s(e.header)),v=T(()=>{let L=r.date();return L=r.setDate(L,1),L=r.setMonth(L,p.value),L=r.setYear(L,m.value),r.format(L,"monthAndYear")}),b=T(()=>`date-picker-header${y.value?"-reverse":""}-transition`),w=T(()=>{if(e.disabled)return!0;const L=[];if(a.value!=="month")L.push("prev","next");else{let O=r.date();if(O=r.startOfMonth(O),O=r.setMonth(O,p.value),O=r.setYear(O,m.value),l.value){const P=r.addDays(r.startOfMonth(O),-1);r.isAfter(l.value,P)&&L.push("prev")}if(c.value){const P=r.addDays(r.endOfMonth(O),1);r.isAfter(P,c.value)&&L.push("next")}}return L});function S(){p.value<11?p.value++:(m.value++,p.value=0,M(m.value)),A(p.value)}function x(){p.value>0?p.value--:(m.value--,p.value=11,M(m.value)),A(p.value)}function E(){a.value="month"}function $(){a.value=a.value==="months"?"month":"months"}function I(){a.value=a.value==="year"?"month":"year"}function A(L){a.value==="months"&&$(),n("update:month",L)}function M(L){a.value==="year"&&I(),n("update:year",L)}return be(o,(L,O)=>{const P=sn(O),R=sn(L);if(!R.length)return;const V=r.date(P[P.length-1]),U=r.date(R[R.length-1]),ee=r.getMonth(U),se=r.getYear(U);ee!==p.value&&(p.value=ee,A(p.value)),se!==m.value&&(m.value=se,M(m.value)),y.value=r.isBefore(V,U)}),X(()=>{const L=iN.filterProps(e),O=jE.filterProps(e),P=zE.filterProps(e),R=BE.filterProps(e),V=Ln(UE.filterProps(e),["modelValue"]),U=Ln(GE.filterProps(e),["modelValue"]),ee={header:g.value,transition:b.value};return _(iN,K(L,{class:["v-date-picker",`v-date-picker--${a.value}`,{"v-date-picker--show-week":e.showWeek},e.class],style:e.style}),{title:()=>i.title?.()??_("div",{class:"v-date-picker__title"},[s(e.title)]),header:()=>i.header?_(st,{defaults:{VDatePickerHeader:{...ee}}},{default:()=>[i.header?.(ee)]}):_(zE,K({key:"header"},P,ee,{onClick:a.value!=="month"?E:void 0}),{...i,default:void 0}),default:()=>_(Be,null,[_(jE,K(O,{disabled:w.value,text:v.value,"onClick:next":S,"onClick:prev":x,"onClick:month":$,"onClick:year":I}),null),_(qv,{hideOnLeave:!0},{default:()=>[a.value==="months"?_(UE,K({key:"date-picker-months"},V,{modelValue:p.value,"onUpdate:modelValue":[se=>p.value=se,A],min:l.value,max:c.value,year:m.value}),null):a.value==="year"?_(GE,K({key:"date-picker-years"},U,{modelValue:m.value,"onUpdate:modelValue":[se=>m.value=se,M],min:l.value,max:c.value}),null):_(BE,K({key:"date-picker-month"},R,{modelValue:o.value,"onUpdate:modelValue":se=>o.value=se,month:p.value,"onUpdate:month":[se=>p.value=se,A],year:m.value,"onUpdate:year":[se=>m.value=se,M],min:l.value,max:c.value}),null)]})]),actions:i.actions})}),{}}}),rle=z({actionText:String,bgColor:String,color:String,icon:Oe,image:String,justify:{type:String,default:"center"},headline:String,title:String,text:String,textWidth:{type:[Number,String],default:500},href:String,to:String,...xe(),...Vn(),...Ra({size:void 0}),...ct()},"VEmptyState"),sle=Z()({name:"VEmptyState",props:rle(),emits:{"click:action":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const{themeClasses:r}=xt(e),{backgroundColorClasses:s,backgroundColorStyles:o}=Dt(q(e,"bgColor")),{dimensionStyles:a}=Fn(e),{displayClasses:l}=Qs();function c(h){n("click:action",h)}return X(()=>{const h=!!(i.actions||e.actionText),p=!!(i.headline||e.headline),m=!!(i.title||e.title),y=!!(i.text||e.text),g=!!(i.media||e.image||e.icon),v=e.size||(e.image?200:96);return _("div",{class:["v-empty-state",{[`v-empty-state--${e.justify}`]:!0},r.value,s.value,l.value,e.class],style:[o.value,a.value,e.style]},[g&&_("div",{key:"media",class:"v-empty-state__media"},[i.media?_(st,{key:"media-defaults",defaults:{VImg:{src:e.image,height:v},VIcon:{size:v,icon:e.icon}}},{default:()=>[i.media()]}):_(Be,null,[e.image?_(kl,{key:"image",src:e.image,height:v},null):e.icon?_(bt,{key:"icon",color:e.color,size:v,icon:e.icon},null):void 0])]),p&&_("div",{key:"headline",class:"v-empty-state__headline"},[i.headline?.()??e.headline]),m&&_("div",{key:"title",class:"v-empty-state__title"},[i.title?.()??e.title]),y&&_("div",{key:"text",class:"v-empty-state__text",style:{maxWidth:_e(e.textWidth)}},[i.text?.()??e.text]),i.default&&_("div",{key:"content",class:"v-empty-state__content"},[i.default()]),h&&_("div",{key:"actions",class:"v-empty-state__actions"},[_(st,{defaults:{VBtn:{class:"v-empty-state__action-btn",color:e.color??"surface-variant",text:e.actionText}}},{default:()=>[i.actions?.({props:{onClick:c}})??_(vt,{onClick:c},null)]})])])}),{}}}),Qv=Symbol.for("vuetify:v-expansion-panel"),aU=z({...xe(),..._P()},"VExpansionPanelText"),HE=Z()({name:"VExpansionPanelText",props:aU(),setup(e,t){let{slots:n}=t;const i=ft(Qv);if(!i)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:r,onAfterLeave:s}=SP(e,i.isSelected);return X(()=>_(h2,{onAfterLeave:s},{default:()=>[ln(_("div",{class:["v-expansion-panel-text",e.class],style:e.style},[n.default&&r.value&&_("div",{class:"v-expansion-panel-text__wrapper"},[n.default?.()])]),[[Zo,i.isSelected.value]])]})),{}}}),lU=z({color:String,expandIcon:{type:Oe,default:"$expand"},collapseIcon:{type:Oe,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...xe(),...Vn()},"VExpansionPanelTitle"),qE=Z()({name:"VExpansionPanelTitle",directives:{Ripple:jl},props:lU(),setup(e,t){let{slots:n}=t;const i=ft(Qv);if(!i)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:r,backgroundColorStyles:s}=Dt(e,"color"),{dimensionStyles:o}=Fn(e),a=T(()=>({collapseIcon:e.collapseIcon,disabled:i.disabled.value,expanded:i.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly})),l=T(()=>i.isSelected.value?e.collapseIcon:e.expandIcon);return X(()=>ln(_("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":i.isSelected.value,"v-expansion-panel-title--focusable":e.focusable,"v-expansion-panel-title--static":e.static},r.value,e.class],style:[s.value,o.value,e.style],type:"button",tabindex:i.disabled.value?-1:void 0,disabled:i.disabled.value,"aria-expanded":i.isSelected.value,onClick:e.readonly?void 0:i.toggle},[_("span",{class:"v-expansion-panel-title__overlay"},null),n.default?.(a.value),!e.hideActions&&_(st,{defaults:{VIcon:{icon:l.value}}},{default:()=>[_("span",{class:"v-expansion-panel-title__icon"},[n.actions?.(a.value)??_(bt,null,null)])]})]),[[_s("ripple"),e.ripple]])),{}}}),uU=z({title:String,text:String,bgColor:String,...Qn(),...Xh(),...Jt(),...Je(),...lU(),...aU()},"VExpansionPanel"),ole=Z()({name:"VExpansionPanel",props:uU(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const i=Qh(e,Qv),{backgroundColorClasses:r,backgroundColorStyles:s}=Dt(e,"bgColor"),{elevationClasses:o}=Ei(e),{roundedClasses:a}=gn(e),l=T(()=>i?.disabled.value||e.disabled),c=T(()=>i.group.items.value.reduce((m,y,g)=>(i.group.selected.value.includes(y.id)&&m.push(g),m),[])),h=T(()=>{const m=i.group.items.value.findIndex(y=>y.id===i.id);return!i.isSelected.value&&c.value.some(y=>y-m===1)}),p=T(()=>{const m=i.group.items.value.findIndex(y=>y.id===i.id);return!i.isSelected.value&&c.value.some(y=>y-m===-1)});return Yt(Qv,i),X(()=>{const m=!!(n.text||e.text),y=!!(n.title||e.title),g=qE.filterProps(e),v=HE.filterProps(e);return _(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":i.isSelected.value,"v-expansion-panel--before-active":h.value,"v-expansion-panel--after-active":p.value,"v-expansion-panel--disabled":l.value},a.value,r.value,e.class],style:[s.value,e.style]},{default:()=>[_("div",{class:["v-expansion-panel__shadow",...o.value]},null),_(st,{defaults:{VExpansionPanelTitle:{...g},VExpansionPanelText:{...v}}},{default:()=>[y&&_(qE,{key:"title"},{default:()=>[n.title?n.title():e.title]}),m&&_(HE,{key:"text"},{default:()=>[n.text?n.text():e.text]}),n.default?.()]})]})}),{groupItem:i}}}),ale=["default","accordion","inset","popout"],lle=z({flat:Boolean,...Kh(),...Vl(uU(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...ct(),...xe(),...Je(),variant:{type:String,default:"default",validator:e=>ale.includes(e)}},"VExpansionPanels"),ule=Z()({name:"VExpansionPanels",props:lle(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{next:i,prev:r}=Ic(e,Qv),{themeClasses:s}=xt(e),o=T(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return mn({VExpansionPanel:{bgColor:q(e,"bgColor"),collapseIcon:q(e,"collapseIcon"),color:q(e,"color"),eager:q(e,"eager"),elevation:q(e,"elevation"),expandIcon:q(e,"expandIcon"),focusable:q(e,"focusable"),hideActions:q(e,"hideActions"),readonly:q(e,"readonly"),ripple:q(e,"ripple"),rounded:q(e,"rounded"),static:q(e,"static")}}),X(()=>_(e.tag,{class:["v-expansion-panels",{"v-expansion-panels--flat":e.flat,"v-expansion-panels--tile":e.tile},s.value,o.value,e.class],style:e.style},{default:()=>[n.default?.({prev:r,next:i})]})),{next:i,prev:r}}}),cle=z({app:Boolean,appear:Boolean,extended:Boolean,layout:Boolean,offset:Boolean,modelValue:{type:Boolean,default:!0},...Ln(y2({active:!0}),["location"]),...Wh(),...Fl(),...Yo({transition:"fab-transition"})},"VFab"),dle=Z()({name:"VFab",props:cle(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=Pe(e,"modelValue"),r=ce(56),s=ae(),{resizeRef:o}=Go(p=>{p.length&&(r.value=p[0].target.clientHeight)}),a=T(()=>e.app||e.absolute),l=T(()=>a.value?e.location?.split(" ").shift()??"bottom":!1),c=T(()=>a.value?e.location?.split(" ")[1]??"end":!1);Sr(()=>e.app,()=>{const p=Zh({id:e.name,order:T(()=>parseInt(e.order,10)),position:l,layoutSize:T(()=>e.layout?r.value+24:0),elementSize:T(()=>r.value+24),active:T(()=>e.app&&i.value),absolute:q(e,"absolute")});wn(()=>{s.value=p.layoutItemStyles.value})});const h=ae();return X(()=>{const p=vt.filterProps(e);return _("div",{ref:h,class:["v-fab",{"v-fab--absolute":e.absolute,"v-fab--app":!!e.app,"v-fab--extended":e.extended,"v-fab--offset":e.offset,[`v-fab--${l.value}`]:a.value,[`v-fab--${c.value}`]:a.value},e.class],style:[e.app?{...s.value}:{height:e.absolute?"100%":"inherit"},e.style]},[_("div",{class:"v-fab__container"},[_(er,{appear:e.appear,transition:e.transition},{default:()=>[ln(_(vt,K({ref:o},p,{active:void 0,location:void 0}),n),[[Zo,e.active]])]})])])}),{}}}),hle=z({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:e=>typeof e=="boolean"||[1e3,1024].includes(Number(e))},...Bl({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:e=>e.multiple?[]:null,validator:e=>sn(e).every(t=>t!=null&&typeof t=="object")},...q0({clearable:!0})},"VFileInput"),ple=Z()({name:"VFileInput",inheritAttrs:!1,props:hle(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const{t:s}=Sn(),o=Pe(e,"modelValue",e.modelValue,P=>sn(P),P=>!e.multiple&&Array.isArray(P)?P[0]:P),{isFocused:a,focus:l,blur:c}=zl(e),h=T(()=>typeof e.showSize!="boolean"?e.showSize:void 0),p=T(()=>(o.value??[]).reduce((P,R)=>{let{size:V=0}=R;return P+V},0)),m=T(()=>gR(p.value,h.value)),y=T(()=>(o.value??[]).map(P=>{const{name:R="",size:V=0}=P;return e.showSize?`${R} (${gR(V,h.value)})`:R})),g=T(()=>{const P=o.value?.length??0;return e.showSize?s(e.counterSizeString,P,m.value):s(e.counterString,P)}),v=ae(),b=ae(),w=ae(),S=T(()=>a.value||e.active),x=T(()=>["plain","underlined"].includes(e.variant));function E(){w.value!==document.activeElement&&w.value?.focus(),a.value||l()}function $(P){w.value?.click()}function I(P){i("mousedown:control",P)}function A(P){w.value?.click(),i("click:control",P)}function M(P){P.stopPropagation(),E(),_t(()=>{o.value=[],o2(e["onClick:clear"],P)})}function L(P){P.preventDefault()}function O(P){P.preventDefault(),P.dataTransfer&&(o.value=[...P.dataTransfer.files??[]])}return be(o,P=>{(!Array.isArray(P)||!P.length)&&w.value&&(w.value.value="")}),X(()=>{const P=!!(r.counter||e.counter),R=!!(P||r.details),[V,U]=Tc(n),{modelValue:ee,...se}=Ni.filterProps(e),Se=xP(e);return _(Ni,K({ref:v,modelValue:e.multiple?o.value:o.value[0],class:["v-file-input",{"v-file-input--chips":!!e.chips,"v-file-input--hide":e.hideInput,"v-input--plain-underlined":x.value},e.class],style:e.style,"onClick:prepend":$},V,se,{centerAffix:!x.value,focused:a.value}),{...r,default:oe=>{let{id:ie,isDisabled:Q,isDirty:W,isReadonly:ue,isValid:$e}=oe;return _(Km,K({ref:b,"prepend-icon":e.prependIcon,onMousedown:I,onClick:A,"onClick:clear":M,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},Se,{id:ie.value,active:S.value||W.value,dirty:W.value||e.dirty,disabled:Q.value,focused:a.value,error:$e.value===!1,onDragover:L,onDrop:O}),{...r,default:Te=>{let{props:{class:Ne,...ve}}=Te;return _(Be,null,[_("input",K({ref:w,type:"file",readonly:ue.value,disabled:Q.value,multiple:e.multiple,name:e.name,onClick:fe=>{fe.stopPropagation(),ue.value&&fe.preventDefault(),E()},onChange:fe=>{if(!fe.target)return;const ze=fe.target;o.value=[...ze.files??[]]},onFocus:E,onBlur:c},ve,U),null),_("div",{class:Ne},[!!o.value?.length&&!e.hideInput&&(r.selection?r.selection({fileNames:y.value,totalBytes:p.value,totalBytesReadable:m.value}):e.chips?y.value.map(fe=>_(Jm,{key:fe,size:"small",text:fe},null)):y.value.join(", "))])])}})},details:R?oe=>_(Be,null,[r.details?.(oe),P&&_(Be,null,[_("span",null,null),_(w2,{active:!!o.value?.length,value:g.value,disabled:e.disabled},r.counter)])]):void 0})}),to({},v,b,w)}}),fle=z({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...Yr(),...xe(),...Qn(),...Wh(),...Jt(),...Je({tag:"footer"}),...ct()},"VFooter"),mle=Z()({name:"VFooter",props:fle(),setup(e,t){let{slots:n}=t;const i=ae(),{themeClasses:r}=xt(e),{backgroundColorClasses:s,backgroundColorStyles:o}=Dt(q(e,"color")),{borderClasses:a}=$s(e),{elevationClasses:l}=Ei(e),{roundedClasses:c}=gn(e),h=ce(32),{resizeRef:p}=Go(y=>{y.length&&(h.value=y[0].target.clientHeight)}),m=T(()=>e.height==="auto"?h.value:parseInt(e.height,10));return Sr(()=>e.app,()=>{const y=Zh({id:e.name,order:T(()=>parseInt(e.order,10)),position:T(()=>"bottom"),layoutSize:m,elementSize:T(()=>e.height==="auto"?void 0:m.value),active:T(()=>e.app),absolute:q(e,"absolute")});wn(()=>{i.value=y.layoutItemStyles.value})}),X(()=>_(e.tag,{ref:p,class:["v-footer",r.value,s.value,a.value,l.value,c.value,e.class],style:[o.value,e.app?i.value:{height:_e(e.height)},e.style]},n)),{}}}),yle=z({...xe(),...$re()},"VForm"),gle=Z()({name:"VForm",props:yle(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,t){let{slots:n,emit:i}=t;const r=Tre(e),s=ae();function o(l){l.preventDefault(),r.reset()}function a(l){const c=l,h=r.validate();c.then=h.then.bind(h),c.catch=h.catch.bind(h),c.finally=h.finally.bind(h),i("submit",c),c.defaultPrevented||h.then(p=>{let{valid:m}=p;m&&s.value?.submit()}),c.preventDefault()}return X(()=>_("form",{ref:s,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:o,onSubmit:a},[n.default?.(r)])),to(r,s)}}),vle=z({disabled:Boolean,modelValue:{type:Boolean,default:null},...bP()},"VHover"),ble=Z()({name:"VHover",props:vle(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=Pe(e,"modelValue"),{runOpenDelay:r,runCloseDelay:s}=wP(e,o=>!e.disabled&&(i.value=o));return()=>n.default?.({isHovering:i.value,props:{onMouseenter:r,onMouseleave:s}})}}),wle=z({color:String,direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},side:{type:String,default:"end",validator:e=>["start","end","both"].includes(e)},mode:{type:String,default:"intersect",validator:e=>["intersect","manual"].includes(e)},margin:[Number,String],loadMoreText:{type:String,default:"$vuetify.infiniteScroll.loadMore"},emptyText:{type:String,default:"$vuetify.infiniteScroll.empty"},...Vn(),...Je()},"VInfiniteScroll"),rN=Ss({name:"VInfiniteScrollIntersect",props:{side:{type:String,required:!0},rootMargin:String},emits:{intersect:(e,t)=>!0},setup(e,t){let{emit:n}=t;const{intersectionRef:i,isIntersecting:r}=p2();return be(r,async s=>{n("intersect",e.side,s)}),X(()=>_("div",{class:"v-infinite-scroll-intersect",style:{"--v-infinite-margin-size":e.rootMargin},ref:i},[fs(" ")])),{}}}),_le=Z()({name:"VInfiniteScroll",props:wle(),emits:{load:e=>!0},setup(e,t){let{slots:n,emit:i}=t;const r=ae(),s=ce("ok"),o=ce("ok"),a=T(()=>_e(e.margin)),l=ce(!1);function c($){if(!r.value)return;const I=e.direction==="vertical"?"scrollTop":"scrollLeft";r.value[I]=$}function h(){if(!r.value)return 0;const $=e.direction==="vertical"?"scrollTop":"scrollLeft";return r.value[$]}function p(){if(!r.value)return 0;const $=e.direction==="vertical"?"scrollHeight":"scrollWidth";return r.value[$]}function m(){if(!r.value)return 0;const $=e.direction==="vertical"?"clientHeight":"clientWidth";return r.value[$]}Ir(()=>{r.value&&(e.side==="start"?c(p()):e.side==="both"&&c(p()/2-m()/2))});function y($,I){$==="start"?s.value=I:$==="end"&&(o.value=I)}function g($){return $==="start"?s.value:o.value}let v=0;function b($,I){l.value=I,l.value&&w($)}function w($){if(e.mode!=="manual"&&!l.value)return;const I=g($);if(!r.value||["empty","loading"].includes(I))return;v=p(),y($,"loading");function A(M){y($,M),_t(()=>{M==="empty"||M==="error"||(M==="ok"&&$==="start"&&c(p()-v+h()),e.mode!=="manual"&&_t(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{w($)})})})}))})}i("load",{side:$,done:A})}const{t:S}=Sn();function x($,I){if(e.side!==$&&e.side!=="both")return;const A=()=>w($),M={side:$,props:{onClick:A,color:e.color}};return I==="error"?n.error?.(M):I==="empty"?n.empty?.(M)??_("div",null,[S(e.emptyText)]):e.mode==="manual"?I==="loading"?n.loading?.(M)??_(gm,{indeterminate:!0,color:e.color},null):n["load-more"]?.(M)??_(vt,{variant:"outlined",color:e.color,onClick:A},{default:()=>[S(e.loadMoreText)]}):n.loading?.(M)??_(gm,{indeterminate:!0,color:e.color},null)}const{dimensionStyles:E}=Fn(e);X(()=>{const $=e.tag,I=e.side==="start"||e.side==="both",A=e.side==="end"||e.side==="both",M=e.mode==="intersect";return _($,{ref:r,class:["v-infinite-scroll",`v-infinite-scroll--${e.direction}`,{"v-infinite-scroll--start":I,"v-infinite-scroll--end":A}],style:E.value},{default:()=>[_("div",{class:"v-infinite-scroll__side"},[x("start",s.value)]),I&&M&&_(rN,{key:"start",side:"start",onIntersect:b,rootMargin:a.value},null),n.default?.(),A&&M&&_(rN,{key:"end",side:"end",onIntersect:b,rootMargin:a.value},null),_("div",{class:"v-infinite-scroll__side"},[x("end",o.value)])]})})}}),cU=Symbol.for("vuetify:v-item-group"),Sle=z({...xe(),...Kh({selectedClass:"v-item--selected"}),...Je(),...ct()},"VItemGroup"),xle=Z()({name:"VItemGroup",props:Sle(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:i}=xt(e),{isSelected:r,select:s,next:o,prev:a,selected:l}=Ic(e,cU);return()=>_(e.tag,{class:["v-item-group",i.value,e.class],style:e.style},{default:()=>[n.default?.({isSelected:r,select:s,next:o,prev:a,selected:l.value})]})}}),$le=Z()({name:"VItem",props:Xh(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const{isSelected:i,select:r,toggle:s,selectedClass:o,value:a,disabled:l}=Qh(e,cU);return()=>n.default?.({isSelected:i.value,selectedClass:o.value,select:r,toggle:s,value:a.value,disabled:l.value})}}),Tle=Oa("v-kbd","kbd"),Ele=z({...xe(),...Vn(),...X8()},"VLayout"),Ile=Z()({name:"VLayout",props:Ele(),setup(e,t){let{slots:n}=t;const{layoutClasses:i,layoutStyles:r,getLayoutItem:s,items:o,layoutRef:a}=ez(e),{dimensionStyles:l}=Fn(e);return X(()=>_("div",{ref:a,class:[i.value,e.class],style:[l.value,r.value,e.style]},[n.default?.()])),{getLayoutItem:s,items:o}}}),Cle=z({position:{type:String,required:!0},size:{type:[Number,String],default:300},modelValue:Boolean,...xe(),...Wh()},"VLayoutItem"),Mle=Z()({name:"VLayoutItem",props:Cle(),setup(e,t){let{slots:n}=t;const{layoutItemStyles:i}=Zh({id:e.name,order:T(()=>parseInt(e.order,10)),position:q(e,"position"),elementSize:q(e,"size"),layoutSize:q(e,"size"),active:q(e,"modelValue"),absolute:q(e,"absolute")});return()=>_("div",{class:["v-layout-item",e.class],style:[i.value,e.style]},[n.default?.()])}}),kle=z({modelValue:Boolean,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},...xe(),...Vn(),...Je(),...Yo({transition:"fade-transition"})},"VLazy"),Ale=Z()({name:"VLazy",directives:{intersect:V0},props:kle(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{dimensionStyles:i}=Fn(e),r=Pe(e,"modelValue");function s(o){r.value||(r.value=o)}return X(()=>ln(_(e.tag,{class:["v-lazy",e.class],style:[i.value,e.style]},{default:()=>[r.value&&_(er,{transition:e.transition,appear:!0},{default:()=>[n.default?.()]})]}),[[_s("intersect"),{handler:s,options:e.options},null]])),{}}}),Ple=z({locale:String,fallbackLocale:String,messages:Object,rtl:{type:Boolean,default:void 0},...xe()},"VLocaleProvider"),Lle=Z()({name:"VLocaleProvider",props:Ple(),setup(e,t){let{slots:n}=t;const{rtlClasses:i}=wne(e);return X(()=>_("div",{class:["v-locale-provider",i.value,e.class],style:e.style},[n.default?.()])),{}}}),Ole=z({scrollable:Boolean,...xe(),...Vn(),...Je({tag:"main"})},"VMain"),Rle=Z()({name:"VMain",props:Ole(),setup(e,t){let{slots:n}=t;const{dimensionStyles:i}=Fn(e),{mainStyles:r}=Q8(),{ssrBootStyles:s}=Yh();return X(()=>_(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[r.value,s.value,i.value,e.style]},{default:()=>[e.scrollable?_("div",{class:"v-main__scroller"},[n.default?.()]):n.default?.()]})),{}}});function Nle(e){let{rootEl:t,isSticky:n,layoutItemStyles:i}=e;const r=ce(!1),s=ce(0),o=T(()=>{const c=typeof r.value=="boolean"?"top":r.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,r.value?{[c]:_e(s.value)}:{top:i.value.top}]});Ir(()=>{be(n,c=>{c?window.addEventListener("scroll",l,{passive:!0}):window.removeEventListener("scroll",l)},{immediate:!0})}),Di(()=>{window.removeEventListener("scroll",l)});let a=0;function l(){const c=a>window.scrollY?"up":"down",h=t.value.getBoundingClientRect(),p=parseFloat(i.value.top??0),m=window.scrollY-Math.max(0,s.value-p),y=h.height+Math.max(s.value,p)-window.scrollY-window.innerHeight,g=parseFloat(getComputedStyle(t.value).getPropertyValue("--v-body-scroll-y"))||0;h.height<window.innerHeight-p?(r.value="top",s.value=p):c==="up"&&r.value==="bottom"||c==="down"&&r.value==="top"?(s.value=window.scrollY+h.top-g,r.value=!0):c==="down"&&y<=0?(s.value=0,r.value="bottom"):c==="up"&&m<=0&&(g?r.value!=="top"&&(s.value=-m+g+p,r.value="top"):(s.value=h.top+m,r.value="top")),a=window.scrollY}return{isStuck:r,stickyStyles:o}}const Dle=100,Vle=20;function sN(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function oN(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let t=0;for(let n=e.length-1;n>0;n--){if(e[n].t===e[n-1].t)continue;const i=sN(t),r=(e[n].d-e[n-1].d)/(e[n].t-e[n-1].t);t+=(r-i)*Math.abs(r),n===e.length-1&&(t*=.5)}return sN(t)*1e3}function Fle(){const e={};function t(r){Array.from(r.changedTouches).forEach(s=>{(e[s.identifier]??(e[s.identifier]=new Ate(Vle))).push([r.timeStamp,s])})}function n(r){Array.from(r.changedTouches).forEach(s=>{delete e[s.identifier]})}function i(r){const s=e[r]?.values().reverse();if(!s)throw new Error(`No samples for touch id ${r}`);const o=s[0],a=[],l=[];for(const c of s){if(o[0]-c[0]>Dle)break;a.push({t:c[0],d:c[1].clientX}),l.push({t:c[0],d:c[1].clientY})}return{x:oN(a),y:oN(l),get direction(){const{x:c,y:h}=this,[p,m]=[Math.abs(c),Math.abs(h)];return p>m&&c>=0?"right":p>m&&c<=0?"left":m>p&&h>=0?"down":m>p&&h<=0?"up":jle()}}}return{addMovement:t,endTouch:n,getVelocity:i}}function jle(){throw new Error}function zle(e){let{el:t,isActive:n,isTemporary:i,width:r,touchless:s,position:o}=e;Ir(()=>{window.addEventListener("touchstart",S,{passive:!0}),window.addEventListener("touchmove",x,{passive:!1}),window.addEventListener("touchend",E,{passive:!0})}),Di(()=>{window.removeEventListener("touchstart",S),window.removeEventListener("touchmove",x),window.removeEventListener("touchend",E)});const a=T(()=>["left","right"].includes(o.value)),{addMovement:l,endTouch:c,getVelocity:h}=Fle();let p=!1;const m=ce(!1),y=ce(0),g=ce(0);let v;function b(I,A){return(o.value==="left"?I:o.value==="right"?document.documentElement.clientWidth-I:o.value==="top"?I:o.value==="bottom"?document.documentElement.clientHeight-I:vp())-(A?r.value:0)}function w(I){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const M=o.value==="left"?(I-g.value)/r.value:o.value==="right"?(document.documentElement.clientWidth-I-g.value)/r.value:o.value==="top"?(I-g.value)/r.value:o.value==="bottom"?(document.documentElement.clientHeight-I-g.value)/r.value:vp();return A?Math.max(0,Math.min(1,M)):M}function S(I){if(s.value)return;const A=I.changedTouches[0].clientX,M=I.changedTouches[0].clientY,L=25,O=o.value==="left"?A<L:o.value==="right"?A>document.documentElement.clientWidth-L:o.value==="top"?M<L:o.value==="bottom"?M>document.documentElement.clientHeight-L:vp(),P=n.value&&(o.value==="left"?A<r.value:o.value==="right"?A>document.documentElement.clientWidth-r.value:o.value==="top"?M<r.value:o.value==="bottom"?M>document.documentElement.clientHeight-r.value:vp());(O||P||n.value&&i.value)&&(v=[A,M],g.value=b(a.value?A:M,n.value),y.value=w(a.value?A:M),p=g.value>-20&&g.value<80,c(I),l(I))}function x(I){const A=I.changedTouches[0].clientX,M=I.changedTouches[0].clientY;if(p){if(!I.cancelable){p=!1;return}const O=Math.abs(A-v[0]),P=Math.abs(M-v[1]);(a.value?O>P&&O>3:P>O&&P>3)?(m.value=!0,p=!1):(a.value?P:O)>3&&(p=!1)}if(!m.value)return;I.preventDefault(),l(I);const L=w(a.value?A:M,!1);y.value=Math.max(0,Math.min(1,L)),L>1?g.value=b(a.value?A:M,!0):L<0&&(g.value=b(a.value?A:M,!1))}function E(I){if(p=!1,!m.value)return;l(I),m.value=!1;const A=h(I.changedTouches[0].identifier),M=Math.abs(A.x),L=Math.abs(A.y);(a.value?M>L&&M>400:L>M&&L>3)?n.value=A.direction===({left:"right",right:"left",top:"down",bottom:"up"}[o.value]||vp()):n.value=y.value>.5}const $=T(()=>m.value?{transform:o.value==="left"?`translateX(calc(-100% + ${y.value*r.value}px))`:o.value==="right"?`translateX(calc(100% - ${y.value*r.value}px))`:o.value==="top"?`translateY(calc(-100% + ${y.value*r.value}px))`:o.value==="bottom"?`translateY(calc(100% - ${y.value*r.value}px))`:vp(),transition:"none"}:void 0);return Sr(m,()=>{const I=t.value?.style.transform??null,A=t.value?.style.transition??null;wn(()=>{t.value?.style.setProperty("transform",$.value?.transform||"none"),t.value?.style.setProperty("transition",$.value?.transition||null)}),ar(()=>{t.value?.style.setProperty("transform",I),t.value?.style.setProperty("transition",A)})}),{isDragging:m,dragProgress:y,dragStyles:$}}function vp(){throw new Error}const Ble=["start","end","left","right","top","bottom"],Ule=z({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>Ble.includes(e)},sticky:Boolean,...Yr(),...xe(),...bP(),...qh({mobile:null}),...Qn(),...Wh(),...Jt(),...Je({tag:"nav"}),...ct()},"VNavigationDrawer"),Gle=Z()({name:"VNavigationDrawer",props:Ule(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const{isRtl:s}=Xn(),{themeClasses:o}=xt(e),{borderClasses:a}=$s(e),{backgroundColorClasses:l,backgroundColorStyles:c}=Dt(q(e,"color")),{elevationClasses:h}=Ei(e),{displayClasses:p,mobile:m}=Qs(e),{roundedClasses:y}=gn(e),g=dz(),v=Pe(e,"modelValue",null,Q=>!!Q),{ssrBootStyles:b}=Yh(),{scopeId:w}=tp(),S=ae(),x=ce(!1),{runOpenDelay:E,runCloseDelay:$}=wP(e,Q=>{x.value=Q}),I=T(()=>e.rail&&e.expandOnHover&&x.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),A=T(()=>mE(e.location,s.value)),M=T(()=>e.persistent),L=T(()=>!e.permanent&&(m.value||e.temporary)),O=T(()=>e.sticky&&!L.value&&A.value!=="bottom");Sr(()=>e.expandOnHover&&e.rail!=null,()=>{be(x,Q=>i("update:rail",!Q))}),Sr(()=>!e.disableResizeWatcher,()=>{be(L,Q=>!e.permanent&&_t(()=>v.value=!Q))}),Sr(()=>!e.disableRouteWatcher&&!!g,()=>{be(g.currentRoute,()=>L.value&&(v.value=!1))}),be(()=>e.permanent,Q=>{Q&&(v.value=!0)}),e.modelValue==null&&!L.value&&(v.value=e.permanent||!m.value);const{isDragging:P,dragProgress:R}=zle({el:S,isActive:v,isTemporary:L,width:I,touchless:q(e,"touchless"),position:A}),V=T(()=>{const Q=L.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):I.value;return P.value?Q*R.value:Q}),{layoutItemStyles:U,layoutItemScrimStyles:ee}=Zh({id:e.name,order:T(()=>parseInt(e.order,10)),position:A,layoutSize:V,elementSize:I,active:T(()=>v.value||P.value),disableTransitions:T(()=>P.value),absolute:T(()=>e.absolute||O.value&&typeof se.value!="string")}),{isStuck:se,stickyStyles:Se}=Nle({rootEl:S,isSticky:O,layoutItemStyles:U}),oe=Dt(T(()=>typeof e.scrim=="string"?e.scrim:null)),ie=T(()=>({...P.value?{opacity:R.value*.2,transition:"none"}:void 0,...ee.value}));return mn({VList:{bgColor:"transparent"}}),X(()=>{const Q=r.image||e.image;return _(Be,null,[_(e.tag,K({ref:S,onMouseenter:E,onMouseleave:$,class:["v-navigation-drawer",`v-navigation-drawer--${A.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":x.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":L.value,"v-navigation-drawer--persistent":M.value,"v-navigation-drawer--active":v.value,"v-navigation-drawer--sticky":O.value},o.value,l.value,a.value,p.value,h.value,y.value,e.class],style:[c.value,U.value,b.value,Se.value,e.style]},w,n),{default:()=>[Q&&_("div",{key:"image",class:"v-navigation-drawer__img"},[r.image?_(st,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},r.image):_(kl,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),r.prepend&&_("div",{class:"v-navigation-drawer__prepend"},[r.prepend?.()]),_("div",{class:"v-navigation-drawer__content"},[r.default?.()]),r.append&&_("div",{class:"v-navigation-drawer__append"},[r.append?.()])]}),_(uc,{name:"fade-transition"},{default:()=>[L.value&&(P.value||v.value)&&!!e.scrim&&_("div",K({class:["v-navigation-drawer__scrim",oe.backgroundColorClasses.value],style:[ie.value,oe.backgroundColorStyles.value],onClick:()=>{M.value||(v.value=!1)}},w),null)]})])}),{isStuck:se}}}),Hle=Ss({name:"VNoSsr",setup(e,t){let{slots:n}=t;const i=Kz();return()=>i.value&&n.default?.()}}),qle=z({autofocus:Boolean,divider:String,focusAll:Boolean,label:{type:String,default:"$vuetify.input.otp"},length:{type:[Number,String],default:6},modelValue:{type:[Number,String],default:void 0},placeholder:String,type:{type:String,default:"number"},...Vn(),...U0(),...Vl(q0({variant:"outlined"}),["baseColor","bgColor","class","color","disabled","error","loading","rounded","style","theme","variant"])},"VOtpInput"),Wle=Z()({name:"VOtpInput",props:qle(),emits:{finish:e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const{dimensionStyles:s}=Fn(e),{isFocused:o,focus:a,blur:l}=zl(e),c=Pe(e,"modelValue","",M=>M==null?[]:String(M).split(""),M=>M.join("")),{t:h}=Sn(),p=T(()=>Number(e.length)),m=T(()=>Array(p.value).fill(0)),y=ae(-1),g=ae(),v=ae([]),b=T(()=>v.value[y.value]);function w(){if(A(b.value.value)){b.value.value="";return}const M=c.value.slice(),L=b.value.value;M[y.value]=L;let O=null;y.value>c.value.length?O=c.value.length+1:y.value+1!==p.value&&(O="next"),c.value=M,O&&hh(g.value,O)}function S(M){const L=c.value.slice(),O=y.value;let P=null;["ArrowLeft","ArrowRight","Backspace","Delete"].includes(M.key)&&(M.preventDefault(),M.key==="ArrowLeft"?P="prev":M.key==="ArrowRight"?P="next":["Backspace","Delete"].includes(M.key)&&(L[y.value]="",c.value=L,y.value>0&&M.key==="Backspace"?P="prev":requestAnimationFrame(()=>{v.value[O]?.select()})),requestAnimationFrame(()=>{P!=null&&hh(g.value,P)}))}function x(M,L){L.preventDefault(),L.stopPropagation();const O=L?.clipboardData?.getData("Text").slice(0,p.value)??"";A(O)||(c.value=O.split(""),v.value?.[M].blur())}function E(){c.value=[]}function $(M,L){a(),y.value=L}function I(){l(),y.value=-1}function A(M){return e.type==="number"&&/[^0-9]/g.test(M)}return mn({VField:{color:T(()=>e.color),bgColor:T(()=>e.color),baseColor:T(()=>e.baseColor),disabled:T(()=>e.disabled),error:T(()=>e.error),variant:T(()=>e.variant)}},{scoped:!0}),be(c,M=>{M.length===p.value&&i("finish",M.join(""))},{deep:!0}),be(y,M=>{M<0||_t(()=>{v.value[M]?.select()})}),X(()=>{const[M,L]=Tc(n);return _("div",K({class:["v-otp-input",{"v-otp-input--divided":!!e.divider},e.class],style:[e.style]},M),[_("div",{ref:g,class:"v-otp-input__content",style:[s.value]},[m.value.map((O,P)=>_(Be,null,[e.divider&&P!==0&&_("span",{class:"v-otp-input__divider"},[e.divider]),_(Km,{focused:o.value&&e.focusAll||y.value===P,key:P},{...r,loader:void 0,default:()=>_("input",{ref:R=>v.value[P]=R,"aria-label":h(e.label,P+1),autofocus:P===0&&e.autofocus,autocomplete:"one-time-code",class:["v-otp-input__field"],disabled:e.disabled,inputmode:e.type==="number"?"numeric":"text",min:e.type==="number"?0:void 0,maxlength:P===0?p.value:"1",placeholder:e.placeholder,type:e.type==="number"?"text":e.type,value:c.value[P],onInput:w,onFocus:R=>$(R,P),onBlur:I,onKeydown:S,onPaste:R=>x(P,R)},null)})])),_("input",K({class:"v-otp-input-input",type:"hidden"},L,{value:c.value.join("")}),null),_($a,{contained:!0,"content-class":"v-otp-input__loader","model-value":!!e.loading,persistent:!0},{default:()=>[r.loader?.()??_(gm,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,size:"24",width:"2"},null)]}),r.default?.()])])}),{blur:()=>{v.value?.some(M=>M.blur())},focus:()=>{v.value?.[0].focus()},reset:E,isFocused:o}}});function Zle(e){return Math.floor(Math.abs(e))*Math.sign(e)}const Yle=z({scale:{type:[Number,String],default:.5},...xe()},"VParallax"),Jle=Z()({name:"VParallax",props:Yle(),setup(e,t){let{slots:n}=t;const{intersectionRef:i,isIntersecting:r}=p2(),{resizeRef:s,contentRect:o}=Go(),{height:a}=Qs(),l=ae();wn(()=>{i.value=s.value=l.value?.$el});let c;be(r,y=>{y?(c=iP(i.value),c=c===document.scrollingElement?document:c,c.addEventListener("scroll",m,{passive:!0}),m()):c.removeEventListener("scroll",m)}),Di(()=>{c?.removeEventListener("scroll",m)}),be(a,m),be(()=>o.value?.height,m);const h=T(()=>1-Pn(Number(e.scale)));let p=-1;function m(){r.value&&(cancelAnimationFrame(p),p=requestAnimationFrame(()=>{const y=(l.value?.$el).querySelector(".v-img__img");if(!y)return;const g=c instanceof Document?document.documentElement.clientHeight:c.clientHeight,v=c instanceof Document?window.scrollY:c.scrollTop,b=i.value.getBoundingClientRect().top+v,w=o.value.height,S=b+(w-g)/2,x=Zle((v-S)*h.value),E=Math.max(1,(h.value*(g-w)+w)/w);y.style.setProperty("transform",`translateY(${x}px) scale(${E})`)}))}return X(()=>_(kl,{class:["v-parallax",{"v-parallax--active":r.value},e.class],style:e.style,ref:l,cover:!0,onLoadstart:m,onLoad:m},n)),{}}}),Kle=z({...g2({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),Xle=Z()({name:"VRadio",props:Kle(),setup(e,t){let{slots:n}=t;return X(()=>{const i=cc.filterProps(e);return _(cc,K(i,{class:["v-radio",e.class],style:e.style,type:"radio"}),n)}),{}}}),Qle=z({height:{type:[Number,String],default:"auto"},...Bl(),...Ln(fP(),["multiple"]),trueIcon:{type:Oe,default:"$radioOn"},falseIcon:{type:Oe,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),eue=Z()({name:"VRadioGroup",inheritAttrs:!1,props:Qle(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const r=Ti(),s=T(()=>e.id||`radio-group-${r}`),o=Pe(e,"modelValue");return X(()=>{const[a,l]=Tc(n),c=Ni.filterProps(e),h=cc.filterProps(e),p=i.label?i.label({label:e.label,props:{for:s.value}}):e.label;return _(Ni,K({class:["v-radio-group",e.class],style:e.style},a,c,{modelValue:o.value,"onUpdate:modelValue":m=>o.value=m,id:s.value}),{...i,default:m=>{let{id:y,messagesId:g,isDisabled:v,isReadonly:b}=m;return _(Be,null,[p&&_(Ym,{id:y.value},{default:()=>[p]}),_(Sz,K(h,{id:y.value,"aria-describedby":g.value,defaultsTarget:"VRadio",trueIcon:e.trueIcon,falseIcon:e.falseIcon,type:e.type,disabled:v.value,readonly:b.value,"aria-labelledby":p?y.value:void 0,multiple:!1},l,{modelValue:o.value,"onUpdate:modelValue":w=>o.value=w}),i)])}})}),{}}}),tue=z({...U0(),...Bl(),...vB(),strict:Boolean,modelValue:{type:Array,default:()=>[0,0]}},"VRangeSlider"),nue=Z()({name:"VRangeSlider",props:tue(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,end:e=>!0,start:e=>!0},setup(e,t){let{slots:n,emit:i}=t;const r=ae(),s=ae(),o=ae(),{rtlClasses:a}=Xn();function l(O){if(!r.value||!s.value)return;const P=RE(O,r.value.$el,e.direction),R=RE(O,s.value.$el,e.direction),V=Math.abs(P),U=Math.abs(R);return V<U||V===U&&P<0?r.value.$el:s.value.$el}const c=bB(e),h=Pe(e,"modelValue",void 0,O=>O?.length?O.map(P=>c.roundValue(P)):[0,0]),{activeThumbRef:p,hasLabels:m,max:y,min:g,mousePressed:v,onSliderMousedown:b,onSliderTouchstart:w,position:S,trackContainerRef:x,readonly:E}=wB({props:e,steps:c,onSliderStart:()=>{i("start",h.value)},onSliderEnd:O=>{let{value:P}=O;const R=p.value===r.value?.$el?[P,h.value[1]]:[h.value[0],P];!e.strict&&R[0]<R[1]&&(h.value=R),i("end",h.value)},onSliderMove:O=>{let{value:P}=O;const[R,V]=h.value;!e.strict&&R===V&&R!==g.value&&(p.value=P>R?s.value?.$el:r.value?.$el,p.value?.focus()),p.value===r.value?.$el?h.value=[Math.min(P,V),V]:h.value=[R,Math.max(R,P)]},getActiveThumb:l}),{isFocused:$,focus:I,blur:A}=zl(e),M=T(()=>S(h.value[0])),L=T(()=>S(h.value[1]));return X(()=>{const O=Ni.filterProps(e),P=!!(e.label||n.label||n.prepend);return _(Ni,K({class:["v-slider","v-range-slider",{"v-slider--has-labels":!!n["tick-label"]||m.value,"v-slider--focused":$.value,"v-slider--pressed":v.value,"v-slider--disabled":e.disabled},a.value,e.class],style:e.style,ref:o},O,{focused:$.value}),{...n,prepend:P?R=>_(Be,null,[n.label?.(R)??(e.label?_(Ym,{class:"v-slider__label",text:e.label},null):void 0),n.prepend?.(R)]):void 0,default:R=>{let{id:V,messagesId:U}=R;return _("div",{class:"v-slider__container",onMousedown:E.value?void 0:b,onTouchstartPassive:E.value?void 0:w},[_("input",{id:`${V.value}_start`,name:e.name||V.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:h.value[0]},null),_("input",{id:`${V.value}_stop`,name:e.name||V.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:h.value[1]},null),_(_B,{ref:x,start:M.value,stop:L.value},{"tick-label":n["tick-label"]}),_(NE,{ref:r,"aria-describedby":U.value,focused:$&&p.value===r.value?.$el,modelValue:h.value[0],"onUpdate:modelValue":ee=>h.value=[ee,h.value[1]],onFocus:ee=>{I(),p.value=r.value?.$el,y.value!==g.value&&h.value[0]===h.value[1]&&h.value[1]===g.value&&ee.relatedTarget!==s.value?.$el&&(r.value?.$el.blur(),s.value?.$el.focus())},onBlur:()=>{A(),p.value=void 0},min:g.value,max:h.value[1],position:M.value,ripple:e.ripple},{"thumb-label":n["thumb-label"]}),_(NE,{ref:s,"aria-describedby":U.value,focused:$&&p.value===s.value?.$el,modelValue:h.value[1],"onUpdate:modelValue":ee=>h.value=[h.value[0],ee],onFocus:ee=>{I(),p.value=s.value?.$el,y.value!==g.value&&h.value[0]===h.value[1]&&h.value[0]===y.value&&ee.relatedTarget!==r.value?.$el&&(s.value?.$el.blur(),r.value?.$el.focus())},onBlur:()=>{A(),p.value=void 0},min:h.value[0],max:y.value,position:L.value,ripple:e.ripple},{"thumb-label":n["thumb-label"]})])}})}),{}}}),iue=z({name:String,itemAriaLabel:{type:String,default:"$vuetify.rating.ariaLabel.item"},activeColor:String,color:String,clearable:Boolean,disabled:Boolean,emptyIcon:{type:Oe,default:"$ratingEmpty"},fullIcon:{type:Oe,default:"$ratingFull"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,modelValue:{type:[Number,String],default:0},itemLabels:Array,itemLabelPosition:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},ripple:Boolean,...xe(),...ci(),...Ra(),...Je(),...ct()},"VRating"),rue=Z()({name:"VRating",props:iue(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{t:i}=Sn(),{themeClasses:r}=xt(e),s=Pe(e,"modelValue"),o=T(()=>Pn(parseFloat(s.value),0,Number(e.length))),a=T(()=>_a(Number(e.length),1)),l=T(()=>a.value.flatMap(v=>e.halfIncrements?[v-.5,v]:[v])),c=ce(-1),h=T(()=>l.value.map(v=>{const b=e.hover&&c.value>-1,w=o.value>=v,S=c.value>=v,E=(b?S:w)?e.fullIcon:e.emptyIcon,$=e.activeColor??e.color,I=w||S?$:e.color;return{isFilled:w,isHovered:S,icon:E,color:I}})),p=T(()=>[0,...l.value].map(v=>{function b(){c.value=v}function w(){c.value=-1}function S(){e.disabled||e.readonly||(s.value=o.value===v&&e.clearable?0:v)}return{onMouseenter:e.hover?b:void 0,onMouseleave:e.hover?w:void 0,onClick:S}})),m=T(()=>e.name??`v-rating-${Ti()}`);function y(v){let{value:b,index:w,showStar:S=!0}=v;const{onMouseenter:x,onMouseleave:E,onClick:$}=p.value[w+1],I=`${m.value}-${String(b).replace(".","-")}`,A={color:h.value[w]?.color,density:e.density,disabled:e.disabled,icon:h.value[w]?.icon,ripple:e.ripple,size:e.size,variant:"plain"};return _(Be,null,[_("label",{for:I,class:{"v-rating__item--half":e.halfIncrements&&b%1>0,"v-rating__item--full":e.halfIncrements&&b%1===0},onMouseenter:x,onMouseleave:E,onClick:$},[_("span",{class:"v-rating__hidden"},[i(e.itemAriaLabel,b,e.length)]),S?n.item?n.item({...h.value[w],props:A,value:b,index:w,rating:o.value}):_(vt,K({"aria-label":i(e.itemAriaLabel,b,e.length)},A),null):void 0]),_("input",{class:"v-rating__hidden",name:m.value,id:I,type:"radio",value:b,checked:o.value===b,tabindex:-1,readonly:e.readonly,disabled:e.disabled},null)])}function g(v){return n["item-label"]?n["item-label"](v):v.label?_("span",null,[v.label]):_("span",null,[fs(" ")])}return X(()=>{const v=!!e.itemLabels?.length||n["item-label"];return _(e.tag,{class:["v-rating",{"v-rating--hover":e.hover,"v-rating--readonly":e.readonly},r.value,e.class],style:e.style},{default:()=>[_(y,{value:0,index:-1,showStar:!1},null),a.value.map((b,w)=>_("div",{class:"v-rating__wrapper"},[v&&e.itemLabelPosition==="top"?g({value:b,index:w,label:e.itemLabels?.[w]}):void 0,_("div",{class:"v-rating__item"},[e.halfIncrements?_(Be,null,[_(y,{value:b-.5,index:w*2},null),_(y,{value:b,index:w*2+1},null)]):_(y,{value:b,index:w},null)]),v&&e.itemLabelPosition==="bottom"?g({value:b,index:w,label:e.itemLabels?.[w]}):void 0]))]})}),{}}}),sue={actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, heading","card-avatar":"image, list-item-avatar",chip:"chip","date-picker":"list-item, heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",divider:"divider",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",ossein:"ossein",paragraph:"text@3",sentences:"text@2",subtitle:"text",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"chip, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"text@6","table-tfoot":"text@2, avatar@2",text:"text"};function oue(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return _("div",{class:["v-skeleton-loader__bone",`v-skeleton-loader__${e}`]},[t])}function aN(e){const[t,n]=e.split("@");return Array.from({length:n}).map(()=>R2(t))}function R2(e){let t=[];if(!e)return t;const n=sue[e];if(e!==n){if(e.includes(","))return lN(e);if(e.includes("@"))return aN(e);n.includes(",")?t=lN(n):n.includes("@")?t=aN(n):n&&t.push(R2(n))}return[oue(e,t)]}function lN(e){return e.replace(/\s/g,"").split(",").map(R2)}const aue=z({boilerplate:Boolean,color:String,loading:Boolean,loadingText:{type:String,default:"$vuetify.loading"},type:{type:[String,Array],default:"ossein"},...Vn(),...Qn(),...ct()},"VSkeletonLoader"),lue=Z()({name:"VSkeletonLoader",props:aue(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:i,backgroundColorStyles:r}=Dt(q(e,"color")),{dimensionStyles:s}=Fn(e),{elevationClasses:o}=Ei(e),{themeClasses:a}=xt(e),{t:l}=Sn(),c=T(()=>R2(sn(e.type).join(",")));return X(()=>{const h=!n.default||e.loading,p=e.boilerplate||!h?{}:{ariaLive:"polite",ariaLabel:l(e.loadingText),role:"alert"};return _("div",K({class:["v-skeleton-loader",{"v-skeleton-loader--boilerplate":e.boilerplate},a.value,i.value,o.value],style:[r.value,h?s.value:{}]},p),[h?c.value:n.default?.()])}),{}}}),uue=Z()({name:"VSlideGroupItem",props:Xh(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const i=Qh(e,Az);return()=>n.default?.({isSelected:i.isSelected.value,select:i.select,toggle:i.toggle,selectedClass:i.selectedClass.value})}});function cue(e){const t=ce(e());let n=-1;function i(){clearInterval(n)}function r(){i(),_t(()=>t.value=e())}function s(o){const a=o?getComputedStyle(o):{transitionDuration:.2},l=parseFloat(a.transitionDuration)*1e3||200;if(i(),t.value<=0)return;const c=performance.now();n=window.setInterval(()=>{const h=performance.now()-c+l;t.value=Math.max(e()-h,0),t.value<=0&&i()},l)}return ar(i),{clear:i,time:t,start:s,reset:r}}const due=z({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...Fl({location:"bottom"}),...Wm(),...Jt(),...eo(),...ct(),...Ln(H0({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),hue=Z()({name:"VSnackbar",props:due(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=Pe(e,"modelValue"),{positionClasses:r}=Zm(e),{scopeId:s}=tp(),{themeClasses:o}=xt(e),{colorClasses:a,colorStyles:l,variantClasses:c}=Jh(e),{roundedClasses:h}=gn(e),p=cue(()=>Number(e.timeout)),m=ae(),y=ae(),g=ce(!1),v=ce(0),b=ae(),w=ft(Hv,void 0);Sr(()=>!!w,()=>{const P=Q8();wn(()=>{b.value=P.mainStyles.value})}),be(i,x),be(()=>e.timeout,x),Ir(()=>{i.value&&x()});let S=-1;function x(){p.reset(),window.clearTimeout(S);const P=Number(e.timeout);if(!i.value||P===-1)return;const R=KA(y.value);p.start(R),S=window.setTimeout(()=>{i.value=!1},P)}function E(){p.reset(),window.clearTimeout(S)}function $(){g.value=!0,E()}function I(){g.value=!1,x()}function A(P){v.value=P.touches[0].clientY}function M(P){Math.abs(v.value-P.changedTouches[0].clientY)>50&&(i.value=!1)}function L(){g.value&&I()}const O=T(()=>e.location.split(" ").reduce((P,R)=>(P[`v-snackbar--${R}`]=!0,P),{}));return X(()=>{const P=$a.filterProps(e),R=!!(n.default||n.text||e.text);return _($a,K({ref:m,class:["v-snackbar",{"v-snackbar--active":i.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},O.value,r.value,e.class],style:[b.value,e.style]},P,{modelValue:i.value,"onUpdate:modelValue":V=>i.value=V,contentProps:K({class:["v-snackbar__wrapper",o.value,a.value,h.value,c.value],style:[l.value],onPointerenter:$,onPointerleave:I},P.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:A,onTouchend:M,onAfterLeave:L},s),{default:()=>[Ec(!1,"v-snackbar"),e.timer&&!g.value&&_("div",{key:"timer",class:"v-snackbar__timer"},[_(f2,{ref:y,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,"model-value":p.time.value},null)]),R&&_("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[n.text?.()??e.text,n.default?.()]),n.actions&&_(st,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[_("div",{class:"v-snackbar__actions"},[n.actions({isActive:i})])]})],activator:n.activator})}),to({},m)}}),dU=z({autoDraw:Boolean,autoDrawDuration:[Number,String],autoDrawEasing:{type:String,default:"ease"},color:String,gradient:{type:Array,default:()=>[]},gradientDirection:{type:String,validator:e=>["top","bottom","left","right"].includes(e),default:"top"},height:{type:[String,Number],default:75},labels:{type:Array,default:()=>[]},labelSize:{type:[Number,String],default:7},lineWidth:{type:[String,Number],default:4},id:String,itemValue:{type:String,default:"value"},modelValue:{type:Array,default:()=>[]},min:[String,Number],max:[String,Number],padding:{type:[String,Number],default:8},showLabels:Boolean,smooth:[Boolean,String,Number],width:{type:[Number,String],default:300}},"Line"),hU=z({autoLineWidth:Boolean,...dU()},"VBarline"),uN=Z()({name:"VBarline",props:hU(),setup(e,t){let{slots:n}=t;const i=Ti(),r=T(()=>e.id||`barline-${i}`),s=T(()=>Number(e.autoDrawDuration)||500),o=T(()=>!!(e.showLabels||e.labels.length>0||n?.label)),a=T(()=>parseFloat(e.lineWidth)||4),l=T(()=>Math.max(e.modelValue.length*a.value,Number(e.width))),c=T(()=>({minX:0,maxX:l.value,minY:0,maxY:parseInt(e.height,10)})),h=T(()=>e.modelValue.map(b=>Wn(b,e.itemValue,b)));function p(b,w){const{minX:S,maxX:x,minY:E,maxY:$}=w,I=b.length;let A=e.max!=null?Number(e.max):Math.max(...b),M=e.min!=null?Number(e.min):Math.min(...b);M>0&&e.min==null&&(M=0),A<0&&e.max==null&&(A=0);const L=x/I,O=($-E)/(A-M||1),P=$-Math.abs(M*O);return b.map((R,V)=>{const U=Math.abs(O*R);return{x:S+V*L,y:P-U+ +(R<0)*U,height:U,value:R}})}const m=T(()=>{const b=[],w=p(h.value,c.value),S=w.length;for(let x=0;b.length<S;x++){const E=w[x];let $=e.labels[x];$||($=typeof E=="object"?E.value:E),b.push({x:E.x,value:String($)})}return b}),y=T(()=>p(h.value,c.value)),g=T(()=>(Math.abs(y.value[0].x-y.value[1].x)-a.value)/2),v=T(()=>typeof e.smooth=="boolean"?e.smooth?2:0:Number(e.smooth));X(()=>{const b=e.gradient.slice().length?e.gradient.slice().reverse():[""];return _("svg",{display:"block"},[_("defs",null,[_("linearGradient",{id:r.value,gradientUnits:"userSpaceOnUse",x1:e.gradientDirection==="left"?"100%":"0",y1:e.gradientDirection==="top"?"100%":"0",x2:e.gradientDirection==="right"?"100%":"0",y2:e.gradientDirection==="bottom"?"100%":"0"},[b.map((w,S)=>_("stop",{offset:S/Math.max(b.length-1,1),"stop-color":w||"currentColor"},null))])]),_("clipPath",{id:`${r.value}-clip`},[y.value.map(w=>_("rect",{x:w.x+g.value,y:w.y,width:a.value,height:w.height,rx:v.value,ry:v.value},[e.autoDraw&&_(Be,null,[_("animate",{attributeName:"y",from:w.y+w.height,to:w.y,dur:`${s.value}ms`,fill:"freeze"},null),_("animate",{attributeName:"height",from:"0",to:w.height,dur:`${s.value}ms`,fill:"freeze"},null)])]))]),o.value&&_("g",{key:"labels",style:{textAnchor:"middle",dominantBaseline:"mathematical",fill:"currentColor"}},[m.value.map((w,S)=>_("text",{x:w.x+g.value+a.value/2,y:parseInt(e.height,10)-2+(parseInt(e.labelSize,10)||7*.75),"font-size":Number(e.labelSize)||7},[n.label?.({index:S,value:w.value})??w.value]))]),_("g",{"clip-path":`url(#${r.value}-clip)`,fill:`url(#${r.value})`},[_("rect",{x:0,y:0,width:Math.max(e.modelValue.length*a.value,Number(e.width)),height:e.height},null)])])})}});function pue(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:75;if(e.length===0)return"";const r=e.shift(),s=e[e.length-1];return(n?`M${r.x} ${i-r.x+2} L${r.x} ${r.y}`:`M${r.x} ${r.y}`)+e.map((o,a)=>{const l=e[a+1],c=e[a-1]||r,h=l&&fue(l,o,c);if(!l||h)return`L${o.x} ${o.y}`;const p=Math.min(cN(c,o),cN(l,o)),y=p/2<t?p/2:t,g=dN(c,o,y),v=dN(l,o,y);return`L${g.x} ${g.y}S${o.x} ${o.y} ${v.x} ${v.y}`}).join("")+(n?`L${s.x} ${i-r.x+2} Z`:"")}function Gb(e){return parseInt(e,10)}function fue(e,t,n){return Gb(e.x+n.x)===Gb(2*t.x)&&Gb(e.y+n.y)===Gb(2*t.y)}function cN(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function dN(e,t,n){const i={x:e.x-t.x,y:e.y-t.y},r=Math.sqrt(i.x*i.x+i.y*i.y),s={x:i.x/r,y:i.y/r};return{x:t.x+s.x*n,y:t.y+s.y*n}}const pU=z({fill:Boolean,...dU()},"VTrendline"),hN=Z()({name:"VTrendline",props:pU(),setup(e,t){let{slots:n}=t;const i=Ti(),r=T(()=>e.id||`trendline-${i}`),s=T(()=>Number(e.autoDrawDuration)||(e.fill?500:2e3)),o=ae(0),a=ae(null);function l(b,w){const{minX:S,maxX:x,minY:E,maxY:$}=w,I=b.length,A=e.max!=null?Number(e.max):Math.max(...b),M=e.min!=null?Number(e.min):Math.min(...b),L=(x-S)/(I-1),O=($-E)/(A-M||1);return b.map((P,R)=>({x:S+R*L,y:$-(P-M)*O,value:P}))}const c=T(()=>!!(e.showLabels||e.labels.length>0||n?.label)),h=T(()=>parseFloat(e.lineWidth)||4),p=T(()=>Number(e.width)),m=T(()=>{const b=Number(e.padding);return{minX:b,maxX:p.value-b,minY:b,maxY:parseInt(e.height,10)-b}}),y=T(()=>e.modelValue.map(b=>Wn(b,e.itemValue,b))),g=T(()=>{const b=[],w=l(y.value,m.value),S=w.length;for(let x=0;b.length<S;x++){const E=w[x];let $=e.labels[x];$||($=typeof E=="object"?E.value:E),b.push({x:E.x,value:String($)})}return b});be(()=>e.modelValue,async()=>{if(await _t(),!e.autoDraw||!a.value)return;const b=a.value,w=b.getTotalLength();e.fill?(b.style.transformOrigin="bottom center",b.style.transition="none",b.style.transform="scaleY(0)",b.getBoundingClientRect(),b.style.transition=`transform ${s.value}ms ${e.autoDrawEasing}`,b.style.transform="scaleY(1)"):(b.style.strokeDasharray=`${w}`,b.style.strokeDashoffset=`${w}`,b.getBoundingClientRect(),b.style.transition=`stroke-dashoffset ${s.value}ms ${e.autoDrawEasing}`,b.style.strokeDashoffset="0"),o.value=w},{immediate:!0});function v(b){const w=typeof e.smooth=="boolean"?e.smooth?8:0:Number(e.smooth);return pue(l(y.value,m.value),w,b,parseInt(e.height,10))}X(()=>{const b=e.gradient.slice().length?e.gradient.slice().reverse():[""];return _("svg",{display:"block","stroke-width":parseFloat(e.lineWidth)??4},[_("defs",null,[_("linearGradient",{id:r.value,gradientUnits:"userSpaceOnUse",x1:e.gradientDirection==="left"?"100%":"0",y1:e.gradientDirection==="top"?"100%":"0",x2:e.gradientDirection==="right"?"100%":"0",y2:e.gradientDirection==="bottom"?"100%":"0"},[b.map((w,S)=>_("stop",{offset:S/Math.max(b.length-1,1),"stop-color":w||"currentColor"},null))])]),c.value&&_("g",{key:"labels",style:{textAnchor:"middle",dominantBaseline:"mathematical",fill:"currentColor"}},[g.value.map((w,S)=>_("text",{x:w.x+h.value/2+h.value/2,y:parseInt(e.height,10)-4+(parseInt(e.labelSize,10)||7*.75),"font-size":Number(e.labelSize)||7},[n.label?.({index:S,value:w.value})??w.value]))]),_("path",{ref:a,d:v(e.fill),fill:e.fill?`url(#${r.value})`:"none",stroke:e.fill?"none":`url(#${r.value})`},null),e.fill&&_("path",{d:v(!1),fill:"none",stroke:e.color??e.gradient?.[0]},null)])})}}),mue=z({type:{type:String,default:"trend"},...hU(),...pU()},"VSparkline"),yue=Z()({name:"VSparkline",props:mue(),setup(e,t){let{slots:n}=t;const{textColorClasses:i,textColorStyles:r}=Ri(q(e,"color")),s=T(()=>!!(e.showLabels||e.labels.length>0||n?.label)),o=T(()=>{let a=parseInt(e.height,10);return s.value&&(a+=parseInt(e.labelSize,10)*1.5),a});X(()=>{const a=e.type==="trend"?hN:uN,l=e.type==="trend"?hN.filterProps(e):uN.filterProps(e);return _(a,K({key:e.type,class:i.value,style:r.value,viewBox:`0 0 ${e.width} ${parseInt(o.value,10)}`},l),n)})}}),gue=z({...xe(),...tB({offset:8,minWidth:0,openDelay:0,closeDelay:100,location:"top center",transition:"scale-transition"})},"VSpeedDial"),vue=Z()({name:"VSpeedDial",props:gue(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=Pe(e,"modelValue"),r=ae(),s=T(()=>{const[a,l="center"]=e.location?.split(" ")??[];return`${a} ${l}`}),o=T(()=>({[`v-speed-dial__content--${s.value.replace(" ","-")}`]:!0}));return X(()=>{const a=vm.filterProps(e);return _(vm,K(a,{modelValue:i.value,"onUpdate:modelValue":l=>i.value=l,class:e.class,style:e.style,contentClass:["v-speed-dial__content",o.value,e.contentClass],location:s.value,ref:r,transition:"fade-transition"}),{...n,default:l=>_(st,{defaults:{VBtn:{size:"small"}}},{default:()=>[_(er,{appear:!0,group:!0,transition:e.transition},{default:()=>[n.default?.(l)]})]})})}),{}}}),UP=Symbol.for("vuetify:v-stepper"),fU=z({color:String,disabled:{type:[Boolean,String],default:!1},prevText:{type:String,default:"$vuetify.stepper.prev"},nextText:{type:String,default:"$vuetify.stepper.next"}},"VStepperActions"),mU=Z()({name:"VStepperActions",props:fU(),emits:{"click:prev":()=>!0,"click:next":()=>!0},setup(e,t){let{emit:n,slots:i}=t;const{t:r}=Sn();function s(){n("click:prev")}function o(){n("click:next")}return X(()=>{const a={onClick:s},l={onClick:o};return _("div",{class:"v-stepper-actions"},[_(st,{defaults:{VBtn:{disabled:["prev",!0].includes(e.disabled),text:r(e.prevText),variant:"text"}}},{default:()=>[i.prev?.({props:a})??_(vt,a,null)]}),_(st,{defaults:{VBtn:{color:e.color,disabled:["next",!0].includes(e.disabled),text:r(e.nextText),variant:"tonal"}}},{default:()=>[i.next?.({props:l})??_(vt,l,null)]})])}),{}}}),yU=Oa("v-stepper-header"),bue=z({color:String,title:String,subtitle:String,complete:Boolean,completeIcon:{type:Oe,default:"$complete"},editable:Boolean,editIcon:{type:Oe,default:"$edit"},error:Boolean,errorIcon:{type:Oe,default:"$error"},icon:Oe,ripple:{type:[Boolean,Object],default:!0},rules:{type:Array,default:()=>[]}},"StepperItem"),wue=z({...bue(),...Xh()},"VStepperItem"),gU=Z()({name:"VStepperItem",directives:{Ripple:jl},props:wue(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const i=Qh(e,UP,!0),r=T(()=>i?.value.value??e.value),s=T(()=>e.rules.every(m=>m()===!0)),o=T(()=>!e.disabled&&e.editable),a=T(()=>!e.disabled&&e.editable),l=T(()=>e.error||!s.value),c=T(()=>e.complete||e.rules.length>0&&s.value),h=T(()=>l.value?e.errorIcon:c.value?e.completeIcon:i.isSelected.value&&e.editable?e.editIcon:e.icon),p=T(()=>({canEdit:a.value,hasError:l.value,hasCompleted:c.value,title:e.title,subtitle:e.subtitle,step:r.value,value:e.value}));return X(()=>{const m=(!i||i.isSelected.value||c.value||a.value)&&!l.value&&!e.disabled,y=!!(e.title!=null||n.title),g=!!(e.subtitle!=null||n.subtitle);function v(){i?.toggle()}return ln(_("button",{class:["v-stepper-item",{"v-stepper-item--complete":c.value,"v-stepper-item--disabled":e.disabled,"v-stepper-item--error":l.value},i?.selectedClass.value],disabled:!e.editable,type:"button",onClick:v},[o.value&&Ec(!0,"v-stepper-item"),_(Ys,{key:"stepper-avatar",class:"v-stepper-item__avatar",color:m?e.color:void 0,size:24},{default:()=>[n.icon?.(p.value)??(h.value?_(bt,{icon:h.value},null):r.value)]}),_("div",{class:"v-stepper-item__content"},[y&&_("div",{key:"title",class:"v-stepper-item__title"},[n.title?.(p.value)??e.title]),g&&_("div",{key:"subtitle",class:"v-stepper-item__subtitle"},[n.subtitle?.(p.value)??e.subtitle]),n.default?.(p.value)])]),[[_s("ripple"),e.ripple&&e.editable,null]])}),{}}}),_ue=z({...Ln(x2(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VStepperWindow"),vU=Z()({name:"VStepperWindow",props:_ue(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=ft(UP,null),r=Pe(e,"modelValue"),s=T({get(){return r.value!=null||!i?r.value:i.items.value.find(o=>i.selected.value.includes(o.id))?.value},set(o){r.value=o}});return X(()=>{const o=Th.filterProps(e);return _(Th,K({_as:"VStepperWindow"},o,{modelValue:s.value,"onUpdate:modelValue":a=>s.value=a,class:["v-stepper-window",e.class],style:e.style,mandatory:!1,touch:!1}),n)}),{}}}),Sue=z({...$2()},"VStepperWindowItem"),bU=Z()({name:"VStepperWindowItem",props:Sue(),setup(e,t){let{slots:n}=t;return X(()=>{const i=Eh.filterProps(e);return _(Eh,K({_as:"VStepperWindowItem"},i,{class:["v-stepper-window-item",e.class],style:e.style}),n)}),{}}}),xue=z({altLabels:Boolean,bgColor:String,completeIcon:Oe,editIcon:Oe,editable:Boolean,errorIcon:Oe,hideActions:Boolean,items:{type:Array,default:()=>[]},itemTitle:{type:String,default:"title"},itemValue:{type:String,default:"value"},nonLinear:Boolean,flat:Boolean,...qh()},"Stepper"),$ue=z({...xue(),...Kh({mandatory:"force",selectedClass:"v-stepper-item--selected"}),...T2(),...Vl(fU(),["prevText","nextText"])},"VStepper"),Tue=Z()({name:"VStepper",props:$ue(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{items:i,next:r,prev:s,selected:o}=Ic(e,UP),{displayClasses:a,mobile:l}=Qs(e),{completeIcon:c,editIcon:h,errorIcon:p,color:m,editable:y,prevText:g,nextText:v}=Hh(e),b=T(()=>e.items.map((x,E)=>{const $=Wn(x,e.itemTitle,x),I=Wn(x,e.itemValue,E+1);return{title:$,value:I,raw:x}})),w=T(()=>i.value.findIndex(x=>o.value.includes(x.id))),S=T(()=>e.disabled?e.disabled:w.value===0?"prev":w.value===i.value.length-1?"next":!1);return mn({VStepperItem:{editable:y,errorIcon:p,completeIcon:c,editIcon:h,prevText:g,nextText:v},VStepperActions:{color:m,disabled:S,prevText:g,nextText:v}}),X(()=>{const x=Ih.filterProps(e),E=!!(n.header||e.items.length),$=e.items.length>0,I=!e.hideActions&&!!($||n.actions);return _(Ih,K(x,{color:e.bgColor,class:["v-stepper",{"v-stepper--alt-labels":e.altLabels,"v-stepper--flat":e.flat,"v-stepper--non-linear":e.nonLinear,"v-stepper--mobile":l.value},a.value,e.class],style:e.style}),{default:()=>[E&&_(yU,{key:"stepper-header"},{default:()=>[b.value.map((A,M)=>{let{raw:L,...O}=A;return _(Be,null,[!!M&&_(G0,null,null),_(gU,O,{default:n[`header-item.${O.value}`]??n.header,icon:n.icon,title:n.title,subtitle:n.subtitle})])})]}),$&&_(vU,{key:"stepper-window"},{default:()=>[b.value.map(A=>_(bU,{value:A.value},{default:()=>n[`item.${A.value}`]?.(A)??n.item?.(A)}))]}),n.default?.({prev:s,next:r}),I&&(n.actions?.({next:r,prev:s})??_(mU,{key:"stepper-actions","onClick:prev":s,"onClick:next":r},n))]})}),{prev:s,next:r}}}),Eue=z({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...Bl(),...g2()},"VSwitch"),Iue=Z()({name:"VSwitch",inheritAttrs:!1,props:Eue(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const r=Pe(e,"indeterminate"),s=Pe(e,"modelValue"),{loaderClasses:o}=F0(e),{isFocused:a,focus:l,blur:c}=zl(e),h=ae(),p=gt&&window.matchMedia("(forced-colors: active)").matches,m=T(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),y=Ti(),g=T(()=>e.id||`switch-${y}`);function v(){r.value&&(r.value=!1)}function b(w){w.stopPropagation(),w.preventDefault(),h.value?.input?.click()}return X(()=>{const[w,S]=Tc(n),x=Ni.filterProps(e),E=cc.filterProps(e);return _(Ni,K({class:["v-switch",{"v-switch--flat":e.flat},{"v-switch--inset":e.inset},{"v-switch--indeterminate":r.value},o.value,e.class]},w,x,{modelValue:s.value,"onUpdate:modelValue":$=>s.value=$,id:g.value,focused:a.value,style:e.style}),{...i,default:$=>{let{id:I,messagesId:A,isDisabled:M,isReadonly:L,isValid:O}=$;const P={model:s,isValid:O};return _(cc,K({ref:h},E,{modelValue:s.value,"onUpdate:modelValue":[R=>s.value=R,v],id:I.value,"aria-describedby":A.value,type:"checkbox","aria-checked":r.value?"mixed":void 0,disabled:M.value,readonly:L.value,onFocus:l,onBlur:c},S),{...i,default:R=>{let{backgroundColorClasses:V,backgroundColorStyles:U}=R;return _("div",{class:["v-switch__track",p?void 0:V.value],style:U.value,onClick:b},[i["track-true"]&&_("div",{key:"prepend",class:"v-switch__track-true"},[i["track-true"](P)]),i["track-false"]&&_("div",{key:"append",class:"v-switch__track-false"},[i["track-false"](P)])])},input:R=>{let{inputNode:V,icon:U,backgroundColorClasses:ee,backgroundColorStyles:se}=R;return _(Be,null,[V,_("div",{class:["v-switch__thumb",{"v-switch__thumb--filled":U||e.loading},e.inset||p?void 0:ee.value],style:e.inset?void 0:se.value},[i.thumb?_(st,{defaults:{VIcon:{icon:U,size:"x-small"}}},{default:()=>[i.thumb({...P,icon:U})]}):_(uP,null,{default:()=>[e.loading?_(j0,{name:"v-switch",active:!0,color:O.value===!1?void 0:m.value},{default:Se=>i.loader?i.loader(Se):_(gm,{active:Se.isActive,color:Se.color,indeterminate:!0,size:"16",width:"2"},null)}):U&&_(bt,{key:String(U),icon:U,size:"x-small"},null)]})])])}})}})}),{}}}),Cue=z({color:String,height:[Number,String],window:Boolean,...xe(),...Qn(),...Wh(),...Jt(),...Je(),...ct()},"VSystemBar"),Mue=Z()({name:"VSystemBar",props:Cue(),setup(e,t){let{slots:n}=t;const{themeClasses:i}=xt(e),{backgroundColorClasses:r,backgroundColorStyles:s}=Dt(q(e,"color")),{elevationClasses:o}=Ei(e),{roundedClasses:a}=gn(e),{ssrBootStyles:l}=Yh(),c=T(()=>e.height??(e.window?32:24)),{layoutItemStyles:h}=Zh({id:e.name,order:T(()=>parseInt(e.order,10)),position:ce("top"),layoutSize:c,elementSize:c,active:T(()=>!0),absolute:q(e,"absolute")});return X(()=>_(e.tag,{class:["v-system-bar",{"v-system-bar--window":e.window},i.value,r.value,o.value,a.value,e.class],style:[s.value,h.value,l.value,e.style]},n)),{}}}),GP=Symbol.for("vuetify:v-tabs"),kue=z({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...Ln(y2({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),wU=Z()({name:"VTab",props:kue(),setup(e,t){let{slots:n,attrs:i}=t;const{textColorClasses:r,textColorStyles:s}=Ri(e,"sliderColor"),o=ae(),a=ae(),l=T(()=>e.direction==="horizontal"),c=T(()=>o.value?.group?.isSelected.value??!1);function h(p){let{value:m}=p;if(m){const y=o.value?.$el.parentElement?.querySelector(".v-tab--selected .v-tab__slider"),g=a.value;if(!y||!g)return;const v=getComputedStyle(y).color,b=y.getBoundingClientRect(),w=g.getBoundingClientRect(),S=l.value?"x":"y",x=l.value?"X":"Y",E=l.value?"right":"bottom",$=l.value?"width":"height",I=b[S],A=w[S],M=I>A?b[E]-w[E]:b[S]-w[S],L=Math.sign(M)>0?l.value?"right":"bottom":Math.sign(M)<0?l.value?"left":"top":"center",P=(Math.abs(M)+(Math.sign(M)<0?b[$]:w[$]))/Math.max(b[$],w[$])||0,R=b[$]/w[$]||0,V=1.5;rh(g,{backgroundColor:[v,"currentcolor"],transform:[`translate${x}(${M}px) scale${x}(${R})`,`translate${x}(${M/V}px) scale${x}(${(P-1)/V+1})`,"none"],transformOrigin:Array(3).fill(L)},{duration:225,easing:Uv})}}return X(()=>{const p=vt.filterProps(e);return _(vt,K({symbol:GP,ref:o,class:["v-tab",e.class],style:e.style,tabindex:c.value?0:-1,role:"tab","aria-selected":String(c.value),active:!1},p,i,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":h}),{...n,default:()=>_(Be,null,[n.default?.()??e.text,!e.hideSlider&&_("div",{ref:a,class:["v-tab__slider",r.value],style:s.value},null)])})}),to({},o)}}),Aue=z({...Ln(x2(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),_U=Z()({name:"VTabsWindow",props:Aue(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=ft(GP,null),r=Pe(e,"modelValue"),s=T({get(){return r.value!=null||!i?r.value:i.items.value.find(o=>i.selected.value.includes(o.id))?.value},set(o){r.value=o}});return X(()=>{const o=Th.filterProps(e);return _(Th,K({_as:"VTabsWindow"},o,{modelValue:s.value,"onUpdate:modelValue":a=>s.value=a,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),n)}),{}}}),Pue=z({...$2()},"VTabsWindowItem"),SU=Z()({name:"VTabsWindowItem",props:Pue(),setup(e,t){let{slots:n}=t;return X(()=>{const i=Eh.filterProps(e);return _(Eh,K({_as:"VTabsWindowItem"},i,{class:["v-tabs-window-item",e.class],style:e.style}),n)}),{}}});function Lue(e){return e?e.map(t=>r2(t)?t:{text:t,value:t}):[]}const Oue=z({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...mP({mandatory:"force",selectedClass:"v-tab-item--selected"}),...ci(),...Je()},"VTabs"),Rue=Z()({name:"VTabs",props:Oue(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const r=Pe(e,"modelValue"),s=T(()=>Lue(e.items)),{densityClasses:o}=lr(e),{backgroundColorClasses:a,backgroundColorStyles:l}=Dt(q(e,"bgColor")),{scopeId:c}=tp();return mn({VTab:{color:q(e,"color"),direction:q(e,"direction"),stacked:q(e,"stacked"),fixed:q(e,"fixedTabs"),sliderColor:q(e,"sliderColor"),hideSlider:q(e,"hideSlider")}}),X(()=>{const h=Jv.filterProps(e),p=!!(i.window||e.items.length>0);return _(Be,null,[_(Jv,K(h,{modelValue:r.value,"onUpdate:modelValue":m=>r.value=m,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},o.value,a.value,e.class],style:[{"--v-tabs-height":_e(e.height)},l.value,e.style],role:"tablist",symbol:GP},c,n),{default:()=>[i.default?.()??s.value.map(m=>i.tab?.({item:m})??_(wU,K(m,{key:m.text,value:m.value}),{default:i[`tab.${m.value}`]?()=>i[`tab.${m.value}`]?.({item:m}):void 0}))]}),p&&_(_U,K({modelValue:r.value,"onUpdate:modelValue":m=>r.value=m,key:"tabs-window"},c),{default:()=>[s.value.map(m=>i.item?.({item:m})??_(SU,{value:m.value},{default:()=>i[`item.${m.value}`]?.({item:m})})),i.window?.()]})])}),{}}}),Nue=z({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...Bl(),...q0()},"VTextarea"),Due=Z()({name:"VTextarea",directives:{Intersect:V0},inheritAttrs:!1,props:Nue(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const s=Pe(e,"modelValue"),{isFocused:o,focus:a,blur:l}=zl(e),c=T(()=>typeof e.counterValue=="function"?e.counterValue(s.value):(s.value||"").toString().length),h=T(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function p(P,R){!e.autofocus||!P||R[0].target?.focus?.()}const m=ae(),y=ae(),g=ce(""),v=ae(),b=T(()=>e.persistentPlaceholder||o.value||e.active);function w(){v.value!==document.activeElement&&v.value?.focus(),o.value||a()}function S(P){w(),i("click:control",P)}function x(P){i("mousedown:control",P)}function E(P){P.stopPropagation(),w(),_t(()=>{s.value="",o2(e["onClick:clear"],P)})}function $(P){const R=P.target;if(s.value=R.value,e.modelModifiers?.trim){const V=[R.selectionStart,R.selectionEnd];_t(()=>{R.selectionStart=V[0],R.selectionEnd=V[1]})}}const I=ae(),A=ae(Number(e.rows)),M=T(()=>["plain","underlined"].includes(e.variant));wn(()=>{e.autoGrow||(A.value=Number(e.rows))});function L(){e.autoGrow&&_t(()=>{if(!I.value||!y.value)return;const P=getComputedStyle(I.value),R=getComputedStyle(y.value.$el),V=parseFloat(P.getPropertyValue("--v-field-padding-top"))+parseFloat(P.getPropertyValue("--v-input-padding-top"))+parseFloat(P.getPropertyValue("--v-field-padding-bottom")),U=I.value.scrollHeight,ee=parseFloat(P.lineHeight),se=Math.max(parseFloat(e.rows)*ee+V,parseFloat(R.getPropertyValue("--v-input-control-height"))),Se=parseFloat(e.maxRows)*ee+V||1/0,oe=Pn(U??0,se,Se);A.value=Math.floor((oe-V)/ee),g.value=_e(oe)})}Ir(L),be(s,L),be(()=>e.rows,L),be(()=>e.maxRows,L),be(()=>e.density,L);let O;return be(I,P=>{P?(O=new ResizeObserver(L),O.observe(I.value)):O?.disconnect()}),Di(()=>{O?.disconnect()}),X(()=>{const P=!!(r.counter||e.counter||e.counterValue),R=!!(P||r.details),[V,U]=Tc(n),{modelValue:ee,...se}=Ni.filterProps(e),Se=xP(e);return _(Ni,K({ref:m,modelValue:s.value,"onUpdate:modelValue":oe=>s.value=oe,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":M.value},e.class],style:e.style},V,se,{centerAffix:A.value===1&&!M.value,focused:o.value}),{...r,default:oe=>{let{id:ie,isDisabled:Q,isDirty:W,isReadonly:ue,isValid:$e}=oe;return _(Km,K({ref:y,style:{"--v-textarea-control-height":g.value},onClick:S,onMousedown:x,"onClick:clear":E,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},Se,{id:ie.value,active:b.value||W.value,centerAffix:A.value===1&&!M.value,dirty:W.value||e.dirty,disabled:Q.value,focused:o.value,error:$e.value===!1}),{...r,default:Te=>{let{props:{class:Ne,...ve}}=Te;return _(Be,null,[e.prefix&&_("span",{class:"v-text-field__prefix"},[e.prefix]),ln(_("textarea",K({ref:v,class:Ne,value:s.value,onInput:$,autofocus:e.autofocus,readonly:ue.value,disabled:Q.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:w,onBlur:l},ve,U),null),[[_s("intersect"),{handler:p},null,{once:!0}]]),e.autoGrow&&ln(_("textarea",{class:[Ne,"v-textarea__sizer"],id:`${ve.id}-sizer`,"onUpdate:modelValue":fe=>s.value=fe,ref:I,readonly:!0,"aria-hidden":"true"},null),[[bte,s.value]]),e.suffix&&_("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:R?oe=>_(Be,null,[r.details?.(oe),P&&_(Be,null,[_("span",null,null),_(w2,{active:e.persistentCounter||o.value,value:c.value,max:h.value,disabled:e.disabled},r.counter)])]):void 0})}),to({},m,y,v)}}),Vue=z({withBackground:Boolean,...xe(),...ct(),...Je()},"VThemeProvider"),Fue=Z()({name:"VThemeProvider",props:Vue(),setup(e,t){let{slots:n}=t;const{themeClasses:i}=xt(e);return()=>e.withBackground?_(e.tag,{class:["v-theme-provider",i.value,e.class],style:e.style},{default:()=>[n.default?.()]}):n.default?.()}}),jue=z({dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:Oe,iconColor:String,lineColor:String,...xe(),...Jt(),...Ra(),...Qn()},"VTimelineDivider"),zue=Z()({name:"VTimelineDivider",props:jue(),setup(e,t){let{slots:n}=t;const{sizeClasses:i,sizeStyles:r}=qm(e,"v-timeline-divider__dot"),{backgroundColorStyles:s,backgroundColorClasses:o}=Dt(q(e,"dotColor")),{roundedClasses:a}=gn(e,"v-timeline-divider__dot"),{elevationClasses:l}=Ei(e),{backgroundColorClasses:c,backgroundColorStyles:h}=Dt(q(e,"lineColor"));return X(()=>_("div",{class:["v-timeline-divider",{"v-timeline-divider--fill-dot":e.fillDot},e.class],style:e.style},[_("div",{class:["v-timeline-divider__before",c.value],style:h.value},null),!e.hideDot&&_("div",{key:"dot",class:["v-timeline-divider__dot",l.value,a.value,i.value],style:r.value},[_("div",{class:["v-timeline-divider__inner-dot",o.value,a.value],style:s.value},[n.default?_(st,{key:"icon-defaults",disabled:!e.icon,defaults:{VIcon:{color:e.iconColor,icon:e.icon,size:e.size}}},n.default):_(bt,{key:"icon",color:e.iconColor,icon:e.icon,size:e.size},null)])]),_("div",{class:["v-timeline-divider__after",c.value],style:h.value},null)])),{}}}),xU=z({density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:Oe,iconColor:String,lineInset:[Number,String],...xe(),...Vn(),...Qn(),...Jt(),...Ra(),...Je()},"VTimelineItem"),Bue=Z()({name:"VTimelineItem",props:xU(),setup(e,t){let{slots:n}=t;const{dimensionStyles:i}=Fn(e),r=ce(0),s=ae();return be(s,o=>{o&&(r.value=o.$el.querySelector(".v-timeline-divider__dot")?.getBoundingClientRect().width??0)},{flush:"post"}),X(()=>_("div",{class:["v-timeline-item",{"v-timeline-item--fill-dot":e.fillDot},e.class],style:[{"--v-timeline-dot-size":_e(r.value),"--v-timeline-line-inset":e.lineInset?`calc(var(--v-timeline-dot-size) / 2 + ${_e(e.lineInset)})`:_e(0)},e.style]},[_("div",{class:"v-timeline-item__body",style:i.value},[n.default?.()]),_(zue,{ref:s,hideDot:e.hideDot,icon:e.icon,iconColor:e.iconColor,size:e.size,elevation:e.elevation,dotColor:e.dotColor,fillDot:e.fillDot,rounded:e.rounded},{default:n.icon}),e.density!=="compact"&&_("div",{class:"v-timeline-item__opposite"},[!e.hideOpposite&&n.opposite?.()])])),{}}}),Uue=z({align:{type:String,default:"center",validator:e=>["center","start"].includes(e)},direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},justify:{type:String,default:"auto",validator:e=>["auto","center"].includes(e)},side:{type:String,validator:e=>e==null||["start","end"].includes(e)},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:e=>["start","end","both"].includes(e)},...Vl(xU({lineInset:0}),["dotColor","fillDot","hideOpposite","iconColor","lineInset","size"]),...xe(),...ci(),...Je(),...ct()},"VTimeline"),Gue=Z()({name:"VTimeline",props:Uue(),setup(e,t){let{slots:n}=t;const{themeClasses:i}=xt(e),{densityClasses:r}=lr(e),{rtlClasses:s}=Xn();mn({VTimelineDivider:{lineColor:q(e,"lineColor")},VTimelineItem:{density:q(e,"density"),dotColor:q(e,"dotColor"),fillDot:q(e,"fillDot"),hideOpposite:q(e,"hideOpposite"),iconColor:q(e,"iconColor"),lineColor:q(e,"lineColor"),lineInset:q(e,"lineInset"),size:q(e,"size")}});const o=T(()=>{const l=e.side?e.side:e.density!=="default"?"end":null;return l&&`v-timeline--side-${l}`}),a=T(()=>{const l=["v-timeline--truncate-line-start","v-timeline--truncate-line-end"];switch(e.truncateLine){case"both":return l;case"start":return l[0];case"end":return l[1];default:return null}});return X(()=>_(e.tag,{class:["v-timeline",`v-timeline--${e.direction}`,`v-timeline--align-${e.align}`,`v-timeline--justify-${e.justify}`,a.value,{"v-timeline--inset-line":!!e.lineInset},i.value,r.value,o.value,s.value,e.class],style:[{"--v-timeline-line-thickness":_e(e.lineThickness)},e.style]},n)),{}}}),Hue=z({...xe(),...eo({variant:"text"})},"VToolbarItems"),que=Z()({name:"VToolbarItems",props:Hue(),setup(e,t){let{slots:n}=t;return mn({VBtn:{color:q(e,"color"),height:"inherit",variant:q(e,"variant")}}),X(()=>_("div",{class:["v-toolbar-items",e.class],style:e.style},[n.default?.()])),{}}}),Wue=z({id:String,text:String,...Ln(H0({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),$U=Z()({name:"VTooltip",props:Wue(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=Pe(e,"modelValue"),{scopeId:r}=tp(),s=Ti(),o=T(()=>e.id||`v-tooltip-${s}`),a=ae(),l=T(()=>e.location.split(" ").length>1?e.location:e.location+" center"),c=T(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),h=T(()=>e.transition?e.transition:i.value?"scale-transition":"fade-transition"),p=T(()=>K({"aria-describedby":o.value},e.activatorProps));return X(()=>{const m=$a.filterProps(e);return _($a,K({ref:a,class:["v-tooltip",e.class],style:e.style,id:o.value},m,{modelValue:i.value,"onUpdate:modelValue":y=>i.value=y,transition:h.value,absolute:!0,location:l.value,origin:c.value,persistent:!0,role:"tooltip",activatorProps:p.value,_disableGlobalStack:!0},r),{activator:n.activator,default:function(){for(var y=arguments.length,g=new Array(y),v=0;v<y;v++)g[v]=arguments[v];return n.default?.(...g)??e.text}})}),to({},a)}}),Zue=Z()({name:"VValidation",props:Iz(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=Cz(e,"validation");return()=>n.default?.(i)}}),Yue=Object.freeze(Object.defineProperty({__proto__:null,VAlert:vre,VAlertTitle:wz,VApp:Iie,VAppBar:Wie,VAppBarNavIcon:fre,VAppBarTitle:mre,VAutocomplete:Fse,VAvatar:Ys,VBadge:zse,VBanner:Gse,VBannerActions:sB,VBannerText:oB,VBottomNavigation:qse,VBottomSheet:Zse,VBreadcrumbs:Xse,VBreadcrumbsDivider:lB,VBreadcrumbsItem:uB,VBtn:vt,VBtnGroup:$E,VBtnToggle:Qie,VCard:ioe,VCardActions:cB,VCardItem:pB,VCardSubtitle:dB,VCardText:fB,VCardTitle:hB,VCarousel:hoe,VCarouselItem:foe,VCheckbox:Ire,VCheckboxBtn:Al,VChip:Jm,VChipGroup:Pre,VClassIcon:aP,VCode:moe,VCol:Gae,VColorPicker:iae,VCombobox:oae,VComponentIcon:_E,VConfirmEdit:lae,VContainer:jae,VCounter:w2,VDataIterator:vae,VDataTable:Oae,VDataTableFooter:Xv,VDataTableHeaders:Ch,VDataTableRow:VP,VDataTableRows:Mh,VDataTableServer:Vae,VDataTableVirtual:Nae,VDatePicker:ile,VDatePickerControls:jE,VDatePickerHeader:zE,VDatePickerMonth:BE,VDatePickerMonths:UE,VDatePickerYears:GE,VDefaultsProvider:st,VDialog:PE,VDialogBottomTransition:Aie,VDialogTopTransition:Pie,VDialogTransition:d2,VDivider:G0,VEmptyState:sle,VExpandTransition:h2,VExpandXTransition:dP,VExpansionPanel:ole,VExpansionPanelText:HE,VExpansionPanelTitle:qE,VExpansionPanels:ule,VFab:dle,VFabTransition:kie,VFadeTransition:qv,VField:Km,VFieldLabel:Yy,VFileInput:ple,VFooter:mle,VForm:gle,VHover:ble,VIcon:bt,VImg:kl,VInfiniteScroll:_le,VInput:Ni,VItem:$le,VItemGroup:xle,VKbd:Tle,VLabel:Ym,VLayout:Ile,VLayoutItem:Mle,VLazy:Ale,VLigatureIcon:vie,VList:b2,VListGroup:CE,VListImg:ese,VListItem:Pl,VListItemAction:nse,VListItemMedia:rse,VListItemSubtitle:jz,VListItemTitle:zz,VListSubheader:Bz,VLocaleProvider:Lle,VMain:Rle,VMenu:vm,VMessages:Tz,VNavigationDrawer:Gle,VNoSsr:Hle,VOtpInput:Wle,VOverlay:$a,VPagination:VE,VParallax:Jle,VProgressCircular:gm,VProgressLinear:f2,VRadio:Xle,VRadioGroup:eue,VRangeSlider:nue,VRating:rue,VResponsive:SE,VRow:Kae,VScaleTransition:uP,VScrollXReverseTransition:Oie,VScrollXTransition:Lie,VScrollYReverseTransition:Nie,VScrollYTransition:Rie,VSelect:EP,VSelectionControl:cc,VSelectionControlGroup:Sz,VSheet:Ih,VSkeletonLoader:lue,VSlideGroup:Jv,VSlideGroupItem:uue,VSlideXReverseTransition:Vie,VSlideXTransition:Die,VSlideYReverseTransition:Fie,VSlideYTransition:cP,VSlider:DE,VSnackbar:hue,VSpacer:tU,VSparkline:yue,VSpeedDial:vue,VStepper:Tue,VStepperActions:mU,VStepperHeader:yU,VStepperItem:gU,VStepperWindow:vU,VStepperWindowItem:bU,VSvgIcon:oP,VSwitch:Iue,VSystemBar:Mue,VTab:wU,VTable:kh,VTabs:Rue,VTabsWindow:_U,VTabsWindowItem:SU,VTextField:$h,VTextarea:Due,VThemeProvider:Fue,VTimeline:Gue,VTimelineItem:Bue,VToolbar:xE,VToolbarItems:que,VToolbarTitle:lP,VTooltip:$U,VValidation:Zue,VVirtualScroll:S2,VWindow:Th,VWindowItem:Eh},Symbol.toStringTag,{value:"Module"}));function Jue(e,t){const n=t.modifiers||{},i=t.value,{once:r,immediate:s,...o}=n,a=!Object.keys(o).length,{handler:l,options:c}=typeof i=="object"?i:{handler:i,options:{attributes:o?.attr??a,characterData:o?.char??a,childList:o?.child??a,subtree:o?.sub??a}},h=new MutationObserver(function(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],m=arguments.length>1?arguments[1]:void 0;l?.(p,m),r&&TU(e,t)});s&&l?.([],h),e._mutate=Object(e._mutate),e._mutate[t.instance.$.uid]={observer:h},h.observe(e,c)}function TU(e,t){e._mutate?.[t.instance.$.uid]&&(e._mutate[t.instance.$.uid].observer.disconnect(),delete e._mutate[t.instance.$.uid])}const Kue={mounted:Jue,unmounted:TU};function Xue(e,t){const n=t.value,i={passive:!t.modifiers?.active};window.addEventListener("resize",n,i),e._onResize=Object(e._onResize),e._onResize[t.instance.$.uid]={handler:n,options:i},t.modifiers?.quiet||n()}function Que(e,t){if(!e._onResize?.[t.instance.$.uid])return;const{handler:n,options:i}=e._onResize[t.instance.$.uid];window.removeEventListener("resize",n,i),delete e._onResize[t.instance.$.uid]}const ece={mounted:Xue,unmounted:Que};function EU(e,t){const{self:n=!1}=t.modifiers??{},i=t.value,r=typeof i=="object"&&i.options||{passive:!0},s=typeof i=="function"||"handleEvent"in i?i:i.handler,o=n?e:t.arg?document.querySelector(t.arg):window;o&&(o.addEventListener("scroll",s,r),e._onScroll=Object(e._onScroll),e._onScroll[t.instance.$.uid]={handler:s,options:r,target:n?void 0:o})}function IU(e,t){if(!e._onScroll?.[t.instance.$.uid])return;const{handler:n,options:i,target:r=e}=e._onScroll[t.instance.$.uid];r.removeEventListener("scroll",n,i),delete e._onScroll[t.instance.$.uid]}function tce(e,t){t.value!==t.oldValue&&(IU(e,t),EU(e,t))}const nce={mounted:EU,unmounted:IU,updated:tce};function ice(e,t){const n=typeof e=="string"?Dn(e):e,i=rce(n,t);return{mounted:i,updated:i,unmounted(r){y8(null,r)}}}function rce(e,t){return function(n,i,r){const s=typeof t=="function"?t(i):t,o=i.value?.text??i.value??s?.text,a=r2(i.value)?i.value:{},l=()=>o??n.textContent,c=(r.ctx===i.instance.$?sce(r,i.instance.$)?.provides:r.ctx?.provides)??i.instance.$.provides,h=$c(e,K(s,a),l);h.appContext=Object.assign(Object.create(null),i.instance.$.appContext,{provides:c}),y8(h,n)}}function sce(e,t){const n=new Set,i=s=>{for(const o of s){if(!o)continue;if(o===e||o.el&&e.el&&o.el===e.el)return!0;n.add(o);let a;if(o.suspense?a=i([o.ssContent]):Array.isArray(o.children)?a=i(o.children):o.component?.vnode&&(a=i([o.component?.subTree])),a)return a;n.delete(o)}return!1};if(!i([t.subTree]))return t;const r=Array.from(n).reverse();for(const s of r)if(s.component)return s.component;return t}const oce=ice($U,e=>({activator:"parent",location:e.arg?.replace("-"," "),text:typeof e.value=="boolean"?void 0:e.value})),ace=Object.freeze(Object.defineProperty({__proto__:null,ClickOutside:eB,Intersect:V0,Mutate:Kue,Resize:ece,Ripple:jl,Scroll:nce,Tooltip:oce,Touch:IP},Symbol.toStringTag,{value:"Module"})),lce=wte({state:{mapView:{},drawer:!1,data:{}},mutations:{defineMap(e,t){e.mapView=t},changeDrawerVisibility(e){e.drawer=!e.drawer},setDrawer(e,t){e.drawer=t},changeData(e,t){e.data.id=t.id,e.data.bairro=t.bairro,e.drawer=!0}},getters:{mapView:e=>e.mapView,layerBairro:e=>e.mapView.map.layers.items[3]}}),uce="modulepreload",cce=function(e){return"/arcgis-geospatial-platform/"+e},pN={},J=function(t,n,i){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");r=Promise.allSettled(n.map(l=>{if(l=cce(l),l in pN)return;pN[l]=!0;const c=l.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const p=document.createElement("link");if(p.rel=c?"stylesheet":uce,c||(p.as="script"),p.crossOrigin="",p.href=l,a&&p.setAttribute("nonce",a),document.head.appendChild(p),c)return new Promise((m,y)=>{p.addEventListener("load",m),p.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})};function u(e,t,n,i){var r,s=arguments.length,o=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,n):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,n,o):r(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}function w6e(e,t){return function(n,i){t(n,i,e)}}function _6e(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{c(i.next(h))}catch(p){o(p)}}function l(h){try{c(i.throw(h))}catch(p){o(p)}}function c(h){h.done?s(h.value):r(h.value).then(a,l)}c((i=i.apply(e,[])).next())})}function S6e(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var i,r;if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=t[Symbol.dispose]}if(typeof i!="function")throw new TypeError("Object not disposable.");r&&(i=function(){try{r.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:i,async:n})}return t}var dce=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var i=new Error(n);return i.name="SuppressedError",i.error=e,i.suppressed=t,i};function x6e(e){function t(s){e.error=e.hasError?new dce(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var n,i=0;function r(){for(;n=e.stack.pop();)try{if(!n.async&&i===1)return i=0,e.stack.push(n),Promise.resolve().then(r);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(s).then(r,function(o){return t(o),r()})}else i|=1}catch(o){t(o)}if(i===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return r()}let Yu;function H(e){return typeof Yu[e]=="function"?Yu[e]=Yu[e](globalThis):Yu[e]}Yu=globalThis.dojoConfig?.has||globalThis.esriConfig?.has?{...globalThis.dojoConfig?.has,...globalThis.esriConfig?.has}:{},H.add=(e,t,n,i)=>{(i||Yu[e]===void 0)&&(Yu[e]=t),n&&H(e)},H.cache=Yu,H.add("big-integer-warning-enabled",!0),H.add("esri-deprecation-warnings",!0),H.add("esri-tests-disable-screenshots",!1),H.add("esri-tests-use-full-window",!1),H.add("esri-tests-post-to-influx",!0),H.add("esri-cim-animations-enable-status","enabled"),H.add("esri-cim-animations-spotlight",!1),H.add("esri-cim-animations-freeze-time",!1),H.add("enable-feature:multiple-highlights",!0),(()=>{H.add("host-webworker",globalThis.WorkerGlobalScope!==void 0&&self instanceof globalThis.WorkerGlobalScope);const e=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(H.add("host-browser",e),H.add("host-node",typeof globalThis.process=="object"&&globalThis.process.versions?.node&&globalThis.process.versions.v8),H.add("dom",e),H("host-browser")){const t=navigator,n=t.userAgent,i=t.appVersion,r=parseFloat(i);if(H.add("wp",parseFloat(n.split("Windows Phone")[1])||void 0),H.add("msapp",parseFloat(n.split("MSAppHost/")[1])||void 0),H.add("khtml",i.includes("Konqueror")?r:void 0),H.add("edge",parseFloat(n.split("Edge/")[1])||void 0),H.add("opr",parseFloat(n.split("OPR/")[1])||void 0),H.add("webkit",!H("wp")&&!H("edge")&&parseFloat(n.split("WebKit/")[1])||void 0),H.add("chrome",!H("edge")&&!H("opr")&&parseFloat(n.split("Chrome/")[1])||void 0),H.add("android",!H("wp")&&parseFloat(n.split("Android ")[1])||void 0),H.add("safari",!i.includes("Safari")||H("wp")||H("chrome")||H("android")||H("edge")||H("opr")?void 0:parseFloat(i.split("Version/")[1])),H.add("mac",i.includes("Macintosh")),!H("wp")&&/(iPhone|iPod|iPad)/.test(n)){const s=RegExp.$1.replace(/P/,"p"),o=/OS ([\d_]+)/.test(n)?RegExp.$1:"1",a=parseFloat(o.replace(/_/,".").replaceAll("_",""));H.add(s,a),H.add("ios",a)}H("webkit")||(!n.includes("Gecko")||H("wp")||H("khtml")||H("edge")||H.add("mozilla",r),H("mozilla")&&H.add("ff",parseFloat(n.split("Firefox/")[1]||n.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),n=/iPhone/i.test(e);t&&H.add("esri-mobile",t),n&&H.add("esri-iPhone",n),H.add("esri-geolocation",!!navigator.geolocation)}H.add("esri-wasm","WebAssembly"in globalThis),H.add("esri-performance-mode-frames-between-render",20),H.add("esri-force-performance-mode",!1),H.add("esri-shared-array-buffer",()=>{const e="SharedArrayBuffer"in globalThis,t=globalThis.crossOriginIsolated===!1;return e&&!t}),H.add("wasm-simd",()=>{const e=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(e))}),H.add("esri-atomics","Atomics"in globalThis),H.add("esri-workers","Worker"in globalThis),H.add("web-feat:cache","caches"in globalThis),H.add("esri-workers-arraybuffer-transfer",!H("safari")||Number(H("safari"))>=12),H.add("workers-pool-size",8),H.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),H.add("featurelayer-simplify-payload-size-factors",[1,1,4]),H.add("featurelayer-fast-triangulation-enabled",!0),H.add("featurelayer-animation-enabled",!0),H.add("featurelayer-snapshot-enabled",!0),H.add("featurelayer-snapshot-point-min-threshold",8e4),H.add("featurelayer-snapshot-point-max-threshold",4e5),H.add("featurelayer-snapshot-point-coverage",.1),H.add("featurelayer-query-max-depth",4),H.add("featurelayer-query-pausing-enabled",!1),H.add("featurelayer-advanced-symbols",!1),H.add("featurelayer-pbf",!0),H.add("featurelayer-pbf-statistics",!1),H.add("feature-layers-workers",!0),H.add("feature-polyline-generalization-factor",1),H.add("mapview-transitions-duration",200),H.add("mapview-essential-goto-duration",200),H.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),H.add("mapserver-pbf-version-support",10.81),H.add("mapservice-popup-identify-max-tolerance",20),H.add("request-queue-concurrency-hosted",16),H.add("request-queue-concurrency-non-hosted",4),H.add("curve-densification-coarse-segments",128),H.add("curve-densification-max-segments",2e3),H.add("curve-densification-min-segments",3),H.add("curve-densification-pixels-per-segment",16),H.add("view-readyState-waiting-delay",1e3),H.add("gradient-depth-bias",.01),H.add("gradient-depth-epsilon",1e-8),H("host-webworker")||H("host-browser")&&(H.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),H.add("esri-image-decode",()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then(()=>{H.add("esri-image-decode",!0,!0,!0)}).catch(()=>{H.add("esri-image-decode",!1,!0,!0)})}return!1}),H.add("esri-url-encodes-apostrophe",()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")}))})();const fN=new WeakMap;function hce(e,t,n=!1){const i=`🛑 DEPRECATED - ${t}`;if(!n)return void e.warn(i);let r=fN.get(e);r||(r=new Set,fN.set(e,r)),r.has(t)||(r.add(t),e.warn(i))}function pce(e,t,n={}){if(H("esri-deprecation-warnings")){const{moduleName:i}=n;e0(e,`Function: ${(i?i+"::":"")+t+"()"}`,n)}}function fce(e,t,n={}){if(H("esri-deprecation-warnings")){const{moduleName:i}=n;e0(e,`Property: ${(i?i+"::":"")+t}`,n)}}function mce(e,t,n={}){H("esri-deprecation-warnings")&&e0(e,`Multiple argument constructor: ${t}`,{warnOnce:!0,replacement:`new ${t}({ <your properties here> })`,...n})}function e0(e,t,n={}){if(H("esri-deprecation-warnings")){const{replacement:i,version:r,see:s,warnOnce:o}=n;let a=t;if(i&&(a+=`
	🛠️ Replacement: ${i}`),r&&(a+=`
	⚙️ Version: ${r}`),s)if(Array.isArray(s)){a+=`
	🔗 See for more details:`;for(const l of s)a+=`
		${l}`}else a+=`
	🔗 See ${s} for more details.`;hce(e,a,o)}}function $6e(e){const t=[];return function*(){yield*t;for(const n of e)t.push(n),yield n}}function yce(e,t){for(const n of e)if(n!=null&&t(n))return n}function L_(e){return e!=null&&typeof e[Symbol.iterator]=="function"}let Xm=class{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let t=0;return this._groups.forEach(n=>{t+=n.length}),t}add(t,n){if(L_(t)){const i=this._getOrCreateGroup(n);for(const r of t)yN(r)&&i.push(r)}else yN(t)&&this._getOrCreateGroup(n).push(t);return this}forEach(t,n){if(typeof t=="function")this._groups.forEach(i=>i.forEach(t));else{const i=this._getGroup(t);i&&n&&i.forEach(n)}}has(t){return this._groups.has(Hb(t))}remove(t){if(typeof t!="string"&&L_(t)){for(const n of t)this.remove(n);return this}return this.has(t)?(mN(this._getGroup(t)),this._groups.delete(Hb(t)),this):this}removeAll(){return this._groups.forEach(mN),this._groups.clear(),this}removeReference(t){return this._groups.delete(t),this}_getOrCreateGroup(t){if(this.has(t))return this._getGroup(t);const n=[];return this._groups.set(Hb(t),n),n}_getGroup(t){return this._groups.get(Hb(t))}};function Hb(e){return e||"_default_"}function mN(e){for(const t of e)t instanceof Xm?t.removeAll():t.remove()}function yN(e){return e!=null&&(!!e.remove||e instanceof Xm)}function E6e(e){}function gce(e){return()=>e}function I6e(e){return e}let t1=class Xc{constructor(t=1){this._seed=t}set seed(t){this._seed=t??Math.random()*Xc._m}getInt(){return this._seed=(Xc._a*this._seed+Xc._c)%Xc._m,this._seed}getFloat(){return this.getInt()/(Xc._m-1)}getIntRange(t,n){return Math.round(this.getFloatRange(t,n))}getFloatRange(t,n){const i=n-t;return t+this.getInt()/Xc._m*i}};t1._m=2147483647,t1._a=48271,t1._c=0;const vce=1.5,C6e=1/vce,M6e=.5;function k6e(e,t){return t?e.filter((n,i,r)=>r.findIndex(t.bind(null,n))===i):Array.from(new Set(e))}function N2(e,t,n){if(e==null&&t==null)return!0;if(e==null||t==null||e.length!==t.length)return!1;if(n){for(let i=0;i<e.length;i++)if(!n(e[i],t[i]))return!1}else for(let i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}function gN(e,t,n){let i,r;return n?(i=t.filter(s=>!e.some(o=>n(o,s))),r=e.filter(s=>!t.some(o=>n(o,s)))):(i=t.filter(s=>!e.includes(s)),r=e.filter(s=>!t.includes(s))),{added:i,removed:r}}function A6e(e){return e&&typeof e.length=="number"}let CU=class{constructor(){this.last=0}};const MU=new CU;function WE(e,t,n,i){i=i||MU;const r=Math.max(0,i.last-10);for(let o=r;o<n;++o)if(e[o]===t)return i.last=o,o;const s=Math.min(r,n);for(let o=0;o<s;++o)if(e[o]===t)return i.last=o,o;return-1}function bce(e,t,n,i){const r=e.length,s=WE(e,t,r,i);if(s!==-1)return e[s]=e[r-1],e.pop(),t}const oo=new Set;function wce(e,t,n=e.length,i=t.length,r,s){if(i===0||n===0)return n;oo.clear();for(let a=0;a<i;++a)oo.add(t[a]);r=r||MU;const o=Math.max(0,r.last-10);for(let a=o;a<n;++a)if(oo.has(e[a])&&(s?.push(e[a]),oo.delete(e[a]),e[a]=e[n-1],--n,--a,oo.size===0||n===0))return oo.clear(),n;for(let a=0;a<o;++a)if(oo.has(e[a])&&(s?.push(e[a]),oo.delete(e[a]),e[a]=e[n-1],--n,--a,oo.size===0||n===0))return oo.clear(),n;return oo.clear(),n}function L6e(e,t,n){const i=e.length;if(t>=i)return e.slice();const r=HP(n),s=new Set,o=[];for(;o.length<t;){const a=Math.floor(r()*i);s.has(a)||(s.add(a),o.push(e[a]))}return o}function HP(e){return e?(vN.seed=e,()=>vN.getFloat()):Math.random}const vN=new t1;function kU(e,t){const n=HP(t);for(let i=e.length-1;i>0;i--){const r=Math.floor(n()*(i+1)),s=e[i];e[i]=e[r],e[r]=s}return e}function AU(e,t){const n=e.indexOf(t);return n!==-1?(e.splice(n,1),t):null}function Ji(e,t){return e!=null}const O6e=[];function R6e(e){return e instanceof ArrayBuffer}function qP(e){return e?.constructor?.name==="Int8Array"}function PU(e){return e?.constructor?.name==="Uint8Array"}function LU(e){return e?.constructor?.name==="Uint8ClampedArray"}function WP(e){return e?.constructor?.name==="Int16Array"}function OU(e){return e?.constructor?.name==="Uint16Array"}function ZP(e){return e?.constructor?.name==="Int32Array"}function RU(e){return e?.constructor?.name==="Uint32Array"}function D2(e){return e?.constructor?.name==="Float32Array"}function V2(e){return e?.constructor?.name==="Float64Array"}function _ce(e){return"buffer"in e}const NU=1024;function N6e(e){return V2(e)||D2(e)||ZP(e)||WP(e)||qP(e)}function D6e(e){return V2(e)||D2(e)}function V6e(e){return V2(e)?179769e303:D2(e)?3402823e32:RU(e)?4294967295:OU(e)?65535:PU(e)||LU(e)?255:ZP(e)?2147483647:WP(e)?32767:qP(e)?127:256}function Sce(e,t){let n;for(n in e)e.hasOwnProperty(n)&&e[n]===void 0&&delete e[n];return e}function j(e){if(!e||typeof e!="object"||typeof e=="function")return e;const t=FU(e);if(t!=null)return t;if(O_(e))return e.clone();if(DU(e))return e.map(j);if(VU(e))throw new Error("Trying to clone an unclonable Accessor instance");const n={};for(const i of Object.getOwnPropertyNames(e))n[i]=j(e[i]);return n}function ZE(e){if(!e||typeof e!="object"||typeof e=="function"||"HTMLElement"in globalThis&&e instanceof HTMLElement)return e;const t=FU(e);if(t!=null)return t;if(DU(e)){let i=!0;const r=e.map(s=>{const o=ZE(s);return s!=null&&o==null&&(i=!1),o});return i?r:null}if(O_(e))return e.clone();if(e instanceof File||e instanceof Blob)return e;if(VU(e))return null;const n=new(Object.getPrototypeOf(e)).constructor;for(const i of Object.getOwnPropertyNames(e)){const r=e[i],s=ZE(r);if(r!=null&&s==null)return null;n[i]=s}return n}function O_(e){return typeof e.clone=="function"}function DU(e){return typeof e.map=="function"&&typeof e.forEach=="function"}function VU(e){return typeof e.notifyChange=="function"&&typeof e.watch=="function"}function bN(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function FU(e){if(qP(e)||PU(e)||LU(e)||WP(e)||OU(e)||ZP(e)||RU(e)||D2(e)||V2(e))return e.slice();if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;for(const[n,i]of e)t.set(n,j(i));return t}if(e instanceof Set){const t=new Set;for(const n of e)t.add(j(n));return t}return null}function YP(e,t){return e===t||typeof e=="number"&&isNaN(e)&&typeof t=="number"&&isNaN(t)||typeof e?.getTime=="function"&&typeof t?.getTime=="function"&&e.getTime()===t.getTime()||!1}function jU(e,t){return e===t||(e==null||typeof e=="string"?e===t:typeof e=="number"?e===t||typeof t=="number"&&isNaN(e)&&isNaN(t):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():Array.isArray(e)?Array.isArray(t)&&N2(e,t):e instanceof Set?t instanceof Set&&$ce(e,t):e instanceof Map?t instanceof Map&&Tce(e,t):!!bN(e)&&bN(t)&&xce(e,t))}function xce(e,t){if(e===null||t===null)return!1;const n=Object.keys(e);if(t===null||Object.keys(t).length!==n.length)return!1;for(const i of n)if(e[i]!==t[i]||!Object.prototype.hasOwnProperty.call(t,i))return!1;return!0}function $ce(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function Tce(e,t){if(e.size!==t.size)return!1;for(const[n,i]of e){const r=t.get(n);if(r!==i||r===void 0&&!t.has(n))return!1}return!0}function JP(e,t,n=!1){return BU(e,t,n)}function Y0(e,t){if(t!=null)return t[e]||zU(e.split("."),!1,t)}function $i(e,t,n){const i=e.split("."),r=i.pop(),s=zU(i,!0,n);s&&r&&(s[r]=t)}function wN(e,t){if(e==null&&t==null)return!1;if(e==null||t==null)return!0;if(typeof e=="object"){if(Array.isArray(e)){const n=t;if(e.length!==n.length)return!0;for(let i=0;i<e.length;i++)if(wN(e[i],n[i]))return!0;return!1}if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const n in e)if(wN(e[n],t[n]))return!0;return!1}return e!==t}function zU(e,t,n){let i=n;for(const r of e){if(i==null)return;if(!(r in i)){if(!t)return;i[r]={}}i=i[r]}return i}function BU(e,t,n){return t?Object.keys(t).reduce((i,r)=>{let s=i[r],o=t[r];return s===o?i:s===void 0?(i[r]=j(o),i):(Array.isArray(o)||Array.isArray(i)?(s=s?Array.isArray(s)?i[r]=s.slice():i[r]=[s]:i[r]=[],o&&(Array.isArray(o)||(o=[o]),n?o.forEach(a=>{s.includes(a)||s.push(a)}):i[r]=o.slice())):o&&typeof o=="object"?i[r]=BU(s,o,n):i.hasOwnProperty(r)&&!t.hasOwnProperty(r)||(i[r]=o),i)},e||{}):e}const kt={apiKey:void 0,applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],internalInterceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:62e3,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(JP(kt,globalThis.esriConfig,!0),delete kt.has),!kt.assetsPath){{const e="4.32";kt.assetsPath=`https://js.arcgis.com/${e}/@arcgis/core/assets`}kt.defaultAssetsPath=kt.assetsPath}const Ece=/\{([^}]+)\}/g;function _N(e){return e??""}function J0(e,t){return t?e.replaceAll(Ece,typeof t=="object"?(n,i)=>_N(Y0(i,t)):(n,i)=>_N(t(i))):e}function F6e(e,t){return e.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,n=>t?.includes(n)?n:`\\${n}`)}function UU(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return t}let SN;function Ice(e){return SN??=new DOMParser,SN.parseFromString(e||"","text/html").body.innerText||""}function j6e(e,t){return new RegExp(`{${t}}`,"ig").test(e)}function z6e(e,...t){let n=e[0];for(let i=0;i<t.length;++i)n+=t[i]+e[i+1];return n}const xN={info:0,warn:1,error:2,none:3};let re=class Qr{constructor(t){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},t.level!=null&&(this.level=t.level),t.writer!=null&&(this.writer=t.writer),this._module=t.module,Qr._loggers.set(this.module,this);const n=this.module.lastIndexOf(".");n!==-1&&(this._parent=Qr.getLogger(this.module.slice(0,n)))}get module(){return this._module}get parent(){return this._parent}error(...t){this._log("error","always",...t)}warn(...t){this._log("warn","always",...t)}info(...t){this._log("info","always",...t)}errorOnce(...t){this._log("error","once",...t)}warnOnce(...t){this._log("warn","once",...t)}infoOnce(...t){this._log("info","once",...t)}errorOncePerTick(...t){this._log("error","oncePerTick",...t)}warnOncePerTick(...t){this._log("warn","oncePerTick",...t)}infoOncePerTick(...t){this._log("info","oncePerTick",...t)}get test(){}static get test(){}static getLogger(t){return t=typeof t!="string"?t.declaredClass:t,Qr._loggers.get(t)||new Qr({module:t})}_log(t,n,...i){if(this._matchLevel(t)){if(n!=="always"&&!Qr._throttlingDisabled){const r=Mce(i),s=this._loggedMessages[t].get(r);if(n==="once"&&s!=null||n==="oncePerTick"&&s&&s>=Qr._tickCounter)return;this._loggedMessages[t].set(r,Qr._tickCounter),Qr._scheduleTickCounterIncrement()}for(const r of kt.log.interceptors)if(r(t,this.module,...i))return;this._inheritedWriter()(t,this.module,...i)}}_parentWithMember(t,n){let i=this;for(;i!=null;){const r=i[t];if(r!=null)return r;i=i.parent}return n}_inheritedWriter(){return this._parentWithMember("writer",Cce)}_matchLevel(t){const n=kt.log.level||"warn";return xN[this._parentWithMember("level",n)]<=xN[t]}static _scheduleTickCounterIncrement(){Qr._tickCounterScheduled||(Qr._tickCounterScheduled=!0,Promise.resolve().then(()=>{Qr._tickCounter++,Qr._tickCounterScheduled=!1}))}};function Cce(e,t,...n){console[e](`[${t}]`,...n)}function Mce(...e){return UU(JSON.stringify(e,(n,i)=>typeof i!="object"||Array.isArray(i)?i:"[Object]"))}re._loggers=new Map,re._tickCounter=0,re._tickCounterScheduled=!1,re._throttlingDisabled=!1;function K0(e,t){if(e==null)throw new Error(t??"value is None")}function Bt(e){return e?.destroy(),null}function B6e(e){return e?.dispose(),null}function on(e){return e?.remove(),null}function bm(e){return e?.abort(),null}function U6e(e){return e?.release(),null}function kce(e,t,n){return e!=null&&t!=null?n!=null?n(e,t):e.equals(t):e===t}function Ace(e,t){let n;return e.some((i,r)=>(n=t(i,r),n!=null)),n??void 0}const GU=Symbol("Accessor-beforeDestroy"),Pce={remove:()=>{}};function St(e){return e?{remove(){e&&(e(),e=void 0)}}:Pce}function HU(e){e.forEach(t=>t?.remove())}function G6e(e){HU(e),e.length=0}function X0(e){return St(()=>HU(e))}function H6e(e){return St(()=>e()?.remove())}function q6e(e){return St(()=>e?.abort())}function Lce(e){return St(e!=null?()=>e.destroy():void 0)}function qr(e){return e.__accessor__??null}function Oce(e,t){return e?.metadata?.[t]!=null}function n1(e,t,n){return n?R_(e,t,{policy:n,path:""}):R_(e,t,null)}function R_(e,t,n){return t?Object.keys(t).reduce((i,r)=>{const s=r;let o=null,a="merge";if(n&&(o=n.path?`${n.path}.${r}`:r,a=n.policy(o)),a==="replace"||a==="replace-arrays"&&Array.isArray(i[s]))return i[s]=t[s],i;if(i[s]===void 0)return i[s]=j(t[s]),i;let l=i[s],c=t[s];if(l===c)return i;if(Array.isArray(c)||Array.isArray(i))l=l?Array.isArray(l)?i[s]=l.slice():i[s]=[l]:i[s]=[],c&&(Array.isArray(c)||(c=[c]),c.forEach(h=>{l.includes(h)||l.push(h)}));else if(c&&typeof c=="object")if(n){const h=n.path;n.path=o,i[s]=R_(l,c,n),n.path=h}else i[s]=R_(l,c,null);else i.hasOwnProperty(r)&&!t.hasOwnProperty(r)||(i[s]=c);return i},e||{}):e}function qU(e){return Array.isArray(e)?e:e.split(".")}function $N(e){return e.includes(",")?e.split(",").map(t=>t.trim()):[e.trim()]}function Rce(e){if(Array.isArray(e)){const t=[];for(const n of e)t.push(...$N(n));return t}return $N(e)}function WU(e,t,n,i){const r=Rce(t);if(r.length!==1){const s=r.map(o=>i(e,o,n));return X0(s)}return i(e,r[0],n)}function ZU(e,t){const n=e[e.length-1]==="?"?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const r=parseInt(n,10);if(!isNaN(r))return Array.isArray(t)?t[r]:t.at(r)}const i=qr(t);return Oce(i,n)?i.get(n):t[n]}function YU(e,t,n){if(e==null)return e;const i=ZU(t[n],e);return!i&&n<t.length-1?void 0:n===t.length-1?i:YU(i,t,n+1)}function Q0(e,t,n=0){return typeof t!="string"||t.includes(".")?YU(e,qU(t),n):ZU(t,e)}function wr(e,t){return Q0(e,t)}function TN(e,t){return Q0(t,e)!==void 0}var zr;(function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CONSTRUCTING=1]="CONSTRUCTING",e[e.CONSTRUCTED=2]="CONSTRUCTED",e[e.DESTROYED=3]="DESTROYED"})(zr||(zr={}));function eb(e){let t=e.constructor.__accessorMetadata__;const n=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!n){t=Object.create(t);for(const i in t)t[i]=j(t[i]);Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t={},Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function F2(e,t){const n=eb(e);let i=n[t];return i||(i=n[t]={}),i}function Nce(e,t){return n1(e,t,Vce)}const Dce=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function Vce(e){return Dce.test(e)?"replace":"merge"}function Fce(e){return e?.release&&typeof e.release=="function"}function jce(e){return e?.acquire&&typeof e.acquire=="function"}let np=class YE{constructor(t,n,i,r=1,s=0){this._ctor=t,this._acquireFunction=n,this._releaseFunction=i,this.allocationSize=r,this._pool=new Array(s),this._initialSize=s;for(let o=0;o<s;o++)this._pool[o]=new this._ctor;this.allocationSize=Math.max(r,1)}destroy(){this.prune(0)}acquire(...t){let n;if(YE.test.disabled)n=new this._ctor;else{if(this._pool.length===0){const i=this.allocationSize;for(let r=0;r<i;r++)this._pool[r]=new this._ctor}n=this._pool.pop()}return this._acquireFunction?this._acquireFunction(n,...t):jce(n)&&n.acquire(...t),n}release(t){t&&!YE.test.disabled&&(this._releaseFunction?this._releaseFunction(t):Fce(t)&&t.release(),this._pool.push(t))}prune(t=this._initialSize){if(!(t>=this._pool.length)){for(let n=t;n<this._pool.length;++n){const i=this._pool[n];this._dispose(i)}this._pool.length=t}}_dispose(t){t.dispose&&typeof t.dispose=="function"&&t.dispose()}};np.test={disabled:!1};let zce=class{constructor(t,n){this._observers=t,this._observer=n}remove(){AU(this._observers,this._observer)}},JU=class{constructor(){this._observers=null,this.destroyed=!1}observe(t){if(this.destroyed||t.destroyed)return Bce;this._observers==null&&(this._observers=[]);const n=this._observers;let i=!1,r=!1;const s=n.length;for(let o=0;o<s;++o){const a=n[o];if(a.destroyed)r=!0;else if(a===t){i=!0;break}}return i||(n.push(t),r&&this._removeDestroyedObservers()),new zce(n,t)}_removeDestroyedObservers(){const t=this._observers;if(!t||t.length===0)return;const n=t.length;let i=0;for(let r=0;r<n;++r){for(;r+i<n&&t[r+i].destroyed;)++i;if(i>0){if(!(r+i<n))break;t[r]=t[r+i]}}t.length=n-i}destroy(){if(this.destroyed)return;this.destroyed=!0;const t=this._observers;if(t!=null){for(const n of t)n.onCommitted();this._observers=null}}};const Bce=St();var We;(function(e){e[e.DEFAULTS=0]="DEFAULTS",e[e.COMPUTED=1]="COMPUTED",e[e.SERVICE=2]="SERVICE",e[e.PORTAL_ITEM=3]="PORTAL_ITEM",e[e.WEB_SCENE=4]="WEB_SCENE",e[e.WEB_MAP=5]="WEB_MAP",e[e.LINK_CHART=6]="LINK_CHART",e[e.USER=7]="USER"})(We||(We={}));const JE=We.USER+1;function Ju(e){switch(e){case"defaults":return We.DEFAULTS;case"service":return We.SERVICE;case"portal-item":return We.PORTAL_ITEM;case"web-scene":return We.WEB_SCENE;case"web-map":return We.WEB_MAP;case"link-chart":return We.LINK_CHART;case"user":return We.USER;default:return null}}function N_(e){switch(e){case We.DEFAULTS:return"defaults";case We.SERVICE:return"service";case We.PORTAL_ITEM:return"portal-item";case We.WEB_SCENE:return"web-scene";case We.WEB_MAP:return"web-map";case We.LINK_CHART:return"link-chart";case We.USER:return"user"}}function Uce(e){return N_(e)}var Pt;(function(e){e[e.Dirty=1]="Dirty",e[e.Overridden=2]="Overridden",e[e.Computing=4]="Computing",e[e.NonNullable=8]="NonNullable",e[e.HasDefaultValue=16]="HasDefaultValue",e[e.DepTrackingInitialized=32]="DepTrackingInitialized",e[e.AutoTracked=64]="AutoTracked",e[e.ExplicitlyTracking=128]="ExplicitlyTracking"})(Pt||(Pt={}));let j2=class{constructor(t){this.accessed=void 0,this._handles=void 0,this._observer=t}destroy(){this.accessed?.clear(),this.clear()}onAccessed(t){this._observer!=null&&t!==this._observer&&(this.accessed==null&&(this.accessed=new Set),this.accessed.add(t))}onTrackingEnd(){this._observer!=null&&(this.clear(),this.accessed!=null&&(this._handles==null&&(this._handles=[]),this.accessed.forEach(t=>{this._handles.push(t.observe(this._observer))}),this.accessed.clear()))}clear(){if(this._handles!=null){for(let t=0;t<this._handles.length;++t)this._handles[t].remove();this._handles.length=0}}};const D_=new j2,Jy=[];let dv=D_;function He(e){dv.onAccessed(e)}let i1=!1,r1=!1;function Ll(e,t,n){if(i1)return KP(e,t,n);let i=null;return KU(e),i=t.call(n),XU(),i}function Gce(e,t){return Ll(D_,e,t)}function KP(e,t,n){const i=i1;i1=!0,KU(e);let r=null;try{r=t.call(n)}catch(s){r1&&re.getLogger("esri.core.accessorSupport.tracking").error(s)}return XU(),i1=i,r}function KU(e){dv=e,Jy.push(e)}function XU(){const e=Jy.length;if(e>1){const t=Jy.pop();dv=Jy[e-2],t.onTrackingEnd()}else if(e===1){const t=Jy.pop();dv=D_,t.onTrackingEnd()}else dv=D_}function QU(e,t){if(t.flags&Pt.DepTrackingInitialized)return;t.flags|=Pt.DepTrackingInitialized;const n=r1;r1=!1,t.flags&Pt.AutoTracked?KP(t.trackingTarget,t.metadata.get,e):e9(e,t),r1=n}const Hce=[];function e9(e,t){t.flags&Pt.ExplicitlyTracking||(t.flags|=Pt.ExplicitlyTracking,KP(t.trackingTarget,()=>{const n=t.metadata.dependsOn||Hce;for(const i of n)if(typeof i!="string"||i.includes(".")){const r=qU(i);for(let s=0,o=e;s<r.length&&o!=null&&typeof o=="object";++s)o=EN(o,r[s],s!==r.length-1)}else EN(e,i,!1)}),t.flags&=~Pt.ExplicitlyTracking)}function EN(e,t,n){const i=t[t.length-1]==="?"?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const s=parseInt(i,10);if(!isNaN(s))return Array.isArray(e)?e[s]:e.at(s)}const r=qr(e);if(r){const s=r.propertiesByName.get(i);s&&(He(s),QU(e,s))}return n?e[i]:void 0}let IN=class extends JU{constructor(t,n){super(),this.propertyName=t,this.metadata=n,this.trackingTarget=new j2(this),this.flags=0,this.flags=Pt.Dirty|(n.nonNullable?Pt.NonNullable:0)|(n.hasOwnProperty("value")?Pt.HasDefaultValue:0)|(n.get===void 0?Pt.DepTrackingInitialized:0)|(n.dependsOn===void 0?Pt.AutoTracked:0)}destroy(){this.flags&Pt.Dirty&&this.onCommitted(),super.destroy(),this.trackingTarget.destroy()}getComputed(t){t.mutable&&He(this);const n=t.store,i=this.propertyName,r=this.flags,s=n.get(i);if(r&Pt.Computing||~r&Pt.Dirty&&n.has(i))return s;this.flags|=Pt.Computing;const o=t.host;let a;r&Pt.AutoTracked?a=Ll(this.trackingTarget,this.metadata.get,o):(e9(o,this),a=this.metadata.get.call(o)),this.flags|=Pt.DepTrackingInitialized,n.set(i,a,We.COMPUTED);const l=n.get(i);return l===s?this.flags&=~Pt.Dirty:Gce(this.commit,this),this.flags&=~Pt.Computing,l}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~Pt.Dirty,this.onCommitted()}onInvalidated(){~this.flags&Pt.Overridden&&(this.flags|=Pt.Dirty);const t=this._observers;if(t&&t.length>0)for(const n of t)n.onInvalidated()}onCommitted(){const t=this._observers;if(t&&t.length>0){const n=t.slice();for(const i of n)i.onCommitted()}}},qce=class t9{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const n=new t9;return this._values.forEach((i,r)=>{t&&t.has(r)||n.set(r,j(i))}),n}get(t){return this._values.get(t)}originOf(){return We.USER}keys(){return[...this._values.keys()]}set(t,n){this._values.set(t,n)}delete(t){this._values.delete(t)}has(t){return this._values.has(t)}forEach(t){this._values.forEach(t)}};function qb(e,t,n){return e!==void 0}function CN(e,t,n,i){return e!==void 0&&(!(n==null&&e.flags&Pt.NonNullable)||(i.lifecycle,zr.INITIALIZING,!1))}let Wce=class{constructor(t){this.host=t,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=zr.INITIALIZING,this.store=new qce,this.mutable=!0,this._origin=We.USER;const n=this.host.constructor.__accessorMetadata__;for(const i in n){const r=new IN(i,n[i]);this.propertiesByName.set(i,r)}this.metadata=n}initialize(){this.lifecycle=zr.CONSTRUCTING}constructed(){this.lifecycle=zr.CONSTRUCTED}destroy(){this.lifecycle=zr.DESTROYED,this.propertiesByName.forEach(t=>t.destroy())}get initialized(){return this.lifecycle!==zr.INITIALIZING}get(t){const n=this.propertiesByName.get(t);if(n.metadata.get)return n.getComputed(this);this.mutable&&He(n);const i=this.store;return i.has(t)?i.get(t):n.metadata.value}originOf(t){const n=this.store.originOf(t);if(n===void 0){const i=this.propertiesByName.get(t);if(i!==void 0&&i.flags&Pt.HasDefaultValue)return"defaults"}return N_(n)}has(t){return this.propertiesByName.has(t)&&this.store.has(t)}keys(){return[...this.propertiesByName.keys()]}internalGet(t){const n=this.propertiesByName.get(t);if(qb(n))return this.store.has(t)?this.store.get(t):n.metadata.value}internalSet(t,n){const i=this.propertiesByName.get(t);qb(i)&&this._internalSet(i,n)}getDependsInfo(t,n,i){const r=this.propertiesByName.get(n);if(!qb(r))return"";const s=new j2,o=Ll(s,()=>r.metadata.get?.call(t));let a=`${i}${t.declaredClass.split(".").pop()}.${n}: ${o}
`;const l=s.accessed??new Set;if(l.size===0)return a;i+="  ";for(const c of l)c instanceof IN&&(a+=`${i}${c.propertyName}: undefined
`);return a}setAtOrigin(t,n,i){const r=this.propertiesByName.get(t);if(qb(r))return this._setAtOrigin(r,n,i)}isOverridden(t){const n=this.propertiesByName.get(t);return n!==void 0&&!!(n.flags&Pt.Overridden)}clearOverride(t){const n=this.propertiesByName.get(t);n&&n.flags&Pt.Overridden&&(n.flags&=~Pt.Overridden,n.notifyChange())}override(t,n){const i=this.propertiesByName.get(t);if(!CN(i,t,n,this))return;const r=i.metadata.cast;if(r){const s=this._cast(r,n),{valid:o,value:a}=s;if(w$.release(s),!o)return;n=a}i.flags|=Pt.Overridden,this._internalSet(i,n)}set(t,n){const i=this.propertiesByName.get(t);if(!CN(i,t,n,this))return;const r=i.metadata.cast;if(r){const o=this._cast(r,n),{valid:a,value:l}=o;if(w$.release(o),!a)return;n=l}const s=i.metadata.set;s?s.call(this.host,n):this._internalSet(i,n)}setDefaultOrigin(t){this._origin=Ju(t)}getDefaultOrigin(){return N_(this._origin)}notifyChange(t){const n=this.propertiesByName.get(t);n!==void 0&&n.notifyChange()}invalidate(t){const n=this.propertiesByName.get(t);n!==void 0&&n.invalidate()}commit(t){const n=this.propertiesByName.get(t);n!==void 0&&n.commit()}_internalSet(t,n){const i=this.lifecycle!==zr.INITIALIZING?this._origin:We.DEFAULTS;this._setAtOrigin(t,n,i)}_setAtOrigin(t,n,i){const r=this.store,s=t.propertyName;r.has(s,i)&&YP(n,r.get(s))&&~t.flags&Pt.Overridden&&i===r.originOf(s)||(t.invalidate(),r.set(s,n,i),t.commit(),QU(this.host,t))}_cast(t,n){const i=w$.acquire();return i.valid=!0,i.value=n,t&&(i.value=t.call(this.host,n,i)),i}},Zce=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const w$=new np(Zce);function Yce(e,t){return e.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,(n,i)=>i===""?"$":(Y0(i,t)??"").toString())}let n9=class{constructor(t,n,i=void 0){this.name=t,this.details=i,this.message=(n&&Yce(n,i))??""}toString(){return"["+this.name+"]: "+this.message}},B=class i9 extends n9{constructor(t,n,i){super(t,n,i)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(t,n)=>{if(n&&typeof n=="object"&&typeof n.toJSON=="function")return n;try{return j(n)}catch{return"[object]"}}))}}catch(t){throw re.getLogger("esri.core.Error").error(t),t}return{name:this.name,message:this.message,details:this.details}}static fromJSON(t){return new i9(t.name,t.message,t.details)}};B.prototype.type="error";function V_(e,t,n){if(e&&t)if(typeof t=="object")for(const i of Object.getOwnPropertyNames(t))V_(e,i,t[i]);else{if(t.includes(".")){const r=t.split("."),s=r.splice(-1,1)[0];return void V_(wr(e,r),s,n)}const i=e.__accessor__;i!=null&&Jce(t,i),e[t]=n}}function Jce(e,t){if(H("esri-unknown-property-errors")&&!Kce(e,t))throw new B("set:unknown-property",Xce(e,t))}function Kce(e,t){return t.metadata[e]!=null}function Xce(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}let Qce;function ede(){return Qce}var MN;(function(e){e[e.Ignore=0]="Ignore",e[e.Destroy=1]="Destroy",e[e.ThrowError=2]="ThrowError"})(MN||(MN={}));function tde(e){e.length=0}let gr=class{constructor(t=50,n=50){this._pool=new np(Array,void 0,tde,n,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return _$.acquire()}static release(t){return _$.release(t)}static prune(){_$.prune()}};const _$=new gr(100);let r9=class extends np{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...t){const n=super.acquire(...t);return this._set.delete(n),n}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}};const Wb=[];function F_(e){Wb.push(e),Wb.length===1&&queueMicrotask(()=>{const t=Wb.slice();Wb.length=0;for(const n of t)n()})}let hv=class{constructor(t,n=30){this.name=t,this._counter=0,this._samples=new Array(n)}push(t){t!=null&&(this._samples[++this._counter%this._samples.length]=t)}set(t){t!=null&&(this._samples[this._counter%this._samples.length]=t)}get median(){return this._samples.slice().sort((t,n)=>t-n)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((t,n)=>t+n,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};var KE;(function(e){const t=(s,o,a,l)=>{let c=o,h=o;const p=a>>>1,m=s[c-1];for(;h<=p;){h=c<<1,h<a&&l(s[h-1],s[h])<0&&++h;const y=s[h-1];if(l(y,m)<=0)break;s[c-1]=y,c=h}s[c-1]=m},n=(s,o)=>s<o?-1:s>o?1:0;function i(s,o,a,l){o===void 0&&(o=0),a===void 0&&(a=s.length),l===void 0&&(l=n);for(let h=a>>>1;h>o;h--)t(s,h,a,l);const c=o+1;for(let h=a-1;h>o;h--){const p=s[o];s[o]=s[h],s[h]=p,t(s,c,h,l)}}function*r(s,o,a,l){o===void 0&&(o=0),a===void 0&&(a=s.length),l===void 0&&(l=n);for(let h=a>>>1;h>o;h--)t(s,h,a,l),yield;const c=o+1;for(let h=a-1;h>o;h--){const p=s[o];s[o]=s[h],s[h]=p,t(s,c,h,l),yield}}e.sort=i,e.iterableSort=r})(KE||(KE={}));const kN=KE,nde=1.5,ide=1.1;let mh=class{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new CU,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),t.deallocator!==void 0&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>AN(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){const n=new Array;for(let i=0;i<this._length;i++){const r=this.data[i];t(r)&&n.push(r)}return n}at(t){if((t=Math.trunc(t)||0)<0&&(t+=this._length),!(t<0||t>=this._length))return this.data[t]}includes(t,n){const i=this.data.indexOf(t,n);return i!==-1&&i<this.length}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let n=t;n<this._length;++n)this.data[n]=this._deallocator(this.data[n]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,n=t.length){for(let i=0;i<n;i++)this.data[this._length++]=t[i]}fill(t,n){for(let i=0;i<n;i++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,AN(this)}pop(){if(this.length===0)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const n=WE(this.data,t,this.length,this._hint);if(n!==-1)return this.data.splice(n,1),this.length=this.length-1,t}removeUnordered(t){return this.removeUnorderedIndex(WE(this.data,t,this.length,this._hint))}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,n=t.length,i){this.length=wce(this.data,t,this.length,n,this._hint,i),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(t,n){if(t>=this.length||n>=this.length||t===n)return;const i=this.data[t];this.data[t]=this.data[n],this.data[n]=i}sort(t){kN.sort(this.data,0,this.length,t)}iterableSort(t){return kN.iterableSort(this.data,0,this.length,t)}some(t,n){for(let i=0;i<this.length;++i)if(t.call(n,this.data[i],i,this.data))return!0;return!1}find(t,n){const{data:i,length:r}=this;for(let s=0;s<r;++s)if(t.call(n,i[s]))return i[s]}filterInPlace(t,n){let i=0;for(let r=0;r<this._length;++r){const s=this.data[r];t.call(n,s,r,this.data)&&(this.data[r]=this.data[i],this.data[i]=s,i++)}if(this._deallocator)for(let r=i;r<this._length;r++)this.data[r]=this._deallocator(this.data[r]);return this._length=i,this._shrink(),this}forAll(t,n){const{data:i,length:r}=this;for(let s=0;s<r;++s)t.call(n,i[s],s,i)}forEach(t,n){this.data.slice(0,this.length).forEach(t,n)}map(t,n){const i=new Array(this.length);for(let r=0;r<this.length;++r)i[r]=t.call(n,this.data[r],r,this.data);return i}reduce(t,n){let i=n;for(let r=0;r<this.length;++r)i=t(i,this.data[r],r,this.data);return i}has(t){const n=this.length,i=this.data;for(let r=0;r<n;++r)if(i[r]===t)return!0;return!1}*[Symbol.iterator](){for(let t=0;t<this.length;t++)yield this.data[t]}};function AN(e){e.data.length>nde*e.length&&(e.data.length=Math.floor(e.length*ide))}function rde(e){return{setTimeout:(t,n)=>{const i=e.setTimeout(t,n);return St(()=>e.clearTimeout(i))}}}const Qm=rde(globalThis);function z2(e){return sde(e)||s9(e)}function sde(e){return e!=null&&typeof e=="object"&&"on"in e&&typeof e.on=="function"}function s9(e){return e!=null&&typeof e=="object"&&"addEventListener"in e&&typeof e.addEventListener=="function"}function tb(e,t,n){if(!z2(e))throw new TypeError("target is not a Evented or EventTarget object");return s9(e)?ode(e,t,n):e.on(t,n)}function ode(e,t,n,i){if(Array.isArray(t)){const r=t.slice();for(const s of r)e.addEventListener(s,n,i);return St(()=>{for(const s of r)e.removeEventListener(s,n,i)})}return e.addEventListener(t,n,i),St(()=>e.removeEventListener(t,n,i))}function o9(e,t,n){if(!z2(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,n);const i=tb(e,t,r=>{i.remove(),n.call(e,r)});return i}function Ut(e="Aborted"){return new B("AbortError",e)}function fn(e,t="Aborted"){if(vs(e))throw Ut(t)}function nb(e){return e instanceof AbortSignal?e:e?.signal??void 0}function vs(e){const t=nb(e);return t!=null&&t.aborted}function ba(e){if(ur(e))throw e}function PN(e){if(!ur(e))throw e}function Ws(e,t){const n=nb(e);if(n!=null){if(!n.aborted)return o9(n,"abort",()=>t());t()}}function XP(e,t){const n=nb(e);if(n!=null)return fn(n),o9(n,"abort",()=>t(Ut()))}function a9(e,t){return nb(t)==null?e:new Promise((n,i)=>{let r=Ws(t,()=>i(Ut()));const s=()=>{r=on(r)};e.then(s,s),e.then(n,i)})}function ur(e){return e?.name==="AbortError"}async function t0(e){try{return await e}catch(t){if(!ur(t))throw t;return}}async function QP(e){if(!e)return;if(typeof e.forEach!="function"){const n=Object.keys(e),i=n.map(o=>e[o]),r=await QP(i),s={};return n.map((o,a)=>s[o]=r[a]),s}const t=e;return Promise.allSettled(t).then(n=>Array.from(t,(i,r)=>{const s=n[r];return s.status==="fulfilled"?{promise:i,value:s.value}:{promise:i,error:s.reason}}))}async function ade(e){return(await Promise.allSettled(e)).filter(t=>t.status==="fulfilled").map(t=>t.value)}async function rje(e){return(await Promise.allSettled(e)).filter(t=>t.status==="rejected").map(t=>t.reason)}function l9(e,t=void 0,n){const i=new AbortController;return Ws(n,()=>i.abort()),new Promise((r,s)=>{let o=setTimeout(()=>{o=0,r(t)},e);Ws(i,()=>{o&&(clearTimeout(o),s(Ut()))})})}function sje(e,t,n,i){const r=n&&"abort"in n?n:null;i!=null||r||(i=n);let s=setTimeout(()=>{s=0,r?.abort()},t);const o=()=>i||new B("promiseUtils:timeout","The wrapped promise did not resolve within "+t+" ms");return e.then(a=>{if(s===0)throw o();return clearTimeout(s),a},a=>{throw clearTimeout(s),s===0?o():a})}function lde(e,t){const n=new AbortController,i=setTimeout(()=>n.abort(),t);return Ws(e,()=>{n.abort(),clearTimeout(i)}),{...e,signal:n.signal}}function Na(e){return e&&typeof e.then=="function"}function XE(e){return Na(e)?e:Promise.resolve(e)}function B2(e,t=-1){let n,i,r,s,o=null;const a=(...l)=>{if(n){i=l,s&&s.reject(Ut()),s=bs();const m=s.promise;if(o){const y=o;o=null,y.abort()}return m}if(r=s||bs(),s=null,t>0){const m=new AbortController;n=XE(e(...l,m.signal));const y=n;l9(t).then(()=>{n===y&&(s?m.abort():o=m)})}else n=1,n=XE(e(...l));const c=()=>{const m=i;i=r=n=o=null,m!=null&&a(...m)},h=n,p=r;return h.then(c,c),h.then(p.resolve,p.reject),p.promise};return a}function bs(){let e,t;const n=new Promise((r,s)=>{e=r,t=s}),i=r=>{e(r)};return i.resolve=r=>e(r),i.reject=r=>t(r),i.timeout=(r,s)=>Qm.setTimeout(()=>i.reject(s),r),i.promise=n,i}async function LN(e){await Promise.resolve(),fn(e)}function oje(e){return e}function ude(e){return 1e3*e}function aje(e){return e}function lje(e){return .001*e}let cde=class{constructor(t){this.phases=t,this.paused=!1,this.ticks=-1,this.removed=!1}},dde=class{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}},QE=0;const wy={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},eI=["prepare","preRender","render","postRender","update","finish"],tI=[],Ah=new mh;let hde=class{constructor(t){this._task=t}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1,u9()}};function pde(){yh!=null&&(cancelAnimationFrame(yh),yh=requestAnimationFrame(eL))}function u9(){yh==null&&(QE=performance.now(),yh=requestAnimationFrame(eL))}const j_={frameTasks:Ah,willDispatch:!1,clearFrameTasks:fde,dispatch:d9,executeFrameTasks:mde,reschedule:pde};function ib(e){const t=new dde(e);return tI.push(t),j_.willDispatch||(j_.willDispatch=!0,F_(d9)),t}function wm(e){const t=new cde(e);return Ah.push(t),u9(),new hde(t)}let yh=null;function fde(e=!1){Ah.forAll(t=>{t.removed=!0}),e&&c9()}function eL(){const e=performance.now();yh=null,yh=Ah.some(n=>!n.paused&&!n.removed)?requestAnimationFrame(eL):null,j_.executeFrameTasks(e)}function mde(e){const t=e-QE;QE=e;const n=1e3/60,i=Math.max(0,t-n);wy.time=e,wy.frameDuration=n-i;for(let r=0;r<eI.length;r++){const s=performance.now(),o=eI[r];Ah.forAll(a=>{a.paused||a.removed||(r===0&&a.ticks++,a.phases[o]&&(wy.elapsedFrameTime=performance.now()-e,wy.deltaTime=a.ticks===0?0:t,a.phases[o]?.call(a,wy)))}),bde[r].push(performance.now()-s)}c9(),wde.push(performance.now()-e)}const Zb=new mh;function c9(){Ah.forAll(e=>{e.removed&&Zb.push(e)}),Ah.removeUnorderedMany(Zb.data,Zb.length),Zb.clear()}function d9(){for(;tI.length;){const e=tI.shift();e.isActive&&e.callback()}j_.willDispatch=!1}function yde(e=1,t){const n=bs(),i=()=>{vs(t)?n.reject(Ut()):e===0?n():(--e,F_(()=>i()))};return i(),n.promise}function gde(e){return yde(1,e)}async function vde(e){await gde(e),await new Promise(t=>requestAnimationFrame(()=>{e?.aborted||t()}))}const bde=eI.map(e=>new hv(e)),wde=new hv("total");function h9(e,t){for(const n of e.values())if(t(n))return!0;return!1}function z_(e,t){if(!t)return e;for(const n of t)n!=null&&e.add(n);return e}function ON(e,t){return t!=null&&e.add(t),e}function tL(e,t){const n=new Set;return z_(n,e),z_(n,t),n}function _de(e,t){const n=new Set;for(const i of t)e.has(i)&&n.add(i);return n}function hje(e,t){if(!e||!t)return!1;if(e===t)return!0;for(const n of e)if(!t.has(n))return!1;return!0}function pje(e,t){if(e==null&&t==null)return!0;if(e==null||t==null||e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function Sde(e,t){const n=new Set(e);for(const i of t)n.delete(i);return n}function xde(e,t){return Sde(tL(e,t),_de(e,t))}let $de=0;function s1(){return++$de}let U2=class extends j2{constructor(t){super(new Tde(t)),this._observer&&RN.register(this,new WeakRef(this._observer),this)}destroy(){this._observer&&RN.unregister(this._observer),this.accessed?.clear(),this.clear(),this._observer?.destroy()}},Tde=class{constructor(t){this._notify=t,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const t=this._invalidCount;if(t===1)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}destroy(){this.destroyed=!0,this._notify=Ede}};const RN=new FinalizationRegistry(e=>{e.deref()?.destroy()});function Ede(){}let Wf=!1;const B_=[];function p9(e,t){let n=new U2(s),i=null,r=!1;function s(){if(!n||r)return;if(Wf)return void y9(s);const a=i;n.clear(),Wf=!0,r=!0,i=Ll(n,e),r=!1,Wf=!1,t(i,a),g9()}function o(){n&&(n.destroy(),n=null,i=null)}return r=!0,i=Ll(n,e),r=!1,St(o)}function f9(e,t){let n=new U2(r),i=null;function r(){t(i,o)}function s(){n&&(n.destroy(),n=null),i=null}function o(){return n?(n.clear(),i=Ll(n,e),i):null}return o(),St(s)}function m9(e,t){let n=!1,i=!1;const r=!!t?.sync;let s=new U2(()=>{n||i||(i=!0,r?o():queueMicrotask(o))});function o(){i=!1,s&&!n&&(Wf?y9(o):(s.clear(),Wf=!0,n=!0,Ll(s,e),n=!1,Wf=!1,g9()))}function a(){s&&(s.destroy(),s=null)}return n=!0,Ll(s,e),n=!1,St(a)}function y9(e){B_.includes(e)||B_.unshift(e)}function g9(){for(;B_.length;)B_.pop()()}var pv;(function(e){e[e.Untracked=0]="Untracked",e[e.Tracked=1]="Tracked"})(pv||(pv={}));let n0=class{constructor(){this.uid=s1(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(t,n,i,r,s){return this.pool.acquire(pv.Untracked,t,n,i,r,s,YP)}static acquireTracked(t,n,i,r){return this.pool.acquire(pv.Tracked,t,n,i,null,null,r)}notify(t,n){this.type===pv.Untracked?this.callback.call(this.target,t,n,this.path,this.target):this.callback.call(null,t,n,void 0,void 0)}acquire(t,n,i,r,s,o,a){this.uid=s1(),this.removed=!1,this.type=t,this.oldValue=n,this.callback=i,this.getValue=r,this.target=s,this.path=o,this.equals=a}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=s1(),this.removed=!0}};n0.pool=new r9(n0);const o1=new gr,Tl=new Set;let U_;function G_(e){Tl.delete(e),Tl.add(e),U_||(U_=ib(Mde))}function Ide(e){if(e.removed)return;const t=e.oldValue,n=e.getValue();e.equals(t,n)||(e.oldValue=n,e.notify(n,t))}function Cde(e){for(const t of Tl.values())t.target===e&&(t.removed=!0)}function Mde(){let e=10;for(;U_&&e--;){U_=null;const t=kde(),n=o1.acquire();for(const i of t){const r=i.uid;Ide(i),r===i.uid&&i.removed&&n.push(i)}for(const i of Tl)i.removed&&(n.push(i),Tl.delete(i));for(const i of n)n0.pool.release(i);o1.release(n),o1.release(t),nI.forEach(i=>i())}}function kde(){const e=o1.acquire();e.length=Tl.size;let t=0;for(const n of Tl)e[t]=n,++t;return Tl.clear(),e}const nI=new Set;function Ade(e){return nI.add(e),St(()=>nI.delete(e))}function Pde(e,t,n){let i=WU(e,t,n,(r,s,o)=>{let a,l,c=f9(()=>Q0(r,s),(h,p)=>{r.__accessor__?.lifecycle===zr.DESTROYED||a&&a.uid!==l?i.remove():(a||(a=n0.acquireUntracked(h,o,p,r,s),l=a.uid),G_(a))});return St(()=>{c.remove(),a&&(a.uid!==l||a.removed||(a.removed=!0,G_(a)),a=null),i=c=null})});return i}function Lde(e,t,n){const i=WU(e,t,n,(r,s,o)=>{let a=!1;return p9(()=>Q0(r,s),(l,c)=>{r.__accessor__.lifecycle!==zr.DESTROYED?a||(a=!0,YP(c,l)||o.call(r,l,c,s,r),a=!1):i.remove()})});return i}function Ode(e,t,n,i=!1){return e.__accessor__&&e.__accessor__.lifecycle!==zr.DESTROYED?i?Lde(e,t,n):Pde(e,t,n):St()}function Rde(e,t,n){let i,r,s=f9(e,(o,a)=>{i&&i.uid!==r?s.remove():(i||(i=n0.acquireTracked(o,t,a,n),r=i.uid),G_(i))});return St(()=>{s.remove(),i&&(i.uid!==r||i.removed||(i.removed=!0,G_(i)),i=null),s=null})}function Nde(e,t,n){let i=!1;return p9(e,(r,s)=>{i||(i=!0,n(s,r)||t(r,s),i=!1)})}function Dde(e,t,n=!1,i=jU){return n?Nde(e,t,i):Rde(e,t,i)}function NN(e){return h9(Tl,t=>t.oldValue===e)}function Vde(e,t){for(const n of e.values())if(t(n))return!0;return!1}function gje(e,t){for(const n of e.values())if(t(n))return n;return null}function rb(e,t,n){const i=e.get(t);if(i!==void 0)return i;const r=n();return e.set(t,r),r}function vje(e){const t=new Map;return n=>(t.has(n)||t.set(n,e(n)),t.get(n))}const Zf=()=>re.getLogger("esri.core.accessorSupport.ensureTypes");function Fde(e){return e==null?e:new Date(e)}function jde(e){return e==null?e:!!e}function sb(e){return e==null?e:e.toString()}function vr(e,t=0){return e==null?e:(e=parseFloat(e),isNaN(e)?t:e)}function nL(e){return e==null?e:Math.round(parseFloat(e))}function zde(e){return null}function Bde(e,t){return n=>{let i=e(n);return t.step!=null&&(i=Math.round(i/t.step)*t.step),t.min!=null&&(i=Math.max(t.min,i)),t.max!=null&&(i=Math.min(t.max,i)),i}}function v9(e){return e?.constructor&&e.constructor.__accessorMetadata__!==void 0}function H_(e,t){return t!=null&&e&&!(t instanceof e)}function b9(e){return e&&"isCollection"in e}function DN(e){return e?.Type?typeof e.Type=="function"?e.Type:e.Type.base:null}function Ude(e,t){if(!t?.constructor||!b9(t.constructor))return iI(e,t)?t:new e(t);const n=DN(e.prototype.itemType),i=DN(t.constructor.prototype.itemType);return n?i?n===i?t:n.prototype.isPrototypeOf(i.prototype)?new e(t):(iI(e,t),t):new e(t):t}function iI(e,t){return!!v9(t)&&(Zf().error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+G2(e)+"'"),!0)}function ob(e,t){return t==null?t:b9(e)?Ude(e,t):H_(e,t)?iI(e,t)?t:new e(t):t}function G2(e){return e?.prototype?.declaredClass||"unknown"}const Gde=new WeakMap;function Hde(e){switch(e){case Number:return t=>vr(t);case wt:return nL;case Boolean:return jde;case String:return sb;case Date:return Fde;case H2:return zde;default:return rb(Gde,e,()=>ob.bind(null,e))}}function Jn(e,t){const n=Hde(e);return arguments.length===1?n:n(t)}function i0(e,t,n){return arguments.length===1?i0.bind(null,e):t&&(Array.isArray(t)?t.map(i=>e(i,n)):[e(t,n)])}function qde(e,t){return arguments.length===1?i0(n=>Jn(e,n)):i0(n=>Jn(e,n),t)}function w9(e,t,n){return t!==0&&Array.isArray(n)?n.map(i=>w9(e,t-1,i)):e(n)}function q_(e,t,n){if(arguments.length===2)return s=>q_(e,t,s);if(!n)return n;n=w9(e,t,n);let i=t,r=n;for(;i>0&&Array.isArray(r);)i--,r=r[0];if(r!==void 0)for(let s=0;s<i;s++)n=[n];return n}function Wde(e,t,n){return arguments.length===2?q_(i=>Jn(e,i),t):q_(i=>Jn(e,i),t,n)}function _9(e){return!!Array.isArray(e)&&!e.some(t=>{const n=typeof t;return!(n==="string"||n==="number"||n==="function"&&e.length>1)})}function rI(e,t){if(arguments.length===2)return rI(e).call(null,t);const n=new Set,i=e.filter(a=>typeof a!="function"),r=e.filter(a=>typeof a=="function");for(const a of e)typeof a!="string"&&typeof a!="number"||n.add(a);let s=null,o=null;return(a,l)=>{if(a==null)return a;const c=typeof a,h=c==="string"||c==="number";return h&&(n.has(a)||r.some(p=>c==="string"&&p===String||c==="number"&&p===Number))||c==="object"&&r.some(p=>!H_(a,p))?a:(h&&i.length?(s||(s=i.map(p=>typeof p=="string"?`'${p}'`:`${p}`).join(", ")),Zf().error("Accessor#set",`'${a}' is not a valid value for this property, only the following values are valid: ${s}`)):typeof a=="object"&&r.length?(o||(o=r.map(p=>G2(p)).join(", ")),Zf().error("Accessor#set",`'${a}' is not a valid value for this property, value must be one of ${o}`)):Zf().error("Accessor#set",`'${a}' is not a valid value for this property`),l&&(l.valid=!1),null)}}function Ho(e,t){if(arguments.length===2)return Ho(e).call(null,t);const n={},i=[],r=[];for(const l in e.typeMap){const c=e.typeMap[l];n[l]=Jn(c),i.push(G2(c)),r.push(l)}const s=()=>`'${i.join("', '")}'`,o=()=>`'${r.join("', '")}'`,a=typeof e.key=="string"?l=>l[e.key]:e.key;return l=>{if(e.base&&!H_(e.base,l)||l==null)return l;const c=a(l)||e.defaultKeyValue,h=n[c];if(!h)return Zf().error("Accessor#set",`Invalid property value, value needs to be one of ${s()}, or a plain object that can autocast (having .type = ${o()})`),null;if(!H_(e.typeMap[c],l))return l;if(typeof e.key=="string"&&!v9(l)){const p={};for(const m in l)m!==e.key&&(p[m]=l[m]);return h(p)}return h(l)}}let wt=class{},H2=class{};const _je={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function Zde(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function S9(e){switch(e.type){case"native":return Jn(e.value);case"array":return i0(S9(e.value));case"one-of":return Yde(e);default:return null}}function Yde(e){let t=null;return(n,i)=>oI(n,e)?n:(t==null&&(t=sI(e)),Zf().error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),i&&(i.valid=!1),null)}function sI(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case wt:return"integer";case Date:return"date";case H2:return"null";default:return G2(e.value)}case"array":return`array of ${sI(e.value)}`;case"one-of":{const t=e.values.map(n=>sI(n));return`one of ${t.slice(0,-1)} or ${t[t.length-1]}`}}return"unknown"}function oI(e,t){if(e==null)return!0;switch(t.type){case"native":switch(t.value){case Number:case wt:return typeof e=="number";case Boolean:return typeof e=="boolean";case String:return typeof e=="string";case H2:return e===null}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some(n=>!oI(n,t.value));case"one-of":return t.values.some(n=>oI(e,n))}}function d(e={}){return(t,n)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${n}. Accessor does not support static properties.`);const i=Object.getOwnPropertyDescriptor(t,n),r=F2(t,n);i&&(i.get||i.set?(r.get=i.get||r.get,r.set=i.set||r.set):"value"in i&&("value"in e&&re.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${n}" on "${t.constructor.name}" already defined in the metadata`,e),r.value=e.value=i.value)),e.readOnly!=null&&(r.readOnly=e.readOnly);const s=e.aliasOf;if(s){const l=typeof s=="string"?s:s.source,c=typeof s=="string"?null:s.overridable===!0;let h;r.dependsOn=[l],r.get=function(){let p=wr(this,l);if(typeof p=="function"){h||(h=l.split(".").slice(0,-1).join("."));const m=wr(this,h);m&&(p=p.bind(m))}return p},r.readOnly||(r.set=c?function(p){this._override(n,p)}:function(p){V_(this,l,p)})}const o=e.type,a=e.types;if(!r.cast){let l;o?l=Jde(o):a&&(l=Array.isArray(a)?i0(Ho(a[0])):Ho(a)),e.cast=Kde(e.cast,l)}Nce(r,e),e.range&&(r.cast=Bde(r.cast,e.range))}}function x9(e,t,n){const i=F2(e,n);i.json||(i.json={});let r=i.json;return t!==void 0&&(r.origins||(r.origins={}),r.origins[t]||(r.origins[t]={}),r=r.origins[t]),r}function Jde(e){let t=0,n=e;if(Zde(e))return S9(e);for(;Array.isArray(n)&&n.length===1&&typeof n[0]!="string"&&typeof n[0]!="number";)n=n[0],t++;const i=n;if(_9(i))return t===0?rI(i):q_(rI(i),t);if(t===1)return qde(i);if(t>1)return Wde(i,t);const r=e;return r.from?r.from:Jn(r)}function Kde(e,t){if(e||t)return e?t?(n,i)=>t(e(n,i),i):e:t}function Xde(e){if(e.json&&e.json.origins){const t=e.json.origins,n={"web-document":["web-scene","web-map"]};for(const i in n)if(t[i]){const r=t[i];n[i].forEach(s=>{t[s]=r}),delete t[i]}}}let Js=class extends n9{constructor(t,n,i){super(t,n,i)}};Js.prototype.type="warning";function $9(e){return!!e&&e.prototype?.declaredClass&&e.prototype.declaredClass.indexOf("esri.core.Collection")===0}const aI=()=>re.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function VN(e,t,n){e&&(!n&&!t.read||t.read?.reader||t.read?.enabled===!1||the(e)&&$i("read.reader",ey(e),t))}function ey(e){const t=e.ndimArray??0;if(t>1)return ehe(e);if(t===1)return FN(e);if("type"in e&&E9(e.type)){const n=e.type.prototype?.itemType?.Type,i=FN(typeof n=="function"?{type:n}:{types:n});return(r,s,o)=>{const a=i(r,s,o);return a&&new e.type(a)}}return iL(e)}function iL(e){return"type"in e?Qde(e.type):nhe(e.types)}function Qde(e){return e.prototype.read?(t,n,i)=>{if(t==null)return t;const r=typeof t;if(r!=="object")return void aI().error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${r}'`);const s=new e;return s.read(t,i),s}:e.fromJSON}function T9(e,t,n,i){return i!==0&&Array.isArray(t)?t.map(r=>T9(e,r,n,i-1)):e(t,void 0,n)}function ehe(e){const t=iL(e),n=T9.bind(null,t),i=e.ndimArray??0;return(r,s,o)=>{if(r==null)return r;r=n(r,o,i);let a=i,l=r;for(;a>0&&Array.isArray(l);)a--,l=l[0];if(l!==void 0)for(let c=0;c<a;c++)r=[r];return r}}function FN(e){const t=iL(e);return(n,i,r)=>{if(n==null)return n;if(Array.isArray(n)){const o=[];for(const a of n){const l=t(a,void 0,r);l!==void 0&&o.push(l)}return o}const s=t(n,void 0,r);return s!==void 0?[s]:void 0}}function E9(e){if(!$9(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&(typeof t.Type=="function"?rL(t.Type):I9(t.Type))}function the(e){return"types"in e?I9(e.types):rL(e.type)}function rL(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||E9(e))}function I9(e){for(const t in e.typeMap)if(!rL(e.typeMap[t]))return!1;return!0}function nhe(e){let t=null;const n=e.errorContext??"type",i=e.validate;return(r,s,o)=>{if(r==null)return r;const a=typeof r;if(a!=="object")return void aI().error(`Expected JSON value of type 'object' to deserialize, but got '${a}'`);t||(t=ihe(e));const l=e.key;if(typeof l!="string")return;const c=r[l],h=c?t[c]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!h){const m=`Type '${c||"unknown"}' is not supported`;return o?.messages&&r&&o.messages.push(new Js(`${n}:unsupported`,m,{definition:r,context:o})),void aI().error(m)}const p=new h;return p.read(r,o),i?i(p):p}}function ihe(e){const t={};for(const n in e.typeMap){const i=e.typeMap[n],r=eb(i.prototype);if(typeof e.key=="function")continue;const s=r[e.key];if(!s)continue;if(s.json?.type&&Array.isArray(s.json.type)&&s.json.type.length===1&&typeof s.json.type[0]=="string"){t[s.json.type[0]]=i;continue}const o=s.json?.write;if(!o?.writer){t[n]=i;continue}const a=o.target,l=typeof a=="string"?a:e.key,c={};o.writer(n,c,l),c[l]&&(t[c[l]]=i)}return t}function rhe(e){if(e.json||(e.json={}),zN(e.json),BN(e.json),jN(e.json),e.json.origins)for(const t in e.json.origins)zN(e.json.origins[t]),BN(e.json.origins[t]),jN(e.json.origins[t]);return!0}function jN(e){e.name&&(e.read&&typeof e.read=="object"?e.read.source===void 0&&(e.read.source=e.name):e.read={source:e.name},e.write&&typeof e.write=="object"?e.write.target===void 0&&(e.write.target=e.name):e.write={target:e.name})}function zN(e){typeof e.read=="boolean"?e.read={enabled:e.read}:typeof e.read=="function"?e.read={enabled:!0,reader:e.read}:e.read&&typeof e.read=="object"&&e.read.enabled===void 0&&(e.read.enabled=!0)}function BN(e){typeof e.write=="boolean"?e.write={enabled:e.write}:typeof e.write=="function"?e.write={enabled:!0,writer:e.write}:e.write&&typeof e.write=="object"&&e.write.enabled===void 0&&(e.write.enabled=!0)}function UN(e,t){if(!t.write||t.write.writer||t.write.enabled===!1&&!t.write.overridePolicy)return;const n=e?.ndimArray??0;e&&(n===1||"type"in e&&$9(e.type))?t.write.writer=ahe:n>1?t.write.writer=lhe(n):t.types?Array.isArray(t.types)?t.write.writer=ohe(t.types[0]):t.write.writer=she(t.types):t.write.writer=r0}function she(e){return(t,n,i,r)=>t?C9(t,e,r)?r0(t,n,i,r):void 0:r0(t,n,i,r)}function C9(e,t,n){for(const i in t.typeMap)if(e instanceof t.typeMap[i])return!0;if(n?.messages){const i=t.errorContext??"type",r=`Values of type '${(typeof t.key!="function"?e[t.key]:e.declaredClass)??"Unknown"}' cannot be written`;n&&n.messages&&e&&n.messages.push(new B(`${i}:unsupported`,r,{definition:e,context:n})),re.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(r)}return!1}function ohe(e){return(t,n,i,r)=>!t||!Array.isArray(t)?r0(t,n,i,r):r0(t.filter(s=>C9(s,e,r)),n,i,r)}function r0(e,t,n,i){$i(n,W_(e,i),t)}function W_(e,t){return e&&typeof e.write=="function"?e.write({},t):e&&typeof e.toJSON=="function"?e.toJSON():typeof e=="number"?Z_(e):e}function Z_(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function ahe(e,t,n,i){let r;e===null?r=null:e&&typeof e.map=="function"?(r=e.map(s=>W_(s,i)),typeof r.toArray=="function"&&(r=r.toArray())):r=[W_(e,i)],$i(n,r,t)}function M9(e,t,n){return n!==0&&Array.isArray(e)?e.map(i=>M9(i,t,n-1)):W_(e,t)}function lhe(e){return(t,n,i,r)=>{let s;if(t===null)s=null;else{s=M9(t,r,e);let o=e,a=s;for(;o>0&&Array.isArray(a);)o--,a=a[0];if(a!==void 0)for(let l=0;l<o;l++)s=[s]}$i(i,s,n)}}function uhe(e,t){return sL(e,"any",t?.origin)}function lI(e,t){return sL(e,"read",t?.origin)}function k9(e,t){return sL(e,"write",t?.origin)}function sL(e,t,n){let i=e?.json;if(i?.origins&&n){let r;r=n==="link-chart"?i.origins[n]&&(t==="any"||t in i.origins[n])?i.origins[n]:i.origins["web-map"]:i.origins[n],r&&(t==="any"||t in r)&&(i=r)}return i}function che(e){const t=dhe(e);if(e.json.origins)for(const n in e.json.origins){const i=e.json.origins[n],r=i.types?hhe(i):t;VN(r,i,!1),i.types&&!i.write&&e.json.write?.enabled&&(i.write={...e.json.write}),UN(r,i)}VN(t,e.json,!0),UN(t,e.json)}function dhe(e){return e.json.types?uI(e.json):e.type?A9(e):uI(e)}function hhe(e){return e.type?A9(e):uI(e)}function A9(e){if(!e.type)return;let t=0,n=e.type;for(;Array.isArray(n)&&!_9(n);)n=n[0],t++;return{type:n,ndimArray:t}}function uI(e){if(!e.types)return;let t=0,n=e.types;for(;Array.isArray(n);)n=n[0],t++;return{types:n,ndimArray:t}}function phe(e){rhe(e)&&(Xde(e),che(e))}const S$=new Set,x$=new Set;function k(e){return t=>{e??="esri.core.Accessor",t.prototype.declaredClass=e,mhe(t);const n=[],i=[];let r=t.prototype;for(;r;)r.hasOwnProperty("initialize")&&!S$.has(r.initialize)&&(S$.add(r.initialize),n.push(r.initialize)),r.hasOwnProperty("destroy")&&!x$.has(r.destroy)&&(x$.add(r.destroy),i.push(r.destroy)),r=Object.getPrototypeOf(r);S$.clear(),x$.clear();const s=class extends t{constructor(...a){if(super(...a),this.constructor===s&&typeof this.postscript=="function"){if(n.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let l=n.length-1;l>=0;l--)n[l].call(this)}}),i.length){let l=!1;const c=this[GU];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!l){l=!0,c.call(this);for(let h=0;h<i.length;h++)i[h].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};s.__accessorMetadata__=eb(t.prototype),s.prototype.declaredClass=e;const o=(e||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(s,"name",{value:o,configurable:!0}),s}}function fhe(e,t){return t.get==null?function(){const n=this.__accessor__,i=n.propertiesByName.get(e);if(i===void 0)return;n.mutable&&He(i);const r=n.store;return r.has(e)?r.get(e):i.metadata.value}:function(){const n=this.__accessor__,i=n.propertiesByName.get(e);if(i!==void 0)return i.getComputed(n)}}function mhe(e){const t=e.prototype,n=eb(t),i={};for(const r of Object.getOwnPropertyNames(n)){const s=n[r];phe(s),i[r]={enumerable:!0,configurable:!0,get:fhe(r,s),set(o){const a=this.__accessor__;if(a!==void 0){if(a.mutable)return a.initialized&&s.readOnly?GN("read-only",r):a.lifecycle===zr.CONSTRUCTED&&s.constructOnly?GN("construct-only",r):void a.set(r,o)}else Object.defineProperty(this,r,{enumerable:!0,configurable:!0,writable:!0,value:o})}}}Object.defineProperties(e.prototype,i)}const GN=(e,t)=>{re.getLogger("esri.core.Accessor").error(`cannot assign to ${e} property '${t}'`)};var P9,L9;function yhe(e){if(e==null)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return e.constructor?.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}const lu=Symbol("Accessor-Handles"),cI=Symbol("Accessor-Initialized");let Ce=class a1{static createSubclass(t={}){if(Array.isArray(t))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:n,declaredClass:i,constructor:r}=t;delete t.declaredClass,delete t.properties,delete t.constructor;const s=this;class o extends s{constructor(...l){super(...l),this.inherited=null,r&&r.apply(this,l)}}eb(o.prototype);for(const a in t){const l=t[a];o.prototype[a]=typeof l=="function"?function(...c){const h=this.inherited;let p;this.inherited=function(...m){if(s.prototype[a])return s.prototype[a].apply(this,m)};try{p=l.apply(this,c)}catch(m){throw this.inherited=h,m}return this.inherited=h,p}:t[a]}for(const a in n){const l=yhe(n[a]);d(l)(o.prototype,a)}return k(i)(o)}static freeze(t){return t instanceof a1?t.__accessor__.mutable=!1:Object.freeze(t),t}static isFrozen(t){return t instanceof a1?!t.__accessor__.mutable:Object.isFrozen(t)}constructor(...t){if(this[P9]=null,this[L9]=!1,this.constructor===a1)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const n=new Wce(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:n}),t.length>0&&(n.ctorArgs=this.normalizeCtorArgs?.apply(this,t)??t[0])}postscript(){const t=this.__accessor__,n=t.ctorArgs;t.initialize(),n&&(this.set(n),t.ctorArgs=null),t.constructed(),this.initialize(),this[cI]=!0}initialize(){}[GU](){this[lu]=Bt(this[lu])}destroy(){this.destroyed||(Cde(this),this.__accessor__.destroy(),ede()?.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[cI]}get destroyed(){return this.__accessor__?.lifecycle===zr.DESTROYED||!1}commitProperty(t){wr(this,t)}hasOwnProperty(t){return this.__accessor__?this.__accessor__.has(t):Object.prototype.hasOwnProperty.call(this,t)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(t,n){return V_(this,t,n),this}watch(t,n,i){return pce(re.getLogger(this),"`watch` is deprecated in favor of reactiveUtils.watch",{replacement:"reactiveUtils.watch",version:"4.32",see:"https://developers.arcgis.com/javascript/latest/api-reference/esri-core-reactiveUtils.html#watch",warnOnce:!0}),Ode(this,t,n,i)}addHandles(t,n){if(this.destroyed){const i=Array.isArray(t)?t:[t];for(const r of i)r.remove();return}(this[lu]??=new Xm).add(t,n)}removeHandles(t){this[lu]?.remove(t)}removeAllHandles(){this[lu]?.removeAll()}removeHandlesReference(t){this[lu]?.removeReference(t)}hasHandles(t){return this[lu]?.has(t)===!0}_override(t,n){n===void 0?this.__accessor__.clearOverride(t):this.__accessor__.override(t,n)}_clearOverride(t){return this.__accessor__.clearOverride(t)}_overrideIfSome(t,n){n==null?this.__accessor__.clearOverride(t):this.__accessor__.override(t,n)}_isOverridden(t){return this.__accessor__.isOverridden(t)}notifyChange(t){this.__accessor__.notifyChange(t)}_get(t){return this.__accessor__.internalGet(t)}_set(t,n){return this.__accessor__.internalSet(t,n),this}};P9=lu,L9=cI;const O9=e=>{let t=class extends e{clone(){const n=qr(this);K0(n,"unable to clone instance of non-accessor class");const i=n.metadata,r=n.store,s={},o=new Map;for(const l in i){const c=i[l],h=r?.originOf(l),p=c.clonable;if(c.readOnly||p===!1||h!==We.USER&&h!==We.DEFAULTS&&h!==We.WEB_MAP&&h!==We.WEB_SCENE)continue;const m=this[l];let y=null;y=typeof p=="function"?p(m):p==="reference"?m:ZE(m),m!=null&&y==null||(h===We.DEFAULTS?o.set(l,y):s[l]=y)}const a=new(Object.getPrototypeOf(this)).constructor(s);if(o.size){const l=qr(a)?.store;if(l)for(const[c,h]of o)l.set(c,h,We.DEFAULTS)}return a}};return t=u([k("esri.core.Clonable")],t),t};let Ky=class extends O9(Ce){};Ky=u([k("esri.core.Clonable")],Ky),function(e){e.ClonableMixin=O9}(Ky||(Ky={}));const ut=Ky;let Ks=class R9{constructor(){this._emitter=new R9.EventEmitter(this)}emit(t,n){return this._emitter.emit(t,n)}on(t,n){return this._emitter.on(t,n)}once(t,n){return this._emitter.once(t,n)}hasEventListener(t){return this._emitter.hasEventListener(t)}};(function(e){class t{constructor(r=null){this._target=r,this._listenersMap=null}clear(){this._listenersMap?.clear(),this._listenersMap=null}destroy(){this.clear()}emit(r,s){let o=this._listenersMap?.get(r);if(!o)return!1;const a=this._target||this;let l=!1;for(const c of o.slice()){const h="deref"in c?c.deref():c;h?h?.call(a,s):l=!0}return l&&(o=o.filter(c=>!("deref"in c)||c.deref()!=null),this._listenersMap.set(r,o)),o.length>0}on(r,s){if(Array.isArray(r)){const a=r.map(l=>this.on(l,s));return X0(a)}if(r.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??=new Map;const o=this._listenersMap.get(r)||[];return o.push(s),this._listenersMap.set(r,o),St(()=>{const a=this._listenersMap?.get(r),l=a?.indexOf(s)??-1;l>=0&&a.splice(l,1)})}once(r,s){const o=this.on(r,a=>{o.remove(),("deref"in s?s.deref():s)?.call(null,a)});return o}hasEventListener(r){const s=this._listenersMap?.get(r);return s!=null&&s.length>0}}e.EventEmitter=t,e.EventedMixin=i=>{let r=class extends i{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(s,o){return this._emitter.emit(s,o)}on(s,o){return this._emitter.on(s,o)}once(s,o){return this._emitter.once(s,o)}hasEventListener(s){return this._emitter.hasEventListener(s)}};return r=u([k("esri.core.Evented")],r),r};let n=class extends Ce{constructor(){super(...arguments),this._emitter=new Ks.EventEmitter(this)}destroy(){this._emitter.clear()}emit(i,r){return this._emitter.emit(i,r)}on(i,r){return this._emitter.on(i,r)}once(i,r){return this._emitter.once(i,r)}hasEventListener(i){return this._emitter.hasEventListener(i)}};n=u([k("esri.core.Evented.EventedAccessor")],n),e.EventedAccessor=n})(Ks);var Ct;(function(e){e[e.ADD=1]="ADD",e[e.REMOVE=2]="REMOVE",e[e.MOVE=4]="MOVE"})(Ct||(Ct={}));function oL(e){return(t,n)=>{t[n]=e}}let ab=class extends JU{notify(){const t=this._observers;if(t&&t.length>0){const n=t.slice();for(const i of n)i.onInvalidated(),i.onCommitted()}}};var _l;let ghe=class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(t){this.defaultPrevented=!1,this.item=t}},vhe=class{constructor(t,n,i,r,s){this.target=t,this.added=n,this.removed=i,this.start=r,this.deleteCount=s}};const Is=new np(ghe,void 0,e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1});function HN(e){e&&typeof e=="object"&&"destroy"in e&&typeof e.destroy=="function"&&e.destroy()}function $$(e){return e?e instanceof yl?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function T$(e){if(e?.length)return e[0]}function bhe(e,t,n,i){const r=Math.min(e.length-n,t.length-i);let s=0;for(;s<r&&e[n+s]===t[i+s];)s++;return s}function N9(e,t,n,i){t&&t.forEach((r,s,o)=>{e.push(r),N9(e,n.call(i,r,s,o),n,i)})}const Yl=new Set,Jl=new Set,Kl=new Set,E$=new Map;let whe=0,yl=_l=class extends Ks.EventedAccessor{static isCollection(e){return e!=null&&e instanceof _l}constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._updating=!1,this._timer=null,this._observable=new ab,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:whe++})}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof _l?{items:e}:e:{}}destroy(){this._removeAllRaw(),this._timer&&this._timer.remove(),this._emitter.destroy(),this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){return He(this._observable),this._items}set items(e){this._emitBeforeChanges(Ct.ADD)||(this._splice(0,this.length,$$(e)),this._emitAfterChanges(Ct.ADD))}hasEventListener(e){return!this.destroyed&&(e==="change"?this._chgListeners.length>0:this._emitter.hasEventListener(e))}on(e,t){if(this.destroyed)return St();if(e==="change"){const n=this._chgListeners,i={removed:!1,callback:t};return n.push(i),this._notifications&&this._notifications.push({listeners:n.slice(),items:this._items.slice(),changes:[]}),St(()=>{i.removed=!0,n.splice(n.indexOf(i),1)})}return this._emitter.on(e,t)}once(e,t){const n="deref"in t?()=>t.deref():()=>t,i=this.on(e,r=>{n()?.call(null,r),i.remove()});return i}add(e,t){if(He(this._observable),this._emitBeforeChanges(Ct.ADD))return this;const n=this.getNextIndex(t??null);return this._splice(n,0,[e]),this._emitAfterChanges(Ct.ADD),this}addMany(e,t=this._items.length){if(He(this._observable),!e?.length)return this;if(this._emitBeforeChanges(Ct.ADD))return this;const n=this.getNextIndex(t);return this._splice(n,0,$$(e)),this._emitAfterChanges(Ct.ADD),this}at(e){if(He(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if(He(this._observable),!this.length||this._emitBeforeChanges(Ct.REMOVE))return[];const e=this._removeAllRaw();return this._emitAfterChanges(Ct.REMOVE),e}_removeAllRaw(){return this.length===0?[]:this._splice(0,this.length)||[]}clone(){return He(this._observable),this._createNewInstance({items:this._items.map(j)})}concat(...e){He(this._observable);const t=e.map($$);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if(He(this._observable),!this.length||this._emitBeforeChanges(Ct.REMOVE))return;const n=this._splice(0,this.length),i=n.length;for(let r=0;r<i;r++)e.call(t,n[r],r,n);this._emitAfterChanges(Ct.REMOVE)}destroyAll(){this.drain(HN)}destroyMany(e){const t=this.removeMany(e);return t.forEach(HN),t}every(e,t){return He(this._observable),this._items.every(e,t)}filter(e,t){He(this._observable);const n=arguments.length===2?this._items.filter(e,t):this._items.filter(e);return this._createNewInstance({items:n})}find(e,t){return He(this._observable),this._items.find(e,t)}findIndex(e,t){return He(this._observable),this._items.findIndex(e,t)}flatten(e,t){He(this._observable);const n=[];return N9(n,this,e,t),new _l(n)}forEach(e,t){return He(this._observable),this._items.forEach(e,t)}getItemAt(e){return He(this._observable),this._items[e]}getNextIndex(e){He(this._observable);const t=this.length;return(e=e??t)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return He(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return He(this._observable),this._items.indexOf(e,t)}join(e=","){return He(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return He(this._observable),this._items.lastIndexOf(e,t)}map(e,t){He(this._observable);const n=this._items.map(e,t);return new _l({items:n})}reorder(e,t=this.length-1){He(this._observable);const n=this.indexOf(e);if(n!==-1){if(t<0?t=0:t>=this.length&&(t=this.length-1),n!==t){if(this._emitBeforeChanges(Ct.MOVE))return e;this._splice(n,1),this._splice(t,0,[e]),this._emitAfterChanges(Ct.MOVE)}return e}}pop(){if(He(this._observable),!this.length||this._emitBeforeChanges(Ct.REMOVE))return;const e=T$(this._splice(this.length-1,1));return this._emitAfterChanges(Ct.REMOVE),e}push(...e){return He(this._observable),this._emitBeforeChanges(Ct.ADD)||(this._splice(this.length,0,e),this._emitAfterChanges(Ct.ADD)),this.length}reduce(e,t){He(this._observable);const n=this._items;return arguments.length===2?n.reduce(e,t):n.reduce(e)}reduceRight(e,t){He(this._observable);const n=this._items;return arguments.length===2?n.reduceRight(e,t):n.reduceRight(e)}remove(e){return He(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if(He(this._observable),e<0||e>=this.length||this._emitBeforeChanges(Ct.REMOVE))return;const t=T$(this._splice(e,1));return this._emitAfterChanges(Ct.REMOVE),t}removeMany(e){if(He(this._observable),!e?.length||this._emitBeforeChanges(Ct.REMOVE))return[];const t=e instanceof _l?e.toArray():e,n=this._items,i=[],r=t.length;for(let s=0;s<r;s++){const o=t[s],a=n.indexOf(o);if(a>-1){const l=1+bhe(t,n,s+1,a+1),c=this._splice(a,l);c&&c.length>0&&i.push.apply(i,c),s+=l-1}}return this._emitAfterChanges(Ct.REMOVE),i}reverse(){if(He(this._observable),this._emitBeforeChanges(Ct.MOVE))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(Ct.MOVE),this}shift(){if(He(this._observable),!this.length||this._emitBeforeChanges(Ct.REMOVE))return;const e=T$(this._splice(0,1));return this._emitAfterChanges(Ct.REMOVE),e}slice(e=0,t=this.length){return He(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return He(this._observable),this._items.some(e,t)}sort(e){if(He(this._observable),!this.length||this._emitBeforeChanges(Ct.MOVE)||!this._requiresSort(e))return this;const t=this._splice(0,this.length);return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(Ct.MOVE),this}_requiresSort(e=(t,n)=>t===n?0:t<n?-1:1){const t=this.length-1;for(let n=0;n<t;n++)if(e(this.items[n],this.items[n+1])>0)return!0;return!1}splice(e,t,...n){He(this._observable);const i=(t?Ct.REMOVE:0)|(n.length?Ct.ADD:0);if(this._emitBeforeChanges(i))return[];const r=this._splice(e,t,n)||[];return this._emitAfterChanges(i),r}toArray(){return He(this._observable),this._items.slice()}toJSON(){return He(this._observable),this.toArray()}toLocaleString(){return He(this._observable),this._items.toLocaleString()}toString(){return He(this._observable),this._items.toString()}unshift(...e){return He(this._observable),!e.length||this._emitBeforeChanges(Ct.ADD)||(this._splice(0,0,e),this._emitAfterChanges(Ct.ADD)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,n){const i=this._items,r=this.itemType;let s,o;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=ib(()=>this._dispatchChange())),e<0&&(e+=this.length),t){if(o=i.splice(e,t),this.hasEventListener("before-remove")){const a=Is.acquire();a.target=this,a.cancellable=!0;for(let l=0,c=o.length;l<c;l++)s=o[l],a.reset(s),this.emit("before-remove",a),a.defaultPrevented&&(o.splice(l,1),i.splice(e,0,s),e+=1,l-=1,c-=1);Is.release(a)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const a=Is.acquire();a.target=this,a.cancellable=!1;const l=o.length;for(let c=0;c<l;c++)a.reset(o[c]),this.emit("after-remove",a);Is.release(a)}}if(n?.length){if(r){const h=[];for(const p of n){const m=r.ensureType(p);m==null&&p!=null||h.push(m)}n=h}const a=this.hasEventListener("before-add"),l=this.hasEventListener("after-add"),c=e===this.length;if(a||l){const h=Is.acquire();h.target=this,h.cancellable=!0;const p=Is.acquire();p.target=this,p.cancellable=!1;for(const m of n)a?(h.reset(m),this.emit("before-add",h),h.defaultPrevented||(c?i.push(m):i.splice(e++,0,m),this._set("length",i.length),l&&(p.reset(m),this.emit("after-add",p)))):(c?i.push(m):i.splice(e++,0,m),this._set("length",i.length),p.reset(m),this.emit("after-add",p));Is.release(p),Is.release(h)}else{if(c)for(const h of n)i.push(h);else i.splice(e,0,...n);this._set("length",i.length)}}if((n?.length||o?.length)&&this._notifyChangeEvent(n,o),this.hasEventListener("after-splice")){const a=new vhe(this,n,o,e,t);this.emit("after-splice",a)}return o}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const n=Is.acquire();n.target=this,n.cancellable=!0,n.type=e,this.emit("before-changes",n),t=n.defaultPrevented,Is.release(n)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=Is.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),Is.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}get updating(){return this._updating}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),this._updating=!1,!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const n=t.changes;Yl.clear(),Jl.clear(),Kl.clear();for(const{added:l,removed:c}of n){if(l)if(Kl.size===0&&Jl.size===0)for(const h of l)Yl.add(h);else for(const h of l)Jl.has(h)?(Kl.add(h),Jl.delete(h)):Kl.has(h)||Yl.add(h);if(c)if(Kl.size===0&&Yl.size===0)for(const h of c)Jl.add(h);else for(const h of c)Yl.has(h)?Yl.delete(h):(Kl.delete(h),Jl.add(h))}const i=gr.acquire();Yl.forEach(l=>{i.push(l)});const r=gr.acquire();Jl.forEach(l=>{r.push(l)});const s=this._items,o=t.items,a=gr.acquire();if(Kl.forEach(l=>{o.indexOf(l)!==s.indexOf(l)&&a.push(l)}),t.listeners&&(i.length||r.length||a.length)){const l={target:this,added:i,removed:r,moved:a},c=t.listeners.length;for(let h=0;h<c;h++){const p=t.listeners[h];p.removed||p.callback.call(this,l)}}gr.release(i),gr.release(r),gr.release(a)}Yl.clear(),Jl.clear(),Kl.clear()}};yl.ofType=e=>{if(!e)return _l;if(E$.has(e))return E$.get(e);let t=null;if(typeof e=="function")t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const i in e.typeMap){const r=e.typeMap[i].prototype.declaredClass;t?t+=` | ${r}`:t=r}let n=class extends _l{};return u([oL({Type:e,ensureType:typeof e=="function"?Jn(e):Ho(e)})],n.prototype,"itemType",void 0),n=u([k(`esri.core.Collection<${t}>`)],n),E$.set(e,n),n},u([d()],yl.prototype,"_updating",void 0),u([d()],yl.prototype,"length",void 0),u([d()],yl.prototype,"items",null),u([d({readOnly:!0})],yl.prototype,"updating",null),yl=_l=u([k("esri.core.Collection")],yl);const we=yl;let _he=class D9{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const n=new D9;return this._values.forEach((i,r)=>{t&&t.has(r)||n.set(r,j(i.value),i.origin)}),n}get(t,n){n=this._normalizeOrigin(n);const i=this._values.get(t);return n==null||i?.origin===n?i?.value:void 0}originOf(t){return this._values.get(t)?.origin??We.USER}keys(t){t=this._normalizeOrigin(t);const n=[...this._values.keys()];return t==null?n:n.filter(i=>this._values.get(i)?.origin===t)}set(t,n,i){if((i=this._normalizeOrigin(i))===We.DEFAULTS){const r=this._values.get(t);if(r?.origin!=null&&r.origin>i)return}this._values.set(t,new She(n,i))}delete(t,n){(n=this._normalizeOrigin(n))!=null&&this._values.get(t)?.origin!==n||this._values.delete(t)}has(t,n){return(n=this._normalizeOrigin(n))!=null?this._values.get(t)?.origin===n:this._values.has(t)}forEach(t){this._values.forEach(({value:n},i)=>t(n,i))}_normalizeOrigin(t){if(t!=null)return t===We.DEFAULTS?t:We.USER}},She=class{constructor(t,n){this.value=t,this.origin=n}};function V9(e,t,n){t.keys().forEach(r=>{n.set(r,t.get(r),We.DEFAULTS)});const i=e.metadata;Object.keys(i).forEach(r=>{e.internalGet(r)&&n.set(r,e.internalGet(r),We.DEFAULTS)})}function xhe(e,t,n){if(!e?.read||e.read.enabled===!1||!e.read.source)return!1;const i=e.read.source;if(typeof i=="string"){if(i===t||i.includes(".")&&i.indexOf(t)===0&&TN(i,n))return!0}else for(const r of i)if(r===t||r.includes(".")&&r.indexOf(t)===0&&TN(r,n))return!0;return!1}function $he(e){return e&&(!e.read||e.read.enabled!==!1&&!e.read.source)}function The(e,t,n,i,r){let s=lI(t[n],r);$he(s)&&(e[n]=!0);for(const o of Object.getOwnPropertyNames(t))s=lI(t[o],r),xhe(s,n,i)&&(e[o]=!0)}function Ehe(e,t,n,i){const r=n.metadata,s=uhe(r[t],i),o=s?.default;if(o===void 0)return;const a=typeof o=="function"?o.call(e,t,i):o;a!==void 0&&n.set(t,a)}const F9={origin:"service"};function j9(e,t,n=F9){if(!t||typeof t!="object")return;const i=qr(e),r=i.metadata,s={};for(const o of Object.getOwnPropertyNames(t))The(s,r,o,t,n);i.setDefaultOrigin(n.origin);for(const o of Object.getOwnPropertyNames(s)){const a=lI(r[o],n).read,l=a?.source;let c;c=l&&typeof l=="string"?Q0(t,l):t[o],a?.reader&&(c=a.reader.call(e,c,t,n)),c!==void 0&&i.set(o,c)}if(!n||!n.ignoreDefaults){i.setDefaultOrigin("defaults");for(const o of Object.getOwnPropertyNames(r))s[o]||Ehe(e,o,i,n)}i.setDefaultOrigin("user")}function Ihe(e,t,n,i=F9){const r={...i,messages:[]};n(r),r.messages?.forEach(s=>{s.type!=="warning"||e.loaded?i?.messages&&i.messages.push(s):e.loadWarnings.push(s)})}function Che(e,t,n,i,r){const s={};return t.write?.writer?.call(e,i,s,n,r),s}function z9(e,t,n,i,r,s){if(!i?.write)return!1;const o=wr(e,n);if(!r&&i.write.overridePolicy){const a=i.write.overridePolicy.call(e,o,n,s??void 0);a!==void 0&&(r=a)}if(r||(r=i.write),!r||r.enabled===!1||r.layerContainerTypes&&s?.layerContainerType&&!r.layerContainerTypes.includes(s.layerContainerType))return!1;if((o===null&&!r.allowNull&&!r.writerEnsuresNonNull||o===void 0)&&r.isRequired){const a=new B("web-document-write:property-required",`Missing value for required property '${n}' on '${e.declaredClass}'`,{propertyName:n,target:e});return a&&s?.messages?s.messages.push(a):a&&!s&&re.getLogger("esri.core.accessorSupport.write").error(a.name,a.message),!1}return!(o===void 0||o===null&&!r.allowNull&&!r.writerEnsuresNonNull||!r.alwaysWriteDefaults&&(!t.store.multipleOriginsSupported||t.store.originOf(n)===We.DEFAULTS)&&Mhe(e,n,s,i,o)||!r.ignoreOrigin&&s?.origin&&t.store.multipleOriginsSupported&&t.store.originOf(n)<Ju(s.origin))}function Mhe(e,t,n,i,r){const s=i.default;if(s===void 0)return!1;if(i.defaultEquals!=null)return i.defaultEquals(r);if(typeof s=="function"){if(Array.isArray(r)){const o=s.call(e,t,n??void 0);return N2(o,r)}return!1}return s===r}function khe(e,t,n,i){const r=qr(e),s=r.metadata,o=k9(s[t],i);return!!o&&z9(e,r,t,o,n,i)}function B9(e,t,n){if(e&&typeof e.toJSON=="function"&&(!e.toJSON.isDefaultToJSON||!e.write))return n1(t,e.toJSON(n));const i=qr(e),r=i.metadata;for(const s in r){const o=k9(r[s],n);if(!z9(e,i,s,o,void 0,n))continue;const a=wr(e,s),l=Che(e,o,o.write&&typeof o.write.target=="string"?o.write.target:s,a,n);Object.keys(l).length>0&&(t=n1(t,l),n?.resources?.pendingOperations?.length&&n.resources.pendingOperations.push(Promise.all(n.resources.pendingOperations).then(()=>n1(t,l,()=>"replace-arrays"))),n?.writtenProperties&&n.writtenProperties.push({target:e,propName:s,oldOrigin:Uce(i.store.originOf(s)),newOrigin:n.origin}))}return t}const U9=e=>{let t=class extends e{constructor(...n){super(...n);const i=qr(this),r=i.store,s=new _he;i.store=s,V9(i,r,s)}read(n,i){j9(this,n,i)}write(n,i){return B9(this,n??{},i)}toJSON(n){return this.write({},n)}static fromJSON(n,i){return Ahe.call(this,n,i)}};return t=u([k("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function Ahe(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const n=new this;return n.read(e,t),n}let Xy=class extends U9(Ce){};Xy=u([k("esri.core.JSONSupport")],Xy),function(e){function t(n){return n&&typeof n=="object"&&"toJSON"in n&&typeof n.toJSON=="function"}e.JSONSupportMixin=U9,e.isSerializable=t}(Xy||(Xy={}));const te=Xy,Phe=Object.prototype.toString;function Lhe(e){const t="__accessorMetadata__"in e?Jn(e):e;return function(...n){if(n.push(t),typeof n[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return Ohe.apply(this,n)}}function Ohe(e,t,n,i){F2(e,t).cast=i}function Rhe(e){return(t,n)=>{F2(t,e).cast=t[n]}}function pt(...e){if(e.length!==3||typeof e[1]!="string")return e.length===1&&Phe.call(e[0])==="[object Function]"?Lhe(e[0]):e.length===1&&typeof e[0]=="string"?Rhe(e[0]):void 0}function le(e,t,n){let i,r;return t===void 0||Array.isArray(t)?(r=e,n=t,i=[void 0]):(r=t,i=Array.isArray(e)?e:[e]),(s,o)=>{const a=s.constructor.prototype;i.forEach(l=>{const c=x9(s,l,r);c.read&&typeof c.read=="object"||(c.read={}),c.read.reader=a[o],n&&(c.read.source=(c.read.source||[]).concat(n))})}}function ge(e,t,n){let i,r;return t===void 0?(r=e,i=[void 0]):typeof t!="string"?(r=e,i=[void 0],n=t):(r=t,i=Array.isArray(e)?e:[e]),(s,o)=>{const a=s.constructor.prototype;for(const l of i){const c=x9(s,l,r);c.write&&typeof c.write=="object"||(c.write={}),n&&(c.write.target=n),c.write.writer=a[o]}}}let I$;async function Nhe(){return I$==null&&(I$=J(()=>import("./WhereClauseCache-CNrtI-KX.js"),__vite__mapDeps([0,1,2,3])).then(e=>new e.WhereClauseCache(500,500))),I$}async function aL(e,t){const n=await Nhe(),i=n.get(e,t);if(i==null)throw n.getError(e,t);return i}function G9(e,t){return e||=null,t||=null,e==="1=1"?t??e:t==="1=1"?e??t:e&&t?`(${e}) AND (${t})`:e??t}function Dhe(e,t){return e||=null,t||=null,e==="1=1"||t==="1=1"||e===t?e==="1=1"?e:t:e&&t?`(${e}) OR (${t})`:e??t}function Mje(e,t){return t.length===0?null:`${e} IN (${Vhe(t)})`}function Vhe(e){return e.map(t=>typeof t=="string"?Fhe(t):t).join(",")}function Fhe(e){return`'${e.replaceAll("'","''")}'`}function qN(e){return typeof e=="number"}function kje(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}function Aje(e){return typeof e=="boolean"}function lb(e){return typeof e=="string"||e instanceof String}function jhe(e){return e==null||lb(e)}function Pje(e){return Array.isArray(e)}function zhe(e){return e?.declaredClass==="esri.Graphic"}function Lje(e){return e instanceof Date}class ip extends Error{}class Bhe extends ip{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class Uhe extends ip{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class Ghe extends ip{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class Lf extends ip{}class H9 extends ip{constructor(t){super(`Invalid unit ${t}`)}}class Zi extends ip{}class Xl extends ip{constructor(){super("Zone is an abstract class")}}const Ee="numeric",qo="short",ms="long",Y_={year:Ee,month:Ee,day:Ee},q9={year:Ee,month:qo,day:Ee},Hhe={year:Ee,month:qo,day:Ee,weekday:qo},W9={year:Ee,month:ms,day:Ee},Z9={year:Ee,month:ms,day:Ee,weekday:ms},Y9={hour:Ee,minute:Ee},J9={hour:Ee,minute:Ee,second:Ee},K9={hour:Ee,minute:Ee,second:Ee,timeZoneName:qo},X9={hour:Ee,minute:Ee,second:Ee,timeZoneName:ms},Q9={hour:Ee,minute:Ee,hourCycle:"h23"},e7={hour:Ee,minute:Ee,second:Ee,hourCycle:"h23"},t7={hour:Ee,minute:Ee,second:Ee,hourCycle:"h23",timeZoneName:qo},n7={hour:Ee,minute:Ee,second:Ee,hourCycle:"h23",timeZoneName:ms},i7={year:Ee,month:Ee,day:Ee,hour:Ee,minute:Ee},r7={year:Ee,month:Ee,day:Ee,hour:Ee,minute:Ee,second:Ee},s7={year:Ee,month:qo,day:Ee,hour:Ee,minute:Ee},o7={year:Ee,month:qo,day:Ee,hour:Ee,minute:Ee,second:Ee},qhe={year:Ee,month:qo,day:Ee,weekday:qo,hour:Ee,minute:Ee},a7={year:Ee,month:ms,day:Ee,hour:Ee,minute:Ee,timeZoneName:qo},l7={year:Ee,month:ms,day:Ee,hour:Ee,minute:Ee,second:Ee,timeZoneName:qo},u7={year:Ee,month:ms,day:Ee,weekday:ms,hour:Ee,minute:Ee,timeZoneName:ms},c7={year:Ee,month:ms,day:Ee,weekday:ms,hour:Ee,minute:Ee,second:Ee,timeZoneName:ms};class rp{get type(){throw new Xl}get name(){throw new Xl}get ianaName(){return this.name}get isUniversal(){throw new Xl}offsetName(t,n){throw new Xl}formatOffset(t,n){throw new Xl}offset(t){throw new Xl}equals(t){throw new Xl}get isValid(){throw new Xl}}let C$=null;class q2 extends rp{static get instance(){return C$===null&&(C$=new q2),C$}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:n,locale:i}){return b7(t,n,i)}formatOffset(t,n){return fv(this.offset(t),n)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}let l1={};function Whe(e){return l1[e]||(l1[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),l1[e]}const Zhe={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function Yhe(e,t){const n=e.format(t).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,r,s,o,a,l,c,h]=i;return[o,r,s,a,l,c,h]}function Jhe(e,t){const n=e.formatToParts(t),i=[];for(let r=0;r<n.length;r++){const{type:s,value:o}=n[r],a=Zhe[s];s==="era"?i[a]=o:tt(a)||(i[a]=parseInt(o,10))}return i}let Yb={};class Wr extends rp{static create(t){return Yb[t]||(Yb[t]=new Wr(t)),Yb[t]}static resetCache(){Yb={},l1={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=Wr.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:n,locale:i}){return b7(t,n,i,this.name)}formatOffset(t,n){return fv(this.offset(t),n)}offset(t){const n=new Date(t);if(isNaN(n))return NaN;const i=Whe(this.name);let[r,s,o,a,l,c,h]=i.formatToParts?Jhe(i,n):Yhe(i,n);a==="BC"&&(r=-Math.abs(r)+1);const m=Z2({year:r,month:s,day:o,hour:l===24?0:l,minute:c,second:h,millisecond:0});let y=+n;const g=y%1e3;return y-=g>=0?g:1e3+g,(m-y)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let WN={};function Khe(e,t={}){const n=JSON.stringify([e,t]);let i=WN[n];return i||(i=new Intl.ListFormat(e,t),WN[n]=i),i}let dI={};function hI(e,t={}){const n=JSON.stringify([e,t]);let i=dI[n];return i||(i=new Intl.DateTimeFormat(e,t),dI[n]=i),i}let pI={};function Xhe(e,t={}){const n=JSON.stringify([e,t]);let i=pI[n];return i||(i=new Intl.NumberFormat(e,t),pI[n]=i),i}let fI={};function Qhe(e,t={}){const{base:n,...i}=t,r=JSON.stringify([e,i]);let s=fI[r];return s||(s=new Intl.RelativeTimeFormat(e,t),fI[r]=s),s}let Qy=null;function epe(){return Qy||(Qy=new Intl.DateTimeFormat().resolvedOptions().locale,Qy)}let ZN={};function tpe(e){let t=ZN[e];if(!t){const n=new Intl.Locale(e);t="getWeekInfo"in n?n.getWeekInfo():n.weekInfo,ZN[e]=t}return t}function npe(e){const t=e.indexOf("-x-");t!==-1&&(e=e.substring(0,t));const n=e.indexOf("-u-");if(n===-1)return[e];{let i,r;try{i=hI(e).resolvedOptions(),r=e}catch{const l=e.substring(0,n);i=hI(l).resolvedOptions(),r=l}const{numberingSystem:s,calendar:o}=i;return[r,s,o]}}function ipe(e,t,n){return(n||t)&&(e.includes("-u-")||(e+="-u"),n&&(e+=`-ca-${n}`),t&&(e+=`-nu-${t}`)),e}function rpe(e){const t=[];for(let n=1;n<=12;n++){const i=je.utc(2009,n,1);t.push(e(i))}return t}function spe(e){const t=[];for(let n=1;n<=7;n++){const i=je.utc(2016,11,13+n);t.push(e(i))}return t}function Jb(e,t,n,i){const r=e.listingMode();return r==="error"?null:r==="en"?n(t):i(t)}function ope(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem==="latn"}class ape{constructor(t,n,i){this.padTo=i.padTo||0,this.floor=i.floor||!1;const{padTo:r,floor:s,...o}=i;if(!n||Object.keys(o).length>0){const a={useGrouping:!1,...i};i.padTo>0&&(a.minimumIntegerDigits=i.padTo),this.inf=Xhe(t,a)}}format(t){if(this.inf){const n=this.floor?Math.floor(t):t;return this.inf.format(n)}else{const n=this.floor?Math.floor(t):hL(t,3);return qn(n,this.padTo)}}}class lpe{constructor(t,n,i){this.opts=i,this.originalZone=void 0;let r;if(this.opts.timeZone)this.dt=t;else if(t.zone.type==="fixed"){const o=-1*(t.offset/60),a=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;t.offset!==0&&Wr.create(a).valid?(r=a,this.dt=t):(r="UTC",this.dt=t.offset===0?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else t.zone.type==="system"?this.dt=t:t.zone.type==="iana"?(this.dt=t,r=t.zone.name):(r="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);const s={...this.opts};s.timeZone=s.timeZone||r,this.dtf=hI(n,s)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(n=>{if(n.type==="timeZoneName"){const i=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...n,value:i}}else return n}):t}resolvedOptions(){return this.dtf.resolvedOptions()}}class upe{constructor(t,n,i){this.opts={style:"long",...i},!n&&g7()&&(this.rtf=Qhe(t,i))}format(t,n){return this.rtf?this.rtf.format(t,n):Ppe(n,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,n){return this.rtf?this.rtf.formatToParts(t,n):[]}}const cpe={firstDay:1,minimalDays:4,weekend:[6,7]};class Nt{static fromOpts(t){return Nt.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,n,i,r,s=!1){const o=t||kn.defaultLocale,a=o||(s?"en-US":epe()),l=n||kn.defaultNumberingSystem,c=i||kn.defaultOutputCalendar,h=mI(r)||kn.defaultWeekSettings;return new Nt(a,l,c,h,o)}static resetCache(){Qy=null,dI={},pI={},fI={}}static fromObject({locale:t,numberingSystem:n,outputCalendar:i,weekSettings:r}={}){return Nt.create(t,n,i,r)}constructor(t,n,i,r,s){const[o,a,l]=npe(t);this.locale=o,this.numberingSystem=n||a||null,this.outputCalendar=i||l||null,this.weekSettings=r,this.intl=ipe(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=ope(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&n?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:Nt.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,mI(t.weekSettings)||this.weekSettings,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,n=!1){return Jb(this,t,S7,()=>{const i=n?{month:t,day:"numeric"}:{month:t},r=n?"format":"standalone";return this.monthsCache[r][t]||(this.monthsCache[r][t]=rpe(s=>this.extract(s,i,"month"))),this.monthsCache[r][t]})}weekdays(t,n=!1){return Jb(this,t,T7,()=>{const i=n?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},r=n?"format":"standalone";return this.weekdaysCache[r][t]||(this.weekdaysCache[r][t]=spe(s=>this.extract(s,i,"weekday"))),this.weekdaysCache[r][t]})}meridiems(){return Jb(this,void 0,()=>E7,()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[je.utc(2016,11,13,9),je.utc(2016,11,13,19)].map(n=>this.extract(n,t,"dayperiod"))}return this.meridiemCache})}eras(t){return Jb(this,t,I7,()=>{const n={era:t};return this.eraCache[t]||(this.eraCache[t]=[je.utc(-40,1,1),je.utc(2017,1,1)].map(i=>this.extract(i,n,"era"))),this.eraCache[t]})}extract(t,n,i){const r=this.dtFormatter(t,n),s=r.formatToParts(),o=s.find(a=>a.type.toLowerCase()===i);return o?o.value:null}numberFormatter(t={}){return new ape(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,n={}){return new lpe(t,this.intl,n)}relFormatter(t={}){return new upe(this.intl,this.isEnglish(),t)}listFormatter(t={}){return Khe(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:v7()?tpe(this.locale):cpe}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let M$=null;class _i extends rp{static get utcInstance(){return M$===null&&(M$=new _i(0)),M$}static instance(t){return t===0?_i.utcInstance:new _i(t)}static parseSpecifier(t){if(t){const n=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new _i(Y2(n[1],n[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${fv(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${fv(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,n){return fv(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class dpe extends rp{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function qu(e,t){if(tt(e)||e===null)return t;if(e instanceof rp)return e;if(gpe(e)){const n=e.toLowerCase();return n==="default"?t:n==="local"||n==="system"?q2.instance:n==="utc"||n==="gmt"?_i.utcInstance:_i.parseSpecifier(n)||Wr.create(e)}else return rc(e)?_i.instance(e):typeof e=="object"&&"offset"in e&&typeof e.offset=="function"?e:new dpe(e)}const lL={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},YN={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},hpe=lL.hanidec.replace(/[\[|\]]/g,"").split("");function ppe(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);if(e[n].search(lL.hanidec)!==-1)t+=hpe.indexOf(e[n]);else for(const r in YN){const[s,o]=YN[r];i>=s&&i<=o&&(t+=i-s)}}return parseInt(t,10)}else return t}let Bp={};function fpe(){Bp={}}function ao({numberingSystem:e},t=""){const n=e||"latn";return Bp[n]||(Bp[n]={}),Bp[n][t]||(Bp[n][t]=new RegExp(`${lL[n]}${t}`)),Bp[n][t]}let JN=()=>Date.now(),KN="system",XN=null,QN=null,eD=null,tD=60,nD,iD=null;class kn{static get now(){return JN}static set now(t){JN=t}static set defaultZone(t){KN=t}static get defaultZone(){return qu(KN,q2.instance)}static get defaultLocale(){return XN}static set defaultLocale(t){XN=t}static get defaultNumberingSystem(){return QN}static set defaultNumberingSystem(t){QN=t}static get defaultOutputCalendar(){return eD}static set defaultOutputCalendar(t){eD=t}static get defaultWeekSettings(){return iD}static set defaultWeekSettings(t){iD=mI(t)}static get twoDigitCutoffYear(){return tD}static set twoDigitCutoffYear(t){tD=t%100}static get throwOnInvalid(){return nD}static set throwOnInvalid(t){nD=t}static resetCaches(){Nt.resetCache(),Wr.resetCache(),je.resetCache(),fpe()}}class Do{constructor(t,n){this.reason=t,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const d7=[0,31,59,90,120,151,181,212,243,273,304,334],h7=[0,31,60,91,121,152,182,213,244,274,305,335];function Hs(e,t){return new Do("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function uL(e,t,n){const i=new Date(Date.UTC(e,t-1,n));e<100&&e>=0&&i.setUTCFullYear(i.getUTCFullYear()-1900);const r=i.getUTCDay();return r===0?7:r}function p7(e,t,n){return n+(ub(e)?h7:d7)[t-1]}function f7(e,t){const n=ub(e)?h7:d7,i=n.findIndex(s=>s<t),r=t-n[i];return{month:i+1,day:r}}function cL(e,t){return(e-t+7)%7+1}function J_(e,t=4,n=1){const{year:i,month:r,day:s}=e,o=p7(i,r,s),a=cL(uL(i,r,s),n);let l=Math.floor((o-a+14-t)/7),c;return l<1?(c=i-1,l=s0(c,t,n)):l>s0(i,t,n)?(c=i+1,l=1):c=i,{weekYear:c,weekNumber:l,weekday:a,...J2(e)}}function rD(e,t=4,n=1){const{weekYear:i,weekNumber:r,weekday:s}=e,o=cL(uL(i,1,t),n),a=Yf(i);let l=r*7+s-o-7+t,c;l<1?(c=i-1,l+=Yf(c)):l>a?(c=i+1,l-=Yf(i)):c=i;const{month:h,day:p}=f7(c,l);return{year:c,month:h,day:p,...J2(e)}}function k$(e){const{year:t,month:n,day:i}=e,r=p7(t,n,i);return{year:t,ordinal:r,...J2(e)}}function sD(e){const{year:t,ordinal:n}=e,{month:i,day:r}=f7(t,n);return{year:t,month:i,day:r,...J2(e)}}function oD(e,t){if(!tt(e.localWeekday)||!tt(e.localWeekNumber)||!tt(e.localWeekYear)){if(!tt(e.weekday)||!tt(e.weekNumber)||!tt(e.weekYear))throw new Lf("Cannot mix locale-based week fields with ISO-based week fields");return tt(e.localWeekday)||(e.weekday=e.localWeekday),tt(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),tt(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function mpe(e,t=4,n=1){const i=W2(e.weekYear),r=qs(e.weekNumber,1,s0(e.weekYear,t,n)),s=qs(e.weekday,1,7);return i?r?s?!1:Hs("weekday",e.weekday):Hs("week",e.weekNumber):Hs("weekYear",e.weekYear)}function ype(e){const t=W2(e.year),n=qs(e.ordinal,1,Yf(e.year));return t?n?!1:Hs("ordinal",e.ordinal):Hs("year",e.year)}function m7(e){const t=W2(e.year),n=qs(e.month,1,12),i=qs(e.day,1,K_(e.year,e.month));return t?n?i?!1:Hs("day",e.day):Hs("month",e.month):Hs("year",e.year)}function y7(e){const{hour:t,minute:n,second:i,millisecond:r}=e,s=qs(t,0,23)||t===24&&n===0&&i===0&&r===0,o=qs(n,0,59),a=qs(i,0,59),l=qs(r,0,999);return s?o?a?l?!1:Hs("millisecond",r):Hs("second",i):Hs("minute",n):Hs("hour",t)}function tt(e){return typeof e>"u"}function rc(e){return typeof e=="number"}function W2(e){return typeof e=="number"&&e%1===0}function gpe(e){return typeof e=="string"}function vpe(e){return Object.prototype.toString.call(e)==="[object Date]"}function g7(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function v7(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function bpe(e){return Array.isArray(e)?e:[e]}function aD(e,t,n){if(e.length!==0)return e.reduce((i,r)=>{const s=[t(r),r];return i&&n(i[0],s[0])===i[0]?i:s},null)[1]}function wpe(e,t){return t.reduce((n,i)=>(n[i]=e[i],n),{})}function _m(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function mI(e){if(e==null)return null;if(typeof e!="object")throw new Zi("Week settings must be an object");if(!qs(e.firstDay,1,7)||!qs(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some(t=>!qs(t,1,7)))throw new Zi("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function qs(e,t,n){return W2(e)&&e>=t&&e<=n}function _pe(e,t){return e-t*Math.floor(e/t)}function qn(e,t=2){const n=e<0;let i;return n?i="-"+(""+-e).padStart(t,"0"):i=(""+e).padStart(t,"0"),i}function Vu(e){if(!(tt(e)||e===null||e===""))return parseInt(e,10)}function jc(e){if(!(tt(e)||e===null||e===""))return parseFloat(e)}function dL(e){if(!(tt(e)||e===null||e==="")){const t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function hL(e,t,n=!1){const i=10**t;return(n?Math.trunc:Math.round)(e*i)/i}function ub(e){return e%4===0&&(e%100!==0||e%400===0)}function Yf(e){return ub(e)?366:365}function K_(e,t){const n=_pe(t-1,12)+1,i=e+(t-n)/12;return n===2?ub(i)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function Z2(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function lD(e,t,n){return-cL(uL(e,1,t),n)+t-1}function s0(e,t=4,n=1){const i=lD(e,t,n),r=lD(e+1,t,n);return(Yf(e)-i+r)/7}function yI(e){return e>99?e:e>kn.twoDigitCutoffYear?1900+e:2e3+e}function b7(e,t,n,i=null){const r=new Date(e),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};i&&(s.timeZone=i);const o={timeZoneName:t,...s},a=new Intl.DateTimeFormat(n,o).formatToParts(r).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function Y2(e,t){let n=parseInt(e,10);Number.isNaN(n)&&(n=0);const i=parseInt(t,10)||0,r=n<0||Object.is(n,-0)?-i:i;return n*60+r}function w7(e){const t=Number(e);if(typeof e=="boolean"||e===""||Number.isNaN(t))throw new Zi(`Invalid unit value ${e}`);return t}function X_(e,t){const n={};for(const i in e)if(_m(e,i)){const r=e[i];if(r==null)continue;n[t(i)]=w7(r)}return n}function fv(e,t){const n=Math.trunc(Math.abs(e/60)),i=Math.trunc(Math.abs(e%60)),r=e>=0?"+":"-";switch(t){case"short":return`${r}${qn(n,2)}:${qn(i,2)}`;case"narrow":return`${r}${n}${i>0?`:${i}`:""}`;case"techie":return`${r}${qn(n,2)}${qn(i,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function J2(e){return wpe(e,["hour","minute","second","millisecond"])}const Spe=["January","February","March","April","May","June","July","August","September","October","November","December"],_7=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],xpe=["J","F","M","A","M","J","J","A","S","O","N","D"];function S7(e){switch(e){case"narrow":return[...xpe];case"short":return[..._7];case"long":return[...Spe];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const x7=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],$7=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],$pe=["M","T","W","T","F","S","S"];function T7(e){switch(e){case"narrow":return[...$pe];case"short":return[...$7];case"long":return[...x7];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const E7=["AM","PM"],Tpe=["Before Christ","Anno Domini"],Epe=["BC","AD"],Ipe=["B","A"];function I7(e){switch(e){case"narrow":return[...Ipe];case"short":return[...Epe];case"long":return[...Tpe];default:return null}}function Cpe(e){return E7[e.hour<12?0:1]}function Mpe(e,t){return T7(t)[e.weekday-1]}function kpe(e,t){return S7(t)[e.month-1]}function Ape(e,t){return I7(t)[e.year<0?0:1]}function Ppe(e,t,n="always",i=!1){const r={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(e)===-1;if(n==="auto"&&s){const p=e==="days";switch(t){case 1:return p?"tomorrow":`next ${r[e][0]}`;case-1:return p?"yesterday":`last ${r[e][0]}`;case 0:return p?"today":`this ${r[e][0]}`}}const o=Object.is(t,-0)||t<0,a=Math.abs(t),l=a===1,c=r[e],h=i?l?c[1]:c[2]||c[1]:l?r[e][0]:e;return o?`${a} ${h} ago`:`in ${a} ${h}`}function uD(e,t){let n="";for(const i of e)i.literal?n+=i.val:n+=t(i.val);return n}const Lpe={D:Y_,DD:q9,DDD:W9,DDDD:Z9,t:Y9,tt:J9,ttt:K9,tttt:X9,T:Q9,TT:e7,TTT:t7,TTTT:n7,f:i7,ff:s7,fff:a7,ffff:u7,F:r7,FF:o7,FFF:l7,FFFF:c7};class Ki{static create(t,n={}){return new Ki(t,n)}static parseFormat(t){let n=null,i="",r=!1;const s=[];for(let o=0;o<t.length;o++){const a=t.charAt(o);a==="'"?(i.length>0&&s.push({literal:r||/^\s+$/.test(i),val:i}),n=null,i="",r=!r):r||a===n?i+=a:(i.length>0&&s.push({literal:/^\s+$/.test(i),val:i}),i=a,n=a)}return i.length>0&&s.push({literal:r||/^\s+$/.test(i),val:i}),s}static macroTokenToFormatOpts(t){return Lpe[t]}constructor(t,n){this.opts=n,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...n}).format()}dtFormatter(t,n={}){return this.loc.dtFormatter(t,{...this.opts,...n})}formatDateTime(t,n){return this.dtFormatter(t,n).format()}formatDateTimeParts(t,n){return this.dtFormatter(t,n).formatToParts()}formatInterval(t,n){return this.dtFormatter(t.start,n).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,n){return this.dtFormatter(t,n).resolvedOptions()}num(t,n=0){if(this.opts.forceSimple)return qn(t,n);const i={...this.opts};return n>0&&(i.padTo=n),this.loc.numberFormatter(i).format(t)}formatDateTimeFromString(t,n){const i=this.loc.listingMode()==="en",r=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(y,g)=>this.loc.extract(t,y,g),o=y=>t.isOffsetFixed&&t.offset===0&&y.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,y.format):"",a=()=>i?Cpe(t):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(y,g)=>i?kpe(t,y):s(g?{month:y}:{month:y,day:"numeric"},"month"),c=(y,g)=>i?Mpe(t,y):s(g?{weekday:y}:{weekday:y,month:"long",day:"numeric"},"weekday"),h=y=>{const g=Ki.macroTokenToFormatOpts(y);return g?this.formatWithSystemDefault(t,g):y},p=y=>i?Ape(t,y):s({era:y},"era"),m=y=>{switch(y){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return a();case"d":return r?s({day:"numeric"},"day"):this.num(t.day);case"dd":return r?s({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return r?s({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return r?s({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return r?s({month:"numeric"},"month"):this.num(t.month);case"MM":return r?s({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return r?s({year:"numeric"},"year"):this.num(t.year);case"yy":return r?s({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return r?s({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return r?s({year:"numeric"},"year"):this.num(t.year,6);case"G":return p("short");case"GG":return p("long");case"GGGGG":return p("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return h(y)}};return uD(Ki.parseFormat(n),m)}formatDurationFromString(t,n){const i=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},r=l=>c=>{const h=i(c);return h?this.num(l.get(h),c.length):c},s=Ki.parseFormat(n),o=s.reduce((l,{literal:c,val:h})=>c?l:l.concat(h),[]),a=t.shiftTo(...o.map(i).filter(l=>l));return uD(s,r(a))}}const C7=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function ty(...e){const t=e.reduce((n,i)=>n+i.source,"");return RegExp(`^${t}$`)}function ny(...e){return t=>e.reduce(([n,i,r],s)=>{const[o,a,l]=s(t,r);return[{...n,...o},a||i,l]},[{},null,1]).slice(0,2)}function iy(e,...t){if(e==null)return[null,null];for(const[n,i]of t){const r=n.exec(e);if(r)return i(r)}return[null,null]}function M7(...e){return(t,n)=>{const i={};let r;for(r=0;r<e.length;r++)i[e[r]]=Vu(t[n+r]);return[i,null,n+r]}}const k7=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Ope=`(?:${k7.source}?(?:\\[(${C7.source})\\])?)?`,pL=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,A7=RegExp(`${pL.source}${Ope}`),fL=RegExp(`(?:T${A7.source})?`),Rpe=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Npe=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Dpe=/(\d{4})-?(\d{3})/,Vpe=M7("weekYear","weekNumber","weekDay"),Fpe=M7("year","ordinal"),jpe=/(\d{4})-(\d\d)-(\d\d)/,P7=RegExp(`${pL.source} ?(?:${k7.source}|(${C7.source}))?`),zpe=RegExp(`(?: ${P7.source})?`);function Jf(e,t,n){const i=e[t];return tt(i)?n:Vu(i)}function Bpe(e,t){return[{year:Jf(e,t),month:Jf(e,t+1,1),day:Jf(e,t+2,1)},null,t+3]}function ry(e,t){return[{hours:Jf(e,t,0),minutes:Jf(e,t+1,0),seconds:Jf(e,t+2,0),milliseconds:dL(e[t+3])},null,t+4]}function cb(e,t){const n=!e[t]&&!e[t+1],i=Y2(e[t+1],e[t+2]),r=n?null:_i.instance(i);return[{},r,t+3]}function db(e,t){const n=e[t]?Wr.create(e[t]):null;return[{},n,t+1]}const Upe=RegExp(`^T?${pL.source}$`),Gpe=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Hpe(e){const[t,n,i,r,s,o,a,l,c]=e,h=t[0]==="-",p=l&&l[0]==="-",m=(y,g=!1)=>y!==void 0&&(g||y&&h)?-y:y;return[{years:m(jc(n)),months:m(jc(i)),weeks:m(jc(r)),days:m(jc(s)),hours:m(jc(o)),minutes:m(jc(a)),seconds:m(jc(l),l==="-0"),milliseconds:m(dL(c),p)}]}const qpe={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function mL(e,t,n,i,r,s,o){const a={year:t.length===2?yI(Vu(t)):Vu(t),month:_7.indexOf(n)+1,day:Vu(i),hour:Vu(r),minute:Vu(s)};return o&&(a.second=Vu(o)),e&&(a.weekday=e.length>3?x7.indexOf(e)+1:$7.indexOf(e)+1),a}const Wpe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Zpe(e){const[,t,n,i,r,s,o,a,l,c,h,p]=e,m=mL(t,r,i,n,s,o,a);let y;return l?y=qpe[l]:c?y=0:y=Y2(h,p),[m,new _i(y)]}function Ype(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const Jpe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Kpe=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Xpe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function cD(e){const[,t,n,i,r,s,o,a]=e;return[mL(t,r,i,n,s,o,a),_i.utcInstance]}function Qpe(e){const[,t,n,i,r,s,o,a]=e;return[mL(t,a,n,i,r,s,o),_i.utcInstance]}const efe=ty(Rpe,fL),tfe=ty(Npe,fL),nfe=ty(Dpe,fL),ife=ty(A7),L7=ny(Bpe,ry,cb,db),rfe=ny(Vpe,ry,cb,db),sfe=ny(Fpe,ry,cb,db),ofe=ny(ry,cb,db);function afe(e){return iy(e,[efe,L7],[tfe,rfe],[nfe,sfe],[ife,ofe])}function lfe(e){return iy(Ype(e),[Wpe,Zpe])}function ufe(e){return iy(e,[Jpe,cD],[Kpe,cD],[Xpe,Qpe])}function cfe(e){return iy(e,[Gpe,Hpe])}const dfe=ny(ry);function hfe(e){return iy(e,[Upe,dfe])}const pfe=ty(jpe,zpe),ffe=ty(P7),mfe=ny(ry,cb,db);function yfe(e){return iy(e,[pfe,L7],[ffe,mfe])}const dD="Invalid Duration",O7={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},gfe={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...O7},Cs=146097/400,bp=146097/4800,vfe={years:{quarters:4,months:12,weeks:Cs/7,days:Cs,hours:Cs*24,minutes:Cs*24*60,seconds:Cs*24*60*60,milliseconds:Cs*24*60*60*1e3},quarters:{months:3,weeks:Cs/28,days:Cs/4,hours:Cs*24/4,minutes:Cs*24*60/4,seconds:Cs*24*60*60/4,milliseconds:Cs*24*60*60*1e3/4},months:{weeks:bp/7,days:bp,hours:bp*24,minutes:bp*24*60,seconds:bp*24*60*60,milliseconds:bp*24*60*60*1e3},...O7},sh=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],bfe=sh.slice(0).reverse();function Ql(e,t,n=!1){const i={values:n?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new Tt(i)}function R7(e,t){let n=t.milliseconds??0;for(const i of bfe.slice(1))t[i]&&(n+=t[i]*e[i].milliseconds);return n}function hD(e,t){const n=R7(e,t)<0?-1:1;sh.reduceRight((i,r)=>{if(tt(t[r]))return i;if(i){const s=t[i]*n,o=e[r][i],a=Math.floor(s/o);t[r]+=a*n,t[i]-=a*o*n}return r},null),sh.reduce((i,r)=>{if(tt(t[r]))return i;if(i){const s=t[i]%1;t[i]-=s,t[r]+=s*e[i][r]}return r},null)}function wfe(e){const t={};for(const[n,i]of Object.entries(e))i!==0&&(t[n]=i);return t}class Tt{constructor(t){const n=t.conversionAccuracy==="longterm"||!1;let i=n?vfe:gfe;t.matrix&&(i=t.matrix),this.values=t.values,this.loc=t.loc||Nt.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=i,this.isLuxonDuration=!0}static fromMillis(t,n){return Tt.fromObject({milliseconds:t},n)}static fromObject(t,n={}){if(t==null||typeof t!="object")throw new Zi(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new Tt({values:X_(t,Tt.normalizeUnit),loc:Nt.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(t){if(rc(t))return Tt.fromMillis(t);if(Tt.isDuration(t))return t;if(typeof t=="object")return Tt.fromObject(t);throw new Zi(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,n){const[i]=cfe(t);return i?Tt.fromObject(i,n):Tt.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,n){const[i]=hfe(t);return i?Tt.fromObject(i,n):Tt.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,n=null){if(!t)throw new Zi("need to specify a reason the Duration is invalid");const i=t instanceof Do?t:new Do(t,n);if(kn.throwOnInvalid)throw new Ghe(i);return new Tt({invalid:i})}static normalizeUnit(t){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!n)throw new H9(t);return n}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,n={}){const i={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?Ki.create(this.loc,i).formatDurationFromString(this,t):dD}toHuman(t={}){if(!this.isValid)return dD;const n=sh.map(i=>{const r=this.values[i];return tt(r)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:i.slice(0,-1)}).format(r)}).filter(i=>i);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=hL(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const n=this.toMillis();return n<0||n>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},je.fromMillis(n,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?R7(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const n=Tt.fromDurationLike(t),i={};for(const r of sh)(_m(n.values,r)||_m(this.values,r))&&(i[r]=n.get(r)+this.get(r));return Ql(this,{values:i},!0)}minus(t){if(!this.isValid)return this;const n=Tt.fromDurationLike(t);return this.plus(n.negate())}mapUnits(t){if(!this.isValid)return this;const n={};for(const i of Object.keys(this.values))n[i]=w7(t(this.values[i],i));return Ql(this,{values:n},!0)}get(t){return this[Tt.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const n={...this.values,...X_(t,Tt.normalizeUnit)};return Ql(this,{values:n})}reconfigure({locale:t,numberingSystem:n,conversionAccuracy:i,matrix:r}={}){const o={loc:this.loc.clone({locale:t,numberingSystem:n}),matrix:r,conversionAccuracy:i};return Ql(this,o)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return hD(this.matrix,t),Ql(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=wfe(this.normalize().shiftToAll().toObject());return Ql(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(o=>Tt.normalizeUnit(o));const n={},i={},r=this.toObject();let s;for(const o of sh)if(t.indexOf(o)>=0){s=o;let a=0;for(const c in i)a+=this.matrix[c][o]*i[c],i[c]=0;rc(r[o])&&(a+=r[o]);const l=Math.trunc(a);n[o]=l,i[o]=(a*1e3-l*1e3)/1e3}else rc(r[o])&&(i[o]=r[o]);for(const o in i)i[o]!==0&&(n[s]+=o===s?i[o]:i[o]/this.matrix[s][o]);return hD(this.matrix,n),Ql(this,{values:n},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const n of Object.keys(this.values))t[n]=this.values[n]===0?0:-this.values[n];return Ql(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function n(i,r){return i===void 0||i===0?r===void 0||r===0:i===r}for(const i of sh)if(!n(this.values[i],t.values[i]))return!1;return!0}}const wp="Invalid Interval";function _fe(e,t){return!e||!e.isValid?Cn.invalid("missing or invalid start"):!t||!t.isValid?Cn.invalid("missing or invalid end"):t<e?Cn.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}class Cn{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,n=null){if(!t)throw new Zi("need to specify a reason the Interval is invalid");const i=t instanceof Do?t:new Do(t,n);if(kn.throwOnInvalid)throw new Uhe(i);return new Cn({invalid:i})}static fromDateTimes(t,n){const i=_y(t),r=_y(n),s=_fe(i,r);return s??new Cn({start:i,end:r})}static after(t,n){const i=Tt.fromDurationLike(n),r=_y(t);return Cn.fromDateTimes(r,r.plus(i))}static before(t,n){const i=Tt.fromDurationLike(n),r=_y(t);return Cn.fromDateTimes(r.minus(i),r)}static fromISO(t,n){const[i,r]=(t||"").split("/",2);if(i&&r){let s,o;try{s=je.fromISO(i,n),o=s.isValid}catch{o=!1}let a,l;try{a=je.fromISO(r,n),l=a.isValid}catch{l=!1}if(o&&l)return Cn.fromDateTimes(s,a);if(o){const c=Tt.fromISO(r,n);if(c.isValid)return Cn.after(s,c)}else if(l){const c=Tt.fromISO(i,n);if(c.isValid)return Cn.before(a,c)}}return Cn.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",n){if(!this.isValid)return NaN;const i=this.start.startOf(t,n);let r;return n?.useLocaleWeeks?r=this.end.reconfigure({locale:i.locale}):r=this.end,r=r.startOf(t,n),Math.floor(r.diff(i,t).get(t))+(r.valueOf()!==this.end.valueOf())}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:n}={}){return this.isValid?Cn.fromDateTimes(t||this.s,n||this.e):this}splitAt(...t){if(!this.isValid)return[];const n=t.map(_y).filter(o=>this.contains(o)).sort((o,a)=>o.toMillis()-a.toMillis()),i=[];let{s:r}=this,s=0;for(;r<this.e;){const o=n[s]||this.e,a=+o>+this.e?this.e:o;i.push(Cn.fromDateTimes(r,a)),r=a,s+=1}return i}splitBy(t){const n=Tt.fromDurationLike(t);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:i}=this,r=1,s;const o=[];for(;i<this.e;){const a=this.start.plus(n.mapUnits(l=>l*r));s=+a>+this.e?this.e:a,o.push(Cn.fromDateTimes(i,s)),i=s,r+=1}return o}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const n=this.s>t.s?this.s:t.s,i=this.e<t.e?this.e:t.e;return n>=i?null:Cn.fromDateTimes(n,i)}union(t){if(!this.isValid)return this;const n=this.s<t.s?this.s:t.s,i=this.e>t.e?this.e:t.e;return Cn.fromDateTimes(n,i)}static merge(t){const[n,i]=t.sort((r,s)=>r.s-s.s).reduce(([r,s],o)=>s?s.overlaps(o)||s.abutsStart(o)?[r,s.union(o)]:[r.concat([s]),o]:[r,o],[[],null]);return i&&n.push(i),n}static xor(t){let n=null,i=0;const r=[],s=t.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),o=Array.prototype.concat(...s),a=o.sort((l,c)=>l.time-c.time);for(const l of a)i+=l.type==="s"?1:-1,i===1?n=l.time:(n&&+n!=+l.time&&r.push(Cn.fromDateTimes(n,l.time)),n=null);return Cn.merge(r)}difference(...t){return Cn.xor([this].concat(t)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:wp}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=Y_,n={}){return this.isValid?Ki.create(this.s.loc.clone(n),t).formatInterval(this):wp}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:wp}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:wp}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:wp}toFormat(t,{separator:n=" – "}={}){return this.isValid?`${this.s.toFormat(t)}${n}${this.e.toFormat(t)}`:wp}toDuration(t,n){return this.isValid?this.e.diff(this.s,t,n):Tt.invalid(this.invalidReason)}mapEndpoints(t){return Cn.fromDateTimes(t(this.s),t(this.e))}}class Kb{static hasDST(t=kn.defaultZone){const n=je.now().setZone(t).set({month:12});return!t.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(t){return Wr.isValidZone(t)}static normalizeZone(t){return qu(t,kn.defaultZone)}static getStartOfWeek({locale:t=null,locObj:n=null}={}){return(n||Nt.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:n=null}={}){return(n||Nt.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:n=null}={}){return(n||Nt.create(t)).getWeekendDays().slice()}static months(t="long",{locale:n=null,numberingSystem:i=null,locObj:r=null,outputCalendar:s="gregory"}={}){return(r||Nt.create(n,i,s)).months(t)}static monthsFormat(t="long",{locale:n=null,numberingSystem:i=null,locObj:r=null,outputCalendar:s="gregory"}={}){return(r||Nt.create(n,i,s)).months(t,!0)}static weekdays(t="long",{locale:n=null,numberingSystem:i=null,locObj:r=null}={}){return(r||Nt.create(n,i,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:n=null,numberingSystem:i=null,locObj:r=null}={}){return(r||Nt.create(n,i,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return Nt.create(t).meridiems()}static eras(t="short",{locale:n=null}={}){return Nt.create(n,null,"gregory").eras(t)}static features(){return{relative:g7(),localeWeek:v7()}}}function pD(e,t){const n=r=>r.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),i=n(t)-n(e);return Math.floor(Tt.fromMillis(i).as("days"))}function Sfe(e,t,n){const i=[["years",(l,c)=>c.year-l.year],["quarters",(l,c)=>c.quarter-l.quarter+(c.year-l.year)*4],["months",(l,c)=>c.month-l.month+(c.year-l.year)*12],["weeks",(l,c)=>{const h=pD(l,c);return(h-h%7)/7}],["days",pD]],r={},s=e;let o,a;for(const[l,c]of i)n.indexOf(l)>=0&&(o=l,r[l]=c(e,t),a=s.plus(r),a>t?(r[l]--,e=s.plus(r),e>t&&(a=e,r[l]--,e=s.plus(r))):e=a);return[e,r,a,o]}function xfe(e,t,n,i){let[r,s,o,a]=Sfe(e,t,n);const l=t-r,c=n.filter(p=>["hours","minutes","seconds","milliseconds"].indexOf(p)>=0);c.length===0&&(o<t&&(o=r.plus({[a]:1})),o!==r&&(s[a]=(s[a]||0)+l/(o-r)));const h=Tt.fromObject(s,i);return c.length>0?Tt.fromMillis(l,i).shiftTo(...c).plus(h):h}const $fe="missing Intl.DateTimeFormat.formatToParts support";function At(e,t=n=>n){return{regex:e,deser:([n])=>t(ppe(n))}}const Tfe=" ",N7=`[ ${Tfe}]`,D7=new RegExp(N7,"g");function Efe(e){return e.replace(/\./g,"\\.?").replace(D7,N7)}function fD(e){return e.replace(/\./g,"").replace(D7," ").toLowerCase()}function lo(e,t){return e===null?null:{regex:RegExp(e.map(Efe).join("|")),deser:([n])=>e.findIndex(i=>fD(n)===fD(i))+t}}function mD(e,t){return{regex:e,deser:([,n,i])=>Y2(n,i),groups:t}}function Xb(e){return{regex:e,deser:([t])=>t}}function Ife(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Cfe(e,t){const n=ao(t),i=ao(t,"{2}"),r=ao(t,"{3}"),s=ao(t,"{4}"),o=ao(t,"{6}"),a=ao(t,"{1,2}"),l=ao(t,"{1,3}"),c=ao(t,"{1,6}"),h=ao(t,"{1,9}"),p=ao(t,"{2,4}"),m=ao(t,"{4,6}"),y=b=>({regex:RegExp(Ife(b.val)),deser:([w])=>w,literal:!0}),v=(b=>{if(e.literal)return y(b);switch(b.val){case"G":return lo(t.eras("short"),0);case"GG":return lo(t.eras("long"),0);case"y":return At(c);case"yy":return At(p,yI);case"yyyy":return At(s);case"yyyyy":return At(m);case"yyyyyy":return At(o);case"M":return At(a);case"MM":return At(i);case"MMM":return lo(t.months("short",!0),1);case"MMMM":return lo(t.months("long",!0),1);case"L":return At(a);case"LL":return At(i);case"LLL":return lo(t.months("short",!1),1);case"LLLL":return lo(t.months("long",!1),1);case"d":return At(a);case"dd":return At(i);case"o":return At(l);case"ooo":return At(r);case"HH":return At(i);case"H":return At(a);case"hh":return At(i);case"h":return At(a);case"mm":return At(i);case"m":return At(a);case"q":return At(a);case"qq":return At(i);case"s":return At(a);case"ss":return At(i);case"S":return At(l);case"SSS":return At(r);case"u":return Xb(h);case"uu":return Xb(a);case"uuu":return At(n);case"a":return lo(t.meridiems(),0);case"kkkk":return At(s);case"kk":return At(p,yI);case"W":return At(a);case"WW":return At(i);case"E":case"c":return At(n);case"EEE":return lo(t.weekdays("short",!1),1);case"EEEE":return lo(t.weekdays("long",!1),1);case"ccc":return lo(t.weekdays("short",!0),1);case"cccc":return lo(t.weekdays("long",!0),1);case"Z":case"ZZ":return mD(new RegExp(`([+-]${a.source})(?::(${i.source}))?`),2);case"ZZZ":return mD(new RegExp(`([+-]${a.source})(${i.source})?`),2);case"z":return Xb(/[a-z_+-/]{1,256}?/i);case" ":return Xb(/[^\S\n\r]/);default:return y(b)}})(e)||{invalidReason:$fe};return v.token=e,v}const Mfe={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function kfe(e,t,n){const{type:i,value:r}=e;if(i==="literal"){const l=/^\s+$/.test(r);return{literal:!l,val:l?" ":r}}const s=t[i];let o=i;i==="hour"&&(t.hour12!=null?o=t.hour12?"hour12":"hour24":t.hourCycle!=null?t.hourCycle==="h11"||t.hourCycle==="h12"?o="hour12":o="hour24":o=n.hour12?"hour12":"hour24");let a=Mfe[o];if(typeof a=="object"&&(a=a[s]),a)return{literal:!1,val:a}}function Afe(e){return[`^${e.map(n=>n.regex).reduce((n,i)=>`${n}(${i.source})`,"")}$`,e]}function Pfe(e,t,n){const i=e.match(t);if(i){const r={};let s=1;for(const o in n)if(_m(n,o)){const a=n[o],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(r[a.token.val[0]]=a.deser(i.slice(s,s+l))),s+=l}return[i,r]}else return[i,{}]}function Lfe(e){const t=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n=null,i;return tt(e.z)||(n=Wr.create(e.z)),tt(e.Z)||(n||(n=new _i(e.Z)),i=e.Z),tt(e.q)||(e.M=(e.q-1)*3+1),tt(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),tt(e.u)||(e.S=dL(e.u)),[Object.keys(e).reduce((s,o)=>{const a=t(o);return a&&(s[a]=e[o]),s},{}),n,i]}let A$=null;function Ofe(){return A$||(A$=je.fromMillis(1555555555555)),A$}function Rfe(e,t){if(e.literal)return e;const n=Ki.macroTokenToFormatOpts(e.val),i=z7(n,t);return i==null||i.includes(void 0)?e:i}function V7(e,t){return Array.prototype.concat(...e.map(n=>Rfe(n,t)))}class F7{constructor(t,n){if(this.locale=t,this.format=n,this.tokens=V7(Ki.parseFormat(n),t),this.units=this.tokens.map(i=>Cfe(i,t)),this.disqualifyingUnit=this.units.find(i=>i.invalidReason),!this.disqualifyingUnit){const[i,r]=Afe(this.units);this.regex=RegExp(i,"i"),this.handlers=r}}explainFromTokens(t){if(this.isValid){const[n,i]=Pfe(t,this.regex,this.handlers),[r,s,o]=i?Lfe(i):[null,null,void 0];if(_m(i,"a")&&_m(i,"H"))throw new Lf("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:this.tokens,regex:this.regex,rawMatches:n,matches:i,result:r,zone:s,specificOffset:o}}else return{input:t,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function j7(e,t,n){return new F7(e,n).explainFromTokens(t)}function Nfe(e,t,n){const{result:i,zone:r,specificOffset:s,invalidReason:o}=j7(e,t,n);return[i,r,s,o]}function z7(e,t){if(!e)return null;const i=Ki.create(t,e).dtFormatter(Ofe()),r=i.formatToParts(),s=i.resolvedOptions();return r.map(o=>kfe(o,e,s))}const P$="Invalid DateTime",Dfe=864e13;function eg(e){return new Do("unsupported zone",`the zone "${e.name}" is not supported`)}function L$(e){return e.weekData===null&&(e.weekData=J_(e.c)),e.weekData}function O$(e){return e.localWeekData===null&&(e.localWeekData=J_(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function zc(e,t){const n={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new je({...n,...t,old:n})}function B7(e,t,n){let i=e-t*60*1e3;const r=n.offset(i);if(t===r)return[i,t];i-=(r-t)*60*1e3;const s=n.offset(i);return r===s?[i,r]:[e-Math.min(r,s)*60*1e3,Math.max(r,s)]}function Qb(e,t){e+=t*60*1e3;const n=new Date(e);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function u1(e,t,n){return B7(Z2(e),t,n)}function yD(e,t){const n=e.o,i=e.c.year+Math.trunc(t.years),r=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,s={...e.c,year:i,month:r,day:Math.min(e.c.day,K_(i,r))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},o=Tt.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),a=Z2(s);let[l,c]=B7(a,n,e.zone);return o!==0&&(l+=o,c=e.zone.offset(l)),{ts:l,o:c}}function _p(e,t,n,i,r,s){const{setZone:o,zone:a}=n;if(e&&Object.keys(e).length!==0||t){const l=t||a,c=je.fromObject(e,{...n,zone:l,specificOffset:s});return o?c:c.setZone(a)}else return je.invalid(new Do("unparsable",`the input "${r}" can't be parsed as ${i}`))}function ew(e,t,n=!0){return e.isValid?Ki.create(Nt.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(e,t):null}function R$(e,t){const n=e.c.year>9999||e.c.year<0;let i="";return n&&e.c.year>=0&&(i+="+"),i+=qn(e.c.year,n?6:4),t?(i+="-",i+=qn(e.c.month),i+="-",i+=qn(e.c.day)):(i+=qn(e.c.month),i+=qn(e.c.day)),i}function gD(e,t,n,i,r,s){let o=qn(e.c.hour);return t?(o+=":",o+=qn(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!n)&&(o+=":")):o+=qn(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!n)&&(o+=qn(e.c.second),(e.c.millisecond!==0||!i)&&(o+=".",o+=qn(e.c.millisecond,3))),r&&(e.isOffsetFixed&&e.offset===0&&!s?o+="Z":e.o<0?(o+="-",o+=qn(Math.trunc(-e.o/60)),o+=":",o+=qn(Math.trunc(-e.o%60))):(o+="+",o+=qn(Math.trunc(e.o/60)),o+=":",o+=qn(Math.trunc(e.o%60)))),s&&(o+="["+e.zone.ianaName+"]"),o}const U7={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Vfe={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Ffe={ordinal:1,hour:0,minute:0,second:0,millisecond:0},G7=["year","month","day","hour","minute","second","millisecond"],jfe=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],zfe=["year","ordinal","hour","minute","second","millisecond"];function Bfe(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new H9(e);return t}function vD(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return Bfe(e)}}function Ufe(e){return d1[e]||(c1===void 0&&(c1=kn.now()),d1[e]=e.offset(c1)),d1[e]}function bD(e,t){const n=qu(t.zone,kn.defaultZone);if(!n.isValid)return je.invalid(eg(n));const i=Nt.fromObject(t);let r,s;if(tt(e.year))r=kn.now();else{for(const l of G7)tt(e[l])&&(e[l]=U7[l]);const o=m7(e)||y7(e);if(o)return je.invalid(o);const a=Ufe(n);[r,s]=u1(e,a,n)}return new je({ts:r,zone:n,loc:i,o:s})}function wD(e,t,n){const i=tt(n.round)?!0:n.round,r=(o,a)=>(o=hL(o,i||n.calendary?0:2,!0),t.loc.clone(n).relFormatter(n).format(o,a)),s=o=>n.calendary?t.hasSame(e,o)?0:t.startOf(o).diff(e.startOf(o),o).get(o):t.diff(e,o).get(o);if(n.unit)return r(s(n.unit),n.unit);for(const o of n.units){const a=s(o);if(Math.abs(a)>=1)return r(a,o)}return r(e>t?-0:0,n.units[n.units.length-1])}function _D(e){let t={},n;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],n=Array.from(e).slice(0,e.length-1)):n=Array.from(e),[t,n]}let c1,d1={};class je{constructor(t){const n=t.zone||kn.defaultZone;let i=t.invalid||(Number.isNaN(t.ts)?new Do("invalid input"):null)||(n.isValid?null:eg(n));this.ts=tt(t.ts)?kn.now():t.ts;let r=null,s=null;if(!i)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(n))[r,s]=[t.old.c,t.old.o];else{const a=rc(t.o)&&!t.old?t.o:n.offset(this.ts);r=Qb(this.ts,a),i=Number.isNaN(r.year)?new Do("invalid input"):null,r=i?null:r,s=i?null:a}this._zone=n,this.loc=t.loc||Nt.create(),this.invalid=i,this.weekData=null,this.localWeekData=null,this.c=r,this.o=s,this.isLuxonDateTime=!0}static now(){return new je({})}static local(){const[t,n]=_D(arguments),[i,r,s,o,a,l,c]=n;return bD({year:i,month:r,day:s,hour:o,minute:a,second:l,millisecond:c},t)}static utc(){const[t,n]=_D(arguments),[i,r,s,o,a,l,c]=n;return t.zone=_i.utcInstance,bD({year:i,month:r,day:s,hour:o,minute:a,second:l,millisecond:c},t)}static fromJSDate(t,n={}){const i=vpe(t)?t.valueOf():NaN;if(Number.isNaN(i))return je.invalid("invalid input");const r=qu(n.zone,kn.defaultZone);return r.isValid?new je({ts:i,zone:r,loc:Nt.fromObject(n)}):je.invalid(eg(r))}static fromMillis(t,n={}){if(rc(t))return t<-864e13||t>Dfe?je.invalid("Timestamp out of range"):new je({ts:t,zone:qu(n.zone,kn.defaultZone),loc:Nt.fromObject(n)});throw new Zi(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,n={}){if(rc(t))return new je({ts:t*1e3,zone:qu(n.zone,kn.defaultZone),loc:Nt.fromObject(n)});throw new Zi("fromSeconds requires a numerical input")}static fromObject(t,n={}){t=t||{};const i=qu(n.zone,kn.defaultZone);if(!i.isValid)return je.invalid(eg(i));const r=Nt.fromObject(n),s=X_(t,vD),{minDaysInFirstWeek:o,startOfWeek:a}=oD(s,r),l=kn.now(),c=tt(n.specificOffset)?i.offset(l):n.specificOffset,h=!tt(s.ordinal),p=!tt(s.year),m=!tt(s.month)||!tt(s.day),y=p||m,g=s.weekYear||s.weekNumber;if((y||h)&&g)throw new Lf("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(m&&h)throw new Lf("Can't mix ordinal dates with month/day");const v=g||s.weekday&&!y;let b,w,S=Qb(l,c);v?(b=jfe,w=Vfe,S=J_(S,o,a)):h?(b=zfe,w=Ffe,S=k$(S)):(b=G7,w=U7);let x=!1;for(const O of b){const P=s[O];tt(P)?x?s[O]=w[O]:s[O]=S[O]:x=!0}const E=v?mpe(s,o,a):h?ype(s):m7(s),$=E||y7(s);if($)return je.invalid($);const I=v?rD(s,o,a):h?sD(s):s,[A,M]=u1(I,c,i),L=new je({ts:A,zone:i,o:M,loc:r});return s.weekday&&y&&t.weekday!==L.weekday?je.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${L.toISO()}`):L.isValid?L:je.invalid(L.invalid)}static fromISO(t,n={}){const[i,r]=afe(t);return _p(i,r,n,"ISO 8601",t)}static fromRFC2822(t,n={}){const[i,r]=lfe(t);return _p(i,r,n,"RFC 2822",t)}static fromHTTP(t,n={}){const[i,r]=ufe(t);return _p(i,r,n,"HTTP",n)}static fromFormat(t,n,i={}){if(tt(t)||tt(n))throw new Zi("fromFormat requires an input string and a format");const{locale:r=null,numberingSystem:s=null}=i,o=Nt.fromOpts({locale:r,numberingSystem:s,defaultToEN:!0}),[a,l,c,h]=Nfe(o,t,n);return h?je.invalid(h):_p(a,l,i,`format ${n}`,t,c)}static fromString(t,n,i={}){return je.fromFormat(t,n,i)}static fromSQL(t,n={}){const[i,r]=yfe(t);return _p(i,r,n,"SQL",t)}static invalid(t,n=null){if(!t)throw new Zi("need to specify a reason the DateTime is invalid");const i=t instanceof Do?t:new Do(t,n);if(kn.throwOnInvalid)throw new Bhe(i);return new je({invalid:i})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,n={}){const i=z7(t,Nt.fromObject(n));return i?i.map(r=>r?r.val:null).join(""):null}static expandFormat(t,n={}){return V7(Ki.parseFormat(t),Nt.fromObject(n)).map(r=>r.val).join("")}static resetCache(){c1=void 0,d1={}}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?L$(this).weekYear:NaN}get weekNumber(){return this.isValid?L$(this).weekNumber:NaN}get weekday(){return this.isValid?L$(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?O$(this).weekday:NaN}get localWeekNumber(){return this.isValid?O$(this).weekNumber:NaN}get localWeekYear(){return this.isValid?O$(this).weekYear:NaN}get ordinal(){return this.isValid?k$(this.c).ordinal:NaN}get monthShort(){return this.isValid?Kb.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Kb.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Kb.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Kb.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const t=864e5,n=6e4,i=Z2(this.c),r=this.zone.offset(i-t),s=this.zone.offset(i+t),o=this.zone.offset(i-r*n),a=this.zone.offset(i-s*n);if(o===a)return[this];const l=i-o*n,c=i-a*n,h=Qb(l,o),p=Qb(c,a);return h.hour===p.hour&&h.minute===p.minute&&h.second===p.second&&h.millisecond===p.millisecond?[zc(this,{ts:l}),zc(this,{ts:c})]:[this]}get isInLeapYear(){return ub(this.year)}get daysInMonth(){return K_(this.year,this.month)}get daysInYear(){return this.isValid?Yf(this.year):NaN}get weeksInWeekYear(){return this.isValid?s0(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?s0(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){const{locale:n,numberingSystem:i,calendar:r}=Ki.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:n,numberingSystem:i,outputCalendar:r}}toUTC(t=0,n={}){return this.setZone(_i.instance(t),n)}toLocal(){return this.setZone(kn.defaultZone)}setZone(t,{keepLocalTime:n=!1,keepCalendarTime:i=!1}={}){if(t=qu(t,kn.defaultZone),t.equals(this.zone))return this;if(t.isValid){let r=this.ts;if(n||i){const s=t.offset(this.ts),o=this.toObject();[r]=u1(o,s,t)}return zc(this,{ts:r,zone:t})}else return je.invalid(eg(t))}reconfigure({locale:t,numberingSystem:n,outputCalendar:i}={}){const r=this.loc.clone({locale:t,numberingSystem:n,outputCalendar:i});return zc(this,{loc:r})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const n=X_(t,vD),{minDaysInFirstWeek:i,startOfWeek:r}=oD(n,this.loc),s=!tt(n.weekYear)||!tt(n.weekNumber)||!tt(n.weekday),o=!tt(n.ordinal),a=!tt(n.year),l=!tt(n.month)||!tt(n.day),c=a||l,h=n.weekYear||n.weekNumber;if((c||o)&&h)throw new Lf("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&o)throw new Lf("Can't mix ordinal dates with month/day");let p;s?p=rD({...J_(this.c,i,r),...n},i,r):tt(n.ordinal)?(p={...this.toObject(),...n},tt(n.day)&&(p.day=Math.min(K_(p.year,p.month),p.day))):p=sD({...k$(this.c),...n});const[m,y]=u1(p,this.o,this.zone);return zc(this,{ts:m,o:y})}plus(t){if(!this.isValid)return this;const n=Tt.fromDurationLike(t);return zc(this,yD(this,n))}minus(t){if(!this.isValid)return this;const n=Tt.fromDurationLike(t).negate();return zc(this,yD(this,n))}startOf(t,{useLocaleWeeks:n=!1}={}){if(!this.isValid)return this;const i={},r=Tt.normalizeUnit(t);switch(r){case"years":i.month=1;case"quarters":case"months":i.day=1;case"weeks":case"days":i.hour=0;case"hours":i.minute=0;case"minutes":i.second=0;case"seconds":i.millisecond=0;break}if(r==="weeks")if(n){const s=this.loc.getStartOfWeek(),{weekday:o}=this;o<s&&(i.weekNumber=this.weekNumber-1),i.weekday=s}else i.weekday=1;if(r==="quarters"){const s=Math.ceil(this.month/3);i.month=(s-1)*3+1}return this.set(i)}endOf(t,n){return this.isValid?this.plus({[t]:1}).startOf(t,n).minus(1):this}toFormat(t,n={}){return this.isValid?Ki.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,t):P$}toLocaleString(t=Y_,n={}){return this.isValid?Ki.create(this.loc.clone(n),t).formatDateTime(this):P$}toLocaleParts(t={}){return this.isValid?Ki.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:n=!1,suppressMilliseconds:i=!1,includeOffset:r=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const o=t==="extended";let a=R$(this,o);return a+="T",a+=gD(this,o,n,i,r,s),a}toISODate({format:t="extended"}={}){return this.isValid?R$(this,t==="extended"):null}toISOWeekDate(){return ew(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:n=!1,includeOffset:i=!0,includePrefix:r=!1,extendedZone:s=!1,format:o="extended"}={}){return this.isValid?(r?"T":"")+gD(this,o==="extended",n,t,i,s):null}toRFC2822(){return ew(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return ew(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?R$(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:n=!1,includeOffsetSpace:i=!0}={}){let r="HH:mm:ss.SSS";return(n||t)&&(i&&(r+=" "),n?r+="z":t&&(r+="ZZ")),ew(this,r,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():P$}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const n={...this.c};return t.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,n="milliseconds",i={}){if(!this.isValid||!t.isValid)return Tt.invalid("created by diffing an invalid DateTime");const r={locale:this.locale,numberingSystem:this.numberingSystem,...i},s=bpe(n).map(Tt.normalizeUnit),o=t.valueOf()>this.valueOf(),a=o?this:t,l=o?t:this,c=xfe(a,l,s,r);return o?c.negate():c}diffNow(t="milliseconds",n={}){return this.diff(je.now(),t,n)}until(t){return this.isValid?Cn.fromDateTimes(this,t):this}hasSame(t,n,i){if(!this.isValid)return!1;const r=t.valueOf(),s=this.setZone(t.zone,{keepLocalTime:!0});return s.startOf(n,i)<=r&&r<=s.endOf(n,i)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const n=t.base||je.fromObject({},{zone:this.zone}),i=t.padding?this<n?-t.padding:t.padding:0;let r=["years","months","days","hours","minutes","seconds"],s=t.unit;return Array.isArray(t.unit)&&(r=t.unit,s=void 0),wD(n,this.plus(i),{...t,numeric:"always",units:r,unit:s})}toRelativeCalendar(t={}){return this.isValid?wD(t.base||je.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(je.isDateTime))throw new Zi("min requires all arguments be DateTimes");return aD(t,n=>n.valueOf(),Math.min)}static max(...t){if(!t.every(je.isDateTime))throw new Zi("max requires all arguments be DateTimes");return aD(t,n=>n.valueOf(),Math.max)}static fromFormatExplain(t,n,i={}){const{locale:r=null,numberingSystem:s=null}=i,o=Nt.fromOpts({locale:r,numberingSystem:s,defaultToEN:!0});return j7(o,t,n)}static fromStringExplain(t,n,i={}){return je.fromFormatExplain(t,n,i)}static buildFormatParser(t,n={}){const{locale:i=null,numberingSystem:r=null}=n,s=Nt.fromOpts({locale:i,numberingSystem:r,defaultToEN:!0});return new F7(s,t)}static fromFormatParser(t,n,i={}){if(tt(t)||tt(n))throw new Zi("fromFormatParser requires an input string and a format parser");const{locale:r=null,numberingSystem:s=null}=i,o=Nt.fromOpts({locale:r,numberingSystem:s,defaultToEN:!0});if(!o.equals(n.locale))throw new Zi(`fromFormatParser called with a locale of ${o}, but the format parser was created for ${n.locale}`);const{result:a,zone:l,specificOffset:c,invalidReason:h}=n.explainFromTokens(t);return h?je.invalid(h):_p(a,l,i,`format ${n.format}`,t,c)}static get DATE_SHORT(){return Y_}static get DATE_MED(){return q9}static get DATE_MED_WITH_WEEKDAY(){return Hhe}static get DATE_FULL(){return W9}static get DATE_HUGE(){return Z9}static get TIME_SIMPLE(){return Y9}static get TIME_WITH_SECONDS(){return J9}static get TIME_WITH_SHORT_OFFSET(){return K9}static get TIME_WITH_LONG_OFFSET(){return X9}static get TIME_24_SIMPLE(){return Q9}static get TIME_24_WITH_SECONDS(){return e7}static get TIME_24_WITH_SHORT_OFFSET(){return t7}static get TIME_24_WITH_LONG_OFFSET(){return n7}static get DATETIME_SHORT(){return i7}static get DATETIME_SHORT_WITH_SECONDS(){return r7}static get DATETIME_MED(){return s7}static get DATETIME_MED_WITH_SECONDS(){return o7}static get DATETIME_MED_WITH_WEEKDAY(){return qhe}static get DATETIME_FULL(){return a7}static get DATETIME_FULL_WITH_SECONDS(){return l7}static get DATETIME_HUGE(){return u7}static get DATETIME_HUGE_WITH_SECONDS(){return c7}}function _y(e){if(je.isDateTime(e))return e;if(e&&e.valueOf&&rc(e.valueOf()))return je.fromJSDate(e);if(e&&typeof e=="object")return je.fromObject(e);throw new Zi(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const Gfe="HH:mm",Hfe="HH:mm:ss",qfe="HH:mm:ss.SSS",Wfe=[qfe,Hfe,Gfe,"TT"],Zfe="yyyy-MM-dd";function SD(e){if(!e||!lb(e))return null;const t=je.fromFormat(e,Zfe);return t.isValid?t:null}function xD(e){return e&&lb(e)?Ace(Wfe,t=>{const n=je.fromFormat(e,t);return n.isValid?n:null})??null:null}function $D(e){if(!e||!lb(e))return null;const t=je.fromISO(e);return t.isValid?t:null}var Q_;(function(e){e.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",e.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(Q_||(Q_={}));const H7=new Set(["integer","small-integer","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"]);function Yfe(e){return e!=null&&H7.has(e.type)}function q7(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function W7(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function Z7(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}const Jfe=new Set(["single","double","esriFieldTypeSingle","esriFieldTypeDouble"]);tL(H7,Jfe);function Oje(e,t){const n=e?.domain;if(!n||n.type!=="range")return;const i="range"in n?n.range[0]:n.minValue,r="range"in n?n.range[1]:n.maxValue,s=Yfe(e);return q7(e)||Z7(e)||W7(e)?{...Kfe(e,r,i),isInteger:s}:{min:i!=null&&typeof i=="number"?i:null,max:r!=null&&typeof r=="number"?r:null,rawMin:i,rawMax:r,isInteger:s}}function Kfe(e,t,n){return q7(e)?{min:SD(n)?.toMillis(),max:SD(t)?.toMillis(),rawMin:n,rawMax:t}:Z7(e)?{min:xD(n)?.toMillis(),max:xD(t)?.toMillis(),rawMin:n,rawMax:t}:W7(e)?{min:$D(n)?.toMillis(),max:$D(t)?.toMillis(),rawMin:n,rawMax:t}:{max:null,min:null}}function Xfe(e){if(!e)return;const t=e.match(Qfe);return t?.groups?t.groups.doubleQuoted??t.groups.singleQuoted??t.groups.dotNotation:void 0}const Qfe=/^(\$feature\[(?:"(?<doubleQuoted>[^"]+)"|'(?<singleQuoted>[^']+)')\]|\$feature\.(?<dotNotation>[a-zA-Z_][a-zA-Z0-9_]*))$/i;function eme(e){return e.match(tme)?.[1]?.replace(/\\'/g,"'")??null}const tme=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;let Ro=class{};function nme(e){return e instanceof rp?e===Ro.instance:e?.toString().toLowerCase()==="unknown"}function Nje(e){return nme(e)?Ro.instance:e}Ro.instance=new Wr("Etc/UTC");var eS;(function(e){e.TimeZoneNotRecognized="TimeZoneNotRecognized"})(eS||(eS={}));const ime={[eS.TimeZoneNotRecognized]:"Timezone identifier has not been recognized."};let rme=class Y7 extends Error{constructor(t,n){super(J0(ime[t],n)),this.declaredRootClass="esri.arcade.arcadedate.dateerror",Error.captureStackTrace&&Error.captureStackTrace(this,Y7)}};function Sp(e,t,n){return e<t?e-t:e>n?e-n:0}function xp(e,t,n){return e<t?t:e>n?n:e}let tw=class Rn{constructor(t){this._date=t,this.declaredRootClass="esri.arcade.arcadedate"}static fromParts(t=0,n=1,i=1,r=0,s=0,o=0,a=0,l){if(isNaN(t)||isNaN(n)||isNaN(i)||isNaN(r)||isNaN(s)||isNaN(o)||isNaN(a))return null;const c=je.local(t,n).daysInMonth;let h=je.fromObject({day:xp(i,1,c),year:t,month:xp(n,1,12),hour:xp(r,0,23),minute:xp(s,0,59),second:xp(o,0,59),millisecond:xp(a,0,999)},{zone:Bc(l)});return h=h.plus({months:Sp(n,1,12),days:Sp(i,1,c),hours:Sp(r,0,23),minutes:Sp(s,0,59),seconds:Sp(o,0,59),milliseconds:Sp(a,0,999)}),new Rn(h)}static get systemTimeZoneCanonicalName(){return Intl.DateTimeFormat().resolvedOptions().timeZone??"system"}static arcadeDateAndZoneToArcadeDate(t,n){const i=Bc(n);return t.isUnknownTimeZone||i===Ro.instance?Rn.fromParts(t.year,t.monthJS+1,t.day,t.hour,t.minute,t.second,t.millisecond,i):new Rn(t._date.setZone(i))}static dateJSToArcadeDate(t){return new Rn(je.fromJSDate(t,{zone:"system"}))}static dateJSAndZoneToArcadeDate(t,n="system"){const i=Bc(n);return new Rn(je.fromJSDate(t,{zone:i}))}static unknownEpochToArcadeDate(t){return new Rn(je.fromMillis(t,{zone:Ro.instance}))}static unknownDateJSToArcadeDate(t){return new Rn(je.fromMillis(t.getTime(),{zone:Ro.instance}))}static epochToArcadeDate(t,n="system"){const i=Bc(n);return new Rn(je.fromMillis(t,{zone:i}))}static dateTimeToArcadeDate(t){return new Rn(t)}clone(){return new Rn(this._date)}changeTimeZone(t){const n=Bc(t);return Rn.dateTimeToArcadeDate(this._date.setZone(n))}static dateTimeAndZoneToArcadeDate(t,n){const i=Bc(n);return t.zone===Ro.instance||i===Ro.instance?Rn.fromParts(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond,i):new Rn(t.setZone(i))}static nowToArcadeDate(t){const n=Bc(t);return new Rn(je.fromJSDate(new Date,{zone:n}))}static nowUTCToArcadeDate(){return new Rn(je.utc())}get isSystem(){return this.timeZone==="system"||this.timeZone===Rn.systemTimeZoneCanonicalName}equals(t){return this.isSystem&&t.isSystem?this.toNumber()===t.toNumber():this.isUnknownTimeZone===t.isUnknownTimeZone&&this._date.equals(t._date)}get isUnknownTimeZone(){return this._date.zone===Ro.instance}get isValid(){return this._date.isValid}get hour(){return this._date.hour}get second(){return this._date.second}get day(){return this._date.day}get dayOfWeekISO(){return this._date.weekday}get dayOfWeekJS(){let t=this._date.weekday;return t>6&&(t=0),t}get millisecond(){return this._date.millisecond}get monthISO(){return this._date.month}get weekISO(){return this._date.weekNumber}get yearISO(){return this._date.weekYear}get monthJS(){return this._date.month-1}get year(){return this._date.year}get minute(){return this._date.minute}get zone(){return this._date.zone}get timeZoneOffset(){return this.isUnknownTimeZone?0:this._date.offset}get timeZone(){if(this.isUnknownTimeZone)return"unknown";if(this._date.zone.type==="system")return"system";const t=this.zone;return t.type==="fixed"?t.fixed===0?"UTC":t.formatOffset(0,"short"):t.name}stringify(){return JSON.stringify(this.toJSDate())}plus(t){return new Rn(this._date.plus(t))}diff(t,n="milliseconds"){return this._date.diff(t._date,n)[n]}toISODate(){return this._date.toISODate()}toISOString(t){return t?this._date.toISO({suppressMilliseconds:!0,includeOffset:!this.isUnknownTimeZone}):this._date.toISO({includeOffset:!this.isUnknownTimeZone})}toISOTime(t,n){return this._date.toISOTime({suppressMilliseconds:t,includeOffset:n&&!this.isUnknownTimeZone})}toFormat(t,n){return this.isUnknownTimeZone&&(t=t.replaceAll("Z","")),this._date.toFormat(t,n)}toJSDate(){return this._date.toJSDate()}toSQLValue(){return this._date.toFormat("yyyy-LL-dd HH:mm:ss")}toSQLWithKeyword(){return`timestamp '${this.toSQLValue()}'`}toDateTime(){return this._date}toNumber(){return this._date.toMillis()}getTime(){return this._date.toMillis()}toUTC(){return new Rn(this._date.toUTC())}toLocal(){return new Rn(this._date.toLocal())}toString(){return this.toISOString(!0)}static fromReaderAsTimeStampOffset(t){if(!t)return null;const n=je.fromISO(t,{setZone:!0});return new Rn(n)}};function Bc(e,t=!0){if(e instanceof rp)return e;if(e.toLowerCase()==="system")return"system";if(e.toLowerCase()==="utc")return"UTC";if(e.toLowerCase()==="unknown")return Ro.instance;if(/^[+-]?[0-9]{1,2}([:][0-9]{2})?$/.test(e)){const i=_i.parseSpecifier("UTC"+(e.startsWith("+")||e.startsWith("-")?"":"+")+e);if(i)return i}const n=Wr.create(e);if(!n.isValid){if(t)throw new rme(eS.TimeZoneNotRecognized);return null}return n}let at=class{constructor(t,n={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=t,this._options=n,this.apiValues=[],this.jsonValues=[],this._apiToJSON=sme(t),this.apiValues=TD(this._apiToJSON),this.jsonValues=TD(this._jsonToAPI),this.read=i=>this.fromJSON(i),this.write=(i,r,s)=>{const o=this.toJSON(i);o!==void 0&&$i(s,o,r)},this.write.isJSONMapWriter=!0}toJSON(t){if(t==null)return null;if(this._apiToJSON.hasOwnProperty(t)){const n=this._apiToJSON[t];return this._options.useNumericKeys?+n:n}return this._options.ignoreUnknown?null:t}fromJSON(t){return t!=null&&this._jsonToAPI.hasOwnProperty(t)?this._jsonToAPI[t]:this._options.ignoreUnknown?void 0:t}};function sme(e){const t={};for(const n in e)t[e[n]]=n;return t}function TD(e){const t=[];for(const n in e)t.push(n);return t.sort(),t}function Ii(){return function(e,t){return new at(e,{ignoreUnknown:!0,...t})}}let yL=class{constructor(t,n,i,r,s,o){this.semiMajorAxis=t,this.flattening=n,this.outerAtmosphereRimWidth=i,this.atmosphereHeight=r,this.scaleHeight=s;const a=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*a,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=o||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}};const _n=new yL(6378137,1/298.257223563,3e5,1e5,.085,.006694379990137799),Sa=new yL(3396190,1/169.8944472236118,23e4,6e4,.111),dc=new yL(1737400,0,0,0,0),ome=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,ame={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function ED(e){const t=e?.match(ome);if(!t)return null;const[,n,i,r]=t;if(!n)return null;let s=null,o=null,a=null;const{devext:l,qaext:c,www:h}=ame;if(i)if(s=n,r)switch(r.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qa":({customBaseUrl:o,portalHostname:a}=c);break;default:return null}else({customBaseUrl:o,portalHostname:a}=h);else switch(n.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qaext":({customBaseUrl:o,portalHostname:a}=c);break;case"www":({customBaseUrl:o,portalHostname:a}=h);break;default:return null}return{customBaseUrl:o,isPortal:!1,portalHostname:a,urlKey:s}}function lme(e){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(e)}function J7(e){const t=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,n=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,i=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return t.test(e)?e=e.replace(t,"https://www.arcgis.com"):n.test(e)?e=e.replace(n,"https://devext.arcgis.com"):i.test(e)&&(e=e.replace(i,"https://qaext.arcgis.com")),e}function K7(e){const t=atob(e),n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n.buffer}function ume(e){const t=new Uint8Array(e);let n="";for(let i=0;i<t.length;i++)n+=String.fromCharCode(t[i]);return btoa(n)}const cme=()=>re.getLogger("esri.core.urlUtils"),sy=kt.request,ID="esri/config: esriConfig.request.proxyUrl is not set.",X7=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,Q7=/^\s*http:/i,dme=/^\s*https:/i,hme=/^\s*file:/i,pme=/:\d+$/,fme=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,mme=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),yme=new RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");let Kf=class{constructor(t=""){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let n=this.uri.match(mme);this.scheme=n[2]||(n[1]?"":null),this.authority=n[4]||(n[3]?"":null),this.path=n[5],this.query=n[7]||(n[6]?"":null),this.fragment=n[9]||(n[8]?"":null),this.authority!=null&&(n=this.authority.match(yme),this.user=n[3]||null,this.password=n[4]||null,this.host=n[6]||n[7],this.port=n[9]||null)}toString(){return this.uri}};const nw={},gme=new Kf(kt.applicationUrl);let Xi=gme;const vme=bme();let gL=vme;const vL=()=>Xi,jje=()=>gL;function bme(){const e=Xi.path,t=e.slice(0,e.lastIndexOf("/")+1);return`${`${Xi.scheme}://${Xi.host}${Xi.port!=null?`:${Xi.port}`:""}`}${t}`}function li(e){if(!e)return null;const t={path:null,query:null},n=new Kf(e),i=e.indexOf("?");return n.query===null?t.path=e:(t.path=e.slice(0,i),t.query=bL(n.query)),n.fragment&&(t.hash=n.fragment,n.query===null&&(t.path=t.path.slice(0,t.path.length-(n.fragment.length+1)))),t}function bL(e){const t=e.split("&"),n={};for(const i of t){if(!i)continue;const r=i.indexOf("=");let s,o;r<0?(s=decodeURIComponent(i),o=""):(s=decodeURIComponent(i.slice(0,r)),o=decodeURIComponent(i.slice(r+1)));let a=n[s];typeof a=="string"&&(a=n[s]=[a]),Array.isArray(a)?a.push(o):n[s]=o}return n}function o0(e,t){return e?Object.keys(e).map(n=>{const i=e[n];if(i==null)return"";const r=encodeURIComponent(n)+"=",s=t?.[n];return s?r+encodeURIComponent(s(i)):Array.isArray(i)?i.map(o=>te.isSerializable(o)?r+encodeURIComponent(JSON.stringify(o)):r+encodeURIComponent(o)).join("&"):te.isSerializable(i)?r+encodeURIComponent(JSON.stringify(i)):r+encodeURIComponent(i)}).filter(n=>n).join("&"):""}function eG(e=!1){let t,n=sy.proxyUrl;if(typeof e=="string"){t=Tme(e);const i=K2(e);i&&(n=i.proxyUrl)}else t=!!e;if(!n)throw cme().warn(ID),new B("urlUtils:proxy-not-set",ID);return t&&vI()&&(n=$L(n)),li(n)}function zje(e,t=!1){const n=K2(e);let i,r;if(n){const s=wL(n.proxyUrl);i=s.path,r=s.query?bL(s.query):null}else if(t){const s=eG(e);i=s.path,r=s.query}if(i){const s=li(e);e=i+"?"+s.path;const o=o0({...r,...s.query});o&&(e=`${e}?${o}`)}return e}const Sy={path:"",query:""};function wL(e){const t=e.indexOf("?");return t!==-1?(Sy.path=e.slice(0,t),Sy.query=e.slice(t+1)):(Sy.path=e,Sy.query=null),Sy}function tG(e){return e=(e=nS(e=kme(e=wL(e).path),!0)).toLowerCase()}function wme(e){const t={proxyUrl:e.proxyUrl,urlPrefix:tG(e.urlPrefix)},n=sy.proxyRules,i=t.urlPrefix;let r=n.length;for(let s=0;s<n.length;s++){const o=n[s].urlPrefix;if(i.indexOf(o)===0){if(i.length===o.length)return-1;r=s;break}o.indexOf(i)===0&&(r=s+1)}return n.splice(r,0,t),r}function K2(e){const t=sy.proxyRules,n=tG(e);for(let i=0;i<t.length;i++)if(n.indexOf(t[i].urlPrefix)===0)return t[i]}function _me(e,t){if(!e||!t)return!1;e=tS(e),t=tS(t);const n=ED(e),i=ED(t);return n!=null&&i!=null?n.portalHostname===i.portalHostname:n==null&&i==null&&Sm(e,t,!0)}function nG(e,t){return e=tS(e),t=tS(t),nS(e)===nS(t)}function tS(e){const t=(e=jo(e)).indexOf("/sharing");return t>0?e.slice(0,t):e.replace(/\/+$/,"")}function gI(e,t=sy.interceptors){const n=i=>i==null||i instanceof RegExp&&i.test(e)||typeof i=="string"&&e.startsWith(i);if(t){for(const i of t)if(Array.isArray(i.urls)){if(i.urls.some(n))return i}else if(n(i.urls))return i}return null}function Sm(e,t,n=!1){if(!e||!t)return!1;const i=wI(e),r=wI(t);return!(!n&&i.scheme!==r.scheme)&&i.host!=null&&r.host!=null&&i.host.toLowerCase()===r.host.toLowerCase()&&i.port===r.port}function _L(e){if(typeof e=="string"){if(!gs(e))return!0;e=wI(e)}if(Sm(e,Xi))return!0;const t=sy.trustedServers||[];for(let n=0;n<t.length;n++){const i=Sme(t[n]);for(let r=0;r<i.length;r++)if(Sm(e,i[r]))return!0}return!1}function Sme(e){return nw[e]||(xL(e)||Ta(e)?nw[e]=[new Kf(Us(e))]:nw[e]=[new Kf(`http://${e}`),new Kf(`https://${e}`)]),nw[e]}function Us(e,t=gL,n){return Ta(e)?n?.preserveProtocolRelative?e:Xi.scheme==="http"&&Xi.authority===ys(e).slice(2)?`http:${e}`:`https:${e}`:xL(e)?e:xm(e[0]==="/"?Mme(t):t,e)}function SL(e,t=gL,n){if(e==null||!gs(e))return e;const i=jo(e),r=i.toLowerCase(),s=jo(t).toLowerCase().replace(/\/+$/,""),o=n?jo(n).toLowerCase().replace(/\/+$/,""):null;if(o&&s.indexOf(o)!==0)return e;const a=(p,m,y)=>(y=p.indexOf(m,y))===-1?p.length:y;let l=a(r,"/",r.indexOf("//")+2),c=-1;for(;r.slice(0,l+1)===s.slice(0,l)+"/"&&(c=l+1,l!==r.length);)l=a(r,"/",l+1);if(c===-1||o&&c<o.length)return e;e=i.slice(c);const h=s.slice(c-1).replaceAll(/[^/]+/g,"").length;if(h>0)for(let p=0;p<h;p++)e=`../${e}`;else e=`./${e}`;return e}function jo(e){return e=Lme(e=Pme(e=Ame(e=Us(e=e.trim()))))}function xm(...e){const t=e.filter(Ji);if(!t?.length)return;const n=[];if(gs(t[0])){const r=t[0],s=r.indexOf("//");s!==-1&&(n.push(r.slice(0,s+1)),Ime(t[0])&&(n[0]+="/"),t[0]=r.slice(s+2))}else t[0][0]==="/"&&n.push("");const i=t.reduce((r,s)=>s?r.concat(s.split("/")):r,[]);for(let r=0;r<i.length;r++){const s=i[r];s===".."&&n.length>0&&n[n.length-1]!==".."?n.pop():(!s&&r===i.length-1||s&&(s!=="."||n.length===0))&&n.push(s)}return n.join("/")}function ys(e,t=!1){if(e==null||X2(e)||sp(e))return null;let n=e.indexOf("://");if(n===-1&&Ta(e))n=2;else{if(n===-1)return null;n+=3}const i=e.indexOf("/",n);return i!==-1&&(e=e.slice(0,i)),t&&(e=nS(e,!0)),e}function gs(e){return Ta(e)||xL(e)}function X2(e){return e!=null&&e.slice(0,5)==="blob:"}function sp(e){return e!=null&&e.slice(0,5)==="data:"}function xme(e){const t=$m(e);return t?.isBase64?K7(t.data):null}function Bje(e){return ume(e).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const $me=/^data:(.*?)(;base64)?,(.*)$/;function $m(e){const t=e.match($me);if(!t)return null;const[,n,i,r]=t;return{mediaType:n,isBase64:!!i,data:r}}function iG(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}async function Uje(e){return(await fetch(e)).blob()}function Gje(e){const t=xme(e);if(!t)return null;const n=$m(e);return new Blob([t],{type:n.mediaType})}function Ta(e){return e!=null&&e[0]==="/"&&e[1]==="/"}function xL(e){return e!=null&&X7.test(e)}function Tme(e){return e!=null&&dme.test(e)||Xi.scheme==="https"&&Ta(e)}function Eme(e){return e!=null&&Q7.test(e)||Xi.scheme==="http"&&Ta(e)}function Ime(e){return e!=null&&hme.test(e)}function $L(e){return Ta(e)?`https:${e}`:e.replace(Q7,"https:")}function Cme(){return Xi.scheme==="http"}function vI(){return Xi.scheme==="https"}function nS(e,t=!1){return Ta(e)?e.slice(2):(e=e.replace(X7,""),t&&e.length>1&&e[0]==="/"&&e[1]==="/"&&(e=e.slice(2)),e)}function Mme(e){const t=e.indexOf("//"),n=e.indexOf("/",t+2);return n===-1?e:e.slice(0,n)}function TL(e){let t=0;if(gs(e)){const i=e.indexOf("//");i!==-1&&(t=i+2)}const n=e.lastIndexOf("/");return n<t?e:e.slice(0,n+1)}function Hje(e,t){if(!e)return"";const n=li(e).path.replace(/\/+$/,""),i=n.slice(n.lastIndexOf("/")+1);if(!t?.length)return i;const r=new RegExp(`\\.(${t.join("|")})$`,"i");return i.replace(r,"")}function kme(e){return e.endsWith("/")?e:`${e}/`}function rG(e){return e.replace(/\/+$/,"")}function Ame(e){if(/^https?:\/\//i.test(e)){const t=wL(e);e=(e=t.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}function Pme(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function Lme(e){const t=sy.httpsDomains;if(!Eme(e))return e;const n=e.indexOf("/",7);let i;if(i=n===-1?e:e.slice(0,n),i=i.toLowerCase().slice(7),pme.test(i)){if(!i.endsWith(":80"))return e;i=i.slice(0,-3),e=e.replace(":80","")}return Cme()&&i===Xi.authority&&!fme.test(e)||(vI()&&i===Xi.authority||t&&t.some(r=>i===r||i.endsWith(`.${r}`))||vI()&&!K2(e))&&(e=$L(e)),e}function bI(e,t,n){if(!(t&&n&&e&&gs(e)))return e;const i=e.indexOf("//"),r=e.indexOf("/",i+2),s=e.indexOf(":",i+2),o=Math.min(r<0?e.length:r,s<0?e.length:s);return e.slice(i+2,o).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,i+2)}${n}${e.slice(o)}`}function wI(e){return typeof e=="string"?new Kf(Us(e)):(e.scheme||(e.scheme=Xi.scheme),e)}function qje(e){return Rme.test(e)}function sG(e,t){const n=li(e),i=Object.keys(n.query||{});return i.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${i.join(", ")}.`),n.path}function Ome(e,t,n){const i=li(e),r=i.query||{};return r[t]=String(n),`${i.path}?${o0(r)}`}function h1(e,t){if(!t)return e;const n=li(e),i=n.query||{};for(const[s,o]of Object.entries(t))o!=null&&(i[s]=o);const r=o0(i);return r?`${n.path}?${r}`:n.path}function Wje(e){if(e==null)return null;const t=e.match(oG);return t?t[2]:null}function CD(e){if(e==null)return null;const t=e.match(oG);return t?{path:t[1],extension:t[2]}:{path:e,extension:null}}async function Zje(e){return typeof e=="string"?$m(e)??{data:e}:new Promise((t,n)=>{const i=new FileReader;i.readAsDataURL(e),i.onload=()=>t($m(i.result)),i.onerror=r=>n(r)})}const oG=/([^.]*)\.([^/]*)$/,Rme=/(^data:image\/svg|\.svg$)/i,aG="20250307",lG="d09bc9aef44b4794bed8c3513046c5d8ba023b76";Symbol.dispose??=Symbol("Symbol.dispose"),Symbol.asyncDispose??=Symbol("Symbol.asyncDispose");const Nme="4.32";let dt,EL=Nme;EL="4.32.8";function Yje(e){dt=e}function Dme(e){const t=dt?.findCredential(e);return t?.token?Ome(e,"token",t.token):e}H("host-webworker")||globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{}}),H("host-webworker");function hc(e,t){const n=t?.url?.path;if(e&&n&&(e=Us(e,n,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const i=SL(e,t.portalItem.itemUrl);i!=null&&Vme.test(i)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(i).path)}return(e=_I(e,t?.portal))&&Q2.test(e)?CL(e):e}function hb(e,t,n=a0.YES){if((e=e&&Q2.test(e)?cG(e):e)==null)return e;!gs(e)&&t?.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);let i=Us(e);if(t){const r=t.verifyItemRelativeUrls?.rootPath||t.url?.path;if(r){const s=_I(r,t.portal),o=_I(i,t.portal);i=SL(o,s,s),i!=null&&i!==o&&i!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(i)}}return i=uG(i,t?.portal),gs(i)&&(i=jo(i)),t?.resources&&t?.portalItem&&!gs(i)&&!sp(i)&&n===a0.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(i),compress:!1}),i}function IL(e,t,n){return hc(e,n)}function Ph(e,t,n,i){const r=hb(e,i);r!==void 0&&(t[n]=r)}const Q2=/\/items\/([^/]+)\/resources\/(.*)/,Vme=/^\.\/resources\//;function Fme(e){return(e?.match(Q2)??null)?.[1]??null}function jme(e){const t=e?.match(Q2)??null;if(t==null)return null;const n=t[2],i=n.lastIndexOf("/");if(i===-1){const{path:o,extension:a}=CD(n);return{prefix:null,filename:o,extension:a}}const{path:r,extension:s}=CD(n.slice(i+1));return{prefix:n.slice(0,i),filename:r,extension:s}}function uG(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?bI(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function _I(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const n=`${t.urlKey}.${t.customBaseUrl}`,i=vL();return Sm(i,`${i.scheme}://${n}`)?bI(e,t.portalHostname,n):bI(e,n,t.portalHostname)}function CL(e){if(!e)return e||null;let t=e;return t&&dt&&!dt.findCredential(t)&&(t=J7(t),t=t.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),t=t.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),t=t.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),t}function cG(e){if(!e)return e||null;let t=e;return t=t.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),t=t.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),t=t.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),t&&dt&&!dt.findCredential(t)&&(t=J7(t)),t}var a0;(function(e){e[e.YES=0]="YES",e[e.NO=1]="NO"})(a0||(a0={}));const Jje=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return a0},ensureMainOnlineDomain:uG,fromCDNUrl:cG,fromJSON:hc,itemIdFromResourceUrl:Fme,prefixAndFilenameFromResourceUrl:jme,read:IL,toCDNUrl:CL,toJSON:hb,write:Ph},Symbol.toStringTag,{value:"Module"})),dG={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},hG=Object.values(dG),pG=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${hG.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),zme=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${hG.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),Bme=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function Kje(e){return pG.test(e)}function oy(e){if(e==null)return null;const t=li(e),n=t?.path.match(pG)||t?.path.match(zme);if(!n)return null;const[,i,r,s,o]=n,a=r.indexOf("/");return{title:ML(a!==-1?r.slice(a+1):r),serverType:dG[s.toLowerCase()],sublayer:o!=null&&o!==""?parseInt(o,10):null,url:{path:i}}}function Ume(e){const t=li(e).path.match(Bme);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function ML(e){return(e=e.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function Gme(e,t){const n=[];if(e){const i=oy(e);i!=null&&i.title&&n.push(i.title)}if(t){const i=ML(t);n.push(i)}if(n.length===2){if(n[0].toLowerCase().includes(n[1].toLowerCase()))return n[0];if(n[1].toLowerCase().includes(n[0].toLowerCase()))return n[1]}return n.join(" - ")}function iS(e){let t=ys(e,!0);return!!t&&(t=t.toLowerCase(),t.endsWith(".arcgis.com")&&(t.startsWith("services")||t.startsWith("tiles")||t.startsWith("features")))}function Hme(e,t){return e&&rG(sG(e,t))}function qme(e){let{url:t}=e;if(!t)return{url:t};t=sG(t,e.logger);const n=li(t),i=oy(n.path);let r;if(i!=null)i.sublayer!=null&&e.layer.layerId==null&&(r=i.sublayer),t=i.url.path;else if(e.nonStandardUrlAllowed){const s=Ume(n.path);s!=null&&(t=s.serviceUrl,r=s.sublayerId)}return{url:rG(t),layerId:r}}function Wme(e,t,n,i,r){Ph(t,i,"url",r),i.url&&e.layerId!=null&&(i.url=xm(i.url,n,e.layerId.toString()))}function Xje(e){if(!e)return!1;const t=e.toLowerCase(),n=t.includes("/services/"),i=t.includes("/mapserver/wmsserver"),r=t.includes("/imageserver/wmsserver"),s=t.includes("/wmsserver");return n&&(i||r||s)}const Zme=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function Yme(e){const t=ys(e,!0);return!!t&&t.endsWith(".arcgis.com")&&!Zme.has(t)&&!e.endsWith("/sharing/rest/generateToken")}function fG(e,t){return!(!kt.apiKey||!Yme(e))}function Jme(e,t,n=!1,i){return new Promise((r,s)=>{if(vs(i))return void s(MD());let o=()=>{c(),s(new Error(`Unable to load ${t}`))},a=()=>{const h=e;c(),r(h)},l=()=>{if(!e)return;const h=e;c(),h.src="",s(MD())};const c=()=>{H("esri-image-decode")||(e.removeEventListener("error",o),e.removeEventListener("load",a)),o=null,a=null,e=null,i?.removeEventListener("abort",l),l=null,n&&URL.revokeObjectURL(t)};i?.addEventListener("abort",l),H("esri-image-decode")?e.decode().then(a,o):(e.addEventListener("error",o),e.addEventListener("load",a))})}function MD(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}const mG="Timeout exceeded";function Kme(){return new Error(mG)}function Qje(e){return typeof e=="object"&&!!e&&"message"in e&&e.message===mG}function Xme(e){kt.request.crossOriginNoCorsDomains||(kt.request.crossOriginNoCorsDomains={});const t=kt.request.crossOriginNoCorsDomains;for(let n of e)n=n.toLowerCase(),/^https?:\/\//.test(n)?t[ys(n)??""]=0:(t[ys("http://"+n)??""]=0,t[ys("https://"+n)??""]=0)}function Qme(e){const t=kt.request.crossOriginNoCorsDomains;if(t){let n=ys(e);if(n)return n=n.toLowerCase(),!Sm(n,vL())&&t[n]<Date.now()-36e5}return!1}async function eye(e){const t=li(e);e=t.path,t.query?.f==="json"&&(e+="?f=json");try{await fetch(e,{mode:"no-cors",credentials:"include"})}catch{}const n=kt.request.crossOriginNoCorsDomains,i=ys(e);n&&i&&(n[i.toLowerCase()]=Date.now())}async function Lt(e,t){e instanceof URL&&(e=e.toString()),t?.query instanceof URLSearchParams&&(t.query=bL(t.query.toString().replaceAll("+"," ")));const n=sp(e),i=X2(e);i||n||(e=jo(e));const r={url:e,requestOptions:{...t}},s=y=>({data:y,getAllHeaders:Tm,getHeader:Tm,httpStatus:200,requestOptions:r.requestOptions,url:r.url}),o=gI(e,Bs.internalInterceptors);if(o){const y=await AD(o,r);if(y!=null)return s(y)}let a=gI(e);if(a){const y=await AD(a,r);if(y!=null)return s(y);a.after||a.error||(a=null)}if(e=r.url,(t=r.requestOptions).responseType==="image"&&(H("host-webworker")||H("host-node")))throw zo("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),r);if(t.method==="head"){if(t.body)throw zo("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),r);if(n||i)throw zo("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),r)}if(await sye(),rS)return rS.execute(e,t);const l=new AbortController,c=Ws(t,()=>l.abort()),h={controller:l,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:a,params:r,redoRequest:!1,useIdentity:Bs.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},p=t.useRequestQueue?cye(h):xI(h),m=await p.finally(()=>c?.remove());return a?.after?.(m),m}let rS;const Bs=kt.request,yG="FormData"in globalThis,tye=new Set([499,498,403,401]),nye=new Set(["COM_0056","COM_0057","SB_0008"]),iye=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],Tm=()=>null,sS=Symbol();function rye(e){const t=ys(e);t&&!Lt._corsServers.includes(t)&&Lt._corsServers.push(t)}function kD(e){const t=ys(e);return!t||t.endsWith(".arcgis.com")||Lt._corsServers.includes(t)||_L(t)}function zo(e,t,n,i){let r="Error";const s={url:n.url,requestOptions:n.requestOptions,getAllHeaders:Tm,getHeader:Tm,ssl:!1};if(t instanceof B)return t.details?(t.details=j(t.details),t.details.url=n.url,t.details.requestOptions=n.requestOptions):t.details=s,t;if(t){const o=i&&(()=>Array.from(i.headers)),a=i&&(h=>i.headers.get(h)),l=i?.status,c=t.message;c&&(r=c),o&&a&&(s.getAllHeaders=o,s.getHeader=a),s.httpStatus=(t.httpCode!=null?t.httpCode:t.code)||l||0,s.subCode=t.subcode,s.messageCode=t.messageCode,typeof t.details=="string"?s.messages=[t.details]:s.messages=t.details,s.raw=sS in t?t[sS]:t}return ur(t)?Ut():new B(e,r,s)}async function sye(){H("host-webworker")&&!rS&&(rS=await J(()=>import("./request-BJnuwDvQ.js"),__vite__mapDeps([4,3])))}async function SI(){dt||await J(()=>import("./IdentityManager-DfRUxTO3.js"),__vite__mapDeps([5,3]))}async function oye(e){const t=e.params.url,n=e.params.requestOptions,i=e.controller.signal,r=n.body;let s=null,o=null;if(yG&&"HTMLFormElement"in globalThis&&(r instanceof FormData?s=r:r instanceof HTMLFormElement&&(s=new FormData(r))),typeof r=="string"&&(o=r),e.fetchOptions={cache:n.cacheBust?"no-cache":"default",credentials:"same-origin",headers:n.headers||{},method:n.method==="head"?"HEAD":"GET",mode:"cors",priority:Bs.priority,redirect:"follow",signal:i},(s||o)&&(e.fetchOptions.body=s||o),n.authMode==="anonymous"&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||n.query?.token||s?.get("token")),!e.hasToken&&fG(t)&&(n.query||(n.query={}),n.query.token=kt.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!gG(t)&&!vs(i)){let a;n.authMode==="immediate"?(await SI(),a=await dt.getCredential(t,{signal:i}),e.credential=a):n.authMode==="no-prompt"?(await SI(),a=await dt.getCredential(t,{prompt:!1,signal:i}).catch(()=>{}),e.credential=a):dt&&(a=dt.findCredential(t)),a&&(e.credentialToken=a.token,e.useSSL=!!a.ssl)}}function gG(e){return iye.some(t=>t.test(e))}async function aye(e){let t=e.params.url;const n=e.params.requestOptions,i=e.fetchOptions??{},r=X2(t)||sp(t),s=n.responseType||"json",o=r?0:n.timeout!=null?n.timeout:Bs.timeout;let a=!1;if(!r){e.useSSL&&(t=$L(t));let m={...n.query};e.credentialToken&&(m.token=e.credentialToken);let y=o0(m);H("esri-url-encodes-apostrophe")&&(y=y.replaceAll("'","%27"));const g=t.length+1+y.length;let v;a=n.method==="delete"||n.method==="post"||n.method==="put"||!!n.body||g>Bs.maxUrlLength;const b=n.useProxy||!!K2(t);if(b){const w=eG(t);v=w.path,!a&&v.length+1+g>Bs.maxUrlLength&&(a=!0),w.query&&(m={...w.query,...m})}if(i.method==="HEAD"&&(a||b)){if(a)throw g>Bs.maxUrlLength?zo("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params):zo("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params);if(b)throw zo("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}a?(i.method=n.method==="delete"?"DELETE":n.method==="put"?"PUT":"POST",n.body?t=h1(t,m):(i.body=o0(m),i.headers||(i.headers={}),i.headers["Content-Type"]="application/x-www-form-urlencoded")):t=h1(t,m),b&&(e.useProxy=!0,t=`${v}?${t}`),m.token&&yG&&i.body instanceof FormData&&!lme(t)&&i.body.set("token",m.token),n.hasOwnProperty("withCredentials")?e.withCredentials=n.withCredentials:Sm(t,vL())||(_L(t)||dt&&dt.findServerInfo(t)?.webTierAuth)&&(e.withCredentials=!0),e.withCredentials&&(i.credentials="include",Qme(t)&&await eye(a?h1(t,m):t))}let l,c,h=0,p=!1;o>0&&(h=setTimeout(()=>{p=!0,e.controller.abort()},o));try{if(n.responseType==="native-request-init")c=i,c.url=t,n.signal?c.signal=n.signal:delete c.signal;else if(n.responseType!=="image"||i.cache!=="default"||i.method!=="GET"||a||lye(n.headers)||!r&&!e.useProxy&&Bs.proxyUrl&&!kD(t)){if(Lt._beforeFetch&&await Lt._beforeFetch(t,i),l=await fetch(t,i),Lt._afterFetch&&await Lt._afterFetch(l),e.useProxy||rye(t),n.responseType==="native")c=l;else if(i.method!=="HEAD")if(l.ok){switch(s){case"array-buffer":c=await l.arrayBuffer();break;case"blob":case"image":c=await l.blob();break;default:c=await l.text()}if(h&&(clearTimeout(h),h=0),s==="json"||s==="xml"||s==="document")if(c)switch(s){case"json":c=JSON.parse(c);break;case"xml":c=PD(c,"application/xml");break;case"document":c=PD(c,"text/html")}else c=null;if(c){if(s==="array-buffer"||s==="blob"){const m=l.headers.get("Content-Type");if(m&&/application\/json|text\/plain/i.test(m)&&c[s==="blob"?"size":"byteLength"]<=750)try{const y=await new Response(c).json();y.error&&(c=y)}catch{}}s==="image"&&c instanceof Blob&&(c=await LD(URL.createObjectURL(c),e,!0))}}else{c=await l.text();try{c=JSON.parse(c)}catch{}}}else c=await LD(t,e)}catch(m){if(m.name==="AbortError")throw p?Kme():Ut("Request canceled");if(!(!l&&m instanceof TypeError&&Bs.proxyUrl)||n.body||n.method==="delete"||n.method==="head"||n.method==="post"||n.method==="put"||e.useProxy||kD(t))throw m;e.redoRequest=!0,wme({proxyUrl:Bs.proxyUrl,urlPrefix:ys(t)??""})}finally{h&&clearTimeout(h)}return[l,c]}async function AD(e,t){if(e.responseData!=null)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let n,i;try{i=await e.before(t)}catch(r){n=zo("request:interceptor",r,t)}if((i instanceof Error||i instanceof B)&&(n=zo("request:interceptor",i,t)),n)throw e.error&&e.error(n),n;return i}}function lye(e){if(e){for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0}return!1}function PD(e,t){let n;try{n=new DOMParser().parseFromString(e,t)}catch{}if(!n||n.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return n}Lt._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],Lt._beforeFetch=void 0,Lt._afterFetch=void 0;const uye=new Map;async function cye(e){const t=hye(e.params.url);if(!t)return xI(e);const{QueueProcessor:n}=await J(()=>import("./QueueProcessor-B3avX-hx.js"),__vite__mapDeps([6,3]));return rb(uye,t.origin,()=>{const r=t.isHosted?H("request-queue-concurrency-hosted"):H("request-queue-concurrency-non-hosted");return new n({concurrency:r,process:s=>{if(vs(s.params.requestOptions))throw zo("",Ut("Request canceled"),s.params);return xI(s)}})}).push(e)}async function xI(e){let t,n;await oye(e);try{do[t,n]=await aye(e);while(!await dye(e,t,n))}catch(s){const o=zo("request:server",s,e.params,t);throw o.details.ssl=e.useSSL,e.interceptor?.error&&e.interceptor.error(o),o}const i=e.params.url;if(n&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(i)){if(!e.hasToken&&!e.credentialToken&&n.user?.username&&!_L(i)){const s=ys(i,!0);s&&Bs.trustedServers.push(s)}Array.isArray(n.authorizedCrossOriginNoCorsDomains)&&Xme(n.authorizedCrossOriginNoCorsDomains)}const r=e.credential;if(r&&dt){let o=dt.findServerInfo(r.server)?.owningSystemUrl;if(o){o=o.replace(/\/?$/,"/sharing");const a=dt.findCredential(o,r.userId);a&&dt._getIdenticalSvcIdx(o,a)===-1&&a.resources.unshift(o)}}return{data:n,getAllHeaders:t?()=>Array.from(t.headers):Tm,getHeader:t?s=>t.headers.get(s):Tm,httpStatus:t?.status??200,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function dye(e,t,n){if(e.redoRequest)return e.redoRequest=!1,!1;const i=e.params.requestOptions;if(!t||i.responseType==="native"||i.responseType==="native-request-init")return!0;let r,s;if(n&&(n.error&&typeof n.error=="object"?r=n.error:n.status==="error"&&Array.isArray(n.messages)&&(r={...n},r[sS]=n,r.details=n.messages)),!r&&!t.ok)throw r=new Error(`Unable to load ${t.url} status: ${t.status}`),r[sS]=n,r;let o,a=null;r&&(s=Number(r.code),a=r.hasOwnProperty("subcode")?Number(r.subcode):null,o=r.messageCode,o=o?.toUpperCase());const l=i.authMode;if(s===403&&(a===4||r.message?.toLowerCase().includes("ssl")&&!r.message.toLowerCase().includes("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&(l!=="no-prompt"||s===498)&&s!==void 0&&tye.has(s)&&!gG(e.params.url)&&(s!==403||(!o||!nye.has(o))&&(a==null||a===2&&e.credentialToken))){await SI();try{const c=await dt.getCredential(e.params.url,{error:zo("request:server",r,e.params),prompt:l!=="no-prompt",signal:e.controller.signal,token:e.credentialToken});return e.credential=c,e.credentialToken=c.token,e.useSSL=e.useSSL||c.ssl,!1}catch(c){if(l==="no-prompt")return e.credential=void 0,e.credentialToken=void 0,!1;r=c}}if(r)throw r;return!0}function LD(e,t,n=!1){const i=t.controller.signal,r=new Image;return t.withCredentials?r.crossOrigin="use-credentials":r.crossOrigin="anonymous",r.alt="",r.fetchPriority=Bs.priority,r.src=e,Jme(r,e,n,i)}function hye(e){let t,n;return typeof e=="string"?(t=ys(e,!0),n=iS(e)):(t=e.origin,n=iS(e.toString())),t==null?null:{origin:t,isHosted:n}}function nn(e){if(!kt.assetsPath)throw re.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new B("assets:path-not-set","config.assetsPath is not set");return xm(kt.assetsPath,e)}let N$,F=null;function kL(){return!!F}function pye(){return!!H("esri-wasm")}function vG(){return N$||(N$=J(()=>import("./pe-wasm-CRA-qgEz.js"),__vite__mapDeps([7,8])).then(e=>e.p).then(({default:e})=>e({locateFile:t=>nn(`esri/geometry/support/${t}`)})).then(e=>{_G(e)}),N$)}var $I,rn;(function(e){function t(s,o,a){F.ensureCache.prepare();const l=Yd(a),c=a===l,h=F.ensureFloat64(l),p=F._pe_geog_to_proj(F.getPointer(s),o,h);return p&&Wu(a,o,h,c),p}function n(s,o,a,l){switch(l){case rn.PE_TRANSFORM_P_TO_G:return i(s,o,a);case rn.PE_TRANSFORM_G_TO_P:return t(s,o,a)}return 0}function i(s,o,a){return r(s,o,a,0)}function r(s,o,a,l){F.ensureCache.prepare();const c=Yd(a),h=a===c,p=F.ensureFloat64(c),m=F._pe_proj_to_geog_center(F.getPointer(s),o,p,l);return m&&Wu(a,o,p,h),m}e.geogToProj=t,e.projGeog=n,e.projToGeog=i,e.projToGeogCenter=r})($I||($I={})),function(e){function t(){e.PE_BUFFER_MAX=F.PeDefs.prototype.PE_BUFFER_MAX,e.PE_NAME_MAX=F.PeDefs.prototype.PE_NAME_MAX,e.PE_MGRS_MAX=F.PeDefs.prototype.PE_MGRS_MAX,e.PE_USNG_MAX=F.PeDefs.prototype.PE_USNG_MAX,e.PE_DD_MAX=F.PeDefs.prototype.PE_DD_MAX,e.PE_DDM_MAX=F.PeDefs.prototype.PE_DDM_MAX,e.PE_DMS_MAX=F.PeDefs.prototype.PE_DMS_MAX,e.PE_UTM_MAX=F.PeDefs.prototype.PE_UTM_MAX,e.PE_PARM_MAX=F.PeDefs.prototype.PE_PARM_MAX,e.PE_TYPE_NONE=F.PeDefs.prototype.PE_TYPE_NONE,e.PE_TYPE_GEOGCS=F.PeDefs.prototype.PE_TYPE_GEOGCS,e.PE_TYPE_PROJCS=F.PeDefs.prototype.PE_TYPE_PROJCS,e.PE_TYPE_GEOGTRAN=F.PeDefs.prototype.PE_TYPE_GEOGTRAN,e.PE_TYPE_COORDSYS=F.PeDefs.prototype.PE_TYPE_COORDSYS,e.PE_TYPE_UNIT=F.PeDefs.prototype.PE_TYPE_UNIT,e.PE_TYPE_LINUNIT=F.PeDefs.prototype.PE_TYPE_LINUNIT,e.PE_STR_OPTS_NONE=F.PeDefs.prototype.PE_STR_OPTS_NONE,e.PE_STR_AUTH_NONE=F.PeDefs.prototype.PE_STR_AUTH_NONE,e.PE_STR_AUTH_TOP=F.PeDefs.prototype.PE_STR_AUTH_TOP,e.PE_STR_NAME_CANON=F.PeDefs.prototype.PE_STR_NAME_CANON,e.PE_STR_FMT_WKT=F.PeDefs.prototype.PE_STR_FMT_WKT,e.PE_STR_FMT_WKT2=F.PeDefs.prototype.PE_STR_FMT_WKT2,e.PE_PARM_X0=F.PeDefs.prototype.PE_PARM_X0,e.PE_PARM_ND=F.PeDefs.prototype.PE_PARM_ND,e.PE_TRANSFORM_1_TO_2=F.PeDefs.prototype.PE_TRANSFORM_1_TO_2,e.PE_TRANSFORM_2_TO_1=F.PeDefs.prototype.PE_TRANSFORM_2_TO_1,e.PE_TRANSFORM_P_TO_G=F.PeDefs.prototype.PE_TRANSFORM_P_TO_G,e.PE_TRANSFORM_G_TO_P=F.PeDefs.prototype.PE_TRANSFORM_G_TO_P,e.PE_HORIZON_RECT=F.PeDefs.prototype.PE_HORIZON_RECT,e.PE_HORIZON_POLY=F.PeDefs.prototype.PE_HORIZON_POLY,e.PE_HORIZON_LINE=F.PeDefs.prototype.PE_HORIZON_LINE,e.PE_HORIZON_DELTA=F.PeDefs.prototype.PE_HORIZON_DELTA}e.init=t}(rn||(rn={}));let bG=null;var TI;(function(e){const t={},n={},i=y=>{const g=y.getType();switch(g){case rn.PE_TYPE_GEOGCS:y=F.castObject(y,F.PeGeogcs);break;case rn.PE_TYPE_PROJCS:y=F.castObject(y,F.PeProjcs);break;case rn.PE_TYPE_GEOGTRAN:y=F.castObject(y,F.PeGeogtran);break;default:g&rn.PE_TYPE_UNIT&&(y=F.castObject(y,F.PeUnit))}return y};function r(){F.PeFactory.prototype.initialize(null)}function s(y){return o(rn.PE_TYPE_COORDSYS,y)}function o(y,g){let v=null,b=t[y];if(b||(b={},t[y]=b),b.hasOwnProperty(String(g))&&(v=b[g],F.compare(v,F.NULL)&&(v=null)),!v){const w=F.PeFactory.prototype.factoryByType(y,g);F.compare(w,F.NULL)||(v=i(w),b[g]=v)}return v}function a(y,g){let v=null,b=n[y];if(b||(b={},n[y]=b),b.hasOwnProperty(g)&&(v=b[g],F.compare(v,F.NULL)&&(v=null)),!v){const w=F.PeFactory.prototype.fromString(y,g);F.compare(w,F.NULL)||(v=i(w),b[g]=v)}return v}function l(y){return o(rn.PE_TYPE_GEOGCS,y)}function c(y){return o(rn.PE_TYPE_GEOGTRAN,y)}function h(y){return F.PeFactory.prototype.getCode(y)}function p(y){return o(rn.PE_TYPE_PROJCS,y)}function m(y){return o(rn.PE_TYPE_UNIT,y)}e.initialize=r,e.coordsys=s,e.factoryByType=o,e.fromString=a,e.geogcs=l,e.geogtran=c,e.getCode=h,e.projcs=p,e.unit=m})(TI||(TI={}));let wG=null;var oS,EI,II,CI,MI,kI,aS,AI,lS,uS,PI;function _G(e){function t(s,o,a){s[o]=a(s[o])}F=e,rn.init(),oS.init(),aS.init(),lS.init(),uS.init(),bG=class extends F.PeDouble{constructor(s=NaN){super(s)}destroy(){F.destroy(this)}[Symbol.dispose](){this.destroy()}},wG=class extends F.PeGCSExtent{destroy(){F.destroy(this)}[Symbol.dispose](){this.destroy()}};const n=[F.PeAngunit,F.PeDatum,F.PeGeogcs,F.PeGeogtran,F.PeObject,F.PeParameter,F.PePrimem,F.PeProjcs,F.PeSpheroid,F.PeUnit];for(const s of n)t(s.prototype,"getName",o=>function(){return o.call(this,new Array(rn.PE_NAME_MAX))});for(const s of[F.PeGeogtran,F.PeProjcs])t(s.prototype,"getParameters",o=>function(){const a=new Array(rn.PE_PARM_MAX);let l=o.call(this);for(let c=0;c<a.length;c++){const h=F.getValue(l,"*");a[c]=h?F.wrapPointer(h,F.PeParameter):null,l+=Int32Array.BYTES_PER_ELEMENT}return a});t(F.PeHorizon.prototype,"getCoord",s=>function(o=!1){const a=this.getSize();if(!a)return null;const l=[];return Wu(l,a,s.call(this),o),l}),t(F.PeGTlistExtendedEntry.prototype,"getEntries",s=>{const o=F._pe_getPeGTlistExtendedGTsSize();return function(){let a=null;const l=s.call(this);if(!F.compare(l,F.NULL)){a=[l];const c=this.getSteps();if(c>1){const h=F.getPointer(l);for(let p=1;p<c;p++)a.push(F.wrapPointer(h+o*p,F.PeGTlistExtendedGTs))}}return a}});const i=F._pe_getPeHorizonSize(),r=s=>function(){let o=this._cache;if(o||(o=new Map,this._cache=o),o.has(s))return o.get(s);let a=null;const l=s.call(this);if(!F.compare(l,F.NULL)){a=[l];const c=l.getNump();if(c>1){const h=F.getPointer(l);for(let p=1;p<c;p++)a.push(F.wrapPointer(h+i*p,F.PeHorizon))}}return o.set(s,a),a};t(F.PeProjcs.prototype,"horizonGcsGenerate",r),t(F.PeProjcs.prototype,"horizonPcsGenerate",r),F.PeObject.prototype.toString=function(s=rn.PE_STR_OPTS_NONE){F.ensureCache.prepare();const o=F.getPointer(this),a=F.ensureInt8(new Array(rn.PE_BUFFER_MAX));return F.UTF8ToString(F._pe_object_to_string_ext(o,s,a))},F.PeGeogcs.prototype.destroy=function(){this.Delete(),ko(this),this.ptr=0},F.PeGeogcs.prototype[Symbol.dispose]=function(){this.destroy()},F.PeProjcs.prototype.destroy=function(){this.Delete(),ko(this),this.ptr=0},F.PeProjcs.prototype[Symbol.dispose]=function(){this.destroy()}}function ko(e){if(!e)return;const t=F.getClass(e);if(!t)return;const n=F.getCache(t);if(!n)return;const i=F.getPointer(e);i&&delete n[i]}function iw(e,t){const n=[],i=new Array(t);for(let r=0;r<e;r++)n.push(F.ensureInt8(i));return n}function Yd(e){return ArrayBuffer.isView(e)?e:Array.isArray(e[0])?e.flat():e}function Wu(e,t,n,i=!1){if(i)for(let r=0;r<2*t;r++)e[r]=F.getValue(n+r*Float64Array.BYTES_PER_ELEMENT,"double");else{const r=e.length===0;for(let s=0;s<t;s++)r&&(e[s]=new Array(2)),e[s][0]=F.getValue(n,"double"),e[s][1]=F.getValue(n+Float64Array.BYTES_PER_ELEMENT,"double"),n+=2*Float64Array.BYTES_PER_ELEMENT}}(function(e){let t;function n(){e.PE_GTLIST_OPTS_COMMON=F.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,t=F._pe_getPeGTlistExtendedEntrySize()}function i(r,s,o,a,l,c){let h=null;const p=new F.PeInteger(c);try{const m=F.PeGTlistExtended.prototype.getGTlist(r,s,o,a,l,p);if((c=p.val)&&(h=[m],c>1)){const y=F.getPointer(m);for(let g=1;g<c;g++)h.push(F.wrapPointer(y+t*g,F.PeGTlistExtendedEntry))}}finally{F.destroy(p)}return h}e.init=n,e.getGTlist=i})(oS||(oS={})),function(e){function t(n){if(n?.length){for(const i of n)ko(i),i.getEntries().forEach(r=>{ko(r);const s=r.getGeogtran();ko(s),s.getParameters().forEach(ko),[s.getGeogcs1(),s.getGeogcs2()].forEach(o=>{ko(o);const a=o.getDatum();ko(a),ko(a.getSpheroid()),ko(o.getPrimem()),ko(o.getUnit())})});F.PeGTlistExtendedEntry.prototype.Delete(n[0])}}e.destroy=t}(EI||(EI={})),function(e){function t(n,i,r,s,o){F.ensureCache.prepare();const a=Yd(r),l=r===a,c=F.ensureFloat64(a);let h=0;s&&(h=F.ensureFloat64(s));const p=F._pe_geog_to_geog(F.getPointer(n),i,c,h,o);return p&&Wu(r,i,c,l),p}e.geogToGeog=t}(II||(II={})),function(e){function t(s,o,a,l,c,h,p,m){F.PeLineType.prototype.geodesic_coordinate(s,o,a,l,c,h,p,m)}function n(s,o,a,l,c,h,p,m,y){F.PeLineType.prototype.geodetic_coordinate(s,o,a,l,c,h,p,m,y)}function i(s,o,a,l,c,h,p,m,y,g){F.PeLineType.prototype.geodetic_distance(s,o,a,l,c,h,p,m,y,g)}function r(s,o,a,l,c,h,p,m,y){F.PeLineType.prototype.great_elliptic_distance(s,o,a,l,c,h,p,m,y)}e.geodesicCoordinate=t,e.geodeticCoordinate=n,e.geodeticDistance=i,e.greatEllipticDistance=r}(CI||(CI={})),function(e){function t(o,a){return F.PeMath.prototype.phi_to_eta(o,a)}function n(o,a){return F.PeMath.prototype.eta_to_phi(o,a)}function i(o,a){return F.PeMath.prototype.phi_to_phig(o,a)}function r(o,a,l){return F.PeMath.prototype.q(o,a,l)}function s(o,a){return F.PeMath.prototype.q90(o,a)}e.phiToEta=t,e.etaToPhi=n,e.phiToPhig=i,e.q=r,e.q90=s}(MI||(MI={})),function(e){const t=(c,h,p,m,y,g)=>{let v,b;switch(F.ensureCache.prepare(),c){case"dd":v=F._pe_geog_to_dd,b=rn.PE_DD_MAX;break;case"ddm":v=F._pe_geog_to_ddm,b=rn.PE_DDM_MAX;break;case"dms":v=F._pe_geog_to_dms,b=rn.PE_DMS_MAX}let w=0;h&&(w=F.getPointer(h));const S=Yd(m),x=F.ensureFloat64(S),E=iw(p,b),$=v(w,p,x,y,F.ensureInt32(E));if($)for(let I=0;I<p;I++)g[I]=F.UTF8ToString(E[I]);return $},n=(c,h,p,m,y)=>{let g;switch(F.ensureCache.prepare(),c){case"dd":g=F._pe_dd_to_geog;break;case"ddm":g=F._pe_ddm_to_geog;break;case"dms":g=F._pe_dms_to_geog}let v=0;h&&(v=F.getPointer(h));const b=m.map(E=>F.ensureString(E)),w=F.ensureInt32(b),S=F.ensureFloat64(new Array(2*p)),x=g(v,p,w,S);return x&&Wu(y,p,S),x};function i(c,h,p,m,y){return t("dms",c,h,p,m,y)}function r(c,h,p,m){return n("dms",c,h,p,m)}function s(c,h,p,m,y){return t("ddm",c,h,p,m,y)}function o(c,h,p,m){return n("ddm",c,h,p,m)}function a(c,h,p,m,y){return t("dd",c,h,p,m,y)}function l(c,h,p,m){return n("dd",c,h,p,m)}e.geogToDms=i,e.dmsToGeog=r,e.geogToDdm=s,e.ddmToGeog=o,e.geogToDd=a,e.ddToGeog=l}(kI||(kI={})),function(e){function t(){e.PE_MGRS_STYLE_NEW=F.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=F.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=F.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=F.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=F.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}function n(r,s,o,a,l,c,h){F.ensureCache.prepare();let p=0;r&&(p=F.getPointer(r));const m=Yd(o),y=F.ensureFloat64(m),g=iw(s,rn.PE_MGRS_MAX),v=F.ensureInt32(g),b=F._pe_geog_to_mgrs_extended(p,s,y,a,l,c,v);if(b)for(let w=0;w<s;w++)h[w]=F.UTF8ToString(g[w]);return b}function i(r,s,o,a,l){F.ensureCache.prepare();let c=0;r&&(c=F.getPointer(r));const h=o.map(g=>F.ensureString(g)),p=F.ensureInt32(h),m=F.ensureFloat64(new Array(2*s)),y=F._pe_mgrs_to_geog_extended(c,s,p,a,m);return y&&Wu(l,s,m),y}e.init=t,e.geogToMgrsExtended=n,e.mgrsToGeogExtended=i}(aS||(aS={})),function(e){function t(i,r,s,o,a,l,c){F.ensureCache.prepare();let h=0;i&&(h=F.getPointer(i));const p=Yd(s),m=F.ensureFloat64(p),y=iw(r,rn.PE_MGRS_MAX),g=F.ensureInt32(y),v=F._pe_geog_to_usng(h,r,m,o,a,l,g);if(v)for(let b=0;b<r;b++)c[b]=F.UTF8ToString(y[b]);return v}function n(i,r,s,o){F.ensureCache.prepare();let a=0;i&&(a=F.getPointer(i));const l=s.map(m=>F.ensureString(m)),c=F.ensureInt32(l),h=F.ensureFloat64(new Array(2*r)),p=F._pe_usng_to_geog(a,r,c,h);return p&&Wu(o,r,h),p}e.geogToUsng=t,e.usngToGeog=n}(AI||(AI={})),function(e){function t(){e.PE_UTM_OPTS_NONE=F.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=F.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=F.PeNotationUtm.prototype.PE_UTM_OPTS_NS}function n(r,s,o,a,l){F.ensureCache.prepare();let c=0;r&&(c=F.getPointer(r));const h=Yd(o),p=F.ensureFloat64(h),m=iw(s,rn.PE_UTM_MAX),y=F.ensureInt32(m),g=F._pe_geog_to_utm(c,s,p,a,y);if(g)for(let v=0;v<s;v++)l[v]=F.UTF8ToString(m[v]);return g}function i(r,s,o,a,l){F.ensureCache.prepare();let c=0;r&&(c=F.getPointer(r));const h=o.map(g=>F.ensureString(g)),p=F.ensureInt32(h),m=F.ensureFloat64(new Array(2*s)),y=F._pe_utm_to_geog(c,s,p,a,m);return y&&Wu(l,s,m),y}e.init=t,e.geogToUtm=n,e.utmToGeog=i}(lS||(lS={})),function(e){const t=new Map;function n(){e.PE_PCSINFO_OPTION_NONE=F.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=F.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=F.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=F.PePCSInfo.prototype.PE_POLE_POINT}function i(r,s=e.PE_PCSINFO_OPTION_DOMAIN){let o=null,a=null;return t.has(r)&&(a=t.get(r),a[s]&&(o=a[s])),o||(o=F.PePCSInfo.prototype.generate(r,s),a||(a=[],t.set(r,a)),a[s]=o),o}e.init=n,e.generate=i}(uS||(uS={})),function(e){function t(){return F.PeVersion.prototype.version_string()}e.versionString=t}(PI||(PI={}));const fye=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return $I},get PeDefs(){return rn},get PeDouble(){return bG},get PeFactory(){return TI},get PeGCSExtent(){return wG},get PeGTTransformations(){return II},get PeGTlistExtended(){return oS},get PeGTlistExtendedEntry(){return EI},get PeLineType(){return CI},get PeMath(){return MI},get PeNotationDms(){return kI},get PeNotationMgrs(){return aS},get PeNotationUsng(){return AI},get PeNotationUtm(){return lS},get PePCSInfo(){return uS},get PeVersion(){return PI},_init:_G,get _pe(){return F},isLoaded:kL,isSupported:pye,load:vG},Symbol.toStringTag,{value:"Module"}));var Lh;(function(e){e[e.CGCS2000=4490]="CGCS2000",e[e.GCSMARS2000=104971]="GCSMARS2000",e[e.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",e[e.GCSMOON2000=104903]="GCSMOON2000"})(Lh||(Lh={}));let f;const C={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,10592:0,10594:0,10596:0,10598:0,10601:0,10603:0,10626:0,10632:0,10665:0,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1,103978:2,103979:0,103980:2,103981:0};for(f=2e3;f<=2045;f++)C[f]=0;for(f=2056;f<=2065;f++)C[f]=0;for(f=2067;f<=2135;f++)C[f]=0;for(f=2137;f<=2154;f++)C[f]=0;for(f=2161;f<=2170;f++)C[f]=0;for(f=2172;f<=2193;f++)C[f]=0;for(f=2195;f<=2198;f++)C[f]=0;for(f=2200;f<=2203;f++)C[f]=0;for(f=2205;f<=2217;f++)C[f]=0;for(f=2222;f<=2224;f++)C[f]=1;for(f=2225;f<=2250;f++)C[f]=2;for(f=2251;f<=2253;f++)C[f]=1;for(f=2257;f<=2264;f++)C[f]=2;for(f=2274;f<=2279;f++)C[f]=2;for(f=2280;f<=2282;f++)C[f]=1;for(f=2283;f<=2289;f++)C[f]=2;for(f=2290;f<=2292;f++)C[f]=0;for(f=2308;f<=2313;f++)C[f]=0;for(f=2315;f<=2491;f++)C[f]=0;for(f=2494;f<=2866;f++)C[f]=0;for(f=2867;f<=2869;f++)C[f]=1;for(f=2870;f<=2888;f++)C[f]=2;for(f=2891;f<=2895;f++)C[f]=2;for(f=2896;f<=2898;f++)C[f]=1;for(f=2902;f<=2908;f++)C[f]=2;for(f=2915;f<=2920;f++)C[f]=2;for(f=2921;f<=2923;f++)C[f]=1;for(f=2924;f<=2930;f++)C[f]=2;for(f=2931;f<=2962;f++)C[f]=0;for(f=2964;f<=2968;f++)C[f]=2;for(f=2969;f<=2973;f++)C[f]=0;for(f=2975;f<=2991;f++)C[f]=0;for(f=2995;f<=3051;f++)C[f]=0;for(f=3054;f<=3079;f++)C[f]=0;for(f=3081;f<=3088;f++)C[f]=0;for(f=3092;f<=3101;f++)C[f]=0;for(f=3106;f<=3138;f++)C[f]=0;for(f=3146;f<=3151;f++)C[f]=0;for(f=3153;f<=3166;f++)C[f]=0;for(f=3168;f<=3172;f++)C[f]=0;for(f=3174;f<=3203;f++)C[f]=0;for(f=3294;f<=3358;f++)C[f]=0;for(f=3367;f<=3403;f++)C[f]=0;for(f=3408;f<=3416;f++)C[f]=0;for(f=3417;f<=3438;f++)C[f]=2;for(f=3441;f<=3446;f++)C[f]=2;for(f=3447;f<=3450;f++)C[f]=0;for(f=3451;f<=3459;f++)C[f]=2;for(f=3460;f<=3478;f++)C[f]=0;for(f=3554;f<=3559;f++)C[f]=0;for(f=3560;f<=3570;f++)C[f]=2;for(f=3571;f<=3581;f++)C[f]=0;for(f=3594;f<=3597;f++)C[f]=0;for(f=3601;f<=3604;f++)C[f]=0;for(f=3637;f<=3639;f++)C[f]=0;for(f=3665;f<=3667;f++)C[f]=0;for(f=3693;f<=3695;f++)C[f]=0;for(f=3701;f<=3727;f++)C[f]=0;for(f=3728;f<=3739;f++)C[f]=2;for(f=3740;f<=3751;f++)C[f]=0;for(f=3753;f<=3760;f++)C[f]=2;for(f=3761;f<=3773;f++)C[f]=0;for(f=3775;f<=3777;f++)C[f]=0;for(f=3779;f<=3781;f++)C[f]=0;for(f=3783;f<=3785;f++)C[f]=0;for(f=3788;f<=3791;f++)C[f]=0;for(f=3797;f<=3802;f++)C[f]=0;for(f=3814;f<=3816;f++)C[f]=0;for(f=3825;f<=3829;f++)C[f]=0;for(f=3832;f<=3841;f++)C[f]=0;for(f=3844;f<=3852;f++)C[f]=0;for(f=3873;f<=3885;f++)C[f]=0;for(f=3890;f<=3893;f++)C[f]=0;for(f=3907;f<=3912;f++)C[f]=0;for(f=3942;f<=3950;f++)C[f]=0;for(f=3968;f<=3970;f++)C[f]=0;for(f=3973;f<=3976;f++)C[f]=0;for(f=3986;f<=3989;f++)C[f]=0;for(f=3994;f<=3997;f++)C[f]=0;for(f=4048;f<=4051;f++)C[f]=0;for(f=4056;f<=4063;f++)C[f]=0;for(f=4093;f<=4096;f++)C[f]=0;for(f=4390;f<=4398;f++)C[f]=0;for(f=4399;f<=4413;f++)C[f]=2;for(f=4418;f<=4433;f++)C[f]=2;for(f=4455;f<=4457;f++)C[f]=2;for(f=4484;f<=4489;f++)C[f]=0;for(f=4491;f<=4554;f++)C[f]=0;for(f=4568;f<=4589;f++)C[f]=0;for(f=4652;f<=4656;f++)C[f]=0;for(f=4766;f<=4800;f++)C[f]=0;for(f=5014;f<=5016;f++)C[f]=0;for(f=5069;f<=5072;f++)C[f]=0;for(f=5105;f<=5130;f++)C[f]=0;for(f=5167;f<=5188;f++)C[f]=0;for(f=5253;f<=5259;f++)C[f]=0;for(f=5269;f<=5275;f++)C[f]=0;for(f=5292;f<=5311;f++)C[f]=0;for(f=5329;f<=5331;f++)C[f]=0;for(f=5343;f<=5349;f++)C[f]=0;for(f=5355;f<=5357;f++)C[f]=0;for(f=5387;f<=5389;f++)C[f]=0;for(f=5459;f<=5463;f++)C[f]=0;for(f=5479;f<=5482;f++)C[f]=0;for(f=5518;f<=5520;f++)C[f]=0;for(f=5530;f<=5539;f++)C[f]=0;for(f=5550;f<=5552;f++)C[f]=0;for(f=5562;f<=5583;f++)C[f]=0;for(f=5623;f<=5625;f++)C[f]=2;for(f=5631;f<=5639;f++)C[f]=0;for(f=5649;f<=5653;f++)C[f]=0;for(f=5663;f<=5680;f++)C[f]=0;for(f=5682;f<=5685;f++)C[f]=0;for(f=5875;f<=5877;f++)C[f]=0;for(f=5896;f<=5899;f++)C[f]=0;for(f=5921;f<=5940;f++)C[f]=0;for(f=6050;f<=6125;f++)C[f]=0;for(f=6244;f<=6275;f++)C[f]=0;for(f=6328;f<=6348;f++)C[f]=0;for(f=6350;f<=6356;f++)C[f]=0;for(f=6366;f<=6372;f++)C[f]=0;for(f=6381;f<=6387;f++)C[f]=0;for(f=6393;f<=6404;f++)C[f]=0;for(f=6480;f<=6483;f++)C[f]=0;for(f=6511;f<=6514;f++)C[f]=0;for(f=6579;f<=6581;f++)C[f]=0;for(f=6619;f<=6624;f++)C[f]=0;for(f=6625;f<=6627;f++)C[f]=2;for(f=6628;f<=6632;f++)C[f]=0;for(f=6634;f<=6637;f++)C[f]=0;for(f=6669;f<=6692;f++)C[f]=0;for(f=6707;f<=6709;f++)C[f]=0;for(f=6720;f<=6723;f++)C[f]=0;for(f=6732;f<=6738;f++)C[f]=0;for(f=6931;f<=6933;f++)C[f]=0;for(f=6956;f<=6959;f++)C[f]=0;for(f=7005;f<=7007;f++)C[f]=0;for(f=7057;f<=7070;f++)C[f]=2;for(f=7074;f<=7082;f++)C[f]=0;for(f=7109;f<=7118;f++)C[f]=0;for(f=7119;f<=7127;f++)C[f]=1;for(f=7374;f<=7376;f++)C[f]=0;for(f=7528;f<=7586;f++)C[f]=0;for(f=7587;f<=7645;f++)C[f]=2;for(f=7692;f<=7696;f++)C[f]=0;for(f=7755;f<=7787;f++)C[f]=0;for(f=7791;f<=7795;f++)C[f]=0;for(f=7799;f<=7801;f++)C[f]=0;for(f=7803;f<=7805;f++)C[f]=0;for(f=7825;f<=7831;f++)C[f]=0;for(f=7845;f<=7859;f++)C[f]=0;for(f=8013;f<=8032;f++)C[f]=0;for(f=8065;f<=8068;f++)C[f]=1;for(f=8518;f<=8529;f++)C[f]=2;for(f=8533;f<=8536;f++)C[f]=2;for(f=8538;f<=8540;f++)C[f]=2;for(f=8677;f<=8679;f++)C[f]=0;for(f=8836;f<=8840;f++)C[f]=0;for(f=8857;f<=8859;f++)C[f]=0;for(f=8908;f<=8910;f++)C[f]=0;for(f=9154;f<=9159;f++)C[f]=0;for(f=9205;f<=9218;f++)C[f]=0;for(f=9271;f<=9273;f++)C[f]=0;for(f=9295;f<=9297;f++)C[f]=0;for(f=9356;f<=9360;f++)C[f]=0;for(f=9404;f<=9407;f++)C[f]=0;for(f=9476;f<=9482;f++)C[f]=0;for(f=9487;f<=9494;f++)C[f]=0;for(f=9697;f<=9699;f++)C[f]=0;for(f=9821;f<=9865;f++)C[f]=0;for(f=10285;f<=10291;f++)C[f]=0;for(f=10314;f<=10317;f++)C[f]=0;for(f=10448;f<=10465;f++)C[f]=0;for(f=10731;f<=10733;f++)C[f]=0;for(f=11114;f<=11118;f++)C[f]=0;for(f=20004;f<=20032;f++)C[f]=0;for(f=20047;f<=20049;f++)C[f]=0;for(f=20062;f<=20092;f++)C[f]=0;for(f=20135;f<=20138;f++)C[f]=0;for(f=20248;f<=20258;f++)C[f]=0;for(f=20348;f<=20358;f++)C[f]=0;for(f=20436;f<=20440;f++)C[f]=0;for(f=20822;f<=20824;f++)C[f]=0;for(f=20904;f<=20932;f++)C[f]=0;for(f=20934;f<=20936;f++)C[f]=0;for(f=21004;f<=21032;f++)C[f]=0;for(f=21035;f<=21037;f++)C[f]=0;for(f=21095;f<=21097;f++)C[f]=0;for(f=21148;f<=21150;f++)C[f]=0;for(f=21207;f<=21264;f++)C[f]=0;for(f=21307;f<=21364;f++)C[f]=0;for(f=21413;f<=21423;f++)C[f]=0;for(f=21453;f<=21463;f++)C[f]=0;for(f=21473;f<=21483;f++)C[f]=0;for(f=21780;f<=21782;f++)C[f]=0;for(f=21891;f<=21894;f++)C[f]=0;for(f=21896;f<=21899;f++)C[f]=0;for(f=22171;f<=22177;f++)C[f]=0;for(f=22181;f<=22187;f++)C[f]=0;for(f=22191;f<=22197;f++)C[f]=0;for(f=22207;f<=22222;f++)C[f]=0;for(f=22229;f<=22232;f++)C[f]=0;for(f=22234;f<=22236;f++)C[f]=0;for(f=22243;f<=22250;f++)C[f]=0;for(f=22262;f<=22265;f++)C[f]=0;for(f=22307;f<=22322;f++)C[f]=0;for(f=22348;f<=22357;f++)C[f]=0;for(f=22407;f<=22422;f++)C[f]=0;for(f=22462;f<=22465;f++)C[f]=0;for(f=22521;f<=22525;f++)C[f]=0;for(f=22607;f<=22622;f++)C[f]=0;for(f=22641;f<=22646;f++)C[f]=0;for(f=22648;f<=22657;f++)C[f]=0;for(f=22707;f<=22722;f++)C[f]=0;for(f=22762;f<=22765;f++)C[f]=0;for(f=22807;f<=22822;f++)C[f]=0;for(f=22991;f<=22994;f++)C[f]=0;for(f=23028;f<=23038;f++)C[f]=0;for(f=23301;f<=23333;f++)C[f]=2;for(f=23830;f<=23853;f++)C[f]=0;for(f=23866;f<=23872;f++)C[f]=0;for(f=23877;f<=23884;f++)C[f]=0;for(f=23886;f<=23894;f++)C[f]=0;for(f=23946;f<=23948;f++)C[f]=0;for(f=24311;f<=24313;f++)C[f]=0;for(f=24342;f<=24347;f++)C[f]=0;for(f=24370;f<=24374;f++)C[f]=10;for(f=24375;f<=24381;f++)C[f]=0;for(f=24718;f<=24721;f++)C[f]=0;for(f=24817;f<=24821;f++)C[f]=0;for(f=24877;f<=24882;f++)C[f]=0;for(f=24891;f<=24893;f++)C[f]=0;for(f=25391;f<=25395;f++)C[f]=0;for(f=25828;f<=25838;f++)C[f]=0;for(f=26191;f<=26195;f++)C[f]=0;for(f=26391;f<=26393;f++)C[f]=0;for(f=26701;f<=26722;f++)C[f]=0;for(f=26729;f<=26799;f++)C[f]=2;for(f=26801;f<=26803;f++)C[f]=2;for(f=26811;f<=26813;f++)C[f]=2;for(f=26847;f<=26870;f++)C[f]=2;for(f=26891;f<=26899;f++)C[f]=0;for(f=26901;f<=26923;f++)C[f]=0;for(f=26929;f<=26946;f++)C[f]=0;for(f=26948;f<=26998;f++)C[f]=0;for(f=27037;f<=27040;f++)C[f]=0;for(f=27205;f<=27232;f++)C[f]=0;for(f=27258;f<=27260;f++)C[f]=0;for(f=27391;f<=27398;f++)C[f]=0;for(f=27561;f<=27564;f++)C[f]=0;for(f=27571;f<=27574;f++)C[f]=0;for(f=27581;f<=27584;f++)C[f]=0;for(f=27591;f<=27594;f++)C[f]=0;for(f=27700;f<=27707;f++)C[f]=0;for(f=28191;f<=28193;f++)C[f]=0;for(f=28348;f<=28358;f++)C[f]=0;for(f=28402;f<=28432;f++)C[f]=0;for(f=28462;f<=28492;f++)C[f]=0;for(f=29118;f<=29122;f++)C[f]=0;for(f=29168;f<=29172;f++)C[f]=0;for(f=29177;f<=29185;f++)C[f]=0;for(f=29187;f<=29195;f++)C[f]=0;for(f=29900;f<=29903;f++)C[f]=0;for(f=30161;f<=30179;f++)C[f]=0;for(f=30491;f<=30494;f++)C[f]=0;for(f=30729;f<=30732;f++)C[f]=0;for(f=31251;f<=31259;f++)C[f]=0;for(f=31265;f<=31268;f++)C[f]=0;for(f=31275;f<=31279;f++)C[f]=0;for(f=31281;f<=31297;f++)C[f]=0;for(f=31461;f<=31469;f++)C[f]=0;for(f=31491;f<=31495;f++)C[f]=0;for(f=31917;f<=31922;f++)C[f]=0;for(f=31965;f<=32e3;f++)C[f]=0;for(f=32001;f<=32003;f++)C[f]=2;for(f=32005;f<=32031;f++)C[f]=2;for(f=32033;f<=32060;f++)C[f]=2;for(f=32064;f<=32067;f++)C[f]=2;for(f=32074;f<=32077;f++)C[f]=2;for(f=32081;f<=32086;f++)C[f]=0;for(f=32107;f<=32130;f++)C[f]=0;for(f=32133;f<=32159;f++)C[f]=0;for(f=32164;f<=32167;f++)C[f]=2;for(f=32180;f<=32199;f++)C[f]=0;for(f=32201;f<=32260;f++)C[f]=0;for(f=32301;f<=32360;f++)C[f]=0;for(f=32401;f<=32460;f++)C[f]=0;for(f=32501;f<=32560;f++)C[f]=0;for(f=32601;f<=32662;f++)C[f]=0;for(f=32664;f<=32667;f++)C[f]=2;for(f=32701;f<=32761;f++)C[f]=0;for(f=53001;f<=53004;f++)C[f]=0;for(f=53008;f<=53019;f++)C[f]=0;for(f=53021;f<=53032;f++)C[f]=0;for(f=53034;f<=53037;f++)C[f]=0;for(f=53042;f<=53046;f++)C[f]=0;for(f=53074;f<=53080;f++)C[f]=0;for(f=54001;f<=54004;f++)C[f]=0;for(f=54008;f<=54019;f++)C[f]=0;for(f=54021;f<=54032;f++)C[f]=0;for(f=54034;f<=54037;f++)C[f]=0;for(f=54042;f<=54046;f++)C[f]=0;for(f=54048;f<=54053;f++)C[f]=0;for(f=54074;f<=54080;f++)C[f]=0;for(f=54098;f<=54101;f++)C[f]=0;for(f=102001;f<=102040;f++)C[f]=0;for(f=102042;f<=102063;f++)C[f]=0;for(f=102065;f<=102067;f++)C[f]=0;for(f=102070;f<=102117;f++)C[f]=0;for(f=102122;f<=102216;f++)C[f]=0;for(f=102221;f<=102377;f++)C[f]=0;for(f=102382;f<=102388;f++)C[f]=0;for(f=102389;f<=102398;f++)C[f]=2;for(f=102399;f<=102444;f++)C[f]=0;for(f=102445;f<=102447;f++)C[f]=2;for(f=102448;f<=102458;f++)C[f]=0;for(f=102459;f<=102468;f++)C[f]=2;for(f=102469;f<=102499;f++)C[f]=0;for(f=102500;f<=102519;f++)C[f]=1;for(f=102520;f<=102524;f++)C[f]=0;for(f=102525;f<=102529;f++)C[f]=2;for(f=102530;f<=102588;f++)C[f]=0;for(f=102590;f<=102598;f++)C[f]=0;for(f=102601;f<=102603;f++)C[f]=0;for(f=102605;f<=102628;f++)C[f]=0;for(f=102629;f<=102646;f++)C[f]=2;for(f=102648;f<=102700;f++)C[f]=2;for(f=102701;f<=102703;f++)C[f]=0;for(f=102707;f<=102730;f++)C[f]=2;for(f=102733;f<=102758;f++)C[f]=2;for(f=102767;f<=102900;f++)C[f]=0;for(f=102901;f<=102933;f++)C[f]=2;for(f=102934;f<=102950;f++)C[f]=13;for(f=102951;f<=102963;f++)C[f]=0;for(f=102965;f<=102969;f++)C[f]=0;for(f=102971;f<=102973;f++)C[f]=0;for(f=102975;f<=102989;f++)C[f]=0;for(f=102990;f<=102992;f++)C[f]=1;for(f=102997;f<=103002;f++)C[f]=0;for(f=103003;f<=103008;f++)C[f]=2;for(f=103009;f<=103011;f++)C[f]=0;for(f=103012;f<=103014;f++)C[f]=2;for(f=103019;f<=103021;f++)C[f]=0;for(f=103022;f<=103024;f++)C[f]=2;for(f=103029;f<=103031;f++)C[f]=0;for(f=103032;f<=103034;f++)C[f]=2;for(f=103065;f<=103068;f++)C[f]=0;for(f=103074;f<=103076;f++)C[f]=0;for(f=103077;f<=103079;f++)C[f]=1;for(f=103080;f<=103082;f++)C[f]=0;for(f=103083;f<=103085;f++)C[f]=2;for(f=103090;f<=103093;f++)C[f]=0;for(f=103097;f<=103099;f++)C[f]=0;for(f=103100;f<=103102;f++)C[f]=2;for(f=103107;f<=103109;f++)C[f]=0;for(f=103110;f<=103112;f++)C[f]=2;for(f=103113;f<=103116;f++)C[f]=0;for(f=103117;f<=103120;f++)C[f]=2;for(f=103153;f<=103157;f++)C[f]=0;for(f=103158;f<=103162;f++)C[f]=2;for(f=103163;f<=103165;f++)C[f]=0;for(f=103166;f<=103168;f++)C[f]=1;for(f=103169;f<=103171;f++)C[f]=2;for(f=103186;f<=103188;f++)C[f]=0;for(f=103189;f<=103191;f++)C[f]=2;for(f=103192;f<=103195;f++)C[f]=0;for(f=103196;f<=103199;f++)C[f]=2;for(f=103200;f<=103224;f++)C[f]=0;for(f=103225;f<=103227;f++)C[f]=1;for(f=103232;f<=103237;f++)C[f]=0;for(f=103238;f<=103243;f++)C[f]=2;for(f=103244;f<=103246;f++)C[f]=0;for(f=103247;f<=103249;f++)C[f]=2;for(f=103254;f<=103256;f++)C[f]=0;for(f=103257;f<=103259;f++)C[f]=2;for(f=103264;f<=103266;f++)C[f]=0;for(f=103267;f<=103269;f++)C[f]=2;for(f=103300;f<=103375;f++)C[f]=0;for(f=103381;f<=103383;f++)C[f]=0;for(f=103384;f<=103386;f++)C[f]=1;for(f=103387;f<=103389;f++)C[f]=0;for(f=103390;f<=103392;f++)C[f]=2;for(f=103397;f<=103399;f++)C[f]=0;for(f=103400;f<=103471;f++)C[f]=2;for(f=103476;f<=103478;f++)C[f]=0;for(f=103479;f<=103481;f++)C[f]=2;for(f=103486;f<=103488;f++)C[f]=0;for(f=103489;f<=103491;f++)C[f]=2;for(f=103492;f<=103495;f++)C[f]=0;for(f=103496;f<=103499;f++)C[f]=2;for(f=103528;f<=103543;f++)C[f]=0;for(f=103544;f<=103548;f++)C[f]=2;for(f=103549;f<=103551;f++)C[f]=0;for(f=103552;f<=103554;f++)C[f]=1;for(f=103555;f<=103557;f++)C[f]=2;for(f=103558;f<=103560;f++)C[f]=0;for(f=103571;f<=103573;f++)C[f]=0;for(f=103574;f<=103576;f++)C[f]=2;for(f=103577;f<=103580;f++)C[f]=0;for(f=103581;f<=103583;f++)C[f]=2;for(f=103595;f<=103694;f++)C[f]=0;for(f=103696;f<=103699;f++)C[f]=0;for(f=103700;f<=103793;f++)C[f]=2;for(f=103794;f<=103890;f++)C[f]=0;for(f=103891;f<=103896;f++)C[f]=2;for(f=103900;f<=103971;f++)C[f]=2;for(f=103972;f<=103977;f++)C[f]=0;for(f=112e3;f<=112101;f++)C[f]=0;const SG=[102100,102113,3857,3785,900913],mye=[104905,104971],yye=[4326,...SG,...mye],l0=[-20037508342788905e-9,20037508342788905e-9],LI=[-20037508342787e-6,20037508342787e-6],D$={wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:l0,origin:LI,dx:1e-5},xG={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:l0,origin:LI,dx:1e-5},102100:D$,3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:l0,origin:LI,dx:1e-5},3857:D$,4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},900913:D$};function ui(e,t){if(e===t)return!0;if(e==null||t==null)return!1;const n=e.wkid,i=t.wkid;if(n!=null||i!=null){if(n===i||Ea(e)&&Ea(t))return!0;const o=e.latestWkid;if(o!=null&&i===o)return!0;const a=t.latestWkid;return a!=null&&n===a}let r,s;return e.wkt2&&t.wkt2?(r=e.wkt2,s=t.wkt2):e.wkt&&t.wkt&&(r=e.wkt,s=t.wkt),!(!r||!s)&&r.toUpperCase()===s.toUpperCase()}function xr(e){const t=e?.wkid;return t!=null&&t>=2e3&&xG[t]||null}function $G(e){if(!e)return;const{wkid:t,vcsWkid:n}=e;if(t)return n?JSON.stringify({wkid:t,vcsWkid:n}):String(t);const i=e.wkt||e.wkt2;return JSON.stringify(i?n?{wkt:i,vcsWkid:n}:{wkt:i}:{})}function ay(e){if(!ps(e))return!1;const{wkid:t}=e;if(t)return C[t]==null;const n=e.wkt2||e.wkt;return!!n&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(n)}function gye(e){return!(TG(e)||EG(e))}function Oh(e){return e?.wkid===4326}function e8e(e){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(e)}function OD(e){return e?.wkid===Lh.CGCS2000}function Ea(e){const t=e?.wkid;return t!=null&&t>=2e3&&SG.includes(t)}function vye(e){return e?.wkid===32662}function ex(e){return e===Lh.GCSMARS2000||e===Lh.GCSMARS2000_SPHERE}function TG(e){return ex(e?.wkid)}function tx(e){return e===Lh.GCSMOON2000}function EG(e){return tx(e?.wkid)}function bye(e){const t=e?.wkid;return t!=null&&t>=2e3&&yye.includes(t)}function ps(e){if(e==null)return!1;const t=e.wkid;return t!=null&&t>=2e3||e.wkt2!=null||e.wkt!=null}const IG={wkid:4326,wkt:J0(xG[4326].wkTemplate,{Central_Meridian:"0.0"})},CG={wkid:102100,latestWkid:3857},wye={wkid:32662};function AL(e){return{wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${e.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`}}const _ye=AL(_n),PL=AL(Sa),LL=AL(dc),Sye={wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${_n.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`},xye=PL.wkt.toUpperCase(),$ye=LL.wkt.toUpperCase();function Tye(e){if(e!=null&&ps(e)){const t=e.wkid,n=e.wkt2??e.wkt;if(ex(t))return Sa;const i=n?.toUpperCase();if(n&&i===xye)return Sa;if(tx(t)||i&&i===$ye)return dc}return _n}function t8e(e){return ex(e)?Sa:tx(e)?dc:_n}function cS(e){return ui(e,_ye)}function pc(e){return cS(e)||ui(e,PL)||ui(e,LL)}const MG=39.37,Eye=_n.radius*Math.PI/200,kG=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,Em=C,AG=/UNIT\[([^\]]+)]/i,Iye=new Set([4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104025,104026,104139,104140]),Cye=Ii()({millimeter:"millimeters",centimeter:"centimeters",meter:"meters",meter_german:"german-meters",kilometer:"kilometers",decimeter:"decimeters",micrometer:"micrometers",nanometer:"nanometers","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",fathom:"fathoms",nautical_mile:"nautical-miles",chain_us:"us-chains",link_us:"us-links",mile_us:"us-miles",yard_clarke:"clarke-yards",chain_clarke:"clarke-chains",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",link_sears:"sears-links",yard_benoit_1895_a:"benoit-1895-a-yards",foot_benoit_1895_a:"benoit-1895-a-feet",chain_benoit_1895_a:"benoit-1895-a-chains",link_benoit_1895_a:"benoit-1895-a-links",yard_benoit_1895_b:"benoit-1895-b-yards",foot_benoit_1895_b:"benoit-1895-b-feet",chain_benoit_1895_b:"benoit-1895-b-chains",link_benoit_1895_b:"benoit-1895-b-links",foot_1865:"1865-feet",foot_indian:"indian-feet",foot_indian_1937:"indian-1937-feet",foot_indian_1962:"indian-1962-feet",foot_indian_1975:"indian-1975-feet",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",yard_indian_1962:"indian-1962-yards",yard_indian_1975:"indian-1975-yards",statute_mile:"statute-miles",foot_gold_coast:"gold-coast-feet",foot_british_1936:"british-1936-feet",yard:"yards",chain:"chains",link:"links",yard_sears_1922_truncated:"sears-1922-truncated-yards",foot_sears_1922_truncated:"sears-1922-truncated-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains",link_sears_1922_truncated:"sears-1922-truncated-links",yard_us:"us-yards",inch:"inches",inch_us:"us-inches",rod:"rods",rod_us:"us-rods",nautical_mile_us:"us-nautical-miles",nautical_mile_uk:"uk-nautical-miles",smoot:"smoots",vara_tx:"tx-vara",point:"points"}),uo=e=>e*e,eu=e=>e*e*e,u0={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},meters:{inBaseUnits:1},feet:{inBaseUnits:.3048},"us-feet":{inBaseUnits:.3048006096012192},"clarke-feet":{inBaseUnits:.3047972654},fathoms:{inBaseUnits:1.8288},"nautical-miles":{inBaseUnits:1852},"german-meters":{inBaseUnits:1.0000135965},"us-chains":{inBaseUnits:20.11684023368047},"us-links":{inBaseUnits:.2011684023368047},"us-miles":{inBaseUnits:1609.347218694438},kilometers:{inBaseUnits:1e3},"clarke-yards":{inBaseUnits:.9143917962},"clarke-chains":{inBaseUnits:20.1166195164},"clarke-links":{inBaseUnits:.201166195164},"sears-yards":{inBaseUnits:.9143984146160287},"sears-feet":{inBaseUnits:.3047994715386762},"sears-chains":{inBaseUnits:20.11676512155263},"sears-links":{inBaseUnits:.2011676512155263},"benoit-1895-a-yards":{inBaseUnits:.9143992},"benoit-1895-a-feet":{inBaseUnits:.3047997333333333},"benoit-1895-a-chains":{inBaseUnits:20.1167824},"benoit-1895-a-links":{inBaseUnits:.201167824},"benoit-1895-b-yards":{inBaseUnits:.9143992042898124},"benoit-1895-b-feet":{inBaseUnits:.3047997347632708},"benoit-1895-b-chains":{inBaseUnits:20.11678249437587},"benoit-1895-b-links":{inBaseUnits:.2011678249437587},"1865-feet":{inBaseUnits:.3048008333333334},"indian-feet":{inBaseUnits:.3047995102481469},"indian-1937-feet":{inBaseUnits:.30479841},"indian-1962-feet":{inBaseUnits:.3047996},"indian-1975-feet":{inBaseUnits:.3047995},"indian-yards":{inBaseUnits:.9143985307444408},"indian-1937-yards":{inBaseUnits:.91439523},"indian-1962-yards":{inBaseUnits:.9143988},"indian-1975-yards":{inBaseUnits:.9143985},miles:{inBaseUnits:1609.344},"statute-miles":{inBaseUnits:1609.344},"gold-coast-feet":{inBaseUnits:.3047997101815088},"british-1936-feet":{inBaseUnits:.3048007491},yards:{inBaseUnits:.9144},chains:{inBaseUnits:20.1168},links:{inBaseUnits:.201168},"sears-1922-truncated-yards":{inBaseUnits:.914398},"sears-1922-truncated-feet":{inBaseUnits:.3047993333333334},"sears-1922-truncated-chains":{inBaseUnits:20.116756},"sears-1922-truncated-links":{inBaseUnits:.20116756},"us-yards":{inBaseUnits:.9144018288036576},decimeters:{inBaseUnits:.1},inches:{inBaseUnits:.0254},"us-inches":{inBaseUnits:.0254000508001016},rods:{inBaseUnits:5.0292},"us-rods":{inBaseUnits:5.029210058420118},"us-nautical-miles":{inBaseUnits:1853.248},"uk-nautical-miles":{inBaseUnits:1853.184},smoots:{inBaseUnits:1.7018},"tx-vara":{inBaseUnits:.8466683600033867},points:{inBaseUnits:.0003527777777777778},micrometers:{inBaseUnits:1e-6},nanometers:{inBaseUnits:1e-9},"50-kilometers":{inBaseUnits:5e4},"150-kilometers":{inBaseUnits:15e4}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:uo(.001)},"square-centimeters":{inBaseUnits:uo(.01)},"square-decimeters":{inBaseUnits:uo(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:uo(1e3)},"square-inches":{inBaseUnits:uo(.0254)},"square-feet":{inBaseUnits:uo(.3048)},"square-yards":{inBaseUnits:uo(.9144)},"square-miles":{inBaseUnits:uo(1609.344)},"square-nautical-miles":{inBaseUnits:uo(1852)},"square-us-feet":{inBaseUnits:uo(1200/3937)},acres:{inBaseUnits:.0015625*uo(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*eu(.001)},"cubic-centimeters":{inBaseUnits:1e3*eu(.01)},"cubic-decimeters":{inBaseUnits:1e3*eu(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*eu(1e3)},"cubic-inches":{inBaseUnits:1e3*eu(.0254)},"cubic-feet":{inBaseUnits:1e3*eu(.3048)},"cubic-yards":{inBaseUnits:1e3*eu(.9144)},"cubic-miles":{inBaseUnits:1e3*eu(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},Mye=(()=>{const e={};for(const t in u0)for(const n in u0[t].units)e[n]=t;return e})();function kye(e,t,n){return e*u0[n].units[t].inBaseUnits}function Aye(e,t,n){return e/u0[n].units[t].inBaseUnits}const PG=["metric","imperial","inches","feet","yards","miles","nautical-miles","us-feet","meters","kilometers"],Pye=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);function OI(e){const t=Mye[e];if(!t)throw new Error("unknown type");return t}function RD(e,t=null){return t=t||OI(e),u0[t].baseUnit===e}function Mn(e,t,n){if(t===n)return e;const i=OI(t);if(i!==OI(n))throw new Error("incompatible units");const r=RD(t,i)?e:kye(e,t,i);return RD(n,i)?r:Aye(r,n,i)}function n8e(e,t,n,i=!1){if(!i&&ay(t))throw new Error("Unable to convert from an angular unit to a linear unit.");const r=op(t);return r!==n&&(e=r?Mn(e,r,n):Mn(e*=no(t),"meters",n)),e}function i8e(e,t,n,i=!1){if(!i&&ay(n))throw new Error("Unable to convert from a linear unit to an angular unit.");const r=op(n);return t!==r&&(e=r?Mn(e,t,r):Mn(e,t,"meters")/no(n)),e}function Lye(e){switch(e){case"metric":return"meters";case"imperial":return"feet";default:return e}}function r8e(e){return Lye(e)}function s8e(e){switch(e){case"metric":return"square-meters";case"imperial":return"square-feet";default:return e}}function o8e(e,t){const n=Mn(e,t,"meters");return Math.abs(n)<3e3?"meters":"kilometers"}function a8e(e,t){const n=Mn(e,t,"meters");return Math.abs(n)<1e5?"meters":"kilometers"}function l8e(e,t){const n=Mn(e,t,"feet");return Math.abs(n)<1e3?"feet":"miles"}function u8e(e,t){const n=Mn(e,t,"feet");return Math.abs(n)<1e5?"feet":"miles"}function c8e(e,t){const n=Mn(e,t,"square-meters");return Math.abs(n)<3e6?"square-meters":"square-kilometers"}function d8e(e,t){const n=Mn(e,t,"square-feet");return Math.abs(n)<1e6?"square-feet":"square-miles"}function Oye(e,t,n){return Mn(e,t,"meters")/(n*Math.PI/180)}function OL(e){return Cye.fromJSON(e.toLowerCase())||null}function dS(e){if(e!=null&&!gye(e))return 1;const t=no(e);return t>1e5?1:t}function LG(e){return no(e)>=Tye(e).metersPerDegree?"meters":op(e)}function no(e,t=_n.metersPerDegree){return Rye(e,!0)??t}function Rye(e,t=!1){const n=e?.wkid??null,i=e?.wkt2??e?.wkt??null;let r=null;if(n){if(ex(n))return Sa.metersPerDegree;if(tx(n))return dc.metersPerDegree;r=Em.values[Em[n]],!r&&t&&Iye.has(n)&&(r=Eye)}else i&&(NG(i)?r=ND(kG.exec(i),r):RG(i)&&(r=ND(AG.exec(i),r)));return r}function h8e(e){return ay(e)?1:no(e)}function ND(e,t){return e?.[1]?OG(e[1]):t}function OG(e){return parseFloat(e.split(",")[1])}function op(e){const t=e?.wkid??null,n=e?.wkt2??e?.wkt??null;let i=null;if(t)i=Em.units[Em[t]];else if(n){const r=NG(n)?kG:RG(n)?AG:null;if(r){const s=r.exec(n);s?.[1]&&(i=Dye(s[1]))}}return i!=null?OL(i):null}function p8e(e){const t=op(e);return t!=null&&PG.includes(t)?t:null}function f8e(e){const t=LG(e);return t!=null&&PG.includes(t)?t:null}function m8e(e){const t=op(e);return t==null?null:Pye.get(t)}function RG(e){return/^GEOCCS/i.test(e)}function NG(e){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(e)}const Nye=1e-7;function Dye(e){let n=/[\\"']{1}([^\\"']+)/.exec(e)?.[1];if(!n||!OL(n)){const i=OG(e);n=null;const r=Em.values;for(let s=0;s<r.length;++s)if(Math.abs(i-r[s])<Nye){n=Em.units[s];break}}return n}function y8e(e){const t=op(e);if(t==null)return null;switch(t){case"feet":case"us-feet":case"clarke-feet":case"fathoms":case"nautical-miles":case"us-chains":case"us-links":case"us-miles":case"clarke-yards":case"clarke-chains":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"sears-links":case"benoit-1895-a-yards":case"benoit-1895-a-feet":case"benoit-1895-a-chains":case"benoit-1895-a-links":case"benoit-1895-b-yards":case"benoit-1895-b-feet":case"benoit-1895-b-chains":case"benoit-1895-b-links":case"1865-feet":case"indian-feet":case"indian-1937-feet":case"indian-1962-feet":case"indian-1975-feet":case"indian-yards":case"indian-1937-yards":case"indian-1962-yards":case"indian-1975-yards":case"statute-miles":case"gold-coast-feet":case"british-1936-feet":case"yards":case"chains":case"links":case"sears-1922-truncated-yards":case"sears-1922-truncated-feet":case"sears-1922-truncated-chains":case"sears-1922-truncated-links":case"us-yards":case"inches":case"us-inches":case"rods":case"us-rods":case"us-nautical-miles":case"uk-nautical-miles":case"smoots":case"tx-vara":case"points":return"imperial";case"millimeters":case"centimeters":case"meters":case"german-meters":case"kilometers":case"decimeters":case"micrometers":case"nanometers":case"50-kilometers":case"150-kilometers":return"metric"}return null}const Vye={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},Fye={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},jye={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},zye=Ii()(Vye),Bye=Ii()(Fye),g8e=Ii()(jye);var Ko;let Ot=Ko=class extends te{static fromJSON(e){if(!e)return null;if(e?.wkid===102100)return Ko.WebMercator;if(e?.wkid===4326)return Ko.WGS84;const t=new Ko;return t.read(e),t}constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(e){return e&&typeof e=="object"?e:{[typeof e=="string"?"wkt":"wkid"]:e}}get isWGS84(){return Oh(this)}get isWebMercator(){return Ea(this)}get isGeographic(){return ay(this)}get isWrappable(){return bye(this)}get metersPerUnit(){return no(this)}get unit(){return op(this)||(this.isGeographic?"degrees":null)}writeWkt(e,t){this.wkid||(t.wkt=e)}clone(){if(this===Ko.WGS84)return new Ko(IG);if(this===Ko.WebMercator)return new Ko(CG);const e=new Ko;return this.wkid!=null?(e.wkid=this.wkid,this.latestWkid!=null&&(e.latestWkid=this.latestWkid),this.vcsWkid!=null&&(e.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(e.latestVcsWkid=this.latestVcsWkid)):(this.wkt!=null&&(e.wkt=this.wkt),this.wkt2!=null&&(e.wkt2=this.wkt2)),this.imageCoordinateSystem&&(e.imageCoordinateSystem=j(this.imageCoordinateSystem)),e}equals(e){if(e==null)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(this.imageCoordinateSystem==null||e.imageCoordinateSystem==null)return!1;const{id:t,referenceServiceName:n}=e.imageCoordinateSystem,{geodataXform:i}=e.imageCoordinateSystem,r=this.imageCoordinateSystem;return t==null||i?JSON.stringify(r)===JSON.stringify(e.imageCoordinateSystem):n?r.id===t&&r.referenceServiceName===n:r.id===t}return ui(this,e)}toJSON(e){return this.write(void 0,e)}};Ot.GCS_NAD_1927=null,Ot.WGS84=null,Ot.WebMercator=null,Ot.PlateCarree=null,u([d({readOnly:!0})],Ot.prototype,"isWGS84",null),u([d({readOnly:!0})],Ot.prototype,"isWebMercator",null),u([d({readOnly:!0})],Ot.prototype,"isGeographic",null),u([d({readOnly:!0})],Ot.prototype,"isWrappable",null),u([d({type:wt,json:{write:!0}})],Ot.prototype,"latestWkid",void 0),u([d({readOnly:!0})],Ot.prototype,"metersPerUnit",null),u([d({readOnly:!0})],Ot.prototype,"unit",null),u([d({type:wt,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt==null}}}}}}})],Ot.prototype,"wkid",void 0),u([d({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid==null}}}}}}})],Ot.prototype,"wkt",void 0),u([ge("wkt"),ge("web-scene","wkt")],Ot.prototype,"writeWkt",null),u([d({type:String,json:{write:!1}})],Ot.prototype,"wkt2",void 0),u([d({type:wt,json:{write:!0}})],Ot.prototype,"vcsWkid",void 0),u([d({type:wt,json:{write:!0}})],Ot.prototype,"latestVcsWkid",void 0),u([d()],Ot.prototype,"imageCoordinateSystem",void 0),Ot=Ko=u([k("esri.geometry.SpatialReference")],Ot),Ot.prototype.toJSON.isDefaultToJSON=!0,Ot.GCS_NAD_1927=Ce.freeze(new Ot({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'})),Ot.WGS84=Ce.freeze(new Ot(IG)),Ot.WebMercator=Ce.freeze(new Ot(CG)),Ot.PlateCarree=Ce.freeze(new Ot(wye));const et=Ot,Uye=()=>re.getLogger("esri.support.arcadeOnDemand"),Gye=["geometry","scale","timeProperties"];function v8e(e,t){if(t!=null)for(const n of Gye)t.hasArcadeDependency(n)&&e.add(n);return e}let V$;function Ia(){return V$||(V$=(async()=>{const e=await J(()=>import("./arcadeUtils-D3V9V4V6.js"),__vite__mapDeps([9,10,11,12,13,2,14,15,16,17,18,19,1,3]));return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature,Voxel:e.Voxel}})()),V$}const b8e=(e,t,n)=>DG.create(e,t,n,null,["$feature","$view"],[]),Hye=(e,t,n,i)=>DG.create(e,t,n,i,["$feature","$view"],[]);let DG=class VG{constructor(t,n,i,r,s,o,a){this._dependencies=new Map,this.services=null,this.script=t,this.evaluate=r;const l=Array.isArray(o)?o:o?.fields;this.fields=l??[],this._syntaxTree=i,this._arcade=n,this._arcadeFeature=s,this._spatialReference=a,this._dependencies.set("geometry",n.scriptTouchesGeometry(this._syntaxTree)),this._dependencies.set("scale",this._arcade.referencesMember(this._syntaxTree,"scale")),this._dependencies.set("timeProperties",this._arcade.scriptUsesViewProperties(this._syntaxTree,["timeProperties"]))}static async create(t,n,i,r,s,o){const{arcade:a,Feature:l,Dictionary:c}=await Ia(),h=n instanceof et?n:et.fromJSON(n);let p;try{p=a.parseScript(t,o)}catch(M){return Uye().error(new B("arcade-bad-expression","Failed to parse arcade script",{script:t,error:M})),null}const m=s.reduce((M,L)=>({...M,[L]:null}),{});let y=null;r!=null&&(y=new c(r),y.immutable=!0,m.$config=null);const g=a.scriptUsesGeometryEngine(p),v=g&&a.enableGeometrySupport(),b=a.scriptUsesFeatureSet(p)&&a.enableFeatureSetSupport(),w=a.scriptIsAsync(p),S=w&&a.enableAsyncSupport(),x={vars:m,spatialReference:h,useAsync:!!S};await Promise.all([v,b,S]);const E=new Set;await a.loadDependentModules(E,p,null,w,g);const $=new c;$.immutable=!1,$.setField("scale",0);const I=a.compileScript(p,x),A=(M,L)=>{const O=M.$view?.timeZone;if("$view"in M&&M.$view){let P;if($.setField("scale",typeof M.$view=="object"&&"scale"in M.$view?M.$view.scale:void 0),typeof M.$view=="object"&&"timeProperties"in M.$view&&M.$view.timeProperties!=null){const{currentStart:R,currentEnd:V}=M.$view.timeProperties;P=new c({currentStart:R!=null?O!=null?tw.epochToArcadeDate(R,O):tw.unknownEpochToArcadeDate(R):void 0,currentEnd:V!=null?O!=null?tw.epochToArcadeDate(V,O):tw.unknownEpochToArcadeDate(V):void 0,startIncluded:!0,endIncluded:!0})}$.setField("timeProperties",P),M.$view=$}return y&&(M.$config=y),I({vars:M,spatialReference:h,services:L,timeZone:O})};return new VG(t,a,p,A,new l,i,h)}repurposeFeature(t){return t.geometry&&!t.geometry.spatialReference&&(t.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(t.geometry,t.attributes,{fields:this.fields}),this._arcadeFeature}references(t){return this._dependencies.get(t)??!1}};const qye=/^([0-9_])/,Wye=/[^a-z0-9_\u0080-\uffff]+/gi;function Zye(e){return e==null?null:e.trim().replaceAll(Wye,"_").replace(qye,"F$1")||null}const Yye=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],Jye=["field","normalizationField"];function DD(e,t){if(e!=null&&t!=null){for(const n of Array.isArray(e)?e:[e])if(VD(Yye,n,t),"visualVariables"in n&&n.visualVariables)for(const i of n.visualVariables)VD(Jye,i,t)}}function VD(e,t,n){if(e)for(const i of e){const r=Y0(i,t),s=r&&typeof r!="function"&&n.get(r);s&&$i(i,s.name,t)}}function FG(e,t){if(e!=null&&t?.fields?.length)if("startField"in e){const n=t.get(e.startField),i=t.get(e.endField);e.startField=n?.name??null,e.endField=i?.name??null}else{const n=t.get(e.startTimeField),i=t.get(e.endTimeField);e.startTimeField=n?.name??null,e.endTimeField=i?.name??null}}const F$=new Set;function nx(e,t){return e&&t?(F$.clear(),Rh(F$,e,t),Array.from(F$).sort()):[]}function Rh(e,t,n){if(n)if(t?.fields?.length)if(n.includes("*"))for(const{name:i}of t.fields)e.add(i);else for(const i of n)$r(e,t,i);else{if(n.includes("*"))return e.clear(),void e.add("*");for(const i of n)i!=null&&e.add(i)}}function $r(e,t,n){if(typeof n=="string")if(t){const i=t.get(n);i&&e.add(i.name)}else e.add(n)}function w8e(e,t){return t==null||e==null?[]:t.includes("*")?(e.fields??[]).map(n=>n.name):t}function _8e(e,t,n=1){if(!t||!e)return[];if(t.includes("*"))return["*"];const i=nx(e,t);return i.length/e.fields.length>=n?["*"]:i}async function rr(e,t,n){if(!n)return;let i;const r=Xfe(n);if(r)i=[r];else{const{arcadeUtils:s}=await Ia();i=s.extractFieldNames(n,t?.fields?.map(o=>o.name))}for(const s of i)$r(e,t,s)}async function RL(e,t,n){if(n&&n!=="1=1"){const i=await aL(n,t);if(!i.isStandardized)throw new B("fieldUtils:collectFilterFields","Where clause is not standardized",{where:n});Rh(e,t,i.fieldNames)}}function Kye({displayField:e,fields:t}){return e||(t?.length?j$(t,"name-or-title")||j$(t,"unique-identifier")||j$(t,"type-or-category")||Xye(t):null)}function Xye(e){for(const t of e){if(!t?.name)continue;const n=t.name.toLowerCase();if(n.includes("name")||n.includes("title"))return t.name}return null}function j$(e,t){for(const n of e)if(n?.valueType&&n.valueType===t)return n.name;return null}async function S8e(e,t){if(!t)return;const n=t.elevationInfo?.featureExpressionInfo;return n?n.collectRequiredFields(e,t.fieldsIndex):void 0}function Qye(e,t,n){n.onStatisticExpression?rr(e,t,n.onStatisticExpression.expression):e.add(n.onStatisticField)}async function x8e(e,t,n){if(!t||!n||!("fields"in n))return;const i=[],r=n.popupTemplate;i.push(jG(e,t,r)),n.fields&&i.push(...n.fields.map(async s=>Qye(e,t.fieldsIndex,s))),await Promise.all(i)}async function $8e(e,t){const{fieldsIndex:n,trackInfo:i}=t;if(!t||!i||!n)return;const r=[i.latestObservations.renderer?.collectRequiredFields(e,n),i.previousObservations.renderer?.collectRequiredFields(e,n),i.trackLines.renderer?.collectRequiredFields(e,n)];i.popupTemplate&&r.push(jG(e,t,i.popupTemplate));for(const s of[i.latestObservations.labelingInfo,i.previousObservations.labelingInfo,i.trackLines.labelingInfo])if(s)for(const o of s)r.push(UG(e,n,o));await Promise.all(r)}async function jG(e,t,n){const i=[];n?.expressionInfos&&i.push(...n.expressionInfos.map(s=>rr(e,t.fieldsIndex,s.expression)));const r=n?.content;if(Array.isArray(r))for(const s of r)s.type==="expression"&&s.expressionInfo&&i.push(rr(e,t.fieldsIndex,s.expressionInfo.expression));await Promise.all(i)}async function T8e(e,t,n){t&&(t.timeInfo&&n?.timeExtent&&Rh(e,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&Rh(e,t.fieldsIndex,[t.floorInfo.floorField]),n?.where!=null&&await RL(e,t.fieldsIndex,n.where))}async function E8e(e,t,n){t&&n&&await Promise.all(n.map(i=>ege(e,t,i)))}async function ege(e,t,n){t&&n&&(n.valueExpression?await rr(e,t.fieldsIndex,n.valueExpression):n.field&&$r(e,t.fieldsIndex,n.field))}function I8e(e){return e?nx(e.fieldsIndex,zG(e)):[]}function tge(e){if(!e)return[];const t=e.geometryFieldsInfo;return t?nx(e.fieldsIndex,[t.shapeAreaField,t.shapeLengthField]):[]}async function C8e(e,t,n){if(!t||!n)return;const i=t.fieldsIndex;await Promise.all(n.filters.map(r=>RL(e,i,r.where)))}const nge=new Set(["oid","global-id","guid"]),ige=new Set(["oid","global-id"]),rge=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/perimeter/i,/objectid/i,/_i$/i];function sge(e){const t=new Set;BG(e).forEach(i=>t.add(i)),tge(e).forEach(i=>t.add(i.toLowerCase()));const n=e&&"infoFor3D"in e?e.infoFor3D:void 0;return n&&(Object.values(n.assetMapFieldRoles).forEach(i=>t.add(i.toLowerCase())),Object.values(n.transformFieldRoles).forEach(i=>t.add(i.toLowerCase()))),Array.from(t)}function zG(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;if(!t)return[];const{creationDateField:n,creatorField:i,editDateField:r,editorField:s}=t;return[n,i,r,s].filter(Boolean)}function BG(e){return zG(e).map(t=>t.toLowerCase())}function oge(e,t){return e.editable&&!nge.has(e.type)&&!BG(t).includes(e.name?.toLowerCase()??"")}function age(e,t){const n=e.name?.toLowerCase()??"";return!(t?.objectIdField!=null&&n===t.objectIdField.toLowerCase()||t?.globalIdField!=null&&n===t.globalIdField.toLowerCase()||sge(t).includes(n)||ige.has(e.type)||rge.some(i=>i.test(n)))}async function M8e(e,t){const{labelingInfo:n,fieldsIndex:i}=t;n?.length&&await Promise.all(n.map(r=>UG(e,i,r)))}async function UG(e,t,n){if(!n)return;const i=n.getLabelExpression(),r=n.where;if(i.type==="arcade")await rr(e,t,i.expression);else{const s=i.expression.match(/{[^}]*}/g);s&&s.forEach(o=>{$r(e,t,o.slice(1,-1))})}await RL(e,t,r)}function lge(e){const t=e.defaultValue;return t!==void 0&&HG(e,t)?t:e.nullable?null:void 0}function k8e(e){const t=typeof e=="string"?{type:e}:e;return ZG(t)?255:t.type==="esriFieldTypeDate"||t.type==="date"?8:void 0}function GG(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function uge(e){return e===null||GG(e)}function cge(e){return e===null||Number.isInteger(e)}function dge(){return!0}function HG(e,t){let n;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":n=e.nullable?cge:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":n=e.nullable?uge:GG;break;case"string":case"esriFieldTypeString":n=e.nullable?jhe:lb;break;default:n=dge}return arguments.length===1?n:n(t)}const hge=["integer","small-integer","big-integer"],pge=["single","double"],fge=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"],mge=["esriFieldTypeSingle","esriFieldTypeDouble"],qG=new Set([...hge,...fge]),yge=new Set([...pge,...mge]),gge=tL(qG,yge);function vge(e){return e!=null&&qG.has(e.type)}function WG(e){return e!=null&&gge.has(e.type)}function ZG(e){return e!=null&&(e.type==="string"||e.type==="esriFieldTypeString")}function NL(e){return e!=null&&(e.type==="date"||e.type==="esriFieldTypeDate")}function bge(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function wge(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function YG(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}function FD(e){return e!=null&&(e.type==="oid"||e.type==="esriFieldTypeOID")}function jD(e){return e!=null&&(e.type==="global-id"||e.type==="esriFieldTypeGlobalID")}function A8e(e,t){return _ge(e,t)===null}var hS,pS;function P8e(e){return e==null||typeof e=="number"&&isNaN(e)?null:e}function _ge(e,t){return e==null||e.nullable&&t===null?null:HG(e,t)?WG(e)&&!Sge(e.type,Number(t))?hS.OUT_OF_RANGE:null:pS.INVALID_TYPE}function Sge(e,t){const n=typeof e=="string"?JG(e):e;if(!n)return!1;const i=n.min,r=n.max;return n.isInteger?Number.isInteger(t)&&t>=i&&t<=r:t>=i&&t<=r}function JG(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return xge;case"esriFieldTypeInteger":case"integer":return $ge;case"esriFieldTypeBigInteger":case"big-integer":return Tge;case"esriFieldTypeSingle":case"single":return Ege;case"esriFieldTypeDouble":case"double":return Ige}}(function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(hS||(hS={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(pS||(pS={}));const xge={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},$ge={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},Tge={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},Ege={min:-34e37,max:12e37,isInteger:!1,rawMin:-34e37,rawMax:12e37},Ige={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function L8e(e,t,n){switch(e){case Q_.INVALID_CODED_VALUE:return`Value ${n} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case Q_.VALUE_OUT_OF_RANGE:return`Value ${n} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case pS.INVALID_TYPE:return`Value ${n} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case hS.OUT_OF_RANGE:{const{min:i,max:r}=JG(t.type);return`Value ${n} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${i} to ${r}`}}}function Cge(e,t){return!Mge(e,t,null)}function Mge(e,t,n){if(!t?.attributes||!e)return!0;const i=new Set(Object.keys(t.attributes));let r=!1;for(const s of e)if(!i.has(s)&&(r=!0,n==null))break;return r}function kge(e){return!!e&&["raster.itempixelvalue","raster.servicepixelvalue"].some(t=>e.toLowerCase().startsWith(t))}async function Age(e,t){const n=new Set;return e?.collectRequiredFields&&await e.collectRequiredFields(n,t),Array.from(n).sort()}function DL(e){const t=e?.match(/{[^}]+}/g);return t?t.map(n=>n.slice(1,-1).split(":")[0].trim()):[]}let p1=class extends te{constructor(t){super(t),this.type=null}};u([d({type:["attachments","custom","fields","media","text","expression","relationship","utility-network-associations"],readOnly:!0,json:{read:!1,write:!0}})],p1.prototype,"type",void 0),p1=u([k("esri.popup.content.Content")],p1);const Ul=p1,rw=new at({asc:"ascending",desc:"descending"});let tg=class extends ut.ClonableMixin(te){constructor(t){super(t),this.field=null,this.order="ascending"}};u([d({type:String,json:{write:!0}})],tg.prototype,"field",void 0),u([d({type:rw.apiValues,json:{type:rw.jsonValues,read:rw.read,write:rw.write}})],tg.prototype,"order",void 0),tg=u([k("esri.popup.support.AttachmentsOrderByInfo")],tg);const Pge=tg;let uu=class extends ut.ClonableMixin(Ul){constructor(t){super(t),this.description=null,this.displayType="auto",this.orderByFields=null,this.title=null,this.type="attachments"}};u([d({type:String,json:{write:!0}})],uu.prototype,"description",void 0),u([d({type:["auto","preview","list"],json:{write:!0}})],uu.prototype,"displayType",void 0),u([d({type:[Pge],json:{write:!0}})],uu.prototype,"orderByFields",void 0),u([d({type:String,json:{write:!0}})],uu.prototype,"title",void 0),u([d({type:["attachments"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],uu.prototype,"type",void 0),uu=u([k("esri.popup.content.AttachmentsContent")],uu);const Im=uu;var RI;let Qc=RI=class extends Ul{constructor(e){super(e),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new RI({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?j(this.outFields):null})}};u([d()],Qc.prototype,"creator",void 0),u([d()],Qc.prototype,"destroyer",void 0),u([d()],Qc.prototype,"outFields",void 0),u([d({type:["custom"],readOnly:!0})],Qc.prototype,"type",void 0),Qc=RI=u([k("esri.popup.content.CustomContent")],Qc);const Lge=Qc;var NI;let Up=NI=class extends te{constructor(e){super(e),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new NI({title:this.title,expression:this.expression})}};u([d({type:String,json:{write:!0}})],Up.prototype,"title",void 0),u([d({type:String,json:{write:!0}})],Up.prototype,"expression",void 0),u([d({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],Up.prototype,"returnType",void 0),Up=NI=u([k("esri.popup.ElementExpressionInfo")],Up);const Oge=Up;var DI;let ng=DI=class extends Ul{constructor(e){super(e),this.expressionInfo=null,this.type="expression"}clone(){return new DI({expressionInfo:this.expressionInfo?.clone()})}};u([d({type:Oge,json:{write:!0}})],ng.prototype,"expressionInfo",void 0),u([d({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],ng.prototype,"type",void 0),ng=DI=u([k("esri.popup.content.ExpressionContent")],ng);const ix=ng;function Ve(e,t={}){const n=e instanceof at?e:new at(e,t),{alwaysWriteDefaults:i,default:r,ignoreUnknown:s=!0,name:o,nonNullable:a,readOnly:l=!1}=t;return d({type:s?n.apiValues:String,json:{type:n.jsonValues,default:r,name:o,read:!l&&{reader:n.read},write:{writer:n.write,alwaysWriteDefaults:i}},nonNullable:a,readOnly:l})}let mv;const Rge=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale,VI=globalThis.document?.documentElement;function KG(){const e=VI?.getAttribute("lang"),t=globalThis.navigator?.language;return Rge??e??t??"en"}function Gr(){return mv===void 0&&(mv=KG()),mv}function D8e(e=Gr()){return/^([a-zA-Z]{2,3})(?:[_-][a-zA-Z0-9]+)*$/.exec(e)?.[1].toLowerCase()}const f1=[];function VL(e){return f1.push(e),St(()=>f1.splice(f1.indexOf(e),1))}const m1=[];function FL(e){return m1.push(e),St(()=>m1.splice(m1.indexOf(e),1))}function zD(){const e=KG();mv!==e&&([...m1].forEach(t=>t(e)),mv=e,[...f1].forEach(t=>t(e)))}globalThis.addEventListener?.("languagechange",zD),VI&&new MutationObserver(()=>{zD()}).observe(VI,{attributeFilter:["lang"]});const Ca="system",Nh="unknown",Ma="UTC",Nge=Intl.DateTimeFormat().resolvedOptions().timeZone,BD=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Bishkek"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]),Dge="shortOffset";function Vge(e){return"timeZoneIANA"in e}function Fge(e){return e.startsWith("UTC")}function fS(e,t=!1){return{json:{read:{source:e,reader:(n,i)=>i[e]?y1(i[e]):null},write:!!t&&{allowNull:!0,writer(n,i){i[e]=n?jge(n):null}}}}}function y1(e,t=Ca){return e?Vge(e)?e.timeZoneIANA:zge(e,t):t}function jge(e){return{timeZoneIANA:e}}function zge(e,t=Ca){if(!e||!BD.has(e.timeZone))return t;const n=BD.get(e.timeZone);return Fge(e.timeZone)||e.respectsDaylightSaving?n:Bge(n)}function Bge(e){const t=je.local().setZone(e),n=Math.min(t.set({month:1,day:1}).offset,t.set({month:5}).offset);return n===0?"Etc/UTC":`Etc/GMT${_i.instance(-n).formatOffset(0,"narrow")}`}function Uge(e,t,n,i,r){if(t&&r==="date")return{timeZone:Ma,timeZoneName:void 0};const s=i.timeStyle||i.hour,o=n===Nh;return{timeZone:o?r==="timestamp-offset"?void 0:e??Ma:n,timeZoneName:o&&s?Dge:void 0}}function Gge(e){const t=new Set(["etc/utc","etc/gmt","gmt"]),n=new Set(Intl.supportedValuesOf("timeZone").map(i=>i.toLowerCase()));return e===Ca||e===Nh||t.has(e.toLowerCase())||n.has(e.toLowerCase())}const Hge={year:void 0,month:void 0,day:void 0,weekday:void 0},qge={hour:void 0,minute:void 0,second:void 0},XG={timeZone:Ma},Jo={year:"numeric",month:"numeric",day:"numeric"},xy={year:"numeric",month:"long",day:"numeric"},$y={year:"numeric",month:"short",day:"numeric"},Ty={year:"numeric",month:"long",weekday:"long",day:"numeric"},Fu={hour:"numeric",minute:"numeric"},ed={...Fu,second:"numeric"},QG={hourCycle:"h23"},Ey={...Fu,...QG},Iy={...ed,...QG},eH={"short-date":Jo,"short-date-short-time":{...Jo,...Fu},"short-date-short-time-24":{...Jo,...Ey},"short-date-long-time":{...Jo,...ed},"short-date-long-time-24":{...Jo,...Iy},"short-date-le":Jo,"short-date-le-short-time":{...Jo,...Fu},"short-date-le-short-time-24":{...Jo,...Ey},"short-date-le-long-time":{...Jo,...ed},"short-date-le-long-time-24":{...Jo,...Iy},"long-month-day-year":xy,"long-month-day-year-short-time":{...xy,...Fu},"long-month-day-year-short-time-24":{...xy,...Ey},"long-month-day-year-long-time":{...xy,...ed},"long-month-day-year-long-time-24":{...xy,...Iy},"day-short-month-year":$y,"day-short-month-year-short-time":{...$y,...Fu},"day-short-month-year-short-time-24":{...$y,...Ey},"day-short-month-year-long-time":{...$y,...ed},"day-short-month-year-long-time-24":{...$y,...Iy},"long-date":Ty,"long-date-short-time":{...Ty,...Fu},"long-date-short-time-24":{...Ty,...Ey},"long-date-long-time":{...Ty,...ed},"long-date-long-time-24":{...Ty,...Iy},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":Fu,"long-time":ed},Wge=Ii()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),tH={ar:"ar-u-nu-latn-ca-gregory"};let FI=new WeakMap;const rx=eH["short-date-short-time"];function Zge(e){let t=FI.get(e);if(!t){const n=Gr(),i=tH[n]||n,r=jL(e.timeZone??Ca),s={...e,timeZone:r};t=new Intl.DateTimeFormat(i,s),FI.set(e,t)}return t}function Cy(e){return eH[e]}function Vo(e,t=rx){return Zge(t).format(e)}function Yge(e,t=rx){return Vo(new Date(e),{...t,...XG,...qge})}function Jge(e,t=rx){return Vo(new Date(`1970-01-01T${e}Z`),{...t,...XG,...Hge})}function Kge(e,t=rx){if(t.timeZone)return Vo(new Date(e),t);const n=je.fromISO(e,{setZone:!0}),i=Gr(),r=tH[i]??i,s=n.offset===0?Ma:t.timeZone,o={...t,timeZone:s};return n.toLocaleString(o,{locale:r})}function jL(e){switch(e){case Ca:return Nge;case Nh:return Ma;default:return e}}FL(()=>{FI=new WeakMap});let Gp=class extends ut.ClonableMixin(te){constructor(t){super(t),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};u([Ve(Wge)],Gp.prototype,"dateFormat",void 0),u([d({type:Boolean,json:{write:!0}})],Gp.prototype,"digitSeparator",void 0),u([d({type:wt,json:{write:!0}})],Gp.prototype,"places",void 0),Gp=u([k("esri.popup.support.FieldInfoFormat")],Gp);const g1=Gp;var jI;let mo=jI=class extends te{constructor(e){super(e),this.fieldName=null,this.format=void 0,this.isEditable=!0,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new jI({fieldName:this.fieldName,format:this.format?.clone(),isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};u([d({type:String,json:{write:!0}})],mo.prototype,"fieldName",void 0),u([d({type:g1,json:{write:!0}})],mo.prototype,"format",void 0),u([d({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],mo.prototype,"isEditable",void 0),u([d({type:String,json:{write:!0}})],mo.prototype,"label",void 0),u([Ve(new at({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],mo.prototype,"stringFieldOption",void 0),u([d({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],mo.prototype,"statisticType",void 0),u([d({type:String,json:{write:!0}})],mo.prototype,"tooltip",void 0),u([d({type:Boolean,json:{write:!0}})],mo.prototype,"visible",void 0),mo=jI=u([k("esri.popup.FieldInfo")],mo);const zL=mo;var zI;let Za=zI=class extends Ul{constructor(e){super(e),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(e,t){t.fieldInfos=e&&e.map(n=>n.toJSON())}clone(){return new zI(j({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};u([d({type:Object,json:{write:!0}})],Za.prototype,"attributes",void 0),u([d({type:String,json:{write:!0}})],Za.prototype,"description",void 0),u([d({type:[zL]})],Za.prototype,"fieldInfos",void 0),u([ge("fieldInfos")],Za.prototype,"writeFieldInfos",null),u([d({type:String,json:{write:!0}})],Za.prototype,"title",void 0),u([d({type:["fields"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Za.prototype,"type",void 0),Za=zI=u([k("esri.popup.content.FieldsContent")],Za);const Cm=Za;let td=class extends te{constructor(t){super(t),this.altText=null,this.caption="",this.title="",this.type=null}};u([d({type:String,json:{write:!0}})],td.prototype,"altText",void 0),u([d({type:String,json:{write:!0}})],td.prototype,"caption",void 0),u([d({type:String,json:{write:!0}})],td.prototype,"title",void 0),u([d({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],td.prototype,"type",void 0),td=u([k("esri.popup.content.mixins.MediaInfo")],td);const BL=td,mS={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function nH(e){return!!mS[e]||!!mS[e.toLowerCase()]}function UL(e){return mS[e]??mS[e.toLowerCase()]}function Xge(e){return[...UL(e)]}function z$(e,t,n){n<0&&++n,n>1&&--n;const i=6*n;return i<1?e+(t-e)*i:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}function iH(e,t,n,i=1){const r=(e%360+360)%360/360,s=n<=.5?n*(t+1):n+t-n*t,o=2*n-s;return[Math.round(255*z$(o,s,r+1/3)),Math.round(255*z$(o,s,r)),Math.round(255*z$(o,s,r-1/3)),i]}function Qge(e){const t=e.length>5,n=t?8:4,i=(1<<n)-1,r=t?1:17,s=t?e.length===9:e.length===5;let o=+("0x"+e.slice(1));if(isNaN(o))return null;const a=[0,0,0,1];let l;return s&&(l=o&i,o>>=n,a[3]=r*l/255),l=o&i,o>>=n,a[2]=r*l,l=o&i,o>>=n,a[1]=r*l,l=o&i,o>>=n,a[0]=r*l,a}const j8e=2.2,UD=new Float32Array(1);function z8e(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function ws(e,t,n){return Math.min(Math.max(e,t),n)}function B8e(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function ig(e,t,n){return e+(t-e)*n}function U8e(e,t,n,i,r){return ig(i,r,(e-t)/(n-t))}function sx(e){return e*Math.PI/180}function rH(e){return 180*e/Math.PI}function G8e(e,t=1e-6){return(e<0?-1:1)/Math.max(Math.abs(e),t)}function H8e(e){return Math.acos(ws(e,-1,1))}function eve(e){return Math.asin(ws(e,-1,1))}function Bo(e,t,n=1e-6){return e===t?!0:!Number.isFinite(e)||!Number.isFinite(t)?!1:(e>t?e-t:t-e)<=n}function sH(e,t,n=1e-6){return!Bo(e,t,n)&&e>t}function BI(e,t,n=1e-6){return!Bo(e,t,n)&&e<t}function tve(e,t,n=1e-6){return Bo(e,t,n)||e>t}const yS=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function UI(e){return yS.setFloat64(0,e),yS.getBigInt64(0)}function nve(e){return yS.setBigInt64(0,e),yS.getFloat64(0)}const v1=BigInt("1000000"),ive=oH(1);function oH(e){const t=UI(e=Math.abs(e)),n=nve(t<=v1?v1:t-v1);return Math.abs(e-n)}function q8e(e,t,n=ive){if(e===t)return!0;if(!Number.isFinite(e)||!Number.isFinite(t))return!1;if(n!=null&&oH(Math.min(Math.abs(e),Math.abs(t)))<n)return Math.abs(e-t)<=n;const i=UI(e),r=UI(t);return i<0!=r<0?!1:!((i<r?r-i:i-r)>v1)}function W8e(e){return aH(Math.max(-GD,Math.min(e,GD)))}function aH(e){return UD[0]=e,UD[0]}function Z8e(e){const t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[3]*e[3]+e[4]*e[4]+e[5]*e[5],i=e[6]*e[6]+e[7]*e[7]+e[8]*e[8];return!(Bo(t,1)&&Bo(n,1)&&Bo(i,1))}const GD=aH(34028234663852886e22);function Y8e(e,t,n){if(n===void 0||+n==0)return Math[e](t);if(t=+t,n=+n,isNaN(t)||typeof n!="number"||n%1!=0)return NaN;let i=t.toString().split("e");return i=(t=Math[e](+(i[0]+"e"+(i[1]?+i[1]-n:-n)))).toString().split("e"),+(i[0]+"e"+(i[1]?+i[1]+n:n))}function sw(e){return ws(nL(e),0,255)}function ow(e,t,n){return e=Number(e),isNaN(e)?n:e<t?t:e>n?n:e}function aw(e,t){const n=e.toString(16).padStart(2,"0");return t?n.slice(0,1):n}let he=class ti{static blendColors(t,n,i,r=new ti){return r.r=Math.round(t.r+(n.r-t.r)*i),r.g=Math.round(t.g+(n.g-t.g)*i),r.b=Math.round(t.b+(n.b-t.b)*i),r.a=t.a+(n.a-t.a)*i,r._sanitize()}static fromRgb(t,n){const i=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(i){const r=i[2].split(/\s*,\s*/),s=i[1];if(s==="rgb"&&r.length===3||s==="rgba"&&r.length===4){const o=r[0];if(o.charAt(o.length-1)==="%"){const a=r.map(l=>2.56*parseFloat(l));return r.length===4&&(a[3]=parseFloat(r[3])),ti.fromArray(a,n)}return ti.fromArray(r.map(a=>parseFloat(a)),n)}if(s==="hsl"&&r.length===3||s==="hsla"&&r.length===4)return ti.fromArray(iH(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100,parseFloat(r[3])),n)}return null}static fromHex(t,n=new ti){if(t[0]!=="#"||isNaN(+`0x${t.slice(1)}`))return null;switch(t.length){case 4:case 5:{const i=parseInt(t.slice(1,2),16),r=parseInt(t.slice(2,3),16),s=parseInt(t.slice(3,4),16),o=t.length===5?15:parseInt(t.slice(4),16);return ti.fromArray([i+16*i,r+16*r,s+16*s,(o+16*o)/255],n)}case 7:case 9:{const i=parseInt(t.slice(1,3),16),r=parseInt(t.slice(3,5),16),s=parseInt(t.slice(5,7),16),o=t.length===7?255:parseInt(t.slice(7),16);return ti.fromArray([i,r,s,o/255],n)}default:return null}}static fromArray(t,n=new ti){return n._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(n.a)&&(n.a=1),n._sanitize()}static fromString(t,n){const i=nH(t)?UL(t):null;return i&&ti.fromArray(i,n)||ti.fromRgb(t,n)||ti.fromHex(t,n)}static fromJSON(t){return t!=null?new ti([t[0],t[1],t[2],(t[3]??255)/255]):void 0}static toUnitRGB(t){return t!=null?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return t!=null?[t.r/255,t.g/255,t.b/255,t.a!=null?t.a:1]:null}constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(t){return typeof t=="string"?ti.fromString(t,this):Array.isArray(t)?ti.fromArray(t,this):(this._set(t.r??0,t.g??0,t.b??0,t.a??1),t instanceof ti||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(t){const n=t?.capitalize??!1,i=t?.digits??6,r=i===3||i===4,s=i===4||i===8,o=`#${aw(this.r,r)}${aw(this.g,r)}${aw(this.b,r)}${s?aw(Math.round(255*this.a),r):""}`;return n?o.toUpperCase():o}toCss(t=!1){const n=this.r+", "+this.g+", "+this.b;return t?`rgba(${n}, ${this.a})`:`rgb(${n})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=ti.AlphaMode.ALWAYS){const n=sw(this.r),i=sw(this.g),r=sw(this.b);return t===ti.AlphaMode.ALWAYS||this.a!==1?[n,i,r,sw(255*this.a)]:[n,i,r]}clone(){return new ti(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(t){return t!=null&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a}_sanitize(){return this.r=Math.round(ow(this.r,0,255)),this.g=Math.round(ow(this.g,0,255)),this.b=Math.round(ow(this.b,0,255)),this.a=ow(this.a,0,1),this}_set(t,n,i,r){this.r=t,this.g=n,this.b=i,this.a=r}};he.prototype.declaredClass="esri.Color",function(e){var t;(t=e.AlphaMode||(e.AlphaMode={}))[t.ALWAYS=0]="ALWAYS",t[t.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(he);var GI;let nd=GI=class extends Ce{constructor(e){super(e),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new GI({color:this.color?.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};u([d()],nd.prototype,"color",void 0),u([d()],nd.prototype,"fieldName",void 0),u([d()],nd.prototype,"tooltip",void 0),u([d()],nd.prototype,"value",void 0),nd=GI=u([k("esri.popup.content.support.ChartMediaInfoValueSeries")],nd);const rve=nd;var HI;let cu=HI=class extends te{constructor(e){super(e),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new HI({colors:j(this.colors),fields:j(this.fields),normalizeField:this.normalizeField,series:j(this.series),tooltipField:this.tooltipField})}};u([d({type:[he],json:{type:[[wt]],write:!0}})],cu.prototype,"colors",void 0),u([d({type:[String],json:{write:{isRequired:!0}}})],cu.prototype,"fields",void 0),u([d({type:String,json:{write:!0}})],cu.prototype,"normalizeField",void 0),u([d({type:[rve],json:{read:!1}})],cu.prototype,"series",void 0),u([d({type:String,json:{write:!0}})],cu.prototype,"tooltipField",void 0),cu=HI=u([k("esri.popup.content.support.ChartMediaInfoValue")],cu);const sve=cu;let rg=class extends BL{constructor(t){super(t),this.type=null,this.value=void 0}};u([d({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],rg.prototype,"type",void 0),u([d({type:sve,json:{write:{isRequired:!0}}})],rg.prototype,"value",void 0),rg=u([k("esri.popup.content.mixins.ChartMediaInfo")],rg);const ox=rg,ax=Ii()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var qI;let b1=qI=class extends ox{constructor(e){super(e),this.type="bar-chart"}clone(){return new qI({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};u([d({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:{writer:ax.write,isRequired:!0}}})],b1.prototype,"type",void 0),b1=qI=u([k("esri.popup.content.BarChartMediaInfo")],b1);const lH=b1;var WI;let w1=WI=class extends ox{constructor(e){super(e),this.type="column-chart"}clone(){return new WI({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};u([d({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:{writer:ax.write,isRequired:!0}}})],w1.prototype,"type",void 0),w1=WI=u([k("esri.popup.content.ColumnChartMediaInfo")],w1);const uH=w1;var ZI;let sg=ZI=class extends te{constructor(e){super(e),this.linkURL=null,this.sourceURL=null}clone(){return new ZI({linkURL:this.linkURL,sourceURL:this.sourceURL})}};u([d({type:String,json:{write:!0}})],sg.prototype,"linkURL",void 0),u([d({type:String,json:{write:{isRequired:!0}}})],sg.prototype,"sourceURL",void 0),sg=ZI=u([k("esri.popup.content.support.ImageMediaInfoValue")],sg);const ove=sg;var YI;let Hp=YI=class extends BL{constructor(e){super(e),this.refreshInterval=0,this.type="image",this.value=void 0}clone(){return new YI({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?.clone()})}};u([d({type:Number,json:{write:!0}})],Hp.prototype,"refreshInterval",void 0),u([d({type:["image"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Hp.prototype,"type",void 0),u([d({type:ove,json:{write:{isRequired:!0}}})],Hp.prototype,"value",void 0),Hp=YI=u([k("esri.popup.content.ImageMediaInfo")],Hp);const cH=Hp;var JI;let _1=JI=class extends ox{constructor(e){super(e),this.type="line-chart"}clone(){return new JI({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};u([d({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:{writer:ax.write,isRequired:!0}}})],_1.prototype,"type",void 0),_1=JI=u([k("esri.popup.content.LineChartMediaInfo")],_1);const dH=_1;var KI;let S1=KI=class extends ox{constructor(e){super(e),this.type="pie-chart"}clone(){return new KI({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};u([d({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:{writer:ax.write,isRequired:!0}}})],S1.prototype,"type",void 0),S1=KI=u([k("esri.popup.content.PieChartMediaInfo")],S1);const hH=S1,XI={base:BL,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":lH,"column-chart":uH,"line-chart":dH,"pie-chart":hH,image:cH}};var QI;let yo=QI=class extends Ul{constructor(e){super(e),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(e){return e&&e.map(t=>t.type==="image"?cH.fromJSON(t):t.type==="barchart"?lH.fromJSON(t):t.type==="columnchart"?uH.fromJSON(t):t.type==="linechart"?dH.fromJSON(t):t.type==="piechart"?hH.fromJSON(t):void 0).filter(Boolean)}writeMediaInfos(e,t){t.mediaInfos=e&&e.map(n=>n.toJSON())}clone(){return new QI(j({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};u([d()],yo.prototype,"activeMediaInfoIndex",void 0),u([d({type:Object,json:{write:!0}})],yo.prototype,"attributes",void 0),u([d({type:String,json:{write:!0}})],yo.prototype,"description",void 0),u([d({types:[XI]})],yo.prototype,"mediaInfos",void 0),u([le("mediaInfos")],yo.prototype,"readMediaInfos",null),u([ge("mediaInfos")],yo.prototype,"writeMediaInfos",null),u([d({type:String,json:{write:!0}})],yo.prototype,"title",void 0),u([d({type:["media"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],yo.prototype,"type",void 0),yo=QI=u([k("esri.popup.content.MediaContent")],yo);const c0=yo;var eC;let og=eC=class extends te{constructor(e){super(e),this.field=null,this.order=null}clone(){return new eC({field:this.field,order:this.order})}};u([d({type:String,json:{write:!0}})],og.prototype,"field",void 0),u([d({type:["asc","desc"],json:{write:!0}})],og.prototype,"order",void 0),og=eC=u([k("esri.popup.support.RelatedRecordsInfoFieldOrder")],og);const GL=og;let Xo=class extends ut.ClonableMixin(Ul){constructor(t){super(t),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};u([d({type:String,json:{write:!0}})],Xo.prototype,"description",void 0),u([d({type:Number,json:{type:wt,write:!0}})],Xo.prototype,"displayCount",void 0),u([d({type:["list"],json:{write:{isRequired:!0}}})],Xo.prototype,"displayType",void 0),u([d({type:[GL],json:{write:!0}})],Xo.prototype,"orderByFields",void 0),u([d({type:Number,json:{type:wt,write:{isRequired:!0}}})],Xo.prototype,"relationshipId",void 0),u([d({type:String,json:{write:!0}})],Xo.prototype,"title",void 0),u([d({type:["relationship"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Xo.prototype,"type",void 0),Xo=u([k("esri.popup.content.RelationshipContent")],Xo);const d0=Xo;var tC;let ag=tC=class extends Ul{constructor(e){super(e),this.text=null,this.type="text"}clone(){return new tC({text:this.text})}};u([d({type:String,json:{write:!0}})],ag.prototype,"text",void 0),u([d({type:["text"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],ag.prototype,"type",void 0),ag=tC=u([k("esri.popup.content.TextContent")],ag);const h0=ag;let Ya=class extends ut.ClonableMixin(te){constructor(t){super(t),this.title=null,this.description=null,this.type=null,this.associatedNetworkSourceId=null,this.associatedAssetGroup=null,this.associatedAssetType=null}};u([d({type:String,json:{write:!0}})],Ya.prototype,"title",void 0),u([d({type:String,json:{write:!0}})],Ya.prototype,"description",void 0),u([d({type:["attachment","connectivity","container","content","structure"],json:{write:!0}})],Ya.prototype,"type",void 0),u([d({type:Number,json:{type:wt,write:!0}})],Ya.prototype,"associatedNetworkSourceId",void 0),u([d({type:Number,json:{type:wt,write:!0}})],Ya.prototype,"associatedAssetGroup",void 0),u([d({type:Number,json:{type:wt,write:!0}})],Ya.prototype,"associatedAssetType",void 0),Ya=u([k("esri.popup.support.UtilityNetworkAssociationType")],Ya);const pH=Ya;let du=class extends ut.ClonableMixin(Ul){constructor(t){super(t),this.description=null,this.displayCount=null,this.title=null,this.associationTypes=[],this.type="utility-network-associations"}};u([d({type:String,json:{write:!0}})],du.prototype,"description",void 0),u([d({type:Number,json:{type:wt,write:!0}})],du.prototype,"displayCount",void 0),u([d({type:String,json:{write:!0}})],du.prototype,"title",void 0),u([d({type:[pH],json:{write:!0}})],du.prototype,"associationTypes",void 0),u([Ve({utilityNetworkAssociations:"utility-network-associations"})],du.prototype,"type",void 0),du=u([k("esri.popup.content.UtilityNetworkAssociationsContent")],du);const HL=du,ave={base:null,key:"type",typeMap:{attachment:Im,media:c0,text:h0,expression:ix,field:Cm,relationship:d0,utilityNetworkAssociations:HL}},lve={base:null,key:"type",typeMap:{attachment:Im,media:c0,text:h0,expression:ix,field:Cm,relationship:d0}};var nC;let id=nC=class extends te{constructor(e){super(e),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new nC({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};u([d({type:String,json:{write:!0}})],id.prototype,"name",void 0),u([d({type:String,json:{write:!0}})],id.prototype,"title",void 0),u([d({type:String,json:{write:!0}})],id.prototype,"expression",void 0),u([d({type:["string","number"],json:{write:!0}})],id.prototype,"returnType",void 0),id=nC=u([k("esri.popup.ExpressionInfo")],id);const uve=id;var iC;let lg=iC=class extends te{constructor(e){super(e),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new iC({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};u([d({type:Boolean,json:{write:!0}})],lg.prototype,"returnTopmostRaster",void 0),u([d({type:Boolean,json:{write:!0}})],lg.prototype,"showNoDataRecords",void 0),lg=iC=u([k("esri.popup.LayerOptions")],lg);const cve=lg;var rC;let ug=rC=class extends te{constructor(e){super(e),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new rC({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?j(this.orderByFields):null})}};u([d({type:Boolean,json:{write:!0}})],ug.prototype,"showRelatedRecords",void 0),u([d({type:[GL],json:{write:!0}})],ug.prototype,"orderByFields",void 0),ug=rC=u([k("esri.popup.RelatedRecordsInfo")],ug);const HD=ug;let fH=0;const mH=e=>{let t=class extends e{constructor(...n){super(...n),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+fH++})}};return t=u([k("esri.core.Identifiable")],t),t},dve=e=>{let t=class extends e{constructor(...n){super(...n),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:fH++})}};return t=u([k("esri.core.Identifiable.NumericIdentifiable")],t),t};let cg=class extends mH(class{}){};cg=u([k("esri.core.Identifiable")],cg),function(e){e.IdentifiableMixin=mH,e.NumericIdentifiableMixin=dve}(cg||(cg={}));const Cc=cg;var sC;let Ms=sC=class extends Cc.IdentifiableMixin(Ce){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new sC({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};u([d()],Ms.prototype,"active",void 0),u([d()],Ms.prototype,"className",void 0),u([d()],Ms.prototype,"disabled",void 0),u([d()],Ms.prototype,"icon",void 0),u([d()],Ms.prototype,"id",void 0),u([d()],Ms.prototype,"indicator",void 0),u([d()],Ms.prototype,"title",void 0),u([d()],Ms.prototype,"type",void 0),u([d()],Ms.prototype,"visible",void 0),Ms=sC=u([k("esri.support.actions.ActionBase")],Ms);const lx=Ms;var oC;let x1=oC=class extends lx{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new oC({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};u([d()],x1.prototype,"image",void 0),x1=oC=u([k("esri.support.actions.ActionButton")],x1);const yH=x1;var aC;let dg=aC=class extends lx{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new aC({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};u([d()],dg.prototype,"image",void 0),u([d()],dg.prototype,"value",void 0),dg=aC=u([k("esri.support.actions.ActionToggle")],dg);const gH=dg,My="relationships/",qD="expression/",hve=we.ofType({key:"type",defaultKeyValue:"button",base:lx,typeMap:{button:yH,toggle:gH}}),pve={base:Ul,key:"type",typeMap:{media:c0,custom:Lge,text:h0,attachments:Im,fields:Cm,expression:ix,relationship:d0,utilityNetworkAssociations:HL}},vH=new Set(["attachments","fields","media","text","expression","relationship"]),fve=new Set([...vH,"utility-network-associations"]);let zn=class extends ut.ClonableMixin(te){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(t){return Array.isArray(t)?t.map(n=>Ho(pve,n)):typeof t=="string"||typeof t=="function"||t instanceof HTMLElement||Na(t)?t:(re.getLogger(this).error("content error","unsupported content value",{value:t}),null)}readContent(t,n){const{popupElements:i}=n;return Array.isArray(i)&&i.length>0?this._readPopupInfoElements(n.description,n.mediaInfos,i):this._readPopupInfo(n)}writeWebSceneContent(t,n,i,r){this._writePopupTemplateContent(t,n,r)}writeWebMapContent(t,n,i,r){this._writePopupTemplateContent(t,n,r)}writeFieldInfos(t,n,i,r){const{content:s}=this,o=Array.isArray(s)?s:null;if(t){const a=o?o.filter(c=>c.type==="fields"):[],l=a.length&&a.every(c=>c.fieldInfos?.length);n.fieldInfos=t.filter(Boolean).map(c=>{const h=c.toJSON(r);return l&&(h.visible=!1),h})}if(o)for(const a of o)a.type==="fields"&&this._writeFieldsContent(a,n)}writeLayerOptions(t,n,i,r){n[i]=!t||t.showNoDataRecords===null&&t.returnTopmostRaster===null?null:t.toJSON(r)}writeTitle(t,n){n.title=t||""}async collectRequiredFields(t,n){const i=this.expressionInfos||[];await this._collectExpressionInfoFields(t,n,[...i,...this._getContentExpressionInfos(this.content,i)]),Rh(t,n,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(t){const n=new Set;return await this.collectRequiredFields(n,t),[...n].sort()}_writePopupTemplateContent(t,n,i){typeof t!="string"?Array.isArray(t)&&(n.popupElements=t.filter(r=>i?.origin==="web-scene"?vH.has(r.type):fve.has(r.type)).map(r=>r?.toJSON(i)),n.popupElements.forEach(r=>{r.type==="attachments"?this._writeAttachmentContent(n):r.type==="media"?this._writeMediaContent(r,n):r.type==="text"?this._writeTextContent(r,n):r.type==="relationship"&&this._writeRelationshipContent(r,n)})):n.description=t}_writeFieldsContent(t,n){if(!Array.isArray(t.fieldInfos)||!t.fieldInfos.length)return;const i=j(t.fieldInfos);Array.isArray(n.fieldInfos)?i.forEach(r=>{const s=n.fieldInfos.find(o=>o.fieldName?.toLowerCase()===r.fieldName?.toLowerCase());s?s.visible=!0:n.fieldInfos.push(r)}):n.fieldInfos=i}_writeAttachmentContent(t){t.showAttachments||(t.showAttachments=!0)}_writeRelationshipContent(t,n){const i=t.orderByFields?.map(s=>this._toFieldOrderJSON(s,t.relationshipId))||[],r=[...n.relatedRecordsInfo?.orderByFields||[],...i];n.relatedRecordsInfo={showRelatedRecords:!0,...r?.length&&{orderByFields:r}}}_writeTextContent(t,n){!n.description&&t.text&&(n.description=t.text)}_writeMediaContent(t,n){if(!Array.isArray(t.mediaInfos)||!t.mediaInfos.length)return;const i=j(t.mediaInfos);Array.isArray(n.mediaInfos)?n.mediaInfos=[...n.mediaInfos,...i]:n.mediaInfos=i}_readPopupInfoElements(t,n,i){const r={description:!1,mediaInfos:!1};return i.map(s=>s.type==="media"?(s.mediaInfos||!n||r.mediaInfos||(s.mediaInfos=n,r.mediaInfos=!0),c0.fromJSON(s)):s.type==="text"?(s.text||!t||r.description||(s.text=t,r.description=!0),h0.fromJSON(s)):s.type==="attachments"?Im.fromJSON(s):s.type==="fields"?Cm.fromJSON(s):s.type==="expression"?ix.fromJSON(s):s.type==="relationship"?d0.fromJSON(s):s.type==="utilityNetworkAssociations"?HL.fromJSON(s):void 0).filter(Boolean)}_toRelationshipContent(t){const{field:n,order:i}=t;if(!n?.startsWith(My))return null;const r=n.replace(My,"").split("/");if(r.length!==2)return null;const s=parseInt(r[0],10),o=r[1];return!Number.isNaN(s)&&o?d0.fromJSON({relationshipId:s,orderByFields:[{field:o,order:i}]}):null}_toFieldOrderJSON(t,n){const{order:i,field:r}=t;return{field:`${My}${n}/${r}`,order:i}}_readPopupInfo({description:t,mediaInfos:n,showAttachments:i,relatedRecordsInfo:r={showRelatedRecords:!1}}){const s=[];t?s.push(new h0({text:t})):s.push(new Cm),Array.isArray(n)&&n.length&&s.push(c0.fromJSON({mediaInfos:n})),i&&s.push(Im.fromJSON({displayType:"auto"}));const{showRelatedRecords:o,orderByFields:a}=r;return o&&a?.length&&a.forEach(l=>{const c=this._toRelationshipContent(l);c&&s.push(c)}),s.length?s:t}_getContentElementFields(t){const n=t?.type;if(n==="attachments")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)];if(n==="custom")return t.outFields||[];if(n==="fields")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...this._getFieldInfoFields(t.fieldInfos??this.fieldInfos)];if(n==="media"){const i=t.mediaInfos||[];return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...i.reduce((r,s)=>[...r,...this._getMediaInfoFields(s)],[])]}return n==="text"?this._extractFieldNames(t.text):n==="relationship"||n==="utility-network-associations"?[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)]:[]}_getMediaInfoFields(t){const{caption:n,title:i,value:r}=t,s=r||{},{fields:o,normalizeField:a,tooltipField:l,sourceURL:c,linkURL:h}=s,p=[...this._extractFieldNames(i),...this._extractFieldNames(n),...this._extractFieldNames(c),...this._extractFieldNames(h),...o??[]];return a&&p.push(a),l&&p.push(l),p}_getContentExpressionInfos(t,n){return Array.isArray(t)?t.reduce((i,r)=>[...i,...r.type==="expression"&&r.expressionInfo?[r.expressionInfo]:[]],n):[]}_getContentFields(t){return typeof t=="string"?this._extractFieldNames(t):Array.isArray(t)?t.reduce((n,i)=>[...n,...this._getContentElementFields(i)],[]):[]}async _collectExpressionInfoFields(t,n,i){i&&await Promise.all(i.map(r=>rr(t,n,r.expression)))}_getFieldInfoFields(t){return t?t.filter(({fieldName:n,visible:i})=>!(i!==void 0&&!i||!n||n.startsWith(My)||n.startsWith(qD))).map(n=>n.fieldName):[]}_getActionsFields(t){return t?t.toArray().reduce((n,i)=>[...n,...this._getActionFields(i)],[]):[]}_getActionFields(t){const{className:n,title:i,type:r}=t,s=r==="button"||r==="toggle"?t.image:"";return[...this._extractFieldNames(i),...this._extractFieldNames(n),...this._extractFieldNames(s)]}_getTitleFields(t){return typeof t=="string"?this._extractFieldNames(t):[]}_extractFieldNames(t){return DL(t).filter(n=>!(n.indexOf(My)===0||n.indexOf(qD)===0))}};u([d({type:hve})],zn.prototype,"actions",void 0),u([d()],zn.prototype,"content",void 0),u([pt("content")],zn.prototype,"castContent",null),u([le("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],zn.prototype,"readContent",null),u([ge("web-scene","content",{popupElements:{type:we.ofType(lve)},showAttachments:{type:Boolean},mediaInfos:{type:we.ofType(XI)},description:{type:String},relatedRecordsInfo:{type:HD}})],zn.prototype,"writeWebSceneContent",null),u([ge("content",{popupElements:{type:we.ofType(ave)},showAttachments:{type:Boolean},mediaInfos:{type:we.ofType(XI)},description:{type:String},relatedRecordsInfo:{type:HD}})],zn.prototype,"writeWebMapContent",null),u([d({type:[uve],json:{write:!0}})],zn.prototype,"expressionInfos",void 0),u([d({type:[zL]})],zn.prototype,"fieldInfos",void 0),u([ge("fieldInfos")],zn.prototype,"writeFieldInfos",null),u([d({type:cve})],zn.prototype,"layerOptions",void 0),u([ge("layerOptions")],zn.prototype,"writeLayerOptions",null),u([d({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],zn.prototype,"lastEditInfoEnabled",void 0),u([d()],zn.prototype,"outFields",void 0),u([d()],zn.prototype,"overwriteActions",void 0),u([d()],zn.prototype,"returnGeometry",void 0),u([d({json:{type:String}})],zn.prototype,"title",void 0),u([ge("title")],zn.prototype,"writeTitle",null),zn=u([k("esri.PopupTemplate")],zn);const ly=zn;let mve=class bH{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(JE),this._values=new Map,this.multipleOriginsSupported=!0}clone(t){const n=new bH,i=this._originStores[We.DEFAULTS];i&&i.forEach((r,s)=>{n.set(s,j(r),We.DEFAULTS)});for(let r=We.SERVICE;r<JE;r++){const s=this._originStores[r];s&&s.forEach((o,a)=>{t&&t.has(a)||n.set(a,j(o),r)})}return n}get(t,n){const i=n===void 0?this._values:this._originStores[n];return i?i.get(t):void 0}keys(t){const n=t==null?this._values:this._originStores[t];return n?[...n.keys()]:[]}set(t,n,i=We.USER){let r=this._originStores[i];if(r||(r=new Map,this._originStores[i]=r),r.set(t,n),!this._values.has(t)||this._propertyOriginMap.get(t)<=i){const s=this._values.get(t);return this._values.set(t,n),this._propertyOriginMap.set(t,i),s!==n}return!1}delete(t,n=We.USER){const i=this._originStores[n];if(!i)return;const r=i.get(t);if(i.delete(t),this._values.has(t)&&this._propertyOriginMap.get(t)===n){this._values.delete(t);for(let s=n-1;s>=0;s--){const o=this._originStores[s];if(o&&o.has(t)){this._values.set(t,o.get(t)),this._propertyOriginMap.set(t,s);break}}}return r}has(t,n){const i=n===void 0?this._values:this._originStores[n];return!!i&&i.has(t)}revert(t,n){for(;n>0&&!this.has(t,n);)--n;const i=this._originStores[n],r=i?.get(t),s=this._values.get(t);return this._values.set(t,r),this._propertyOriginMap.set(t,n),s!==r}originOf(t){return this._propertyOriginMap.get(t)||We.DEFAULTS}forEach(t){this._values.forEach(t)}};const wH=e=>{let t=class extends e{constructor(...n){super(...n);const i=qr(this),r=i.store,s=new mve;i.store=s,V9(i,r,s)}read(n,i){j9(this,n,i)}getAtOrigin(n,i){const r=B$(this),s=Ju(i);if(typeof n=="string")return r.get(n,s);const o={};return n.forEach(a=>{o[a]=r.get(a,s)}),o}originOf(n){return N_(this.originIdOf(n))}originIdOf(n){return B$(this).originOf(n)}revert(n,i){const r=B$(this),s=Ju(i),o=qr(this);let a;a=typeof n=="string"?n==="*"?r.keys(s):[n]:n,a.forEach(l=>{o.invalidate(l),r.revert(l,s),o.commit(l)})}};return t=u([k("esri.core.ReadOnlyMultiOriginJSONSupport")],t),t};function B$(e){return qr(e).store}let WD=class extends wH(Ce){};WD=u([k("esri.core.ReadOnlyMultiOriginJSONSupport")],WD);const yve=e=>{let t=class extends e{constructor(...n){super(...n)}clear(n,i="user"){return U$(this).delete(n,Ju(i))}write(n,i){return B9(this,n=n||{},i),n}setAtOrigin(n,i,r){qr(this).setAtOrigin(n,i,Ju(r))}removeOrigin(n){const i=U$(this),r=Ju(n),s=i.keys(r);for(const o of s)i.originOf(o)===r&&i.set(o,i.get(o,r),We.USER)}updateOrigin(n,i){const r=U$(this),s=Ju(i),o=wr(this,n);for(let a=s+1;a<JE;++a)r.delete(n,a);r.set(n,o,s)}toJSON(n){return this.write({},n)}};return t=u([k("esri.core.MultiOriginJSONSupport.WriteableMultiOriginJSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function U$(e){return qr(e).store}const _H=e=>{let t=class extends yve(wH(e)){constructor(...n){super(...n)}};return t=u([k("esri.core.MultiOriginJSONSupport")],t),t};let ZD=class extends _H(Ce){};ZD=u([k("esri.core.MultiOriginJSONSupport")],ZD);const an=(e=>e)(["operational-layers","basemap","ground"]);var lC;let rd=lC=class extends te{constructor(e){super(e),this.expression=null,this.name=null,this.returnType="boolean",this.title=null}clone(){return new lC({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};u([d({type:String,json:{write:!0}})],rd.prototype,"expression",void 0),u([d({type:String,json:{write:!0}})],rd.prototype,"name",void 0),u([d({type:["boolean","date","number","string"],json:{write:!0}})],rd.prototype,"returnType",void 0),u([d({type:String,json:{write:!0}})],rd.prototype,"title",void 0),rd=lC=u([k("esri.form.ExpressionInfo")],rd);const gve=rd;let sd=class extends te{constructor(t){super(t),this.description=null,this.label=null,this.type=null,this.visibilityExpression=null}};u([d({type:String,json:{write:!0}})],sd.prototype,"description",void 0),u([d({type:String,json:{write:!0}})],sd.prototype,"label",void 0),u([d()],sd.prototype,"type",void 0),u([d({type:String,json:{write:!0}})],sd.prototype,"visibilityExpression",void 0),sd=u([k("esri.form.elements.Element")],sd);const fc=sd;let $1=class extends ut.ClonableMixin(te){constructor(t){super(t),this.type=null}};u([d()],$1.prototype,"type",void 0),$1=u([k("esri.form.elements.inputs.attachments.Input")],$1);const mc=$1,ux=["any","capture","upload"];let qp=class extends mc{constructor(t){super(t),this.type="audio",this.inputMethod="any",this.maxDuration=null}};u([d({type:["audio"],readOnly:!0,json:{write:!0}})],qp.prototype,"type",void 0),u([d({type:ux,json:{write:!0}})],qp.prototype,"inputMethod",void 0),u([d({type:Number,json:{write:!0}})],qp.prototype,"maxDuration",void 0),qp=u([k("esri.form.elements.inputs.attachments.AudioInput")],qp);const YD=qp;let hg=class extends mc{constructor(t){super(t),this.type="document",this.maxFileSize=null}};u([d({type:["document"],readOnly:!0,json:{write:!0}})],hg.prototype,"type",void 0),u([d({type:Number,json:{write:!0}})],hg.prototype,"maxFileSize",void 0),hg=u([k("esri.form.elements.inputs.attachments.DocumentInput")],hg);const JD=hg;let Wp=class extends mc{constructor(t){super(t),this.type="image",this.inputMethod="any",this.maxImageSize=null}};u([d({type:["image"],readOnly:!0,json:{write:!0}})],Wp.prototype,"type",void 0),u([d({type:ux,json:{write:!0}})],Wp.prototype,"inputMethod",void 0),u([d({type:Number,json:{write:!0}})],Wp.prototype,"maxImageSize",void 0),Wp=u([k("esri.form.elements.inputs.attachments.ImageInput")],Wp);const KD=Wp;let pg=class extends mc{constructor(t){super(t),this.type="signature",this.inputMethod="any"}};u([d({type:["signature"],readOnly:!0,json:{write:!0}})],pg.prototype,"type",void 0),u([d({type:ux,json:{write:!0}})],pg.prototype,"inputMethod",void 0),pg=u([k("esri.form.elements.inputs.attachments.SignatureInput")],pg);const XD=pg;let Zp=class extends mc{constructor(t){super(t),this.type="video",this.inputMethod="any",this.maxDuration=null}};u([d({type:["video"],readOnly:!0,json:{write:!0}})],Zp.prototype,"type",void 0),u([d({type:ux,json:{write:!0}})],Zp.prototype,"inputMethod",void 0),u([d({type:Number,json:{write:!0}})],Zp.prototype,"maxDuration",void 0),Zp=u([k("esri.form.elements.inputs.attachments.VideoInput")],Zp);const QD=Zp;function SH(e){return{nestableTypes:{base:mc,key:"type",typeMap:{audio:YD,document:JD,image:KD,signature:XD,video:QD}},allTypes:{base:mc,key:"type",typeMap:{attachment:e,audio:YD,document:JD,image:KD,signature:XD,video:QD}}}}function vve(e,t,n){return e?e.map(i=>Ho(t.nestableTypes,i)):null}function bve(e,t,n){if(!e)return null;const i=t.nestableTypes.typeMap;return e.filter(r=>i[r.type]).map(r=>i[r.type].fromJSON(r))}function wve(e,t,n){if(!e)return null;const i=t.nestableTypes.typeMap;return e.filter(r=>i[r.type]).map(r=>r.toJSON())}let fa=class extends mc{constructor(t){super(t),this.type="attachment",this.attachmentAssociationType="exact",this.inputTypes=null}castInputs(t){return vve(t,G$)}readInputs(t,n){return bve(n.inputTypes,G$)}writeInputs(t,n){n.inputTypes=wve(t,G$)}};u([d({type:["attachment"],readOnly:!0,json:{write:!0}})],fa.prototype,"type",void 0),u([d({type:["any","exact","exactOrNone"],json:{write:!0}})],fa.prototype,"attachmentAssociationType",void 0),u([d({json:{write:{isRequired:!0}}})],fa.prototype,"inputTypes",void 0),u([pt("inputTypes")],fa.prototype,"castInputs",null),u([le("inputTypes")],fa.prototype,"readInputs",null),u([ge("inputTypes")],fa.prototype,"writeInputs",null),fa=u([k("esri.form.elements.inputs.attachments.AttachmentInput")],fa);const G$=SH(fa),_ve=fa;var uC;const Sve=SH(_ve);let es=uC=class extends fc{constructor(e){super(e),this.allowUserRename=!0,this.attachmentKeyword=null,this.displayFilename=!1,this.editableExpression=null,this.filenameExpression="{attachmentKeyword}_{now}",this.input=null,this.maxAttachmentCount=null,this.minAttachmentCount=null,this.type="attachment",this.useOriginalFilename=!0}clone(){return new uC({allowUserRename:this.allowUserRename,attachmentKeyword:this.attachmentKeyword,description:this.description,displayFilename:this.displayFilename,editableExpression:this.editableExpression,filenameExpression:this.filenameExpression,input:this.input?.clone(),label:this.label,maxAttachmentCount:this.maxAttachmentCount,minAttachmentCount:this.minAttachmentCount,useOriginalFilename:this.useOriginalFilename,visibilityExpression:this.visibilityExpression})}};u([d({type:Boolean,json:{write:!0}})],es.prototype,"allowUserRename",void 0),u([d({type:String,json:{write:{isRequired:!0}}})],es.prototype,"attachmentKeyword",void 0),u([d({type:Boolean,json:{write:!0}})],es.prototype,"displayFilename",void 0),u([d({type:String,json:{write:!0}})],es.prototype,"editableExpression",void 0),u([d({type:String,json:{write:!0}})],es.prototype,"filenameExpression",void 0),u([d({types:Sve.allTypes,json:{read:{source:"inputType"},write:{target:"inputType",isRequired:!0}}})],es.prototype,"input",void 0),u([d({type:Number,json:{write:!0}})],es.prototype,"maxAttachmentCount",void 0),u([d({type:Number,json:{write:!0}})],es.prototype,"minAttachmentCount",void 0),u([d({type:["attachment"],readOnly:!0,json:{read:!1,write:!0}})],es.prototype,"type",void 0),u([d({type:Boolean,json:{write:!0}})],es.prototype,"useOriginalFilename",void 0),es=uC=u([k("esri.form.elements.AttachmentElement")],es);const eV=es;let T1=class extends te{constructor(t){super(t),this.type=null}};u([d()],T1.prototype,"type",void 0),T1=u([k("esri.form.elements.inputs.Input")],T1);const Gl=T1;let fg=class extends Gl{constructor(t){super(t),this.maxLength=null,this.minLength=0}};u([d({type:Number,json:{write:!0}})],fg.prototype,"maxLength",void 0),u([d({type:Number,json:{write:!0}})],fg.prototype,"minLength",void 0),fg=u([k("esri.form.elements.inputs.TextInput")],fg);const qL=fg;var cC;let E1=cC=class extends qL{constructor(e){super(e),this.type="barcode-scanner"}clone(){return new cC({maxLength:this.maxLength,minLength:this.minLength})}};u([d({type:["barcode-scanner"],json:{read:!1,write:!0}})],E1.prototype,"type",void 0),E1=cC=u([k("esri.form.elements.inputs.BarcodeScannerInput")],E1);const xve=E1;var dC;let Yp=dC=class extends Gl{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="combo-box"}clone(){return new dC({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};u([d({type:String,json:{write:!0}})],Yp.prototype,"noValueOptionLabel",void 0),u([d({type:Boolean,json:{write:!0}})],Yp.prototype,"showNoValueOption",void 0),u([d({type:["combo-box"],json:{read:!1,write:!0}})],Yp.prototype,"type",void 0),Yp=dC=u([k("esri.form.elements.inputs.ComboBoxInput")],Yp);const $ve=Yp;var hC;function tV(e){return e??null}function nV(e){return e??null}let Qo=hC=class extends Gl{constructor(e){super(e),this.max=null,this.min=null,this.type="date-picker"}readMax(e,t){return tV(t.max)}writeMax(e,t){t.max=nV(e)}readMin(e,t){return tV(t.min)}writeMin(e,t){t.min=nV(e)}clone(){return new hC({max:this.max,min:this.min})}};u([d({type:String,json:{type:String,write:!0}})],Qo.prototype,"max",void 0),u([le("max")],Qo.prototype,"readMax",null),u([ge("max")],Qo.prototype,"writeMax",null),u([d({type:String,json:{type:String,write:!0}})],Qo.prototype,"min",void 0),u([le("min")],Qo.prototype,"readMin",null),u([ge("min")],Qo.prototype,"writeMin",null),u([d({type:["date-picker"],json:{read:!1,write:!0}})],Qo.prototype,"type",void 0),Qo=hC=u([k("esri.form.elements.inputs.DatePickerInput")],Qo);const Tve=Qo;var pC;function H$(e){return e??null}function q$(e){return e??null}let Ar=pC=class extends Gl{constructor(e){super(e),this.includeTimeOffset=!0,this.max=null,this.min=null,this.timeResolution="minutes",this.type="datetimeoffset-picker"}readMax(e,t){return H$(t.max)}writeMax(e,t){t.max=q$(e)}readMin(e,t){return H$(t.min)}writeMin(e,t){t.min=q$(e)}readTimeResolution(e,t){return H$(t.timeResolution)}writeTimeResolution(e,t){t.timeResolution=q$(e)}clone(){return new pC({includeTimeOffset:this.includeTimeOffset,max:this.max,min:this.min,timeResolution:this.timeResolution})}};u([d({type:Boolean,json:{write:!0}})],Ar.prototype,"includeTimeOffset",void 0),u([d({type:String,json:{type:String,write:!0}})],Ar.prototype,"max",void 0),u([le("max")],Ar.prototype,"readMax",null),u([ge("max")],Ar.prototype,"writeMax",null),u([d({type:String,json:{type:String,write:!0}})],Ar.prototype,"min",void 0),u([le("min")],Ar.prototype,"readMin",null),u([ge("min")],Ar.prototype,"writeMin",null),u([d({type:String,json:{type:String,write:!0}})],Ar.prototype,"timeResolution",void 0),u([le("timeResolution")],Ar.prototype,"readTimeResolution",null),u([ge("timeResolution")],Ar.prototype,"writeTimeResolution",null),u([d({type:["datetimeoffset-picker"],json:{read:!1,write:!0}})],Ar.prototype,"type",void 0),Ar=pC=u([k("esri.form.elements.inputs.DateTimeOffsetPickerInput")],Ar);const Eve=Ar;var fC;function iV(e){return e!=null?new Date(e):null}function rV(e){return e?e.getTime():null}let go=fC=class extends Gl{constructor(e){super(e),this.includeTime=!1,this.max=null,this.min=null,this.type="datetime-picker"}readMax(e,t){return iV(t.max)}writeMax(e,t){t.max=rV(e)}readMin(e,t){return iV(t.min)}writeMin(e,t){t.min=rV(e)}clone(){return new fC({includeTime:this.includeTime,max:this.max,min:this.min})}};u([d({type:Boolean,json:{write:!0}})],go.prototype,"includeTime",void 0),u([d({type:Date,json:{type:Number,write:!0}})],go.prototype,"max",void 0),u([le("max")],go.prototype,"readMax",null),u([ge("max")],go.prototype,"writeMax",null),u([d({type:Date,json:{type:Number,write:!0}})],go.prototype,"min",void 0),u([le("min")],go.prototype,"readMin",null),u([ge("min")],go.prototype,"writeMin",null),u([d({type:["datetime-picker"],json:{read:!1,write:!0}})],go.prototype,"type",void 0),go=fC=u([k("esri.form.elements.inputs.DateTimePickerInput")],go);const Ive=go;var mC;let Jp=mC=class extends Gl{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="radio-buttons"}clone(){return new mC({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};u([d({type:String,json:{write:!0}})],Jp.prototype,"noValueOptionLabel",void 0),u([d({type:Boolean,json:{write:!0}})],Jp.prototype,"showNoValueOption",void 0),u([d({type:["radio-buttons"],json:{read:!1,write:!0}})],Jp.prototype,"type",void 0),Jp=mC=u([k("esri.form.elements.inputs.RadioButtonsInput")],Jp);const Cve=Jp;var yC;let Kp=yC=class extends Gl{constructor(e){super(e),this.offValue=null,this.onValue=null,this.type="switch"}clone(){return new yC({offValue:this.offValue,onValue:this.onValue})}};u([d({type:[String,Number],json:{write:!0}})],Kp.prototype,"offValue",void 0),u([d({type:[String,Number],json:{write:!0}})],Kp.prototype,"onValue",void 0),u([d({type:["switch"],json:{read:!1,write:!0}})],Kp.prototype,"type",void 0),Kp=yC=u([k("esri.form.elements.inputs.SwitchInput")],Kp);const Mve=Kp;var gC;let I1=gC=class extends qL{constructor(e){super(e),this.type="text-area"}clone(){return new gC({maxLength:this.maxLength,minLength:this.minLength})}};u([d({type:["text-area"],json:{read:!1,write:!0}})],I1.prototype,"type",void 0),I1=gC=u([k("esri.form.elements.inputs.TextAreaInput")],I1);const kve=I1;var vC;let C1=vC=class extends qL{constructor(e){super(e),this.type="text-box"}clone(){return new vC({maxLength:this.maxLength,minLength:this.minLength})}};u([d({type:["text-box"],json:{read:!1,write:!0}})],C1.prototype,"type",void 0),C1=vC=u([k("esri.form.elements.inputs.TextBoxInput")],C1);const Ave=C1;var bC;function W$(e){return e??null}function Z$(e){return e??null}let ts=bC=class extends Gl{constructor(e){super(e),this.max=null,this.min=null,this.timeResolution="minutes",this.type="time-picker"}readMax(e,t){return W$(t.max)}writeMax(e,t){t.max=Z$(e)}readMin(e,t){return W$(t.min)}writeMin(e,t){t.min=Z$(e)}readTimeResolution(e,t){return W$(t.timeResolution)}writeTimeResolution(e,t){t.timeResolution=Z$(e)}clone(){return new bC({max:this.max,min:this.min,timeResolution:this.timeResolution})}};u([d({type:String,json:{type:String,write:!0}})],ts.prototype,"max",void 0),u([le("max")],ts.prototype,"readMax",null),u([ge("max")],ts.prototype,"writeMax",null),u([d({type:String,json:{type:String,write:!0}})],ts.prototype,"min",void 0),u([le("min")],ts.prototype,"readMin",null),u([ge("min")],ts.prototype,"writeMin",null),u([d({type:String,json:{type:String,write:!0}})],ts.prototype,"timeResolution",void 0),u([le("timeResolution")],ts.prototype,"readTimeResolution",null),u([ge("timeResolution")],ts.prototype,"writeTimeResolution",null),u([d({type:["time-picker"],json:{read:!1,write:!0}})],ts.prototype,"type",void 0),ts=bC=u([k("esri.form.elements.inputs.TimePickerInput")],ts);const Pve=ts,Lve={base:Gl,key:"type",typeMap:{"barcode-scanner":xve,"combo-box":$ve,"date-picker":Tve,"datetime-picker":Ive,"datetimeoffset-picker":Eve,"radio-buttons":Cve,switch:Mve,"text-area":kve,"text-box":Ave,"time-picker":Pve}};var wC;let oh=wC=class extends te{constructor(e){super(e),this.name=null,this.code=null}clone(){return new wC({name:this.name,code:this.code})}};u([d({type:String,json:{write:{isRequired:!0}}})],oh.prototype,"name",void 0),u([d({type:[String,Number],json:{write:{isRequired:!0}}})],oh.prototype,"code",void 0),oh=wC=u([k("esri.layers.support.CodedValue")],oh);const Ove=new at({inherited:"inherited",codedValue:"coded-value",range:"range"});let mg=class extends te{constructor(t){super(t),this.name=null,this.type=null}};u([d({type:String,json:{write:!0}})],mg.prototype,"name",void 0),u([Ve(Ove),d({json:{write:{isRequired:!0}}})],mg.prototype,"type",void 0),mg=u([k("esri.layers.support.Domain")],mg);const cx=mg;var _C;let yg=_C=class extends cx{constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){let t=null;if(this.codedValues){const n=String(e);this.codedValues.some(i=>(String(i.code)===n&&(t=i.name),!!t))}return t}clone(){return new _C({codedValues:j(this.codedValues),name:this.name})}};u([d({type:[oh],json:{write:{isRequired:!0}}})],yg.prototype,"codedValues",void 0),u([Ve({codedValue:"coded-value"})],yg.prototype,"type",void 0),yg=_C=u([k("esri.layers.support.CodedValueDomain")],yg);const dx=yg;var SC;let M1=SC=class extends cx{constructor(e){super(e),this.type="inherited"}clone(){return new SC}};u([Ve({inherited:"inherited"})],M1.prototype,"type",void 0),M1=SC=u([k("esri.layers.support.InheritedDomain")],M1);const xH=M1;var xC;let Xp=xC=class extends cx{constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new xC({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};u([d({json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range?.[1]},write:{enabled:!1,overridePolicy(){return{enabled:this.maxValue!=null&&this.minValue==null}},target:"range",writer(e,t,n){t[n]=[this.minValue||0,e]},isRequired:!0}}})],Xp.prototype,"maxValue",void 0),u([d({json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range?.[0]},write:{target:"range",writer(e,t,n){t[n]=[e,this.maxValue||0]},isRequired:!0}}})],Xp.prototype,"minValue",void 0),u([Ve({range:"range"})],Xp.prototype,"type",void 0),Xp=xC=u([k("esri.layers.support.RangeDomain")],Xp);const $H=Xp,TH={key:"type",base:cx,typeMap:{range:$H,"coded-value":dx,inherited:xH}};function hx(e){if(!e?.type)return null;switch(e.type){case"range":return $H.fromJSON(e);case"codedValue":return dx.fromJSON(e);case"inherited":return xH.fromJSON(e)}return null}var $C;let ks=$C=class extends fc{constructor(e){super(e),this.domain=null,this.editable=null,this.editableExpression=null,this.fieldName=null,this.hint=null,this.input=null,this.requiredExpression=null,this.type="field",this.valueExpression=null}clone(){return new $C({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};u([d({types:TH,json:{read:{reader:hx},write:!0}})],ks.prototype,"domain",void 0),u([d({type:Boolean,json:{write:!0}})],ks.prototype,"editable",void 0),u([d({type:String,json:{write:!0}})],ks.prototype,"editableExpression",void 0),u([d({type:String,json:{write:!0}})],ks.prototype,"fieldName",void 0),u([d({type:String,json:{write:!0}})],ks.prototype,"hint",void 0),u([d({types:Lve,json:{read:{source:"inputType"},write:{target:"inputType"}}})],ks.prototype,"input",void 0),u([d({type:String,json:{write:!0}})],ks.prototype,"requiredExpression",void 0),u([d({type:String,json:{read:!1,write:!0}})],ks.prototype,"type",void 0),u([d({type:String,json:{write:!0}})],ks.prototype,"valueExpression",void 0),ks=$C=u([k("esri.form.elements.FieldElement")],ks);const sV=ks;var TC;let Ja=TC=class extends fc{constructor(e){super(e),this.displayCount=null,this.displayType="list",this.editableExpression=null,this.orderByFields=null,this.relationshipId=null,this.type="relationship"}clone(){return new TC({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editableExpression:this.editableExpression,label:this.label,orderByFields:j(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};u([d({type:Number,json:{write:!0}})],Ja.prototype,"displayCount",void 0),u([d({type:["list"],json:{write:!0}})],Ja.prototype,"displayType",void 0),u([d({type:String,json:{write:!0}})],Ja.prototype,"editableExpression",void 0),u([d({type:[GL],json:{write:!0}})],Ja.prototype,"orderByFields",void 0),u([d({type:Number,json:{write:!0}})],Ja.prototype,"relationshipId",void 0),u([d({type:["relationship"],json:{read:!1,write:!0}})],Ja.prototype,"type",void 0),Ja=TC=u([k("esri.form.elements.RelationshipElement")],Ja);const oV=Ja;var EC;let Qp=EC=class extends fc{constructor(e){super(e),this.text=null,this.textFormat="plain-text",this.type="text"}clone(){return new EC({text:this.text,textFormat:this.textFormat,visibilityExpression:this.visibilityExpression})}};u([d({type:String,json:{write:!0}})],Qp.prototype,"text",void 0),u([d({type:String,json:{write:!0}})],Qp.prototype,"textFormat",void 0),u([d({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],Qp.prototype,"type",void 0),Qp=EC=u([k("esri.form.elements.TextElement")],Qp);const aV=Qp;let ef=class extends ut.ClonableMixin(fc){constructor(t){super(t),this.associationTypes=null,this.editableExpression=null,this.type="utilityNetworkAssociations"}};u([d({type:[pH],json:{write:{isRequired:!0}}})],ef.prototype,"associationTypes",void 0),u([d({type:String,json:{write:!0}})],ef.prototype,"editableExpression",void 0),u([d({type:["utilityNetworkAssociations"],json:{read:!1,write:!0}})],ef.prototype,"type",void 0),ef=u([k("esri.form.elements.UtilityNetworkAssociationsElement")],ef);const lV=ef,Rve=e=>e.type==="field",Nve=e=>e.type==="group",Dve=e=>e.type==="text";function EH(e){return{typesWithGroup:{base:fc,key:"type",typeMap:{attachment:eV,field:sV,group:e,relationship:oV,text:aV,utilityNetworkAssociations:lV}},typesWithoutGroup:{base:fc,key:"type",typeMap:{attachment:eV,field:sV,relationship:oV,text:aV,utilityNetworkAssociations:lV}}}}function IH(e,t,n=!0){if(!e)return null;const i=n?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(r=>i[r.type]).map(r=>i[r.type].fromJSON(r))}function CH(e,t,n=!0){if(!e)return null;const i=n?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(r=>i[r.type]).map(r=>r.toJSON())}function MH(e,t,n=!0){return e?e.map(i=>Ho(n?t.typesWithGroup:t.typesWithoutGroup,i)):null}var IC;let ma=IC=class extends fc{constructor(e){super(e),this.elements=null,this.initialState="expanded",this.type="group"}castElements(e){return MH(e,Y$,!1)}readElements(e,t){return IH(t.formElements,Y$,!1)}writeElements(e,t){t.formElements=CH(e,Y$,!1)}clone(){return new IC({description:this.description,elements:j(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};u([d({json:{write:!0}})],ma.prototype,"elements",void 0),u([pt("elements")],ma.prototype,"castElements",null),u([le("elements",["formElements"])],ma.prototype,"readElements",null),u([ge("elements")],ma.prototype,"writeElements",null),u([d({type:["collapsed","expanded"],json:{write:!0}})],ma.prototype,"initialState",void 0),u([d({type:String,json:{read:!1,write:!0}})],ma.prototype,"type",void 0),ma=IC=u([k("esri.form.elements.GroupElement")],ma);const Y$=EH(ma),Vve=ma;var CC;const J$=EH(Vve);let vo=CC=class extends te{constructor(e){super(e),this.description=null,this.elements=null,this.expressionInfos=null,this.preserveFieldValuesWhenHidden=!1,this.title=null}castElements(e){return MH(e,J$)}readElements(e,t){return IH(t.formElements,J$)}writeElements(e,t){t.formElements=CH(e,J$)}clone(){return new CC({description:this.description,expressionInfos:j(this.expressionInfos),elements:j(this.elements),title:this.title,preserveFieldValuesWhenHidden:this.preserveFieldValuesWhenHidden})}async getFieldsUsed(e,t){const n=new Set,{description:i,elements:r,expressionInfos:s,title:o}=this;if(yv(n,e,i),yv(n,e,o),!r)return[];const a=Fve(r,s).map(l=>rr(n,e,l));await Promise.all(a);for(const l of r)kH(n,{fieldsIndex:e,relationships:t},l);return Array.from(n).sort()}};function kH(e,t,n){const{fieldsIndex:i}=t;if(!i||i.fields.length!==e.size)switch(yv(e,i,n.label),yv(e,i,n.description),n.type){case"field":$r(e,i,n.fieldName);break;case"group":n.elements.forEach(r=>kH(e,t,r));break;case"relationship":if(t.relationships){const r=t.relationships.find(s=>s.id===n.relationshipId);r&&$r(e,i,r.keyField)}Rh(e,i,n.orderByFields?.map(r=>r.field));break;case"text":yv(e,i,n.text)}}function Fve(e,t){if(!t||t.length===0)return[];const n=AH(e),i=[];for(const r of t)n.has(r.name)&&i.push(r.expression);return i}function AH(e){const t=new Set;for(const n of e)if(ON(t,n.visibilityExpression),!Dve(n)){if(Nve(n))z_(t,AH(n.elements));else if(ON(t,n.editableExpression),Rve(n)){const{requiredExpression:i,valueExpression:r}=n;z_(t,[i,r])}}return t}function yv(e,t,n){Rh(e,t,DL(n))}u([d({type:String,json:{write:!0}})],vo.prototype,"description",void 0),u([d({json:{write:!0}})],vo.prototype,"elements",void 0),u([pt("elements")],vo.prototype,"castElements",null),u([le("elements",["formElements"])],vo.prototype,"readElements",null),u([ge("elements")],vo.prototype,"writeElements",null),u([d({type:[gve],json:{write:!0}})],vo.prototype,"expressionInfos",void 0),u([d({type:Boolean,json:{default:!1,write:!0}})],vo.prototype,"preserveFieldValuesWhenHidden",void 0),u([d({type:String,json:{write:!0}})],vo.prototype,"title",void 0),vo=CC=u([k("esri.form.FormTemplate")],vo);const jve=vo;var ju;(function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"})(ju||(ju={}));let zve=class{constructor(){this._resolver=bs(),this._status=ju.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=ju.RESOLVED,this._cleanUp()},()=>{this._status=ju.REJECTED,this._cleanUp()}),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(t){this._resolvingPromises.push(t),this._tryResolve()}isResolved(){return this._status===ju.RESOLVED}isRejected(){return this._status===ju.REJECTED}isFulfilled(){return this._status!==ju.PENDING}abort(){this._resolver.reject(Ut())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const t=bs(),n=[...this._resolvingPromises,t.promise],i=this._allPromise=Promise.all(n);i.then(()=>{this.isFulfilled()||this._allPromise!==i||this._resolver.resolve()},r=>{this.isFulfilled()||this._allPromise!==i||ur(r)||this._resolver.reject(r)}),t.resolve()}};const PH=e=>{let t=class extends e{constructor(...n){super(...n),this._promiseProps=new zve,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(n,i){return this._promiseProps.promise.then(()=>this).then(n,i)}catch(n){return this.when(null,n)}addResolvingPromise(n){n&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in n?n.when():n)}};return t=u([k("esri.core.Promise")],t),t};let gg=class extends PH(Ce){};gg=u([k("esri.core.Promise")],gg),function(e){e.EsriPromiseMixin=PH}(gg||(gg={}));const pb=gg,Bve="not-loaded",Uve="loading",Gve="failed",uV="loaded",LH=e=>{let t=class extends e{constructor(...n){super(...n),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(i=>{const r=this.load.bind(this);this.load=s=>{const o=new Promise((a,l)=>{const c=XP(s,l);this.destroyed&&l(new B("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(a,l).finally(()=>{c&&c.remove()})});if(this.loadStatus===Bve){this._set("loadStatus",Uve);const a=this._loadController=new AbortController;r({signal:a.signal})}return i(),o}})),this.when(()=>{this._set("loadStatus",uV),this._loadController=null},i=>{this._set("loadStatus",Gve),this._set("loadError",i),this._loadController=null})}destroy(){this._loadController&&(this._loadController=bm(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===uV}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){return this.isFulfilled()||(this._set("loadError",new B("load:cancelled","Cancelled")),this._loadController?.abort(),this._promiseProps.abort()),this}};return u([d({readOnly:!0})],t.prototype,"loaded",null),u([d({readOnly:!0})],t.prototype,"loadError",void 0),u([d({clonable:!1})],t.prototype,"loadStatus",void 0),u([d({type:[Js],readOnly:!0})],t.prototype,"loadWarnings",null),t=u([k("esri.core.Loadable")],t),t};let vg=class extends LH(pb){};vg=u([k("esri.core.Loadable")],vg),function(e){function t(n){return!(!n||!n.load)}e.LoadableMixin=LH,e.isLoadable=t}(vg||(vg={}));const Ol=vg;let ea=class extends te{constructor(...t){super(...t),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=et.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(t,n){if(t instanceof et)return t;if(t!=null){const i=new et;return i.read(t,n),i}return t}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(t){return this.cache[t]}setCacheValue(t,n){this.cache[t]=n}};u([d()],ea.prototype,"type",void 0),u([d({readOnly:!0})],ea.prototype,"cache",null),u([d({readOnly:!0})],ea.prototype,"extent",null),u([d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],ea.prototype,"hasM",void 0),u([d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],ea.prototype,"hasZ",void 0),u([d({type:et,json:{write:!0},value:et.WGS84})],ea.prototype,"spatialReference",void 0),u([le("spatialReference")],ea.prototype,"readSpatialReference",null),ea=u([k("esri.geometry.Geometry")],ea);const Hl=ea;function Mm(e){if(e&&typeof e=="object"&&"type"in e&&e.type==="mesh")throw new B("Mesh geometries are not supported for this operation")}function Hve(e){e.forEach(Mm)}const qve=57.29577951308232,Wve=.017453292519943;function cV(e){return e*qve}function dV(e){return e*Wve}function wze(e){return Math.PI/2-2*Math.atan(Math.exp(-e/_n.radius))}function MC(e){return e.wkid!=null||e.wkt!=null}const K$=[0,0];function gS(e,t,n,i,r){const s=e,o=r;if(o.spatialReference=n,"x"in s&&"x"in o)[o.x,o.y]=t(s.x,s.y,K$,i);else if("xmin"in s&&"xmin"in o)[o.xmin,o.ymin]=t(s.xmin,s.ymin,K$,i),[o.xmax,o.ymax]=t(s.xmax,s.ymax,K$,i);else if("paths"in s&&"paths"in o||"rings"in s&&"rings"in o){const a="paths"in s?s.paths:s.rings,l=[];let c;for(let h=0;h<a.length;h++){const p=a[h];c=[],l.push(c);for(let m=0;m<p.length;m++)c.push(t(p[m][0],p[m][1],[0,0],i)),p[m].length>2&&c[m].push(p[m][2]),p[m].length>3&&c[m].push(p[m][3])}"paths"in o?o.paths=l:o.rings=l}else if("points"in s&&"points"in o){const a=s.points,l=[];for(let c=0;c<a.length;c++)l[c]=t(a[c][0],a[c][1],[0,0],i),a[c].length>2&&l[c].push(a[c][2]),a[c].length>3&&l[c].push(a[c][3]);o.points=l}return r}function k1(e,t){const n=e&&(MC(e)?e:e.spatialReference),i=t&&(MC(t)?t:t.spatialReference);return!(e&&"type"in e&&e.type==="mesh"||t&&"type"in t&&t.type==="mesh"||!n||!i)&&(!!ui(i,n)||Ea(i)&&Oh(n)||Ea(n)&&Oh(i))}function px(e,t){if(e==null)return null;const n=e.spatialReference,i=t&&(MC(t)?t:t.spatialReference);return k1(n,i)?ui(n,i)?j(e):Ea(i)?gS(e,Of,et.WebMercator,!1,j(e)):Oh(i)?gS(e,fx,et.WGS84,!1,j(e)):null:null}function Of(e,t,n=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const i=dV(t);return n[0]=dV(e)*_n.radius,n[1]=_n.halfSemiMajorAxis*Math.log((1+Math.sin(i))/(1-Math.sin(i))),n}function fx(e,t,n=[0,0],i=!1){if(e===l0[0])n[0]=-180;else if(e===l0[1])n[0]=180;else{const r=cV(e/_n.radius);n[0]=i?r:r-360*Math.floor((r+180)/360)}return n[1]=cV(Math.PI/2-2*Math.atan(Math.exp(-t/_n.radius))),n}function gh(e,t=!1,n=j(e)){return Mm(e),Mm(n),gS(e,Of,et.WebMercator,t,n)}function Rf(e,t=!1,n=j(e)){return Mm(e),Mm(n),gS(e,fx,et.WGS84,t,n)}function OH(e,t){const n=e.x-t.x,i=e.y-t.y,r=e.z!=null&&t.z!=null?e.z-t.z:0;return Math.sqrt(n*n+i*i+r*r)}function Zve(e){return RH(e,NH)?.[0]??null}function Yve(e){return RH(e,NH)?.[1]??null}function RH({x:e,y:t,spatialReference:n},i=[0,0]){if(n){if(Ea(n))return fx(e,t,i);if(ay(n))return i[0]=e,i[1]=t,i}return null}const NH=[0,0];var A1;const X$=[0,0];function hV(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let dr=A1=class extends Hl{static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const n=e._get("spatialReference");t._set("spatialReference",Ce.isFrozen(n)?n:n.clone())}constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(e,t,n,i,r){let s;if(Array.isArray(e))s=e,r=t,e=s[0],t=s[1],n=s[2],i=s[3];else if(e&&typeof e=="object"){if(s=e,e=s.x!=null?s.x:s.longitude,t=s.y!=null?s.y:s.latitude,n=s.z,i=s.m,(r=s.spatialReference)&&r.declaredClass!=="esri.geometry.SpatialReference"&&(r=new et(r)),s.longitude!=null||s.latitude!=null){if(s.longitude==null)re.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(s.latitude==null)re.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!s.declaredClass&&r?.isWebMercator){const a=Of(s.longitude,s.latitude,X$);e=a[0],t=a[1]}}}else hV(n)?(r=n,n=null):hV(i)&&(r=i,i=null);const o={x:e,y:t};return o.x==null&&o.y!=null?re.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):o.y==null&&o.x!=null&&re.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),r!=null&&(o.spatialReference=r),n!=null&&(o.z=n),i!=null&&(o.m=i),o}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(e){e!==(this._get("m")!==void 0)&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return this.z!==void 0}set hasZ(e){e!==(this._get("z")!==void 0)&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){return Yve(this)}set latitude(e){const{spatialReference:t,x:n}=this;e!=null&&t&&(t.isWebMercator?this._set("y",Of(n,e,X$)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){return Zve(this)}set longitude(e){const{y:t,spatialReference:n}=this;e!=null&&n&&(n.isWebMercator?this._set("x",Of(e,t,X$)[0]):n.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,n){t[n]=isNaN(e)?"NaN":e}readX(e){return typeof e=="string"?NaN:e}clone(){const e=new A1;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return A1.copy(e,this),this}equals(e){if(e==null)return!1;const{x:t,y:n,z:i,m:r,spatialReference:s}=this,{z:o,m:a}=e;let{x:l,y:c,spatialReference:h}=e;if(!s.equals(h))if(s.isWebMercator&&h.isWGS84)[l,c]=Of(l,c),h=s;else{if(!s.isWGS84||!h.isWebMercator)return!1;[l,c]=fx(l,c),h=s}return t===l&&n===c&&i===o&&r===a&&s.wkid===h.wkid}offset(e,t,n){return this.x+=e,this.y+=t,n!=null&&(this.z=(this.z??0)+n),this}normalize(){if(!this.spatialReference)return this;const e=xr(this.spatialReference);if(!e)return this;let t=this.x;const[n,i]=e.valid,r=2*i;let s;return t>i?(s=Math.ceil(Math.abs(t-i)/r),t-=s*r):t<n&&(s=Math.ceil(Math.abs(t-n)/r),t+=s*r),this._set("x",t),this}distance(e){return OH(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};u([d({readOnly:!0})],dr.prototype,"cache",null),u([d({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],dr.prototype,"hasM",null),u([d({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],dr.prototype,"hasZ",null),u([d({type:Number})],dr.prototype,"latitude",null),u([d({type:Number})],dr.prototype,"longitude",null),u([d({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),pt(e=>isNaN(e)?e:vr(e))],dr.prototype,"x",void 0),u([ge("x")],dr.prototype,"writeX",null),u([le("x")],dr.prototype,"readX",null),u([d({type:Number,json:{write:!0}})],dr.prototype,"y",void 0),u([d({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],dr.prototype,"z",void 0),u([d({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],dr.prototype,"m",void 0),dr=A1=u([k("esri.geometry.Point")],dr),dr.prototype.toJSON.isDefaultToJSON=!0;const nt=dr,Q$=[0,0];function fb(e,t){return t!=null&&yr(e,t.x,t.y,t.z)}function _ze(e,t){if(!t.points?.length)return!1;for(const n of t.points)if(!km(e,n))return!1;return!0}function Jve(e,t){const{xmin:n,ymin:i,zmin:r,xmax:s,ymax:o,zmax:a}=t;return e.hasZ&&t.hasZ?yr(e,n,i,r)&&yr(e,n,o,r)&&yr(e,s,o,r)&&yr(e,s,i,r)&&yr(e,n,i,a)&&yr(e,n,o,a)&&yr(e,s,o,a)&&yr(e,s,i,a):yr(e,n,i)&&yr(e,n,o)&&yr(e,s,o)&&yr(e,s,i)}function km(e,t){return yr(e,t[0],t[1])}function Kve(e,t){return yr(e,t[0],t[1],t[2])}function yr(e,t,n,i){return t>=e.xmin&&t<=e.xmax&&n>=e.ymin&&n<=e.ymax&&(i==null||!e.hasZ||i>=e.zmin&&i<=e.zmax)}function WL(e,t){return Q$[1]=t.y,Q$[0]=t.x,Xve(e,Q$)}function Xve(e,t){return ZL(e.rings,t)}function ZL(e,t){if(!e)return!1;if(Qve(e))return pV(!1,e,t);let n=!1;for(let i=0,r=e.length;i<r;i++)n=pV(n,e[i],t);return n}function Qve(e){return!Array.isArray(e[0][0])}function pV(e,t,n){const[i,r]=n;let s=e,o=0;for(let a=0,l=t.length;a<l;a++){o++,o===l&&(o=0);const[c,h]=t[a],[p,m]=t[o];(h<r&&m>=r||m<r&&h>=r)&&c+(r-h)/(m-h)*(p-c)<i&&(s=!s)}return s}function e0e(e,t){return fb(e,t)}function t0e(e,t){const n=e.hasZ&&t.hasZ;let i,r,s;if(e.xmin<=t.xmin){if(i=t.xmin,e.xmax<i)return!1}else if(i=e.xmin,t.xmax<i)return!1;if(e.ymin<=t.ymin){if(r=t.ymin,e.ymax<r)return!1}else if(r=e.ymin,t.ymax<r)return!1;if(n&&t.hasZ){if(e.zmin<=t.zmin){if(s=t.zmin,e.zmax<s)return!1}else if(s=e.zmin,t.zmax<s)return!1}return!0}function n0e(e,t){const{points:n,hasZ:i}=t,r=i?Kve:km;for(const s of n)if(r(e,s))return!0;return!1}const Dh=[0,0],Vh=[0,0],Fh=[0,0],jh=[0,0],i0e=[Dh,Vh,Fh,jh],DH=[[Fh,Dh],[Dh,Vh],[Vh,jh],[jh,Fh]];function r0e(e,t){return s0e(e,t.rings)}function s0e(e,t){Dh[0]=e.xmin,Dh[1]=e.ymax,Vh[0]=e.xmax,Vh[1]=e.ymax,Fh[0]=e.xmin,Fh[1]=e.ymin,jh[0]=e.xmax,jh[1]=e.ymin;for(const n of i0e)if(ZL(t,n))return!0;for(const n of t){if(!n.length)continue;let i=n[0];if(km(e,i))return!0;for(let r=1;r<n.length;r++){const s=n[r];if(km(e,s)||VH(i,s,DH))return!0;i=s}}return!1}function o0e(e,t){Dh[0]=e.xmin,Dh[1]=e.ymax,Vh[0]=e.xmax,Vh[1]=e.ymax,Fh[0]=e.xmin,Fh[1]=e.ymin,jh[0]=e.xmax,jh[1]=e.ymin;const n=t.paths;for(const i of n){if(!n.length)continue;let r=i[0];if(km(e,r))return!0;for(let s=1;s<i.length;s++){const o=i[s];if(km(e,o)||VH(r,o,DH))return!0;r=o}}return!1}const fi=[0,0];function a0e(e){for(let t=0;t<e.length;t++){const n=e[t];for(let r=0;r<n.length-1;r++){const s=n[r],o=n[r+1];for(let a=t+1;a<e.length;a++)for(let l=0;l<e[a].length-1;l++){const c=e[a][l],h=e[a][l+1];if(kC(s,o,c,h,fi)&&!(fi[0]===s[0]&&fi[1]===s[1]||fi[0]===c[0]&&fi[1]===c[1]||fi[0]===o[0]&&fi[1]===o[1]||fi[0]===h[0]&&fi[1]===h[1]))return!0}}const i=n.length;if(!(i<=4))for(let r=0;r<i-3;r++){let s=i-1;r===0&&(s=i-2);const o=n[r],a=n[r+1];for(let l=r+2;l<s;l++){const c=n[l],h=n[l+1];if(kC(o,a,c,h,fi)&&!(fi[0]===o[0]&&fi[1]===o[1]||fi[0]===c[0]&&fi[1]===c[1]||fi[0]===a[0]&&fi[1]===a[1]||fi[0]===h[0]&&fi[1]===h[1]))return!0}}}return!1}function VH(e,t,n){for(let i=0;i<n.length;i++)if(kC(e,t,n[i][0],n[i][1]))return!0;return!1}function kC(e,t,n,i,r){const[s,o]=e,[a,l]=t,[c,h]=n,[p,m]=i,y=p-c,g=s-c,v=a-s,b=m-h,w=o-h,S=l-o,x=b*v-y*S;if(x===0)return!1;const E=(y*w-b*g)/x,$=(v*w-S*g)/x;return E>=0&&E<=1&&$>=0&&$<=1&&(r&&(r[0]=s+E*(a-s),r[1]=o+E*(l-o)),!0)}function l0e(e){switch(e){case"esriGeometryEnvelope":case"extent":return t0e;case"esriGeometryMultipoint":case"multipoint":return n0e;case"esriGeometryPoint":case"point":return e0e;case"esriGeometryMultiPatch":case"multipatch":case"esriGeometryPolygon":case"polygon":return r0e;case"esriGeometryPolyline":case"polyline":return o0e}}var bo;function u0e(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}function tu(e,t,n){return t==null?n:n==null?t:e(t,n)}let ni=bo=class extends Hl{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,n,i,r){return u0e(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:typeof e=="object"?(e.spatialReference=e.spatialReference==null?et.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:n,ymax:i,spatialReference:r??et.WGS84}}static fromPoint(e){return new bo({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new nt({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return e.z!=null&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new bo;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,this.zmin!=null&&(e.zmin=this.zmin,e.zmax=this.zmax),this.mmin!=null&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,n=e.spatialReference;return t&&n&&!t.equals(n)&&k1(t,n)&&(e=t.isWebMercator?gh(e):Rf(e,!0)),e.type==="point"?fb(this,e):e.type==="extent"&&Jve(this,e)}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,n=e.spatialReference;return t&&n&&!t.equals(n)&&k1(t,n)&&(e=t.isWebMercator?gh(e):Rf(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),n=this.width*t,i=this.height*t;if(this.xmin+=n,this.ymin+=i,this.xmax-=n,this.ymax-=i,this.hasZ){const r=(this.zmax-this.zmin)*t;this.zmin+=r,this.zmax-=r}if(this.hasM){const r=(this.mmax-this.mmin)*t;this.mmin+=r,this.mmax-=r}return this}intersects(e){if(e==null)return!1;e.type==="mesh"&&(e=e.extent);const t=this.spatialReference,n=e.spatialReference;return t&&n&&!ui(t,n)&&k1(t,n)&&(e=t.isWebMercator?gh(e):Rf(e,!0)),l0e(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,n){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,n!=null&&(this.zmin+=n,this.zmax+=n),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=tu(Math.min,this.zmin,e.zmin),this.zmax=tu(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=tu(Math.min,this.mmin,e.mmin),this.mmax=tu(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:e!=null&&this.intersects(e)?(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=tu(Math.max,this.zmin,e.zmin),this.zmax=tu(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=tu(Math.max,this.mmin,e.mmin),this.mmax=tu(Math.min,this.mmax,e.mmax)),this):null}toJSON(e){return this.write({},e)}_shiftCM(e=xr(this.spatialReference)){if(!e||!this.spatialReference)return this;const t=this.spatialReference,n=this._getCM(e);if(n){const i=t.isWebMercator?Rf(n):n;this.xmin-=n.x,this.xmax-=n.x,t.isWebMercator||(i.x=eT(i.x,e).x),this.spatialReference=new et(J0((t.isWGS84?e.altTemplate:null)??e.wkTemplate,{Central_Meridian:i.x}))}return this}_getCM(e){let t=null;const[n,i]=e.valid,r=this.xmin,s=this.xmax;return r>=n&&r<=i&&s>=n&&s<=i||(t=this.center),t}_normalize(e,t,n){const i=this.spatialReference;if(!i)return this;const r=n??xr(i);if(r==null)return this;const s=this._getParts(r).map(l=>l.extent);if(s.length<2)return s[0]||this;if(s.length>2)return e?this._shiftCM(r):this.set({xmin:r.valid[0],xmax:r.valid[1]});if(e)return this._shiftCM(r);if(t)return s;let o=!0,a=!0;return s.forEach(l=>{l.hasZ||(o=!1),l.hasM||(a=!1)}),{rings:s.map(l=>{const c=[[l.xmin,l.ymin],[l.xmin,l.ymax],[l.xmax,l.ymax],[l.xmax,l.ymin],[l.xmin,l.ymin]];if(o){const h=(l.zmax-l.zmin)/2;for(let p=0;p<c.length;p++)c[p].push(h)}if(a){const h=(l.mmax-l.mmin)/2;for(let p=0;p<c.length;p++)c[p].push(h)}return c}),hasZ:o,hasM:a,spatialReference:i}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:r,ymax:s,spatialReference:o}=this,a=this.width,l=this.xmin,c=this.xmax;let h;e=e||xr(o);const[p,m]=e.valid;h=eT(this.xmin,e);const y=h.x,g=h.frameId;h=eT(this.xmax,e);const v=h.x,b=h.frameId,w=y===v&&a>0;if(a>2*m){const S=new bo(l<c?y:v,r,m,s,o),x=new bo(p,r,l<c?v:y,s,o),E=new bo(0,r,m,s,o),$=new bo(p,r,0,s,o),I=[],A=[];S.contains(E)&&I.push(g),S.contains($)&&A.push(g),x.contains(E)&&I.push(b),x.contains($)&&A.push(b);for(let M=g+1;M<b;M++)I.push(M),A.push(M);t.push({extent:S,frameIds:[g]},{extent:x,frameIds:[b]},{extent:E,frameIds:I},{extent:$,frameIds:A})}else y>v||w?t.push({extent:new bo(y,r,m,s,o),frameIds:[g]},{extent:new bo(p,r,v,s,o),frameIds:[b]}):t.push({extent:new bo(y,r,v,s,o),frameIds:[g]});this.cache._parts=t}const n=this.hasZ,i=this.hasM;if(n||i){const r={};n&&(r.zmin=this.zmin,r.zmax=this.zmax),i&&(r.mmin=this.mmin,r.mmax=this.mmax);for(let s=0;s<t.length;s++)t[s].extent.set(r)}return t}};function eT(e,t){const[n,i]=t.valid,r=2*i;let s,o=0;return e>i?(s=Math.ceil(Math.abs(e-i)/r),e-=s*r,o=s):e<n&&(s=Math.ceil(Math.abs(e-n)/r),e+=s*r,o=-s),{x:e,frameId:o}}u([d({readOnly:!0})],ni.prototype,"cache",null),u([d({readOnly:!0})],ni.prototype,"center",null),u([d({readOnly:!0})],ni.prototype,"extent",null),u([d({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],ni.prototype,"hasM",null),u([d({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],ni.prototype,"hasZ",null),u([d({readOnly:!0})],ni.prototype,"height",null),u([d({readOnly:!0})],ni.prototype,"width",null),u([d({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],ni.prototype,"xmin",void 0),u([d({type:Number,json:{write:!0}})],ni.prototype,"ymin",void 0),u([d({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],ni.prototype,"mmin",void 0),u([d({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],ni.prototype,"zmin",void 0),u([d({type:Number,json:{write:!0}})],ni.prototype,"xmax",void 0),u([d({type:Number,json:{write:!0}})],ni.prototype,"ymax",void 0),u([d({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],ni.prototype,"mmax",void 0),u([d({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],ni.prototype,"zmax",void 0),ni=bo=u([k("esri.geometry.Extent")],ni),ni.prototype.toJSON.isDefaultToJSON=!0;const Gt=ni;async function c0e(e){const t="portalItem"in e?e:{portalItem:e},{fromItem:n}=await J(async()=>{const{fromItem:i}=await import("./portalLayers-TL9fiiAU.js");return{fromItem:i}},__vite__mapDeps([20,21,22,23,24,3]));try{return await n(t)}catch(i){const r=t?.portalItem,s=r?.id||"unset",o=r?.portal?.url||kt.portalUrl;throw re.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+o+"', id: '"+s+"')",i),i}}const AC={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function tT(e,t,n,i=Ca){const r=new Wr(jL(i)),s=je.fromJSDate(e,{zone:r}),o=n==="decades"||n==="centuries"?"year":jH(n);return n==="decades"&&(t*=10),n==="centuries"&&(t*=100),s.plus({[o]:t}).toJSDate()}function Sze(e,t,n="milliseconds"){const i=e.getTime(),r=FH(t,n,"milliseconds");return new Date(i+r)}function fV(e,t,n=Ca){const i=new Wr(jL(n)),r=je.fromJSDate(e,{zone:i});if(t==="decades"||t==="centuries"){const o=r.startOf("year"),{year:a}=o,l=a-a%(t==="decades"?10:100);return o.set({year:l}).toJSDate()}const s=jH(t);return r.startOf(s).toJSDate()}function FH(e,t,n){return e===0?0:e*AC[t]/AC[n]}function xze(e,t){return e&&t?e.intersection(t):e||t}function jH(e){switch(e){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}var As;let us=As=class extends te{static get allTime(){return mV}static get empty(){return d0e}static fromArray(e){return new As({start:e[0]!=null?new Date(e[0]):e[0],end:e[1]!=null?new Date(e[1]):e[1]})}constructor(e){super(e),this.end=null,this.start=null}readEnd(e,t){return t.end!=null?new Date(t.end):null}writeEnd(e,t){t.end=e?.getTime()??null}get isAllTime(){return this.equals(As.allTime)}get isEmpty(){return this.equals(As.empty)}readStart(e,t){return t.start!=null?new Date(t.start):null}writeStart(e,t){t.start=e?.getTime()??null}clone(){return new As({end:this.end,start:this.start})}equals(e){if(!e)return!1;const t=this.start?.getTime()??this.start,n=this.end?.getTime()??this.end,i=e.start?.getTime()??e.start,r=e.end?.getTime()??e.end;return t===i&&n===r}expandTo(e,t=Ca){if(this.isEmpty||this.isAllTime)return this.clone();let n=this.start;n&&(n=fV(n,e,t));let i=this.end;if(i){const r=fV(i,e,t);i=i.getTime()===r.getTime()?r:tT(r,1,e,t)}return new As({start:n,end:i})}intersection(e){if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return As.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const t=this.start?.getTime()??-1/0,n=this.end?.getTime()??1/0,i=e.start?.getTime()??-1/0,r=e.end?.getTime()??1/0;let s,o;return i>=t&&i<=n?s=i:t>=i&&t<=r&&(s=t),n>=i&&n<=r?o=n:r>=t&&r<=n&&(o=r),s==null||o==null||isNaN(s)||isNaN(o)?As.empty:new As({start:s===-1/0?null:new Date(s),end:o===1/0?null:new Date(o)})}offset(e,t,n=Ca){if(this.isEmpty||this.isAllTime)return this.clone();const i=new As,{start:r,end:s}=this;return r!=null&&(i.start=tT(r,e,t,n)),s!=null&&(i.end=tT(s,e,t,n)),i}toArray(){return this.isEmpty?[void 0,void 0]:[this.start?.getTime()??null,this.end?.getTime()??null]}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return mV.clone();const t=this.start!=null&&e.start!=null?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,n=this.end!=null&&e.end!=null?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new As({start:t,end:n})}};u([d({type:Date,json:{write:{allowNull:!0}}})],us.prototype,"end",void 0),u([le("end")],us.prototype,"readEnd",null),u([ge("end")],us.prototype,"writeEnd",null),u([d({readOnly:!0,json:{read:!1}})],us.prototype,"isAllTime",null),u([d({readOnly:!0,json:{read:!1}})],us.prototype,"isEmpty",null),u([d({type:Date,json:{write:{allowNull:!0}}})],us.prototype,"start",void 0),u([le("start")],us.prototype,"readStart",null),u([ge("start")],us.prototype,"writeStart",null),us=As=u([k("esri.time.TimeExtent")],us);const Rl=us,mV=new us,d0e=new us({start:void 0,end:void 0});let h0e=0,Tn=class extends Ks.EventedMixin(Cc.IdentifiableMixin(Ol)){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new Gt(-180,-90,180,90,et.WGS84),this.id=Date.now().toString(16)+"-layer-"+h0e++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=et.WGS84,this.title=null,this.type=null,this.url=null,this.visibilityTimeExtent=null,this.visible=!0}static async fromArcGISServerUrl(t){const n=typeof t=="string"?{url:t}:t;return(await J(async()=>{const{fromUrl:i}=await import("./arcgisLayers-BcJJfHQG.js");return{fromUrl:i}},__vite__mapDeps([25,21,22,24,3]))).fromUrl(n)}static fromPortalItem(t){return c0e(t)}initialize(){this.when().catch(t=>{ur(t)||re.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:t})})}destroy(){const t=this.parent;if(t){const n=this;"layers"in t&&t.layers.includes(n)?t.layers.remove(n):"tables"in t&&t.tables.includes(n)?t.tables.remove(n):"baseLayers"in t&&t.baseLayers.includes(n)?t.baseLayers.remove(n):"referenceLayers"in t&&t.referenceLayers.includes(n)&&t.referenceLayers.remove(n),this._set("parent",null)}}get effectiveVisible(){let t=this.visible;const n=this.parent;return t&&n&&"effectiveVisible"in n&&(t&&=n.effectiveVisible),t}get hasAttributionData(){return this.attributionDataUrl!=null}get parsedUrl(){return li(this.url)}createLayerView(t,n){return Promise.reject(new B("layer:create-layer-view","Layer does not support creating a layer view"))}async fetchAttributionData(){const t=this.attributionDataUrl;if(this.hasAttributionData&&t)return(await Lt(t,{query:{f:"json"},responseType:"json"})).data;throw new B("layer:no-attribution-data","Layer does not have attribution data")}};u([d({type:String})],Tn.prototype,"attributionDataUrl",void 0),u([d({readOnly:!0})],Tn.prototype,"effectiveVisible",null),u([d({type:Gt})],Tn.prototype,"fullExtent",void 0),u([d({readOnly:!0})],Tn.prototype,"hasAttributionData",null),u([d({type:String,clonable:!1})],Tn.prototype,"id",void 0),u([d({type:Boolean,nonNullable:!0})],Tn.prototype,"legendEnabled",void 0),u([d({type:["show","hide","hide-children"]})],Tn.prototype,"listMode",void 0),u([d({type:Number,range:{min:0,max:1},nonNullable:!0})],Tn.prototype,"opacity",void 0),u([d({clonable:!1})],Tn.prototype,"parent",void 0),u([d({readOnly:!0})],Tn.prototype,"parsedUrl",null),u([d({type:Boolean,readOnly:!0})],Tn.prototype,"persistenceEnabled",void 0),u([d({type:Boolean})],Tn.prototype,"popupEnabled",void 0),u([d({type:Boolean})],Tn.prototype,"attributionVisible",void 0),u([d({type:et})],Tn.prototype,"spatialReference",void 0),u([d({type:String})],Tn.prototype,"title",void 0),u([d({readOnly:!0,json:{read:!1}})],Tn.prototype,"type",void 0),u([d()],Tn.prototype,"url",void 0),u([d({type:Rl})],Tn.prototype,"visibilityTimeExtent",void 0),u([d({type:Boolean,nonNullable:!0})],Tn.prototype,"visible",void 0),Tn=u([k("esri.layers.Layer")],Tn);const YL=Tn;function p0e(e,t,n){return QP(e.map((i,r)=>t.apply(n,[i,r])))}async function f0e(e,t,n){return(await QP(e.map((i,r)=>t.apply(n,[i,r])))).map(i=>i.value)}function JL(e){return{ok:!0,value:e}}function KL(e){return{ok:!1,error:e}}function m0e(e){return e!=null&&e.ok===!0?e.value:null}function y0e(e){return e!=null&&e.ok===!1?e.error:null}async function mx(e){if(e==null)return{ok:!1,error:new Error("no promise provided")};try{return JL(await e)}catch(t){return KL(t)}}async function g0e(e){try{return JL(await e)}catch(t){return ba(t),KL(t)}}function mb(e,t){return new hu(e,t)}let hu=class extends Ce{get value(){return m0e(this._result)}get error(){return y0e(this._result)}get finished(){return this._result!=null}constructor(t,n){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=bm(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:i}=this._abortController;this.promise=t(i),this.promise.then(r=>{this._result=JL(r),this._cleanup()},r=>{this._result=KL(r),this._cleanup()}),this._abortHandle=Ws(n,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=on(this._abortHandle),this._abortController=null}};u([d()],hu.prototype,"value",null),u([d()],hu.prototype,"error",null),u([d()],hu.prototype,"finished",null),u([d()],hu.prototype,"promise",void 0),u([d()],hu.prototype,"_result",void 0),hu=u([k("esri.core.asyncUtils.ReactiveTask")],hu);function me(e,t,n={}){return XL(e,t,n,zH)}function sr(e,t,n={}){return XL(e,t,n,BH)}function XL(e,t,n={},i){let r=null;const s=n.once?(o,a)=>{i(o)&&(on(r),t(o,a))}:(o,a)=>{i(o)&&t(o,a)};if(r=Dde(e,s,n.sync,n.equals),n.initial){const o=e();s(o,o)}return r}function Tr(e,t,n,i={}){let r=null,s=null,o=null;function a(){r&&s&&(s.remove(),i.onListenerRemove?.(r),r=null,s=null)}function l(h){i.once&&i.once&&on(o),n(h)}const c=me(e,(h,p)=>{a(),z2(h)&&(r=h,s=tb(h,t,l),i.onListenerAdd?.(h))},{sync:i.sync,initial:!0});return o=St(()=>{c.remove(),a()}),o}function yx(e,t){return v0e(e,BH,t)}function v0e(e,t,n){if(vs(n))return Promise.reject(Ut());const i=e();if(t?.(i))return Promise.resolve(i);let r=null;function s(){r=on(r)}return new Promise((o,a)=>{r=X0([Ws(n,()=>{s(),a(Ut())}),XL(e,l=>{s(),o(l)},{sync:!1,once:!0},t??zH)])})}function zH(e){return!0}function BH(e){return!!e}function b0e(e,t,n={}){let i=!1;const r=me(e,(s,o)=>{i||t(s,o)},n);return{remove(){r.remove()},pause(){i=!0},resume(){i=!1}}}function w0e(e,t){const n=new we,i=Tr(e,"after-splice",({added:r,start:s,deleteCount:o})=>{const a=n.splice(s,o);for(const l of a)l.remove();if(r?.length){const l=r.map(t);n.addMany(l,s)}},{sync:!0,onListenerRemove:()=>n.drain(r=>r.remove()),onListenerAdd:r=>n.addMany(r.items.map(t))});return n.addHandles(i),n}function Eze(e,t){const n=new we,i=w0e(e,a=>mb(async l=>{const c=await t(a,l);if(vs(l))throw c.remove(),Ut();return c})),r=()=>null,s=async a=>{const l=await a.promise,c=i.indexOf(a);c<0||n.splice(c,1,l)};n.addMany(i.items.map(r));for(const a of i)t0(s(a));const o=i.on("after-splice",({added:a,start:l,deleteCount:c})=>{const h=n.splice(l,c);for(const p of h)p?.remove();if(a?.length){n.addMany(a.map(r),l);for(const p of a)t0(s(p))}});return n.addHandles([Lce(i),o]),n}const ka={sync:!0},mt={initial:!0},Fr={sync:!0,initial:!0};function Am(e,t,n=!1){let{hasM:i,hasZ:r}=e;Array.isArray(t)?t.length!==4||i||r?t.length===3&&n&&!i?(r=!0,i=!1):t.length===3&&i&&r&&(i=!1,r=!1):(i=!0,r=!0):(r=!r&&t.hasZ&&(!i||t.hasM),i=!i&&t.hasM&&(!r||t.hasZ)),e.hasZ=r,e.hasM=i}var PC;function yV(e){return(t,n)=>t==null?n:n==null?t:e(t,n)}function _0e(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let pu=PC=class extends Hl{constructor(...e){super(...e),this.points=[],this.type="multipoint"}normalizeCtorArgs(e,t){if(!e&&!t)return{};const n={};Array.isArray(e)?(n.points=e,n.spatialReference=t):_0e(e)?n.spatialReference=e:(e.points&&(n.points=e.points),e.spatialReference&&(n.spatialReference=e.spatialReference),e.hasZ&&(n.hasZ=e.hasZ),e.hasM&&(n.hasM=e.hasM));const i=n.points?.[0];return i&&(n.hasZ===void 0&&n.hasM===void 0?(n.hasZ=i.length>2,n.hasM=!1):n.hasZ===void 0?n.hasZ=i.length>3:n.hasM===void 0&&(n.hasM=i.length>3)),n}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=this.points;if(!e.length)return null;const t=new Gt,n=this.hasZ,i=this.hasM,r=n?3:2,s=e[0],o=yV(Math.min),a=yV(Math.max);let l,c,h,p,[m,y]=s,[g,v]=s;for(let b=0,w=e.length;b<w;b++){const S=e[b],[x,E]=S;if(m=o(m,x),y=o(y,E),g=a(g,x),v=a(v,E),n&&S.length>2){const $=S[2];l=o(l,$),h=a(h,$)}if(i&&S.length>r){const $=S[r];c=o(c,$),p=a(p,$)}}return t.xmin=m,t.ymin=y,t.xmax=g,t.ymax=v,t.spatialReference=this.spatialReference,n?(t.zmin=l,t.zmax=h):(t.zmin=void 0,t.zmax=void 0),i?(t.mmin=c,t.mmax=p):(t.mmin=void 0,t.mmax=void 0),t}writePoints(e,t){t.points=j(this.points)}addPoint(e){return Am(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}clone(){const e={points:j(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new PC(e)}getPoint(e){if(!this._validateInputs(e))return null;const t=this.points[e],n={x:t[0],y:t[1],spatialReference:this.spatialReference};let i=2;return this.hasZ&&(n.z=t[2],i=3),this.hasM&&(n.m=t[i]),new nt(n)}removePoint(e){if(!this._validateInputs(e))return null;const t=new nt(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?(Am(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return e!=null&&e>=0&&e<this.points.length}};u([d({readOnly:!0})],pu.prototype,"cache",null),u([d()],pu.prototype,"extent",null),u([d({type:[[Number]],json:{write:{isRequired:!0}}})],pu.prototype,"points",void 0),u([ge("points")],pu.prototype,"writePoints",null),pu=PC=u([k("esri.geometry.Multipoint")],pu),pu.prototype.toJSON.isDefaultToJSON=!0;const gx=pu;function Ize(e){const t=[];for(e.reset();e.nextPath();){const n=[];for(;e.nextPoint();)n.push([e.x,e.y]);t.push(n)}return e.reset(),t}function S0e(e){const t=[];for(;e.nextPoint();)t.push([e.x,e.y]);return e.seekPathStart(),t}var vS;(function(e){e[e.X=0]="X",e[e.Y=1]="Y",e[e.Z=2]="Z"})(vS||(vS={}));function Cze(e){if(!e)return null;if(Array.isArray(e))return e;const t=e.hasZ,n=e.hasM;if(e.type==="point")return n&&t?[e.x,e.y,e.z,e.m]:t?[e.x,e.y,e.z]:n?[e.x,e.y,e.m]:[e.x,e.y];if(e.type==="polygon")return e.rings.slice();if(e.type==="polyline")return e.paths.slice();if(e.type==="multipoint")return e.points.slice();if(e.type==="extent"){const i=e.clone().normalize();if(!i)return null;let r=!1,s=!1;return i.forEach(o=>{o.hasZ&&(r=!0),o.hasM&&(s=!0)}),i.map(o=>{const a=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(r&&o.hasZ){const l=.5*(o.zmax-o.zmin);for(let c=0;c<a.length;c++)a[c].push(l)}if(s&&o.hasM){const l=.5*(o.mmax-o.mmin);for(let c=0;c<a.length;c++)a[c].push(l)}return a})}return null}function vx(e,t){const n=t[0]-e[0],i=t[1]-e[1];if(e.length>2&&t.length>2){const r=e[2]-t[2];return Math.sqrt(n*n+i*i+r*r)}return Math.sqrt(n*n+i*i)}function UH(e,t,n){const i=e[0]+n*(t[0]-e[0]),r=e[1]+n*(t[1]-e[1]);return e.length>2&&t.length>2?[i,r,e[2]+n*(t[2]-e[2])]:[i,r]}function x0e(e,t,n,i){return $0e(e,t,n[i],n[i+1])}function $0e(e,t,n,i){const[r,s]=t,[o,a]=n,[l,c]=i,h=l-o,p=c-a,m=h*h+p*p,y=(r-o)*h+(s-a)*p,g=Math.min(1,Math.max(0,y/m));return e[0]=o+h*g,e[1]=a+p*g,e}function Mze(e,t,n,i,r,s){let o=n,a=i,l=r-o,c=s-a;if(l!==0||c!==0){const h=((e-o)*l+(t-a)*c)/(l*l+c*c);h>1?(o=r,a=s):h>0&&(o+=l*h,a+=c*h)}return l=e-o,c=t-a,l*l+c*c}function GH(e,t){return UH(e,t,.5)}function kze(e){const t=e.length;let n=0;for(let i=0;i<t-1;++i)n+=vx(e[i],e[i+1]);return n}function Aze(e,t){if(t<=0)return e[0];const n=e.length;let i=0;for(let r=0;r<n-1;++r){const s=vx(e[r],e[r+1]);if(t-i<s){const o=(t-i)/s;return UH(e[r],e[r+1],o)}i+=s}return e[n-1]}function HH(e,t=vS.X,n=vS.Y){let i=0;const r=e.length;let s=e[0];for(let o=1;o<r;o++){const a=e[o];i+=(a[t]-s[t])*(a[n]+s[n]),s=a}if(!qH(e)){const o=e[0];i+=(o[t]-s[t])*(o[n]+s[n])}return i>=0}function qH(e){const t=e.length;return t<3||N2(e[0],e[t-1])}function Pze(e){"rings"in e&&(T0e(e),E0e(e))}function T0e(e){if(!("rings"in e))return!1;let t=!1;for(const n of e.rings)qH(n)||(n.push(n[0].slice()),t=!0);return t}function E0e(e){if(!("rings"in e)||e.rings.length===0||HH(e.rings[0]))return!1;for(const t of e.rings)t.reverse();return!0}function Lze(e){return e.type!=="polygon"&&e.type!=="polyline"||I0e(e.type==="polygon"?e.rings:e.paths,e.spatialReference),e}function I0e(e,t){const n=xr(t);if(!n)return;const i=n.valid[0],r=n.valid[1],s=r-i;for(const o of e){let a=1/0,l=-1/0;for(const h of o){const p=C0e(h[0],i,r);a=Math.min(a,p),l=Math.max(l,p),h[0]=p}const c=l-a;s-c<c&&o.forEach(h=>{h[0]<0&&(h[0]+=s)})}}function C0e(e,t,n){const i=n-t;return e<t?n-(t-e)%i:e>n?t+(e-t)%i:e}function Oze(e,t){if(e===t)return!0;if(e.type!==t.type)return!1;if(e.type==="point"||e.type==="mesh"||e.type==="extent")return!0;if(e.type==="multipoint")return e.points.length===t.points.length;const[n,i]=e.type==="polyline"?[e.paths,t.paths]:[e.rings,t.rings];return n.length===i.length&&n.every((r,s)=>r.length===i[s].length)}function Rze(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null}function M0e(e){return e?k0e(e.rings,e.hasZ??!1):null}function k0e(e,t){if(!e?.length)return null;const n=[],i=[],r=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let s=0,o=e.length;s<o;s++){const a=WH(e[s],t,r);a&&i.push(a)}if(i.sort((s,o)=>{let a=s[2]-o[2];return a===0&&t&&(a=s[4]-o[4]),a}),i.length&&(n[0]=i[0][0],n[1]=i[0][1],t&&(n[2]=i[0][3]),(n[0]<r[0]||n[0]>r[1]||n[1]<r[2]||n[1]>r[3]||t&&(n[2]<r[4]||n[2]>r[5]))&&(n.length=0)),!n.length){const s=e[0]&&e[0].length?A0e(e[0],t):null;if(!s)return null;n[0]=s[0],n[1]=s[1],t&&s.length>2&&(n[2]=s[2])}return n}function WH(e,t,n){let i=0,r=0,s=0,o=0,a=0;const l=e.length?e[0][0]:0,c=e.length?e[0][1]:0,h=e.length&&t?e[0][2]:0;for(let m=0;m<e.length;m++){const y=e[m],g=e[(m+1)%e.length],[v,b,w]=y,S=v-l,x=b-c,[E,$,I]=g,A=E-l,M=$-c,L=S*M-A*x;if(o+=L,i+=(S+A)*L,r+=(x+M)*L,t&&y.length>2&&g.length>2){const O=w-h,P=I-h,R=S*P-A*O;s+=(O+P)*R,a+=R}v<n[0]&&(n[0]=v),v>n[1]&&(n[1]=v),b<n[2]&&(n[2]=b),b>n[3]&&(n[3]=b),t&&(w<n[4]&&(n[4]=w),w>n[5]&&(n[5]=w))}if(o>0&&(o*=-1),a>0&&(a*=-1),!o)return null;o*=.5,a*=.5;const p=[i/(6*o)+l,r/(6*o)+c,o];return t&&(n[4]===n[5]||a===0?(p[3]=(n[4]+n[5])/2,p[4]=0):(p[3]=s/(6*a)+h,p[4]=a)),p}function Nze(e,t){let n=0,i=0,r=0;e.nextPoint();const s=e.pathSize?e.x:0,o=e.pathSize?e.y:0;for(let a=0;a<e.pathSize;a++){e.seekInPath(a);const l=[e.x,e.y];e.seekInPath((a+1)%e.pathSize);const c=[e.x,e.y],[h,p]=l,m=h-s,y=p-o,[g,v]=c,b=g-s,w=v-o,S=m*w-b*y;r+=S,n+=(m+b)*S,i+=(y+w)*S,h<t[0]&&(t[0]=h),h>t[1]&&(t[1]=h),p<t[2]&&(t[2]=p),p>t[3]&&(t[3]=p)}return r>0&&(r*=-1),r?(r*=.5,[n/(6*r)+s,i/(6*r)+o,r]):null}function A0e(e,t){const n=t?[0,0,0]:[0,0],i=t?[0,0,0]:[0,0];let r=0,s=0,o=0,a=0;for(let l=0,c=e.length;l<c-1;l++){const h=e[l],p=e[l+1];if(h&&p){n[0]=h[0],n[1]=h[1],i[0]=p[0],i[1]=p[1],t&&h.length>2&&p.length>2&&(n[2]=h[2],i[2]=p[2]);const m=vx(n,i);if(m){r+=m;const y=GH(h,p);s+=m*y[0],o+=m*y[1],t&&y.length>2&&(a+=m*y[2])}}}return r>0?t?[s/r,o/r,a/r]:[s/r,o/r]:e.length?e[0]:null}function P0e(e){const{hasZ:t,totalSize:n}=e;if(n===0)return null;const i=[],r=[],s=t?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(e.reset();e.nextPath();){const o=WH(S0e(e),e.hasZ,s);o&&r.push(o)}if(r.sort((o,a)=>{let l=o[2]-a[2];return l===0&&t&&(l=o[4]-a[4]),l}),r.length&&(i[0]=r[0][0],i[1]=r[0][1],t&&(i[2]=r[0][3]),(i[0]<s[0]||i[0]>s[1]||i[1]<s[2]||i[1]>s[3]||t&&(i[2]<s[4]||i[2]>s[5]))&&(i.length=0)),!i.length){e.reset(),e.nextPath();const o=e.pathSize?L0e(e):null;if(!o)return null;i[0]=o[0],i[1]=o[1],t&&o.length>2&&(i[2]=o[2])}return i}function L0e(e){const{hasZ:t}=e,n=t?[0,0,0]:[0,0],i=t?[0,0,0]:[0,0];let r=0,s=0,o=0,a=0;if(e.nextPoint()){let l=e.x,c=e.y,h=e.z;for(;e.nextPoint();){const p=e.x,m=e.y,y=e.z;n[0]=l,n[1]=c,i[0]=p,i[1]=m,t&&(n[2]=h,i[2]=y);const g=vx(n,i);if(g){r+=g;const v=GH(n,i);s+=g*v[0],o+=g*v[1],t&&v.length>2&&(a+=g*v[2])}l=p,c=m,h=y}}return r>0?t?[s/r,o/r,a/r]:[s/r,o/r]:e.pathSize?(e.seekPathStart(),e.nextPoint(),[e.x,e.y]):null}const O0e=1e-6;function Dze(e){let t=0;for(e.reset();e.nextPath();)t+=e.getCurrentRingArea();if(t<O0e){const r=P0e(e);return r?[r[0],r[1]]:null}const n=[0,0];if(e.reset(),!e.nextPath()||!e.nextPoint())return null;const i=[e.x,e.y];for(e.reset();e.nextPath();)N0e(n,i,e);return n[0]*=1/t,n[1]*=1/t,n[0]+=i[0],n[1]+=i[1],n}const R0e=1/3;function N0e(e,t,n){if(!n||n.pathSize<3)return null;n.nextPoint();const i=n.x,r=n.y;n.nextPoint();let s,o=n.x-i,a=n.y-r,l=0,c=0;for(;n.nextPoint();)l=n.x-i,c=n.y-r,s=.5*R0e*(l*a-c*o),e[0]+=s*(o+l),e[1]+=s*(a+c),o=l,a=c;const h=n.getCurrentRingArea(),p=[i,r];return p[0]-=t[0],p[1]-=t[1],p[0]*=h,p[1]*=h,e[0]+=p[0],e[1]+=p[1],e}function _r(e=j0e){return[e[0],e[1],e[2],e[3]]}function ZH(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function Vze(e,t,n,i,r=_r()){return r[0]=e,r[1]=t,r[2]=n,r[3]=i,r}function Fze(e,t=_r()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function D0e(e,t,n=new Gt){return n.xmin=e[0],n.ymin=e[1],n.xmax=e[2],n.ymax=e[3],n.spatialReference=t,n}function jze(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function zze(e,t,n){if(t!=null)if("length"in t)LC(t)?(n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n[2]=Math.max(e[2],t[2]),n[3]=Math.max(e[3],t[3])):t.length!==2&&t.length!==3||(n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n[2]=Math.max(e[2],t[0]),n[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":n[0]=Math.min(e[0],t.xmin),n[1]=Math.min(e[1],t.ymin),n[2]=Math.max(e[2],t.xmax),n[3]=Math.max(e[3],t.ymax);break;case"point":n[0]=Math.min(e[0],t.x),n[1]=Math.min(e[1],t.y),n[2]=Math.max(e[2],t.x),n[3]=Math.max(e[3],t.y)}else ZH(n,e)}function Bze(e,t,n=e){const i=t.length;let r=e[0],s=e[1],o=e[2],a=e[3];for(let l=0;l<i;l++){const c=t[l];r=Math.min(r,c[0]),s=Math.min(s,c[1]),o=Math.max(o,c[0]),a=Math.max(a,c[1])}return n[0]=r,n[1]=s,n[2]=o,n[3]=a,n}function Uze(e){for(let t=0;t<4;t++)if(!isFinite(e[t]))return!1;return!0}function QL(e){return e==null||e[0]>=e[2]?0:e[2]-e[0]}function e3(e){return e==null||e[1]>=e[3]?0:e[3]-e[1]}function Gze(e){return QL(e)*e3(e)}function Hze(e,t=[0,0]){return t[0]=(e[0]+e[2])/2,t[1]=(e[1]+e[3])/2,t}function qze(e){const t=QL(e),n=e3(e);return Math.sqrt(t*t+n*n)}function Wze(e,t){return V0e(e,t.x,t.y)}function V0e(e,t,n){return t>=e[0]&&n>=e[1]&&t<=e[2]&&n<=e[3]}function Zze(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function Yze(e,t,n){return Math.max(t[0],e[0])-n<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])-n<=Math.min(t[3],e[3])}function F0e(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function Jze(e,t,n,i=e){return i[0]=e[0]+t,i[1]=e[1]+n,i[2]=e[2]+t,i[3]=e[3]+n,i}function Kze(e){return e?ZH(e,gV):_r(gV)}function LC(e){return e!=null&&e.length===4}function Xze(e,t){return LC(e)&&LC(t)?e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]:e===t}const gV=[1/0,1/0,-1/0,-1/0],j0e=[0,0,0,0];function YH(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function JH(e){return e.points!==void 0}function KH(e){return e.x!==void 0&&e.y!==void 0}function XH(e){return e.paths!==void 0}function QH(e){return e.rings!==void 0}function eq(e){function t(n,i){return n==null?i:i==null?n:e(n,i)}return t}const Ku=eq(Math.min),Xu=eq(Math.max);function Qze(e,t){return XH(t)?Pm(e,t.paths,!1,!1):QH(t)?Pm(e,t.rings,!1,!1):JH(t)?t3(e,t.points,!1,!1,!1,!1):YH(t)?tq(e,t):(KH(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function eBe(e){let t,n,i,r;for(e.reset(),t=i=1/0,n=r=-1/0;e.nextPath();){const s=z0e(e);t=Math.min(s[0],t),i=Math.min(s[1],i),n=Math.max(s[2],n),r=Math.max(s[3],r)}return _r([t,i,n,r])}function z0e(e){let t,n,i,r;for(t=i=1/0,n=r=-1/0;e.nextPoint();)t=Math.min(e.x,t),i=Math.min(e.y,i),n=Math.max(e.x,n),r=Math.max(e.y,r);return _r([t,i,n,r])}function tBe(e,t){return XH(t)?Pm(e,t.paths,!0,!1):QH(t)?Pm(e,t.rings,!0,!1):JH(t)?t3(e,t.points,!0,!1,!0,!1):YH(t)?tq(e,t,!0,!1,!0,!1):(KH(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function Pm(e,t,n,i){const r=n?3:2;if(!t.length||!t[0].length)return null;let s,o,a,l,[c,h]=t[0][0],[p,m]=t[0][0];for(let y=0;y<t.length;y++){const g=t[y];for(let v=0;v<g.length;v++){const b=g[v],[w,S]=b;if(c=Ku(c,w),h=Ku(h,S),p=Xu(p,w),m=Xu(m,S),n&&b.length>2){const x=b[2];s=Ku(s,x),o=Xu(o,x)}if(i&&b.length>r){const x=b[r];a=Ku(s,x),l=Xu(o,x)}}}return n?i?(e[0]=c,e[1]=h,e[2]=s,e[3]=a,e[4]=p,e[5]=m,e[6]=o,e[7]=l,e.length=8,e):(e[0]=c,e[1]=h,e[2]=s,e[3]=p,e[4]=m,e[5]=o,e.length=6,e):i?(e[0]=c,e[1]=h,e[2]=a,e[3]=p,e[4]=m,e[5]=l,e.length=6,e):(e[0]=c,e[1]=h,e[2]=p,e[3]=m,e.length=4,e)}function tq(e,t,n,i,r,s){const o=t.xmin,a=t.xmax,l=t.ymin,c=t.ymax;let h=t.zmin,p=t.zmax,m=t.mmin,y=t.mmax;return r?(h=h||0,p=p||0,s?(m=m||0,y=y||0,e[0]=o,e[1]=l,e[2]=h,e[3]=m,e[4]=a,e[5]=c,e[6]=p,e[7]=y,e):(e[0]=o,e[1]=l,e[2]=h,e[3]=a,e[4]=c,e[5]=p,e)):s?(m=m||0,y=y||0,e[0]=o,e[1]=l,e[2]=m,e[3]=a,e[4]=c,e[5]=y,e):(e[0]=o,e[1]=l,e[2]=a,e[3]=c,e)}function t3(e,t,n,i,r,s){const o=n?3:2,a=i&&s,l=n&&r;if(!t.length||!t[0].length)return null;let c,h,p,m,[y,g]=t[0],[v,b]=t[0];for(let w=0;w<t.length;w++){const S=t[w],[x,E]=S;if(y=Ku(y,x),g=Ku(g,E),v=Xu(v,x),b=Xu(b,E),l&&S.length>2){const $=S[2];c=Ku(c,$),h=Xu(h,$)}if(a&&S.length>o){const $=S[o];p=Ku(c,$),m=Xu(h,$)}}return r?(c=c||0,h=h||0,s?(p=p||0,m=m||0,e[0]=y,e[1]=g,e[2]=c,e[3]=p,e[4]=v,e[5]=b,e[6]=h,e[7]=m,e):(e[0]=y,e[1]=g,e[2]=c,e[3]=v,e[4]=b,e[5]=h,e)):s?(p=p||0,m=m||0,e[0]=y,e[1]=g,e[2]=p,e[3]=v,e[4]=b,e[5]=m,e):(e[0]=y,e[1]=g,e[2]=v,e[3]=b,e)}function B0e(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function U0e(e){return e.points!==void 0}function G0e(e){return e.x!==void 0&&e.y!==void 0}function H0e(e){return e.paths!==void 0}function q0e(e){return e.rings!==void 0}const n3=[];function nq(e,t,n,i){return{xmin:e,ymin:t,xmax:n,ymax:i}}function iq(e,t,n,i,r,s){return{xmin:e,ymin:t,zmin:n,xmax:i,ymax:r,zmax:s}}function rq(e,t,n,i,r,s){return{xmin:e,ymin:t,mmin:n,xmax:i,ymax:r,mmax:s}}function sq(e,t,n,i,r,s,o,a){return{xmin:e,ymin:t,zmin:n,mmin:i,xmax:r,ymax:s,zmax:o,mmax:a}}function i3(e,t=!1,n=!1){return t?n?sq(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):iq(e[0],e[1],e[2],e[3],e[4],e[5]):n?rq(e[0],e[1],e[2],e[3],e[4],e[5]):nq(e[0],e[1],e[2],e[3])}function nBe(e){return e?B0e(e)?e:G0e(e)?Z0e(e):q0e(e)?oq(e):H0e(e)?aq(e):U0e(e)?W0e(e):null:null}function W0e(e){const{hasZ:t,hasM:n,points:i}=e;return i3(t3(n3,i,t??!1,n??!1),t,n)}function Z0e(e){const{x:t,y:n,z:i,m:r}=e,s=r!=null;return i!=null?s?sq(t,n,i,r,t,n,i,r):iq(t,n,i,t,n,i):s?rq(t,n,r,t,n,r):nq(t,n,t,n)}function oq(e){const{hasZ:t,hasM:n,rings:i}=e,r=Pm(n3,i,t??!1,n??!1);return r?i3(r,t,n):null}function aq(e){const{hasZ:t,hasM:n,paths:i}=e,r=Pm(n3,i,t??!1,n??!1);return r?i3(r,t,n):null}var P1;function vV(e){return!Array.isArray(e[0])}function Y0e(e){return typeof e[0]?.[0]=="number"}function J0e(e){if(!e)return;let{rings:t,hasM:n,hasZ:i,spatialReference:r}=e;switch(t??=[],Y0e(t)&&(t=[t]),t[0]?.[0]?.length){case 4:i??=!0,n??=!0;break;case 3:i??=n!==!0,n??=!i;break;default:i??=!1,n??=!1}return r??=et.WGS84,{...e,hasM:n,hasZ:i,rings:t,spatialReference:r}}let Fs=P1=class extends Hl{static fromExtent(e){const t=e.clone().normalize(),{spatialReference:n}=e;let i=!1,r=!1;for(const o of t)o.hasZ&&(i=!0),o.hasM&&(r=!0);const s={rings:t.map(o=>{const a=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(i&&o.hasZ){const l=o.zmin+.5*(o.zmax-o.zmin);for(let c=0;c<a.length;c++)a[c].push(l)}if(r&&o.hasM){const l=o.mmin+.5*(o.mmax-o.mmin);for(let c=0;c<a.length;c++)a[c].push(l)}return a}),spatialReference:n};return i&&(s.hasZ=!0),r&&(s.hasM=!0),new P1(s)}constructor(e){super(J0e(e)),this.curveRings=void 0,this.rings=[],this.type="polygon"}get cache(){return this.commitProperty("curveRings"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("rings"),this.commitProperty("spatialReference"),{}}get centroid(){const e=M0e(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;const t=new nt;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}writeCurveRings(e,t){t.curveRings=j(e)}get extent(){const e=oq(this),{spatialReference:t}=this;return e?new Gt({...e,spatialReference:t}):null}get isSelfIntersecting(){return a0e(this.rings)}writeRings(e,t){t.rings=j(this.rings)}addRing(e){if(!e)return;const t=this.rings,n=t.length;if(vV(e)){const i=[];for(let r=0,s=e.length;r<s;r++)i[r]=e[r].toArray();t[n]=i}else t[n]=e.slice();return this.notifyChange("rings"),this}clone(){const e=new P1;return e.spatialReference=this.spatialReference,e.rings=j(this.rings),e.curveRings=j(this.curveRings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,n=e.spatialReference;if(t!=null!=(n!=null)||t!=null&&n!=null&&!t.equals(n)||this.rings.length!==e.rings.length)return!1;const i=([r,s,o,a],[l,c,h,p])=>r===l&&s===c&&(o==null&&h==null||o===h)&&(a==null&&p==null||a===p);for(let r=0;r<this.rings.length;r++){const s=this.rings[r],o=e.rings[r];if(!N2(s,o,i))return!1}return!0}contains(e){if(!e)return!1;const t=px(e,this.spatialReference);return WL(this,t??e)}isClockwise(e){const t=vV(e)?e.map(n=>this.hasZ?this.hasM?[n.x,n.y,n.z,n.m]:[n.x,n.y,n.z]:[n.x,n.y]):e;return HH(t)}getPoint(e,t){if(!this._validateInputs(e,t))return null;const n=this.rings[e][t],i=this.hasZ,r=this.hasM;return i&&!r?new nt(n[0],n[1],n[2],void 0,this.spatialReference):r&&!i?new nt(n[0],n[1],void 0,n[2],this.spatialReference):i&&r?new nt(n[0],n[1],n[2],n[3],this.spatialReference):new nt(n[0],n[1],this.spatialReference)}insertPoint(e,t,n){return this._validateInputs(e,t,!0)?(Am(this,n),Array.isArray(n)||(n=n.toArray()),this.rings[e].splice(t,0,n),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;const n=new nt(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),n}removeRing(e){if(!this._validateInputs(e,null))return null;const t=this.rings.splice(e,1)[0],n=this.spatialReference,i=t.map(r=>new nt(r,n));return this.notifyChange("rings"),i}setPoint(e,t,n){return this._validateInputs(e,t)?(Am(this,n),Array.isArray(n)||(n=n.toArray()),this.rings[e][t]=n,this.notifyChange("rings"),this):this}_validateInputs(e,t,n=!1){if(e==null||e<0||e>=this.rings.length)return!1;if(t!=null){const i=this.rings[e];if(n&&(t<0||t>i.length)||!n&&(t<0||t>=i.length))return!1}return!0}toJSON(e){return this.write({},e)}};u([d({readOnly:!0})],Fs.prototype,"cache",null),u([d({readOnly:!0})],Fs.prototype,"centroid",null),u([d({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],Fs.prototype,"curveRings",void 0),u([ge("curveRings")],Fs.prototype,"writeCurveRings",null),u([d({readOnly:!0})],Fs.prototype,"extent",null),u([d({readOnly:!0})],Fs.prototype,"isSelfIntersecting",null),u([d({type:[[[Number]]],json:{write:{isRequired:!0}}})],Fs.prototype,"rings",void 0),u([ge("rings")],Fs.prototype,"writeRings",null),Fs=P1=u([k("esri.geometry.Polygon")],Fs);const Wo=Fs;Fs.prototype.toJSON.isDefaultToJSON=!0;var OC;function K0e(e){return!Array.isArray(e[0])}function X0e(e){return typeof e[0]?.[0]=="number"}function Q0e(e){if(!e)return;let{paths:t,hasM:n,hasZ:i,spatialReference:r}=e;switch(t??=[],X0e(t)&&(t=[t]),t[0]?.[0]?.length){case 4:i??=!0,n??=!0;break;case 3:i??=n!==!0,n??=!i;break;default:i??=!1,n??=!1}return r??=et.WGS84,{...e,hasM:n,hasZ:i,paths:t,spatialReference:r}}let ya=OC=class extends Hl{constructor(e){super(Q0e(e)),this.curvePaths=void 0,this.paths=[],this.type="polyline"}get cache(){return this.commitProperty("curvePaths"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("paths"),this.commitProperty("spatialReference"),{}}writeCurvePaths(e,t){t.curvePaths=j(e)}get extent(){const e=aq(this),{spatialReference:t}=this;return e?new Gt({...e,spatialReference:t}):null}writePaths(e,t){t.paths=j(this.paths)}addPath(e){if(!e)return;const t=this.paths,n=t.length;if(K0e(e)){const i=[];for(let r=0,s=e.length;r<s;r++)i[r]=e[r].toArray();t[n]=i}else t[n]=e.slice();return this.notifyChange("paths"),this}clone(){const e=new OC;return e.spatialReference=this.spatialReference,e.paths=j(this.paths),e.curvePaths=j(this.curvePaths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;const n=this.paths[e][t],i=this.hasZ,r=this.hasM;return i&&!r?new nt(n[0],n[1],n[2],void 0,this.spatialReference):r&&!i?new nt(n[0],n[1],void 0,n[2],this.spatialReference):i&&r?new nt(n[0],n[1],n[2],n[3],this.spatialReference):new nt(n[0],n[1],this.spatialReference)}insertPoint(e,t,n){return this._validateInputs(e,t,!0)?(Am(this,n),Array.isArray(n)||(n=n.toArray()),this.paths[e].splice(t,0,n),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null;const t=this.paths.splice(e,1)[0],n=this.spatialReference,i=t.map(r=>new nt(r,n));return this.notifyChange("paths"),i}removePoint(e,t){if(!this._validateInputs(e,t))return null;const n=new nt(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),n}setPoint(e,t,n){return this._validateInputs(e,t)?(Am(this,n),Array.isArray(n)||(n=n.toArray()),this.paths[e][t]=n,this.notifyChange("paths"),this):this}_validateInputs(e,t,n=!1){if(e==null||e<0||e>=this.paths.length)return!1;if(t!=null){const i=this.paths[e];if(n&&(t<0||t>i.length)||!n&&(t<0||t>=i.length))return!1}return!0}toJSON(e){return this.write({},e)}};u([d({readOnly:!0})],ya.prototype,"cache",null),u([d({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],ya.prototype,"curvePaths",void 0),u([ge("curvePaths")],ya.prototype,"writeCurvePaths",null),u([d({readOnly:!0})],ya.prototype,"extent",null),u([d({type:[[[Number]]],json:{write:{isRequired:!0}}})],ya.prototype,"paths",void 0),u([ge("paths")],ya.prototype,"writePaths",null),ya=OC=u([k("esri.geometry.Polyline")],ya);const Fo=ya;ya.prototype.toJSON.isDefaultToJSON=!0;function lq(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function uq(e){return e.points!==void 0}function cq(e){return e.x!==void 0&&e.y!==void 0}function r3(e){return e.paths!==void 0||e.curvePaths!==void 0}function vh(e){return e.rings!==void 0||e.curveRings!==void 0}function zh(e){return e==null?null:e instanceof Hl?e:cq(e)?nt.fromJSON(e):r3(e)?Fo.fromJSON(e):vh(e)?Wo.fromJSON(e):uq(e)?gx.fromJSON(e):lq(e)?Gt.fromJSON(e):null}function s3(e){return e?cq(e)?"esriGeometryPoint":r3(e)?"esriGeometryPolyline":vh(e)?"esriGeometryPolygon":lq(e)?"esriGeometryEnvelope":uq(e)?"esriGeometryMultipoint":null:null}const ebe={esriGeometryPoint:nt,esriGeometryPolyline:Fo,esriGeometryPolygon:Wo,esriGeometryEnvelope:Gt,esriGeometryMultipoint:gx,esriGeometryMultiPatch:Wo};function tbe(e){return e&&ebe[e]||null}const nbe=Ii()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),bV=Ii()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),yb={base:Hl,key:"type",typeMap:{extent:Gt,multipoint:gx,point:nt,polyline:Fo,polygon:Wo}},wV=new at({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let ibe=0,tf=class extends te{constructor(t){super(t),this.id="sym"+ibe++,this.type=null,this.color=new he([0,0,0,1])}readColor(t){return t?.[0]!=null?[t[0],t[1],t[2],t[3]/255]:t}async collectRequiredFields(t,n){}hash(){return JSON.stringify(this.toJSON())}clone(){}};u([d({type:wV.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:wV.write,isRequired:!0}}})],tf.prototype,"type",void 0),u([d({type:he,json:{write:{allowNull:!0}}})],tf.prototype,"color",void 0),u([le("color")],tf.prototype,"readColor",null),tf=u([k("esri.symbols.Symbol")],tf);const Vi=tf;var RC;let fu=RC=class extends Vi{constructor(e){super(e),this.data=null,this.type="cim"}readData(e,t){return t}writeData(e,t){Object.assign(t,e)}async collectRequiredFields(e,t){if(this.data?.type==="CIMSymbolReference"){const n=this.data.primitiveOverrides;if(n){const i=n.map(r=>{const s=r.valueExpressionInfo;return s?rr(e,t,s.expression):null});await Promise.all(i)}}}clone(){return new RC({data:j(this.data)})}hash(){return UU(JSON.stringify(this.data)).toString()}};u([d({json:{write:!1}})],fu.prototype,"color",void 0),u([d({json:{write:!0}})],fu.prototype,"data",void 0),u([le("data",["symbol"])],fu.prototype,"readData",null),u([ge("data",{})],fu.prototype,"writeData",null),u([Ve({CIMSymbolReference:"cim"},{readOnly:!0})],fu.prototype,"type",void 0),fu=RC=u([k("esri.symbols.CIMSymbol")],fu);const Mc=fu;function Nl(e,t,n=we){return t||(t=new n),t===e||(t.removeAll(),rbe(e)?t.addMany(e):e&&t.add(e)),t}function dq(e){return e}function rbe(e){return e&&(Array.isArray(e)||"items"in e&&Array.isArray(e.items))}let lw;function sbe(e){return lw&&!lw.destroyed||(lw=e()),lw}var NC;const obe=new at({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let Ps=NC=class extends Ce{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){e!=="asc"&&e!=="desc"||this._set("sortOrder",e)}clone(){return new NC({categories:this.categories?j(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let n=[];this.categories&&(n=this.categories.map(o=>Array.isArray(o)?JSON.stringify(o):o));let i="";if(this.extent){const o=px(this.extent,et.WGS84);o!=null&&(i=`${o.xmin},${o.ymin},${o.xmax},${o.ymax}`)}let r=this.query;!this.disableExtraQuery&&e.extraQuery&&(r="("+r+")"+e.extraQuery);const s={categories:n,bbox:i,q:r,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(s.sortField=this.sortField.split(",").map(o=>obe.toJSON(o.trim())).join(","),s.sortOrder=this.sortOrder),{query:{...t,...s}}}};u([d()],Ps.prototype,"categories",void 0),u([d()],Ps.prototype,"disableExtraQuery",void 0),u([d({type:Gt})],Ps.prototype,"extent",void 0),u([d()],Ps.prototype,"filter",void 0),u([d()],Ps.prototype,"num",void 0),u([d()],Ps.prototype,"query",void 0),u([d()],Ps.prototype,"sortField",void 0),u([d()],Ps.prototype,"sortOrder",null),u([d()],Ps.prototype,"start",void 0),Ps=NC=u([k("esri.portal.PortalQueryParams")],Ps);const No=Ps;var DC;let Bn=DC=class extends te{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t&&this.portal?this.portal?.normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){const e=this.portal?.restUrl;return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal.request(this.url+"/categorySchema",e).then(t=>{const n=t.categorySchema||[];return n.some(i=>i.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",e):n})}fetchMembers(e){return this.portal.request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new B("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new DC({sourceJSON:e});return t.read(e),t}queryItems(e,t){let n=Jn(No,e);const i=this.portal;return parseFloat(i.currentVersion)>5?(n=n||new No,i.queryPortal(`/content/groups/${this.id}/search`,n,"PortalItem",t)):(n=n?n.clone():new No,n.query="group:"+this.id+(n.query?" "+n.query:""),i.queryItems(n,t))}_fetchCategorySchemaSet(e,t){const n=this.portal;return n.fetchSelf(n.authMode,!0,t).then(i=>{const r=i.contentCategorySetsGroupQuery;if(r){const s=new No({disableExtraQuery:!0,num:1,query:r});return n.queryGroups(s,t)}throw new B("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(i=>{if(i.total){const r=i.results[0],s=new No({num:1,query:`typekeywords:"${e}"`});return r.queryItems(s,t)}throw new B("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(i=>i.total?i.results[0].fetchData("json",t).then(r=>{const s=r?.categorySchema;return s?.length?s:[]}):[])}};u([d()],Bn.prototype,"access",void 0),u([d({type:Date})],Bn.prototype,"created",void 0),u([d()],Bn.prototype,"description",void 0),u([d()],Bn.prototype,"id",void 0),u([d()],Bn.prototype,"isInvitationOnly",void 0),u([d({type:Date})],Bn.prototype,"modified",void 0),u([d()],Bn.prototype,"owner",void 0),u([d()],Bn.prototype,"portal",void 0),u([d()],Bn.prototype,"snippet",void 0),u([d()],Bn.prototype,"sortField",void 0),u([d()],Bn.prototype,"sortOrder",void 0),u([d()],Bn.prototype,"sourceJSON",void 0),u([d()],Bn.prototype,"tags",void 0),u([d()],Bn.prototype,"thumbnail",void 0),u([d({readOnly:!0})],Bn.prototype,"thumbnailUrl",null),u([d()],Bn.prototype,"title",void 0),u([d({readOnly:!0})],Bn.prototype,"url",null),Bn=DC=u([k("esri.portal.PortalGroup")],Bn);const VC=Bn;let od=class extends Ce{constructor(t){super(t),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};u([d()],od.prototype,"nextQueryParams",void 0),u([d()],od.prototype,"queryParams",void 0),u([d()],od.prototype,"results",void 0),u([d()],od.prototype,"total",void 0),od=u([k("esri.portal.PortalQueryResult")],od);const abe=od;let Ka=class extends te{constructor(t){super(t),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const t=this.portal?.restUrl;return t?`${t}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new B("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};u([d({type:Date})],Ka.prototype,"created",void 0),u([d()],Ka.prototype,"id",void 0),u([d()],Ka.prototype,"portal",void 0),u([d()],Ka.prototype,"title",void 0),u([d({readOnly:!0})],Ka.prototype,"url",null),u([d()],Ka.prototype,"username",void 0),Ka=u([k("esri.portal.PortalFolder")],Ka);const lbe=Ka;var FC;let zt=FC=class extends te{constructor(e){super(e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userLicenseTypeId=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal.normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){const e=this.portal?.restUrl;return e?`${e}/content/users/${this.username}`:null}get url(){const e=this.portal?.restUrl;return e?`${e}/community/users/${this.username}`:null}addItem(e){const t=e&&e.item,n=e?.data,i=e?.folder,r={method:"post"};t&&(r.query=t.createPostQuery(),n!=null&&(typeof n=="string"?r.query.text=n:typeof n=="object"&&(r.query.text=JSON.stringify(n))));let s=this.userContentUrl;return i&&(s+="/"+(typeof i=="string"?i:i.id)),this.portal.request(s+"/addItem",r).then(o=>(t.id=o.id,t.portal=this.portal,t.loaded?t.reload():t.load()))}async deleteItem(e,t=!1){let n=this.userContentUrl;e.ownerFolder&&(n+="/"+e.ownerFolder);const i=t?{permanentDelete:!0}:{};await this.portal.request(n+`/items/${e.id}/delete`,{method:"post",query:i}),e.id=null,e.portal=null}async deleteItems(e,t=!1){e=e.slice();const n=this.userContentUrl+"/deleteItems",i=[],r=e.map(s=>s.id);if(r.length){const s={method:"post",query:{items:r.join(","),permanentDelete:t}},o=await this.portal.request(n,s);for(const a of o.results){const l=e.find(p=>a.itemId===p.id),c=a.success;let h=null;c?(l.id=null,l.portal=null):a.error&&(h=new B("portal:delete-item-failed",a.error.message,a.error)),i.push({item:l,success:c,error:h})}}return i}fetchFolders(){const e={query:{num:1}};return this.portal.request(this.userContentUrl??"",e).then(t=>{let n;return n=t&&t.folders?t.folders.map(i=>{const r=lbe.fromJSON(i);return r.portal=this.portal,r}):[],n})}fetchGroups(){return this.portal.request(this.url??"").then(e=>{let t;return t=e&&e.groups?e.groups.map(n=>{const i=VC.fromJSON(n);return i.portal=this.portal,i}):[],t})}async fetchItems(e){e??={};let t=this.userContentUrl??"";e.folder&&(t+="/"+e.folder.id);const{default:n}=await J(()=>Promise.resolve().then(()=>uY),void 0),i={folders:!1,inRecycleBin:!!e.inRecycleBin||null,foldersContent:!(e.folder||!e.includeSubfolderItems)||null,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"},r=await this.portal.request(t,{query:i});let s;return r?.items?(s=r.items.map(o=>{const a=n.fromJSON(o);return a.portal=this.portal,a}),await Promise.all(s.map(o=>o.load())),{items:s,nextStart:r.nextStart,total:r.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then(e=>e.tags)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new VC({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new B("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(e,t){const n=this.userContentUrl,i=t?{folderID:typeof t=="string"?t:t.id}:null;await this.portal.request(n+`/items/${e.id}/restore`,{method:"post",query:i})}toJSON(){throw new B("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new FC({sourceJSON:e});return t.read(e),t}};u([d()],zt.prototype,"access",void 0),u([d({type:Date})],zt.prototype,"created",void 0),u([d()],zt.prototype,"culture",void 0),u([d()],zt.prototype,"description",void 0),u([d()],zt.prototype,"email",void 0),u([d()],zt.prototype,"favGroupId",void 0),u([d()],zt.prototype,"fullName",void 0),u([d({type:Date})],zt.prototype,"modified",void 0),u([d()],zt.prototype,"orgId",void 0),u([d()],zt.prototype,"portal",void 0),u([d()],zt.prototype,"preferredView",void 0),u([d()],zt.prototype,"privileges",void 0),u([d()],zt.prototype,"region",void 0),u([d()],zt.prototype,"role",void 0),u([d()],zt.prototype,"roleId",void 0),u([d()],zt.prototype,"sourceJSON",void 0),u([d()],zt.prototype,"thumbnail",void 0),u([d({readOnly:!0})],zt.prototype,"thumbnailUrl",null),u([d()],zt.prototype,"units",void 0),u([d({readOnly:!0})],zt.prototype,"userContentUrl",null),u([d({readOnly:!0})],zt.prototype,"url",null),u([d()],zt.prototype,"username",void 0),u([d()],zt.prototype,"userLicenseTypeId",void 0),u([d()],zt.prototype,"userType",void 0),zt=FC=u([k("esri.portal.PortalUser")],zt);const o3=zt;var ns;let ky;const _V={PortalGroup:()=>Promise.resolve({default:VC}),PortalItem:()=>J(()=>Promise.resolve().then(()=>uY),void 0),PortalUser:()=>Promise.resolve({default:o3})};let pe=ns=class extends te.JSONSupportMixin(Ol){constructor(e){super(e),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.default3DBasemapQuery=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.hasClassificationSchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.recycleBinEnabled=!1,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=kt.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useDefault3dBasemap=!1,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return typeof e=="string"?{url:e}:e}destroy(){SV.unregister(this),this.defaultBasemap=Bt(this.defaultBasemap),this.defaultDevBasemap=Bt(this.defaultDevBasemap),this.defaultVectorBasemap=Bt(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=on(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(e){if(e)for(const t of e)kt.request.trustedServers.includes(t)||kt.request.trustedServers.push(t);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){const e=this.user?.orgId,t=!e||this.canSearchPublic;return this.id&&!t?` AND orgid:${this.id}`:null}get hasAPIKey(){return fG(this.url)}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let e=this.url;if(e){const t=e.indexOf("/sharing");e=t>0?e.slice(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get thumbnailUrl(){const e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}readUrlKey(e){return e&&e.toLowerCase()}readUser(e){let t=null;return e&&(t=o3.fromJSON(e),t.portal=this),t}load(e){const t=J(()=>Promise.resolve().then(()=>pIe),void 0).then(({default:n})=>{fn(e),ky=n}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,e)).then(n=>{if(!this.hasAPIKey&&dt){const i=dt;this.credential=i.findCredential(this.restUrl),this.credential||this.authMode!==ns.AUTH_MODE_AUTO&&this.authMode!==ns.AUTH_MODE_NO_PROMPT||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=i.on("credential-create",ube(new WeakRef(this))),SV.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=n,this.read(n)});return this.addResolvingPromise(t),Promise.resolve(this)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),t=(await J(async()=>{const{default:n}=await import("./ElevationLayer-CfPb-9_f.js");return{default:n}},__vite__mapDeps([26,27,28,29,30,17,31,3]))).default;return e?e.map(n=>new t({id:n.id,url:n.url})):[]}async fetchBasemaps(e,t){const n=await this._fetchBasemaps(e,t);if(t?.include3d===!0&&this.use3dBasemaps!==!1){const i=await this._fetchBasemaps3D(e,t);n.unshift(...i)}return n}async fetchDefault3DBasemap(e){if(!this.useDefault3dBasemap||!this.default3DBasemapQuery||this.default3DBasemapQuery==="none")return null;const t=new No;t.query=this.default3DBasemapQuery,t.disableExtraQuery=!0;const n=(await this.queryItems(t,e)).results.find(i=>i.type==="Web Scene");return n?new ky({portalItem:n}):null}fetchCategorySchema(e){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",e).then(t=>t.categorySchema):vs(e)?Promise.reject(Ut()):Promise.resolve([])}async fetchClassificationSchema(e){return this.hasClassificationSchema?this.request(this.restUrl+"/portals/self/classification/classificationSchema",e).then(t=>t.classificationSchema):null}fetchFeaturedGroups(e){const t=this.featuredGroups,n=new No({num:100,sortField:"title"});if(t?.length){const i=[];for(const r of t)i.push(`(title:"${r.title}" AND owner:${r.owner})`);return n.query=i.join(" OR "),this.queryGroups(n,e).then(r=>r.results)}return vs(e)?Promise.reject(Ut()):Promise.resolve([])}fetchRegions(e){const t=this.user?.culture||this.culture||Gr();return this.request(this.restUrl+"/portals/regions",{...e,query:{culture:t}})}fetchSettings(e){const t=this.user?.culture||this.culture||Gr();return this.request(this.restUrl+"/portals/self/settings",{...e,query:{culture:t}})}static getDefault(){return sbe(()=>new ns)}queryGroups(e,t){return this.queryPortal("/community/groups",e,"PortalGroup",t)}queryItems(e,t){return this.queryPortal("/search",e,"PortalItem",t)}queryUsers(e,t){return e.sortField||(e.sortField="username"),this.queryPortal("/community/users",e,"PortalUser",t)}fetchSelf(e=this.authMode,t=!1,n){const i=this.restUrl+"/portals/self",r={authMode:e,query:{culture:Gr().toLowerCase()},withCredentials:!0,...n};return r.authMode==="auto"&&(r.authMode="no-prompt"),t&&(r.query.default=!0),this.request(i,r)}queryPortal(e,t,n,i){const r=Jn(No,t),s=o=>this.request(this.restUrl+e,{...r.toRequestOptions(this),...i}).then(a=>{const l=r.clone();return l.start=a.nextStart,new abe({nextQueryParams:l,queryParams:r,total:a.total,results:ns._resultsToTypedArray(o,{portal:this},a,i)})}).then(a=>Promise.all(a.results.map(l=>typeof l.when=="function"?l.when():a)).then(()=>a,l=>(ba(l),a)));return n&&_V[n]?_V[n]().then(({default:o})=>(fn(i),s(o))):s()}signIn(){if(this.hasAPIKey)return this.load().then(()=>{if(!this.user)throw new B("portal:not-authenticated","Unable to authenticate user. Portal.user is missing")});if(this.authMode===ns.AUTH_MODE_ANONYMOUS||this.authMode===ns.AUTH_MODE_NO_PROMPT&&!dt)return Promise.reject(new B("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const e=t=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(t||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=t,this.fetchSelf("immediate"))):this.user&&this.credential===t?null:(this.credential=t,this.fetchSelf("immediate"))).then(n=>{n&&(this.sourceJSON=n,this.read(n))});return dt?dt.getCredential(this.restUrl,{prompt:this.authMode!==ns.AUTH_MODE_NO_PROMPT}).then(t=>e(t)):e(this.credential)}normalizeUrl(e){const t=this.credential?.token;return this._normalizeSSL(t?e+(e.includes("?")?"&":"?")+"token="+t:e)}requestToTypedArray(e,t,n){return this.request(e,t).then(i=>{const r=ns._resultsToTypedArray(n,{portal:this},i);return Promise.all(r.map(s=>typeof s.when=="function"?s.when():i)).then(()=>r,()=>r)})}request(e,t={}){const n={f:"json",...t.query},{authMode:i=this.authMode===ns.AUTH_MODE_ANONYMOUS||this.authMode===ns.AUTH_MODE_NO_PROMPT?this.authMode:"auto",body:r=null,cacheBust:s=!1,method:o="auto",responseType:a="json",signal:l}=t,c={authMode:i,body:r,cacheBust:s,method:o,query:n,responseType:a,timeout:0,signal:l};return t.withCredentials&&(c.withCredentials=!0),Lt(this._normalizeSSL(e),c).then(h=>h.data)}toJSON(){throw new B("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new ns({sourceJSON:e})}_getHelperService(e){const t=this.helperServices&&this.helperServices[e];if(!t)throw new B("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return t}async _fetchBasemaps(e,t){const n=new No;n.query=e||(this.hasAPIKey?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),n.disableExtraQuery=!0;const i=await this.queryGroups(n,t);if(!i.total)return[];const r=i.results[0];n.num=100,n.query='type:"Web Map" -type:"Web Application"',n.sortField=r.sortField||"name",n.sortOrder=r.sortOrder||"desc";const s=await r.queryItems(n,t);return s.total?s.results.filter(o=>o.type==="Web Map").map(o=>new ky({portalItem:o})):[]}async _fetchBasemaps3D(e,t){const n=e||this.basemapGalleryGroupQuery3D;if(!n)return[];if(this.hasAPIKey)return[];const i=new No({query:n,disableExtraQuery:!0}),r=await this.queryGroups(i,t);if(!r.total)return[];const s=r.results[0];i.num=100,i.query='type:"Web Scene"',i.sortField=s.sortField||"name",i.sortOrder=s.sortOrder||"desc";const o=await s.queryItems(i,t);return o.total?o.results.filter(a=>a.type==="Web Scene").map(a=>new ky({portalItem:a})):[]}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(e){if(e){const t=ky.fromJSON(e);return t.portalItem={portal:this},t}return null}static _resultsToTypedArray(e,t,n,i){let r;if(n){const s=i!=null?i.signal:null;r=n.listings||n.notifications||n.userInvitations||n.tags||n.items||n.groups||n.comments||n.provisions||n.results||n.relatedItems||n,(e||t)&&(r=r.map(o=>{const a=Object.assign(e?e.fromJSON(o):o,t);return typeof a.load=="function"&&a.load(s),a}))}else r=[];return r}};pe.AUTH_MODE_ANONYMOUS="anonymous",pe.AUTH_MODE_AUTO="auto",pe.AUTH_MODE_IMMEDIATE="immediate",pe.AUTH_MODE_NO_PROMPT="no-prompt",u([d()],pe.prototype,"access",void 0),u([d()],pe.prototype,"allSSL",void 0),u([d()],pe.prototype,"authMode",void 0),u([d()],pe.prototype,"authorizedCrossOriginDomains",void 0),u([le("authorizedCrossOriginDomains")],pe.prototype,"readAuthorizedCrossOriginDomains",null),u([d()],pe.prototype,"basemapGalleryGroupQuery",void 0),u([d({json:{name:"3DBasemapGalleryGroupQuery"}})],pe.prototype,"basemapGalleryGroupQuery3D",void 0),u([d()],pe.prototype,"bingKey",void 0),u([d()],pe.prototype,"canListApps",void 0),u([d()],pe.prototype,"canListData",void 0),u([d()],pe.prototype,"canListPreProvisionedItems",void 0),u([d()],pe.prototype,"canProvisionDirectPurchase",void 0),u([d()],pe.prototype,"canSearchPublic",void 0),u([d()],pe.prototype,"canShareBingPublic",void 0),u([d()],pe.prototype,"canSharePublic",void 0),u([d()],pe.prototype,"canSignInArcGIS",void 0),u([d()],pe.prototype,"canSignInIDP",void 0),u([d()],pe.prototype,"colorSetsGroupQuery",void 0),u([d()],pe.prototype,"commentsEnabled",void 0),u([d({type:Date})],pe.prototype,"created",void 0),u([d()],pe.prototype,"credential",void 0),u([d()],pe.prototype,"culture",void 0),u([d()],pe.prototype,"currentVersion",void 0),u([d()],pe.prototype,"customBaseUrl",void 0),u([d()],pe.prototype,"default3DBasemapQuery",void 0),u([d()],pe.prototype,"defaultBasemap",void 0),u([le("defaultBasemap")],pe.prototype,"readDefaultBasemap",null),u([d()],pe.prototype,"defaultDevBasemap",void 0),u([le("defaultDevBasemap")],pe.prototype,"readDefaultDevBasemap",null),u([d({type:Gt})],pe.prototype,"defaultExtent",void 0),u([d()],pe.prototype,"defaultVectorBasemap",void 0),u([le("defaultVectorBasemap")],pe.prototype,"readDefaultVectorBasemap",null),u([d()],pe.prototype,"description",void 0),u([d()],pe.prototype,"devBasemapGalleryGroupQuery",void 0),u([d()],pe.prototype,"eueiEnabled",void 0),u([d({readOnly:!0})],pe.prototype,"extraQuery",null),u([d()],pe.prototype,"featuredGroups",void 0),u([d()],pe.prototype,"featuredItemsGroupQuery",void 0),u([d()],pe.prototype,"galleryTemplatesGroupQuery",void 0),u([d()],pe.prototype,"layoutGroupQuery",void 0),u([d()],pe.prototype,"livingAtlasGroupQuery",void 0),u([d({readOnly:!0})],pe.prototype,"hasAPIKey",null),u([d()],pe.prototype,"hasCategorySchema",void 0),u([d()],pe.prototype,"hasClassificationSchema",void 0),u([d()],pe.prototype,"helpBase",void 0),u([d()],pe.prototype,"helperServices",void 0),u([d()],pe.prototype,"helpMap",void 0),u([d()],pe.prototype,"homePageFeaturedContent",void 0),u([d()],pe.prototype,"homePageFeaturedContentCount",void 0),u([d()],pe.prototype,"httpPort",void 0),u([d()],pe.prototype,"httpsPort",void 0),u([d()],pe.prototype,"id",void 0),u([d()],pe.prototype,"ipCntryCode",void 0),u([d({readOnly:!0})],pe.prototype,"isOrganization",null),u([d()],pe.prototype,"isPortal",void 0),u([d()],pe.prototype,"isReadOnly",void 0),u([d({readOnly:!0})],pe.prototype,"itemPageUrl",null),u([d()],pe.prototype,"layerTemplatesGroupQuery",void 0),u([d()],pe.prototype,"maxTokenExpirationMinutes",void 0),u([d({type:Date})],pe.prototype,"modified",void 0),u([d()],pe.prototype,"name",void 0),u([d()],pe.prototype,"portalHostname",void 0),u([d()],pe.prototype,"portalMode",void 0),u([d()],pe.prototype,"portalProperties",void 0),u([d()],pe.prototype,"region",void 0),u([d()],pe.prototype,"recycleBinEnabled",void 0),u([d({readOnly:!0})],pe.prototype,"restUrl",null),u([d()],pe.prototype,"rotatorPanels",void 0),u([d()],pe.prototype,"showHomePageDescription",void 0),u([d()],pe.prototype,"sourceJSON",void 0),u([d()],pe.prototype,"staticImagesUrl",void 0),u([d({json:{name:"2DStylesGroupQuery"}})],pe.prototype,"stylesGroupQuery2d",void 0),u([d({json:{name:"stylesGroupQuery"}})],pe.prototype,"stylesGroupQuery3d",void 0),u([d()],pe.prototype,"supportsHostedServices",void 0),u([d()],pe.prototype,"symbolSetsGroupQuery",void 0),u([d()],pe.prototype,"templatesGroupQuery",void 0),u([d()],pe.prototype,"thumbnail",void 0),u([d({readOnly:!0})],pe.prototype,"thumbnailUrl",null),u([d()],pe.prototype,"units",void 0),u([d()],pe.prototype,"url",void 0),u([d()],pe.prototype,"urlKey",void 0),u([le("urlKey")],pe.prototype,"readUrlKey",null),u([d()],pe.prototype,"user",void 0),u([le("user")],pe.prototype,"readUser",null),u([d()],pe.prototype,"use3dBasemaps",void 0),u([d()],pe.prototype,"useDefault3dBasemap",void 0),u([d()],pe.prototype,"useStandardizedQuery",void 0),u([d()],pe.prototype,"useVectorBasemaps",void 0),u([d()],pe.prototype,"vectorBasemapGalleryGroupQuery",void 0),pe=ns=u([k("esri.portal.Portal")],pe);const or=pe,SV=new FinalizationRegistry(e=>{e.remove()});function ube(e){const t=dt;return()=>{const n=e.deref();n&&t.findCredential(n.restUrl)&&n.signIn().catch(()=>{})}}let nf=class extends te{constructor(t){super(t),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(t,n,i){t||(n[i]=t)}};u([d({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],nf.prototype,"enabled",void 0),u([ge("enabled")],nf.prototype,"writeEnabled",null),u([d({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0,json:{write:{isRequired:!0}}})],nf.prototype,"type",void 0),nf=u([k("esri.symbols.Symbol3DLayer")],nf);const Da=nf,cbe=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,dbe="screenUtils.toPt: input not recognized!",hq=96;function pn(e){return e?e/72*hq:0}function Zr(e){return e?72*e/hq:0}function ht(e){if(typeof e=="string"){const t=e.match(cbe);if(t){const n=Number(t[1]),i=t[3]&&t[3].toLowerCase(),r=e.charAt(0)==="-",s=i==="px"?Zr(n):n;return r?-s:s}return console.warn(dbe),null}return e}function Si(e=0,t=0){return{x:e,y:t}}function aBe(e){return e?Si(e.x,e.y):null}function lBe(e=0,t=0){return[e,t]}function uBe(e=0,t=0,n=0){return[e,t,n]}function cBe(e){return e}function dBe(e){return e}function hBe(e){return e}function pBe(e,t){return t?(t[0]=e.x,t[1]=e.y,t.length>2&&(t[2]=0),t):[e.x,e.y]}function bx(e){const t=nL(100*(1-e));return Math.max(0,Math.min(t,100))}function p0(e){const t=1-e/100;return Math.max(0,Math.min(t,1))}function hbe(e,t){const n=t.transparency!=null?p0(t.transparency):1,i=t.color;return i&&Array.isArray(i)?new he([i[0]||0,i[1]||0,i[2]||0,n]):null}function pbe(e,t){t.color=e.toJSON().slice(0,3);const n=bx(e.a);n!==0&&(t.transparency=n)}function kc(e){return{type:he,nonNullable:e?.nonNullable,json:{type:[wt],default:null,read:{source:["color","transparency"],reader:hbe},write:{target:{color:{type:[wt],isRequired:e?.colorRequiredOnWrite},transparency:{type:wt}},writer:pbe}}}}const Aa={type:Number,cast:ht,json:{write:!0}};let ad=class extends te{constructor(t){super(t),this.color=new he([0,0,0,1]),this.extensionLength=0,this.size=Zr(1)}clone(){}cloneProperties(){return{color:j(this.color),size:this.size,extensionLength:this.extensionLength}}};u([d({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],ad.prototype,"type",void 0),u([d(kc({colorRequiredOnWrite:!0}))],ad.prototype,"color",void 0),u([d({...Aa,json:{write:{overridePolicy:e=>({enabled:!!e})}}})],ad.prototype,"extensionLength",void 0),u([d(Aa)],ad.prototype,"size",void 0),ad=u([k("esri.symbols.edges.Edges3D")],ad);const a3=ad;var jC;let L1=jC=class extends a3{constructor(e){super(e),this.type="sketch"}clone(){return new jC(this.cloneProperties())}};u([Ve({sketch:"sketch"},{readOnly:!0})],L1.prototype,"type",void 0),L1=jC=u([k("esri.symbols.edges.SketchEdges3D")],L1);const fbe=L1;var zC;let O1=zC=class extends a3{constructor(e){super(e),this.type="solid"}clone(){return new zC(this.cloneProperties())}};u([Ve({solid:"solid"},{readOnly:!0})],O1.prototype,"type",void 0),O1=zC=u([k("esri.symbols.edges.SolidEdges3D")],O1);const pq=O1,fq={types:{key:"type",base:a3,typeMap:{solid:pq,sketch:fbe}},json:{write:!0}};function Ac(){return[0,0,0]}function l3(e){return[e[0],e[1],e[2]]}function uy(e,t,n){return[e,t,n]}function mbe(e,t,n){return[e,t,n]}function ybe(e,t=Ac()){const n=Math.min(3,e.length);for(let i=0;i<n;++i)t[i]=e[i];return t}function gbe(e,t){return new Float64Array(e,t,3)}function mq(){return Ac()}function yq(){return uy(1,1,1)}function gq(){return uy(1,0,0)}function vq(){return uy(0,1,0)}function bq(){return uy(0,0,1)}const vbe=mq(),wq=yq(),bbe=gq(),wbe=vq(),_be=bq();Object.freeze(Object.defineProperty({__proto__:null,ONES:wq,UNIT_X:bbe,UNIT_Y:wbe,UNIT_Z:_be,ZEROS:vbe,clone:l3,create:Ac,createView:gbe,freeze:mbe,fromArray:ybe,fromValues:uy,ones:yq,unitX:gq,unitY:vq,unitZ:bq,zeros:mq},Symbol.toStringTag,{value:"Module"}));var BC;let Ur=BC=class extends te{constructor(e){super(e),this.color=null,this.emissiveFactor=null}clone(){const e={color:this.color?.clone()??null,emissiveFactor:this.emissiveFactor?l3(this.emissiveFactor):null};return new BC(e)}};u([d(kc())],Ur.prototype,"color",void 0),u([d({type:[Number],json:{write:!1}})],Ur.prototype,"emissiveFactor",void 0),Ur=BC=u([k("esri.symbols.support.Symbol3DMaterial")],Ur);var UC;let mu=UC=class extends Da{constructor(e){super(e),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new UC({edges:this.edges?.clone(),enabled:this.enabled,material:this.material?.clone(),castShadows:this.castShadows,size:this.size})}};u([Ve({Extrude:"extrude"},{readOnly:!0})],mu.prototype,"type",void 0),u([d({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],mu.prototype,"size",void 0),u([d({type:Ur,json:{write:!0}})],mu.prototype,"material",void 0),u([d({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],mu.prototype,"castShadows",void 0),u([d(fq)],mu.prototype,"edges",void 0),mu=UC=u([k("esri.symbols.ExtrudeSymbol3DLayer")],mu);const _q=mu;let R1=class extends te{constructor(t){super(t)}clone(){throw new Error("Subclasses of LinePattern3D should implement their own clone method.")}};u([d({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],R1.prototype,"type",void 0),R1=u([k("esri.symbols.patterns.LinePattern3D")],R1);const Sq=R1,Sbe=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var GC;const xbe=Ii()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let bg=GC=class extends Sq{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new GC(e)}};u([d({type:["style"],json:{write:{isRequired:!0}}})],bg.prototype,"type",void 0),u([Ve(xbe),d({type:Sbe,json:{write:{isRequired:!0}}})],bg.prototype,"style",void 0),bg=GC=u([k("esri.symbols.patterns.LineStylePattern3D")],bg);const u3=bg;let N1=class extends te{constructor(t){super(t),this.type="style"}clone(){throw new Error("Subclasses of Pattern3D should implement their own clone method.")}};u([d({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],N1.prototype,"type",void 0),N1=u([k("esri.symbols.patterns.Pattern3D")],N1);const xq=N1,$be=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var HC;let wg=HC=class extends xq{constructor(e){super(e),this.type="style",this.style="solid"}clone(){return new HC({style:this.style})}};u([d({type:["style"],json:{write:{isRequired:!0}}})],wg.prototype,"type",void 0),u([d({type:$be,json:{read:!0,write:{isRequired:!0}}})],wg.prototype,"style",void 0),wg=HC=u([k("esri.symbols.patterns.StylePattern3D")],wg);const $q=wg,Tbe={types:{key:"type",base:xq,typeMap:{style:$q}},json:{write:!0}},Tq={types:{key:"type",base:Sq,typeMap:{style:u3}},json:{write:!0}},gv=new he("white"),Ebe=new he([255,255,255,0]);function Ibe(e){return e.r===0&&e.g===0&&e.b===0}var qC;let vv=qC=class extends Ur{constructor(e){super(e),this.colorMixMode=null}clone(){const e={color:this.color?.clone()??null,emissiveFactor:this.emissiveFactor?l3(this.emissiveFactor):null,colorMixMode:this.colorMixMode};return new qC(e)}};u([Ve({multiply:"multiply",replace:"replace",tint:"tint"})],vv.prototype,"colorMixMode",void 0),vv=qC=u([k("esri.symbols.support.Symbol3DFillMaterial")],vv);function Cbe(e,t=!1){return e<=NU?t?new Array(e).fill(0):new Array(e):new Float64Array(e)}function gBe(e){return(_ce(e)?e.byteLength/8:e.length)<=NU?Array.from(e):new Float64Array(e)}function vBe(e,t,n){return Array.isArray(e)?e.slice(t,t+n):e.subarray(t,t+n)}function gb(e=Pbe){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function c3(e,t,n,i,r,s,o=gb()){return o[0]=e,o[1]=t,o[2]=n,o[3]=i,o[4]=r,o[5]=s,o}function bBe(e,t=gb()){return Mbe(e,0,e.length/3,t)}function Mbe(e,t,n,i=gb()){return Eq(i,WC),kbe(i,e,t,n),i}function wBe(e,t=Cbe(24)){const[n,i,r,s,o,a]=e;return t[0]=n,t[1]=i,t[2]=r,t[3]=n,t[4]=i,t[5]=a,t[6]=n,t[7]=o,t[8]=r,t[9]=n,t[10]=o,t[11]=a,t[12]=s,t[13]=i,t[14]=r,t[15]=s,t[16]=i,t[17]=a,t[18]=s,t[19]=o,t[20]=r,t[21]=s,t[22]=o,t[23]=a,t}function _Be(e,t){const n=isFinite(e[2])||isFinite(e[5]);return new Gt(n?{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],zmin:e[2],zmax:e[5],spatialReference:t}:{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],spatialReference:t})}function SBe(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function xBe(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[3]=Math.max(e[3],t[2]),e[4]=Math.max(e[4],t[3])}function $Be(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function kbe(e,t,n=0,i=t.length/3){let r=e[0],s=e[1],o=e[2],a=e[3],l=e[4],c=e[5];for(let h=0;h<i;h++)r=Math.min(r,t[n+3*h]),s=Math.min(s,t[n+3*h+1]),o=Math.min(o,t[n+3*h+2]),a=Math.max(a,t[n+3*h]),l=Math.max(l,t[n+3*h+1]),c=Math.max(c,t[n+3*h+2]);e[0]=r,e[1]=s,e[2]=o,e[3]=a,e[4]=l,e[5]=c}function TBe(e,t,n){const i=t.length;let r=e[0],s=e[1],o=e[2],a=e[3],l=e[4],c=e[5];if(n)for(let h=0;h<i;h++){const p=t[h];r=Math.min(r,p[0]),s=Math.min(s,p[1]),o=Math.min(o,p[2]),a=Math.max(a,p[0]),l=Math.max(l,p[1]),c=Math.max(c,p[2])}else for(let h=0;h<i;h++){const p=t[h];r=Math.min(r,p[0]),s=Math.min(s,p[1]),a=Math.max(a,p[0]),l=Math.max(l,p[1])}e[0]=r,e[1]=s,e[2]=o,e[3]=a,e[4]=l,e[5]=c}function EBe(e){for(let t=0;t<6;t++)if(!isFinite(e[t]))return!1;return!0}function vb(e){return e[0]>=e[3]?0:e[3]-e[0]}function bb(e){return e[1]>=e[4]?0:e[4]-e[1]}function wb(e){return e[2]>=e[5]?0:e[5]-e[2]}function IBe(e){const t=vb(e),n=wb(e),i=bb(e);return Math.sqrt(t*t+n*n+i*i)}function CBe(e,t=[0,0,0]){return t[0]=e[0]+vb(e)/2,t[1]=e[1]+bb(e)/2,t[2]=e[2]+wb(e)/2,t}function MBe(e,t=[0,0,0]){return t[0]=vb(e),t[1]=bb(e),t[2]=wb(e),t}function kBe(e,t){return t[0]>=e[0]&&t[1]>=e[1]&&t[2]>=e[2]&&t[0]<=e[3]&&t[1]<=e[4]&&t[2]<=e[5]}function Abe(e,t){return Math.max(t[0],e[0])<=Math.min(t[3],e[3])&&Math.max(t[1],e[1])<=Math.min(t[4],e[4])&&Math.max(t[2],e[2])<=Math.min(t[5],e[5])}function ABe(e,t){return t==null||Abe(e,t)}function PBe(e,t,n,i,r=e){return r[0]=e[0]+t,r[1]=e[1]+n,r[2]=e[2]+i,r[3]=e[3]+t,r[4]=e[4]+n,r[5]=e[5]+i,r}function LBe(e,t,n=e){const i=e[0]+vb(e)/2,r=e[1]+bb(e)/2,s=e[2]+wb(e)/2;return n[0]=i+(e[0]-i)*t,n[1]=r+(e[1]-r)*t,n[2]=s+(e[2]-s)*t,n[3]=i+(e[3]-i)*t,n[4]=r+(e[4]-r)*t,n[5]=s+(e[5]-s)*t,n}function OBe(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function RBe(e,t,n=e){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n!==e&&(n[3]=e[3],n[4]=e[4],n[5]=e[5]),n}function NBe(e,t,n=e){return n[3]=t[0],n[4]=t[1],n[5]=t[2],n!==e&&(n[0]=e[0],n[1]=e[1],n[2]=e[2]),e}function Eq(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function DBe(e){return e?Eq(e,WC):gb(WC)}function VBe(e,t){return t||(t=_r()),t[0]=e[0],t[1]=e[1],t[2]=e[3],t[3]=e[4],t}function FBe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function jBe(e,t,n,i,r){return e[0]=t,e[1]=n,e[2]=Number.NEGATIVE_INFINITY,e[3]=i,e[4]=r,e[5]=Number.POSITIVE_INFINITY,e}function xV(e){return e.length===6}function zBe(e){return vb(e)===0&&bb(e)===0&&wb(e)===0}function BBe(e,t,n){if(e==null||t==null)return e===t;if(!xV(e)||!xV(t))return!1;for(let i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}const WC=[1/0,1/0,1/0,-1/0,-1/0,-1/0],Pbe=[0,0,0,0,0,0];gb();function UBe(e,{isPrimitive:t,width:n,depth:i,height:r}){const s=t?10:1;if(n==null&&r==null&&i==null)return[s*e[0],s*e[1],s*e[2]];const o=uy(n,i,r);let a;for(let l=0;l<3;l++){const c=o[l];if(c!=null){a=c/e[l];break}}for(let l=0;l<3;l++)o[l]==null&&(o[l]=e[l]*a);return o}const Lbe=c3(-.5,-.5,-.5,.5,.5,.5),Obe=c3(-.5,-.5,0,.5,.5,1),Rbe=c3(-.5,-.5,0,.5,.5,.5);function GBe(e){switch(e){case"sphere":case"cube":case"diamond":return Lbe;case"cylinder":case"cone":case"inverted-cone":return Obe;case"tetrahedron":return Rbe;default:return}}const d3=["butt","square","round"],Nbe=[...d3,"none"],Iq=["miter","bevel","round"];var ZC;let ld=ZC=class extends te{constructor(e){super(e),this.color=new he([0,0,0,1]),this.size=Zr(1),this.pattern=null,this.patternCap="butt"}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size,pattern:this.pattern!=null?this.pattern.clone():null,patternCap:this.patternCap};return new ZC(e)}};u([d(kc({colorRequiredOnWrite:!0}))],ld.prototype,"color",void 0),u([d({...Aa,json:{write:{isRequired:!0}}})],ld.prototype,"size",void 0),u([d(Tq)],ld.prototype,"pattern",void 0),u([d({type:d3,json:{default:"butt",write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],ld.prototype,"patternCap",void 0),ld=ZC=u([k("esri.symbols.support.Symbol3DOutline")],ld);var D1;let Xa=D1=class extends Da{constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:this.edges!=null?this.edges.clone():null,enabled:this.enabled,material:this.material!=null?this.material.clone():null,pattern:this.pattern!=null?this.pattern.clone():null,castShadows:this.castShadows,outline:this.outline!=null?this.outline.clone():null};return new D1(e)}static fromSimpleFillSymbol(e){const t=e.outline&&e.outline.style&&e.outline.style!=="solid"?new u3({style:e.outline.style}):null,n={size:e.outline?.width??0,color:(e.outline?.color??gv).clone(),pattern:t};return t&&e.outline?.cap&&(n.patternCap=e.outline.cap),new D1({material:new vv({color:(e.color??Ebe).clone()}),pattern:e.style&&e.style!=="solid"?new $q({style:e.style}):null,outline:n})}};u([Ve({Fill:"fill"},{readOnly:!0})],Xa.prototype,"type",void 0),u([d({type:vv,json:{write:!0}})],Xa.prototype,"material",void 0),u([d(Tbe)],Xa.prototype,"pattern",void 0),u([d({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Xa.prototype,"castShadows",void 0),u([d({type:ld,json:{write:!0}})],Xa.prototype,"outline",void 0),u([d(fq)],Xa.prototype,"edges",void 0),Xa=D1=u([k("esri.symbols.FillSymbol3DLayer")],Xa);const ap=Xa;var YC;const Dbe=Ii()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let ud=YC=class extends te{constructor(e){super(e)}readHref(e,t,n){return e?hc(e,n):t.dataURI}writeHref(e,t,n,i){e&&(sp(e)?t.dataURI=e:(t.href=hb(e,i),gs(t.href)&&(t.href=jo(t.href))))}clone(){return new YC({href:this.href,primitive:this.primitive})}};u([d({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],ud.prototype,"href",void 0),u([le("href")],ud.prototype,"readHref",null),u([ge("href",{href:{type:String},dataURI:{type:String}})],ud.prototype,"writeHref",null),u([Ve(Dbe)],ud.prototype,"primitive",void 0),ud=YC=u([k("esri.symbols.support.IconSymbol3DLayerResource")],ud);const Vbe="circle";var JC;let Nf=JC=class extends Ce{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new JC({x:this.x,y:this.y})}};u([d({type:Number})],Nf.prototype,"x",void 0),u([d({type:Number})],Nf.prototype,"y",void 0),Nf=JC=u([k("esri.symbols.support.Symbol3DAnchorPosition2D")],Nf);var KC;let _g=KC=class extends te{constructor(e){super(e),this.color=new he([0,0,0,1]),this.size=Zr(1)}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size};return new KC(e)}};u([d(kc({colorRequiredOnWrite:!0}))],_g.prototype,"color",void 0),u([d({...Aa,json:{write:{isRequired:!0}}})],_g.prototype,"size",void 0),_g=KC=u([k("esri.symbols.support.Symbol3DIconOutline")],_g);var rf;const Cq="esri.symbols.IconSymbol3DLayer";let wo=rf=class extends Da{constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null,this.angle=0}clone(){return new rf({anchor:this.anchor,anchorPosition:j(this.anchorPosition),enabled:this.enabled,material:j(this.material),outline:j(this.outline),resource:j(this.resource),angle:this.angle,size:this.size})}static fromSimpleMarkerSymbol(e){const t=e.color||gv,n=$V(e),i=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||gv).clone()}:null;return new rf({size:e.size,angle:e.angle,resource:{primitive:jbe(e.style)},material:{color:t},outline:i,anchor:n?"relative":void 0,anchorPosition:n})}static fromPictureMarkerSymbol(e){const t=!e.color||Ibe(e.color)?gv:e.color,n=$V(e);return new rf({size:e.width<=e.height?e.height:e.width,angle:e.angle,resource:{href:e.url},material:{color:t.clone()},anchor:n?"relative":void 0,anchorPosition:n})}static fromCIMSymbol(e){return new rf({resource:{href:iG({mediaType:"application/json",data:JSON.stringify(e.data)})}})}};u([d({type:Ur,json:{write:!0}})],wo.prototype,"material",void 0),u([d({type:ud,json:{write:!0}})],wo.prototype,"resource",void 0),u([Ve({Icon:"icon"},{readOnly:!0})],wo.prototype,"type",void 0),u([d({...Aa,json:{write:{isRequired:!0}}})],wo.prototype,"size",void 0),u([Ve({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"},{default:"center"})],wo.prototype,"anchor",void 0),u([d({type:Nf,json:{type:[Number],read:{reader:e=>new Nf({x:e[0],y:e[1]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],wo.prototype,"anchorPosition",void 0),u([d({type:_g,json:{write:!0}})],wo.prototype,"outline",void 0),u([d({type:Number,json:{write:!0,default:0}})],wo.prototype,"angle",void 0),wo=rf=u([k(Cq)],wo);const ah=wo;function $V(e){const t="width"in e?e.width:e.size,n="height"in e?e.height:e.size,i=TV(e.xoffset),r=TV(e.yoffset);return(i||r)&&t&&n?{x:-i/t,y:r/n}:null}function TV(e){return isFinite(e)?e:0}const Fbe={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function jbe(e){return Fbe[e]||(re.getLogger(Cq).warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const zbe=["begin","end","begin-end"],Mq=["arrow","circle","square","diamond","cross","x"];let cd=class extends ut.ClonableMixin(te){constructor(t){super(t),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(t){return t!=null&&t.placement===this.placement&&t.style===this.style&&(this.color==null&&t.color==null||this.color!=null&&t.color!=null&&this.color.toJSON()===t.color.toJSON())}};u([d({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],cd.prototype,"type",void 0),u([d({type:zbe,json:{default:"begin-end",write:!0}})],cd.prototype,"placement",void 0),u([d({type:Mq,json:{default:"arrow",write:!0}})],cd.prototype,"style",void 0),u([d({type:he,json:{type:[wt],default:null,write:!0}})],cd.prototype,"color",void 0),cd=u([k("esri.symbols.LineStyleMarker3D")],cd);const XC=cd;var V1;let ta=V1=class extends Da{constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=Zr(1),this.pattern=null,this.marker=null}clone(){const e={enabled:this.enabled,material:this.material!=null?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern!=null?this.pattern.clone():null,marker:this.marker!=null?this.marker.clone():null};return new V1(e)}static fromSimpleLineSymbol(e){const t={enabled:!0,size:e.width??Zr(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style?new u3({style:e.style}):null,material:new Ur({color:(e.color||gv).clone()}),marker:e.marker?new XC({placement:e.marker.placement,style:e.marker.style,color:e.marker.color?.clone()??null}):null};return new V1(t)}};u([d({type:Ur,json:{write:!0}})],ta.prototype,"material",void 0),u([Ve({Line:"line"},{readOnly:!0})],ta.prototype,"type",void 0),u([d({type:Iq,json:{write:!0,default:"miter"}})],ta.prototype,"join",void 0),u([d({type:d3,json:{write:!0,default:"butt"}})],ta.prototype,"cap",void 0),u([d({...Aa,json:{write:{isRequired:!0}}})],ta.prototype,"size",void 0),u([d(Tq)],ta.prototype,"pattern",void 0),u([d({types:{key:"type",base:XC,typeMap:{style:XC}},json:{write:!0}})],ta.prototype,"marker",void 0),ta=V1=u([k("esri.symbols.LineSymbol3DLayer")],ta);const cy=ta;var QC;const Bbe=Ii()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let Sg=QC=class extends te{clone(){return new QC({href:this.href,primitive:this.primitive})}};u([d({type:String,json:{read:IL,write:Ph}})],Sg.prototype,"href",void 0),u([Ve(Bbe)],Sg.prototype,"primitive",void 0),Sg=QC=u([k("esri.symbols.support.ObjectSymbol3DLayerResource")],Sg);const Ube="sphere";var eM;let Jd=eM=class extends Ce{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new eM({x:this.x,y:this.y,z:this.z})}};u([d({type:Number})],Jd.prototype,"x",void 0),u([d({type:Number})],Jd.prototype,"y",void 0),u([d({type:Number})],Jd.prototype,"z",void 0),Jd=eM=u([k("esri.symbols.support.Symbol3DAnchorPosition3D")],Jd);var tM;let Gi=tM=class extends Da{constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new tM({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition?.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:this.material?.clone()??null,castShadows:this.castShadows,resource:this.resource?.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};u([d({type:Ur,json:{write:!0}})],Gi.prototype,"material",void 0),u([d({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Gi.prototype,"castShadows",void 0),u([d({type:Sg,json:{write:!0}})],Gi.prototype,"resource",void 0),u([Ve({Object:"object"},{readOnly:!0})],Gi.prototype,"type",void 0),u([d({type:Number,json:{write:!0}})],Gi.prototype,"width",void 0),u([d({type:Number,json:{write:!0}})],Gi.prototype,"height",void 0),u([d({type:Number,json:{write:!0}})],Gi.prototype,"depth",void 0),u([Ve({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"},{default:"origin"})],Gi.prototype,"anchor",void 0),u([d({type:Jd,json:{type:[Number],read:{reader:e=>new Jd({x:e[0],y:e[1],z:e[2]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y,e.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],Gi.prototype,"anchorPosition",void 0),u([d({type:Number,json:{write:!0}})],Gi.prototype,"heading",void 0),u([d({type:Number,json:{write:!0}})],Gi.prototype,"tilt",void 0),u([d({type:Number,json:{write:!0}})],Gi.prototype,"roll",void 0),u([d({readOnly:!0})],Gi.prototype,"isPrimitive",null),Gi=tM=u([k("esri.symbols.ObjectSymbol3DLayer")],Gi);const h3=Gi;var nM;let hr=nM=class extends Da{constructor(e){super(e),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(e,t){return e??(t.height==null&&t.size!=null?t.size:void 0)}readHeight(e,t){return e??(t.width==null&&t.size!=null?t.size:void 0)}clone(){return new nM({enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};u([d({type:Ur,json:{write:!0}})],hr.prototype,"material",void 0),u([d({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],hr.prototype,"castShadows",void 0),u([Ve({Path:"path"},{readOnly:!0})],hr.prototype,"type",void 0),u([d({type:["circle","quad"],json:{write:!0,default:"circle"}})],hr.prototype,"profile",void 0),u([d({type:Iq,json:{write:!0,default:"miter"}})],hr.prototype,"join",void 0),u([d({type:Nbe,json:{write:!0,default:"butt"}})],hr.prototype,"cap",void 0),u([d({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],hr.prototype,"width",void 0),u([le("width",["width","size","height"])],hr.prototype,"readWidth",null),u([d({type:Number,json:{write:!0}})],hr.prototype,"height",void 0),u([le("height",["height","size","width"])],hr.prototype,"readHeight",null),u([d({type:["center","bottom","top"],json:{write:!0,default:"center"}})],hr.prototype,"anchor",void 0),u([d({type:["heading","all"],json:{write:!0,default:"all"}})],hr.prototype,"profileRotation",void 0),hr=nM=u([k("esri.symbols.PathSymbol3DLayer")],hr);const p3=hr,Gbe=["none","underline","line-through"],Hbe=["normal","italic","oblique"],qbe=["normal","lighter","bold","bolder"],kq={type:Number,cast:e=>{const t=vr(e);return t===0?1:ws(t,.1,4)},nonNullable:!0},Wbe=["left","right","center"],Zbe=["baseline","top","middle","bottom"],Aq={type:Wbe,nonNullable:!0},Pq={type:Zbe,nonNullable:!0},qBe=8;var iM;let Qa=iM=class extends te{constructor(e){super(e),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(e){return ht(e)}clone(){return new iM({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};u([d({type:Gbe,json:{default:"none",write:!0}})],Qa.prototype,"decoration",void 0),u([d({type:String,json:{write:!0}})],Qa.prototype,"family",void 0),u([d({type:Number,json:{write:{overridePolicy:(e,t,n)=>({enabled:!n||!n.textSymbol3D})}}})],Qa.prototype,"size",void 0),u([pt("size")],Qa.prototype,"castSize",null),u([d({type:Hbe,json:{default:"normal",write:!0}})],Qa.prototype,"style",void 0),u([d({type:qbe,json:{default:"normal",write:!0}})],Qa.prototype,"weight",void 0),Qa=iM=u([k("esri.symbols.Font")],Qa);const wx=Qa;var rM;let Df=rM=class extends te{constructor(){super(...arguments),this.color=new he([0,0,0,1]),this.size=0}clone(){const e={color:j(this.color),size:this.size};return new rM(e)}};u([d(kc())],Df.prototype,"color",void 0),u([d(Aa)],Df.prototype,"size",void 0),Df=rM=u([k("esri.symbols.support.Symbol3DHalo")],Df);let bv=class extends ut.ClonableMixin(te){constructor(t){super(t),this.color=null}};u([d(kc())],bv.prototype,"color",void 0),bv=u([k("esri.symbols.support.Symbol3DTextBackground")],bv);var F1;let Pr=F1=class extends Da{constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(e){e!=null&&this._userSize!=null&&(e.size=this._userSize),this._set("font",e)}writeFont(e,t,n,i){const r={...i,textSymbol3D:!0};t.font=e.write({},r),delete t.font.size}get size(){return this._userSize!=null?this._userSize:this.font?.size!=null?this.font.size:9}set size(e){this._userSize=e,this.font!=null&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const e=new F1({enabled:this.enabled,font:this.font&&j(this.font),halo:this.halo&&j(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material!=null?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:j(this.background)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new F1({font:e.font!=null?e.font.clone():new wx,halo:Ybe(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new Ur({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new bv({color:e.backgroundColor.clone()}):null})}};function Ybe(e,t){return e&&t!=null&&t>0?new Df({color:j(e),size:t}):null}u([d({type:wx,json:{write:!0}})],Pr.prototype,"font",null),u([ge("font")],Pr.prototype,"writeFont",null),u([d({type:Df,json:{write:!0}})],Pr.prototype,"halo",void 0),u([d({...Aq,json:{default:"center",write:!0}})],Pr.prototype,"horizontalAlignment",void 0),u([d({...kq,json:{default:1,write:!0}})],Pr.prototype,"lineHeight",void 0),u([d({type:Ur,json:{write:!0}})],Pr.prototype,"material",void 0),u([d({type:bv,json:{write:!0}})],Pr.prototype,"background",void 0),u([d(Aa)],Pr.prototype,"size",null),u([d({type:String,json:{write:!0}})],Pr.prototype,"text",void 0),u([Ve({Text:"text"},{readOnly:!0})],Pr.prototype,"type",void 0),u([d({...Pq,json:{default:"baseline",write:!0}})],Pr.prototype,"verticalAlignment",void 0),Pr=F1=u([k("esri.symbols.TextSymbol3DLayer")],Pr);const dy=Pr;var sM;let yu=sM=class extends Da{constructor(e){super(e),this.color=oM.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new sM({color:j(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};u([d({type:he,nonNullable:!0,json:{type:[wt],write:(e,t,n)=>t[n]=e.toArray(he.AlphaMode.UNLESS_OPAQUE),default:()=>oM.clone(),defaultEquals:e=>e.toCss(!0)===oM.toCss(!0)}})],yu.prototype,"color",void 0),u([Ve({Water:"water"},{readOnly:!0})],yu.prototype,"type",void 0),u([d({type:["small","medium","large"],json:{write:!0,default:"medium"}})],yu.prototype,"waterbodySize",void 0),u([d({type:Number,json:{write:!0,default:null}})],yu.prototype,"waveDirection",void 0),u([d({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],yu.prototype,"waveStrength",void 0),yu=sM=u([k("esri.symbols.WaterSymbol3DLayer")],yu);const Lq=yu,oM=new he([0,119,190]);var aM;let dd=aM=class extends Ce{constructor(e){super(e),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new aM({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};u([d({type:String})],dd.prototype,"name",void 0),u([d({type:String})],dd.prototype,"styleUrl",void 0),u([d({type:String})],dd.prototype,"styleName",void 0),u([d({type:or})],dd.prototype,"portal",void 0),dd=aM=u([k("esri.symbols.support.StyleOrigin")],dd);const f0=dd;var lM;let bh=lM=class extends Ce{constructor(){super(...arguments),this.url=""}clone(){return new lM({url:this.url})}};u([d({type:String})],bh.prototype,"url",void 0),bh=lM=u([k("esri.symbols.support.Thumbnail")],bh);const Oq={icon:ah,object:h3,line:cy,path:p3,fill:ap,extrude:_q,text:dy,water:Lq},Jbe=we.ofType({base:Da,key:"type",typeMap:Oq,errorContext:"symbol-layer"});let na=class extends Vi{constructor(t){super(t),this.styleOrigin=null,this.thumbnail=null,this.type=null;const n=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,i=n?.type,r=i||we;this._set("symbolLayers",new r)}get color(){return null}set color(t){this.constructed&&re.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(t){Nl(t,this._get("symbolLayers"))}readStyleOrigin(t,n,i){if(t.styleUrl&&t.name){const r=hc(t.styleUrl,i);return new f0({styleUrl:r,name:t.name})}if(t.styleName&&t.name)return new f0({portal:i?.portal||or.getDefault(),styleName:t.styleName,name:t.name});i?.messages&&i.messages.push(new Js("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:i,definition:t}))}writeStyleOrigin(t,n,i,r){if(t.styleUrl&&t.name){let s=hb(t.styleUrl,r);gs(s)&&(s=jo(s)),n.styleOrigin={styleUrl:s,name:t.name}}else t.styleName&&t.name&&(t.portal&&r?.portal&&!nG(t.portal.restUrl,r.portal.restUrl)?r?.messages&&r.messages.push(new Js("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):n.styleOrigin={styleName:t.styleName,name:t.name})}normalizeCtorArgs(t){return t instanceof Da||t&&Oq[t.type]?{symbolLayers:[t]}:Array.isArray(t)?{symbolLayers:t}:t}};u([d({json:{read:!1,write:!1}})],na.prototype,"color",null),u([d({type:Jbe,nonNullable:!0,json:{write:!0}}),pt(dq)],na.prototype,"symbolLayers",null),u([d({type:f0})],na.prototype,"styleOrigin",void 0),u([le("styleOrigin")],na.prototype,"readStyleOrigin",null),u([ge("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],na.prototype,"writeStyleOrigin",null),u([d({type:bh,json:{read:!1}})],na.prototype,"thumbnail",void 0),u([d({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],na.prototype,"type",void 0),na=u([k("esri.symbols.Symbol3D")],na);const _b=na;let xg=class extends te{constructor(t){super(t),this.visible=!0}clone(){throw new Error("Subclasses of Callout3D should implement their own clone method.")}};u([d({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,isRequired:!0}}})],xg.prototype,"type",void 0),u([d({readOnly:!0})],xg.prototype,"visible",void 0),xg=u([k("esri.symbols.callouts.Callout3D")],xg);const Rq=xg;var uM;let j1=uM=class extends te{constructor(e){super(e),this.color=new he("white")}clone(){return new uM({color:j(this.color)})}};u([d(kc({colorRequiredOnWrite:!0}))],j1.prototype,"color",void 0),j1=uM=u([k("esri.symbols.callouts.LineCallout3DBorder")],j1);const Kbe=j1;var cM;let gu=cM=class extends Rq{constructor(e){super(e),this.type="line",this.color=new he([0,0,0,1]),this.size=Zr(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new cM({color:j(this.color),size:this.size,border:j(this.border)})}};u([Ve({line:"line"})],gu.prototype,"type",void 0),u([d(kc({colorRequiredOnWrite:!0}))],gu.prototype,"color",void 0),u([d({...Aa,json:{write:{isRequired:!0}}})],gu.prototype,"size",void 0),u([d({type:Kbe,json:{write:!0}})],gu.prototype,"border",void 0),u([d({readOnly:!0})],gu.prototype,"visible",null),gu=cM=u([k("esri.symbols.callouts.LineCallout3D")],gu);const Nq=gu;function f3(e){if(!e)return!1;const t=e.verticalOffset;return!(!t||t.screenLength<=0||t.maxWorldLength!=null&&t.maxWorldLength<=0)}function Dq(e){return!e||!e.supportsCallout||!e.supportsCallout()?!1:!!e.callout?.visible&&!!f3(e)}function JBe(e){return e.type==="point-3d"||e.type==="label-3d"}function KBe(e){return e.horizontalAlignment==="center"}const Vq={types:{key:"type",base:Rq,typeMap:{line:Nq}},json:{write:!0}};var dM;let sf=dM=class extends te{constructor(e){super(e),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new dM({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};u([d({...Aa,json:{write:{isRequired:!0}}})],sf.prototype,"screenLength",void 0),u([d({type:Number,nonNullable:!0,json:{write:!0,default:0}})],sf.prototype,"minWorldLength",void 0),u([d({type:Number,json:{write:!0}})],sf.prototype,"maxWorldLength",void 0),sf=dM=u([k("esri.symbols.support.Symbol3DVerticalOffset")],sf);const m3=sf;var z1;const Fq=we.ofType({base:null,key:"type",typeMap:{text:dy}});let vu=z1=class extends _b{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new Fq,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return Dq(this)}hasVisibleVerticalOffset(){return f3(this)}clone(){return new z1({styleOrigin:j(this.styleOrigin),symbolLayers:j(this.symbolLayers),thumbnail:j(this.thumbnail),callout:j(this.callout),verticalOffset:j(this.verticalOffset)})}static fromTextSymbol(e){return new z1({symbolLayers:new we([dy.fromTextSymbol(e)])})}};u([d({type:m3,json:{write:!0}})],vu.prototype,"verticalOffset",void 0),u([d(Vq)],vu.prototype,"callout",void 0),u([d({json:{read:!1,write:!1}})],vu.prototype,"styleOrigin",void 0),u([d({type:Fq})],vu.prototype,"symbolLayers",void 0),u([Ve({LabelSymbol3D:"label-3d"},{readOnly:!0})],vu.prototype,"type",void 0),vu=z1=u([k("esri.symbols.LabelSymbol3D")],vu);const _x=vu;var B1;const jq=we.ofType({base:null,key:"type",typeMap:{line:cy,path:p3}}),Xbe=we.ofType({base:null,key:"type",typeMap:{line:cy,path:p3}});let $g=B1=class extends _b{constructor(e){super(e),this.symbolLayers=new jq,this.type="line-3d"}clone(){return new B1({styleOrigin:j(this.styleOrigin),symbolLayers:j(this.symbolLayers),thumbnail:j(this.thumbnail)})}static fromSimpleLineSymbol(e){return new B1({symbolLayers:new we([cy.fromSimpleLineSymbol(e)])})}};u([d({type:jq,json:{type:Xbe}})],$g.prototype,"symbolLayers",void 0),u([Ve({LineSymbol3D:"line-3d"},{readOnly:!0})],$g.prototype,"type",void 0),$g=B1=u([k("esri.symbols.LineSymbol3D")],$g);const lp=$g;var U1;const zq=we.ofType({base:null,key:"type",typeMap:{fill:ap}});let Tg=U1=class extends _b{constructor(e){super(e),this.symbolLayers=new zq,this.type="mesh-3d"}clone(){return new U1({styleOrigin:j(this.styleOrigin),symbolLayers:j(this.symbolLayers),thumbnail:j(this.thumbnail)})}static fromSimpleFillSymbol(e){return new U1({symbolLayers:new we([ap.fromSimpleFillSymbol(e)])})}};u([d({type:zq})],Tg.prototype,"symbolLayers",void 0),u([Ve({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],Tg.prototype,"type",void 0),Tg=U1=u([k("esri.symbols.MeshSymbol3D")],Tg);const Sb=Tg;let Eg=class extends Vi{constructor(t){super(t),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};u([Ve({esriSLS:"simple-line"},{readOnly:!0})],Eg.prototype,"type",void 0),u([d({type:Number,cast:ht,json:{write:!0}})],Eg.prototype,"width",void 0),Eg=u([k("esri.symbols.LineSymbol")],Eg);const Qbe=Eg;var hM;let ia=hM=class extends te{constructor(e){super(e),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(e,t,n,i){t[n]=i?.origin==="web-map"?"arrow":e}set color(e){this._set("color",e)}readColor(e){return e?.[0]!=null?[e[0],e[1],e[2],e[3]/255]:e}writeColor(e,t,n,i){i?.origin==="web-map"||(t[n]=e)}clone(){return new hM({color:j(this.color),placement:this.placement,style:this.style})}hash(){return`${this.placement}.${this.color?.hash()}.${this.style}`}};u([d({type:["begin","end","begin-end"],json:{write:!0}})],ia.prototype,"placement",void 0),u([Ve({"line-marker":"line-marker"},{readOnly:!0}),d({json:{origins:{"web-map":{write:!1}}}})],ia.prototype,"type",void 0),u([d({type:Mq})],ia.prototype,"style",void 0),u([ge("style")],ia.prototype,"writeStyle",null),u([d({type:he,value:null,json:{write:{allowNull:!0}}})],ia.prototype,"color",null),u([le("color")],ia.prototype,"readColor",null),u([ge("color")],ia.prototype,"writeColor",null),ia=hM=u([k("esri.symbols.LineSymbolMarker")],ia);const ewe=ia;var pM;const nT=new at({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let el=pM=class extends Qbe{constructor(...e){super(...e),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(e,t,n,i,r,s){if(e&&typeof e!="string")return e;const o={};return e!=null&&(o.style=e),t!=null&&(o.color=t),n!=null&&(o.width=ht(n)),i!=null&&(o.cap=i),r!=null&&(o.join=r),s!=null&&(o.miterLimit=ht(s)),o}clone(){return new pM({color:j(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:this.marker?.clone()})}hash(){return`${super.hash()}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`}};u([Ve({esriSLS:"simple-line"},{readOnly:!0})],el.prototype,"type",void 0),u([d({type:nT.apiValues,json:{read:nT.read,write:nT.write}})],el.prototype,"style",void 0),u([d({type:["butt","round","square"],json:{write:{overridePolicy:(e,t,n)=>({enabled:e!=="round"&&n?.origin==null})}}})],el.prototype,"cap",void 0),u([d({type:["miter","round","bevel"],json:{write:{overridePolicy:(e,t,n)=>({enabled:e!=="round"&&n?.origin==null})}}})],el.prototype,"join",void 0),u([d({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":ewe}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],el.prototype,"marker",void 0),u([d({type:Number,json:{read:!1,write:!1}})],el.prototype,"miterLimit",void 0),el=pM=u([k("esri.symbols.SimpleLineSymbol")],el);const Cr=el;let Ig=class extends Vi{constructor(t){super(t),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline?.hash()}`}};u([d({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Cr}},json:{default:null,write:!0}})],Ig.prototype,"outline",void 0),u([d({type:["simple-fill","picture-fill"],readOnly:!0})],Ig.prototype,"type",void 0),Ig=u([k("esri.symbols.FillSymbol")],Ig);const Bq=Ig;function twe(e,t,n){return t.imageData?iG({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):Uq(t.url,n)}function Uq(e,t){if(!gs(e)){const n=iwe(t);if(n)return xm(n,"images",e)}return hc(e,t)}function nwe(e,t,n,i){if(sp(e)){const r=$m(e);if(!r)return;t.contentType=r.mediaType,t.imageData=r.data,n&&n.imageData===t.imageData&&n.url&&Ph(n.url,t,"url",i)}else Ph(e,t,"url",i)}const Gq={json:{read:{source:["imageData","url"],reader:twe},write:{writer(e,t,n,i){nwe(e,t,this.source,i)}}}},Hq={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,n){const i={};return t.imageData&&(i.imageData=t.imageData),t.contentType&&(i.contentType=t.contentType),t.url&&(i.url=Uq(t.url,n)),i}}}};function iwe(e){if(!e)return null;const{origin:t,layer:n}=e;if(t!=="service"&&t!=="portal-item")return null;const i=n?.type;return i==="feature"||i==="stream"?n.parsedUrl?.path:i==="map-image"||i==="tile"?e.url?.path:null}var fM;let Ls=fM=class extends Bq{constructor(...e){super(...e),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(e,t,n,i){if(e&&typeof e!="string"&&e.imageData==null)return e;const r={};return e&&(r.url=e),t&&(r.outline=t),n!=null&&(r.width=ht(n)),i!=null&&(r.height=ht(i)),r}clone(){const e=new fM({color:j(this.color),height:this.height,outline:j(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",j(this.source)),e}hash(){return`${super.hash()}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};u([Ve({esriPFS:"picture-fill"},{readOnly:!0})],Ls.prototype,"type",void 0),u([d(Gq)],Ls.prototype,"url",void 0),u([d({type:Number,json:{write:!0}})],Ls.prototype,"xscale",void 0),u([d({type:Number,json:{write:!0}})],Ls.prototype,"yscale",void 0),u([d({type:Number,cast:ht,json:{write:!0}})],Ls.prototype,"width",void 0),u([d({type:Number,cast:ht,json:{write:!0}})],Ls.prototype,"height",void 0),u([d({type:Number,cast:ht,json:{write:!0}})],Ls.prototype,"xoffset",void 0),u([d({type:Number,cast:ht,json:{write:!0}})],Ls.prototype,"yoffset",void 0),u([d(Hq)],Ls.prototype,"source",void 0),Ls=fM=u([k("esri.symbols.PictureFillSymbol")],Ls);const y3=Ls;let bu=class extends Vi{constructor(t){super(t),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};u([d({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],bu.prototype,"angle",void 0),u([d({type:["simple-marker","picture-marker"],readOnly:!0})],bu.prototype,"type",void 0),u([d({type:Number,cast:ht,json:{write:!0}})],bu.prototype,"xoffset",void 0),u([d({type:Number,cast:ht,json:{write:!0}})],bu.prototype,"yoffset",void 0),u([d({cast:e=>e==="auto"?e:vr(ht(e)),json:{write:!0}})],bu.prototype,"size",void 0),bu=u([k("esri.symbols.MarkerSymbol")],bu);const qq=bu;var mM;let _o=mM=class extends qq{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,n){if(e&&typeof e!="string"&&e.imageData==null)return e;const i={};return e&&(i.url=e),t!=null&&(i.width=ht(t)),n!=null&&(i.height=ht(n)),i}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new mM({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",j(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};u([d({json:{write:!1}})],_o.prototype,"color",void 0),u([Ve({esriPMS:"picture-marker"},{readOnly:!0})],_o.prototype,"type",void 0),u([d(Gq)],_o.prototype,"url",void 0),u([d(Hq)],_o.prototype,"source",void 0),u([d({type:Number,cast:ht,json:{write:!0}})],_o.prototype,"height",void 0),u([le("height",["height","size"])],_o.prototype,"readHeight",null),u([d({type:Number,cast:ht,json:{write:!0}})],_o.prototype,"width",void 0),u([d({json:{write:!1}})],_o.prototype,"size",void 0),_o=mM=u([k("esri.symbols.PictureMarkerSymbol")],_o);const xb=_o;var hd;const Wq=we.ofType({base:null,key:"type",typeMap:{icon:ah,object:h3,text:dy}});let pd=hd=class extends _b{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.symbolLayers=new Wq,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const e of this.symbolLayers.items)switch(e.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return Dq(this)}hasVisibleVerticalOffset(){return f3(this)}clone(){return new hd({verticalOffset:j(this.verticalOffset),callout:j(this.callout),styleOrigin:j(this.styleOrigin),symbolLayers:j(this.symbolLayers),thumbnail:j(this.thumbnail)})}static fromSimpleMarkerSymbol(e){return new hd({symbolLayers:new we([ah.fromSimpleMarkerSymbol(e)])})}static fromPictureMarkerSymbol(e){return new hd({symbolLayers:new we([ah.fromPictureMarkerSymbol(e)])})}static fromCIMSymbol(e){if(e.data?.symbol?.type!=="CIMPointSymbol")return null;const n=e.data.symbol;return new hd(n?.callout?{symbolLayers:new we([ah.fromCIMSymbol(e)]),callout:new Nq({size:.5,color:new he([0,0,0])}),verticalOffset:new m3({screenLength:40})}:{symbolLayers:new we([ah.fromCIMSymbol(e)])})}static fromTextSymbol(e){return new hd({symbolLayers:new we([dy.fromTextSymbol(e)])})}};u([d({type:m3,json:{write:!0}})],pd.prototype,"verticalOffset",void 0),u([d(Vq)],pd.prototype,"callout",void 0),u([d({type:Wq,json:{origins:{"web-scene":{write:!0}}}})],pd.prototype,"symbolLayers",void 0),u([Ve({PointSymbol3D:"point-3d"},{readOnly:!0})],pd.prototype,"type",void 0),pd=hd=u([k("esri.symbols.PointSymbol3D")],pd);const $l=pd;var Cg;const Zq=we.ofType({base:null,key:"type",typeMap:{extrude:_q,fill:ap,icon:ah,line:cy,object:h3,text:dy,water:Lq}});let Mg=Cg=class extends _b{constructor(e){super(e),this.symbolLayers=new Zq,this.type="polygon-3d"}initialize(){const e=t=>{t.type==="line"&&e0(re.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),t.type==="text"&&e0(re.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const t of this.symbolLayers)e(t);this.addHandles(Tr(()=>this.symbolLayers,"after-add",({item:t})=>e(t),ka))}clone(){return new Cg({styleOrigin:j(this.styleOrigin),symbolLayers:j(this.symbolLayers),thumbnail:j(this.thumbnail)})}static fromJSON(e){const t=new Cg;if(t.read(e),t.symbolLayers.length===2&&t.symbolLayers.at(0).type==="fill"&&t.symbolLayers.at(1).type==="line"){const n=t.symbolLayers.at(0),i=t.symbolLayers.at(1);!i.enabled||e.symbolLayers?.[1]&&e.symbolLayers[1].enable===!1||(n.outline={size:i.size,color:i.material!=null?i.material.color:null}),t.symbolLayers.removeAt(1)}return t}static fromSimpleFillSymbol(e){return new Cg({symbolLayers:new we([ap.fromSimpleFillSymbol(e)])})}};u([d({type:Zq,json:{write:!0}})],Mg.prototype,"symbolLayers",void 0),u([Ve({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],Mg.prototype,"type",void 0),Mg=Cg=u([k("esri.symbols.PolygonSymbol3D")],Mg);const Pc=Mg;var yM;const iT=new at({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let fd=yM=class extends Bq{constructor(...e){super(...e),this.color=new he([0,0,0,.25]),this.outline=new Cr,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(e,t,n){if(e&&typeof e!="string")return e;const i={};return e&&(i.style=e),t&&(i.outline=t),n&&(i.color=n),i}clone(){return new yM({color:j(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};u([d()],fd.prototype,"color",void 0),u([d()],fd.prototype,"outline",void 0),u([Ve({esriSFS:"simple-fill"},{readOnly:!0})],fd.prototype,"type",void 0),u([d({type:iT.apiValues,json:{read:iT.read,write:iT.write}})],fd.prototype,"style",void 0),fd=yM=u([k("esri.symbols.SimpleFillSymbol")],fd);const ql=fd;var gM;const rT=new at({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let ra=gM=class extends qq{constructor(...e){super(...e),this.color=new he([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new Cr}normalizeCtorArgs(e,t,n,i){if(e&&typeof e!="string")return e;const r={};return e&&(r.style=e),t!=null&&(r.size=ht(t)),n&&(r.outline=n),i&&(r.color=i),r}writeColor(e,t){e&&this.style!=="x"&&this.style!=="cross"&&(t.color=e.toJSON()),e===null&&(t.color=null)}set path(e){this.style="path",this._set("path",e)}clone(){return new gM({angle:this.angle,color:j(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`}};u([d()],ra.prototype,"color",void 0),u([ge("color")],ra.prototype,"writeColor",null),u([Ve({esriSMS:"simple-marker"},{readOnly:!0})],ra.prototype,"type",void 0),u([d()],ra.prototype,"size",void 0),u([d({type:rT.apiValues,json:{read:rT.read,write:rT.write}})],ra.prototype,"style",void 0),u([d({type:String,json:{write:!0}})],ra.prototype,"path",null),u([d({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Cr}},json:{default:null,write:!0}})],ra.prototype,"outline",void 0),ra=gM=u([k("esri.symbols.SimpleMarkerSymbol")],ra);const ir=ra;var vM;let Xt=vM=class extends Vi{constructor(...e){super(...e),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new wx,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(e,t,n){if(e&&typeof e!="string")return e;const i={};return e&&(i.text=e),t&&(i.font=t),n&&(i.color=n),i}writeLineWidth(e,t,n,i){i&&typeof i!="string"?i.origin:t[n]=e}castLineWidth(e){return ht(e)}writeLineHeight(e,t,n,i){i&&typeof i!="string"?i.origin:t[n]=e}clone(){return new vM({angle:this.angle,backgroundColor:j(this.backgroundColor),borderLineColor:j(this.borderLineColor),borderLineSize:this.borderLineSize,color:j(this.color),font:this.font&&this.font.clone(),haloColor:j(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor?.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color?.hash()}.${this.font&&this.font.hash()}.${this.haloColor?.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};u([d({type:he,json:{write:!0}})],Xt.prototype,"backgroundColor",void 0),u([d({type:he,json:{write:!0}})],Xt.prototype,"borderLineColor",void 0),u([d({type:Number,json:{write:!0},cast:ht})],Xt.prototype,"borderLineSize",void 0),u([d({type:wx,json:{write:!0}})],Xt.prototype,"font",void 0),u([d({...Aq,json:{write:!0}})],Xt.prototype,"horizontalAlignment",void 0),u([d({type:Boolean,json:{write:!0}})],Xt.prototype,"kerning",void 0),u([d({type:he,json:{write:!0}})],Xt.prototype,"haloColor",void 0),u([d({type:Number,cast:ht,json:{write:!0}})],Xt.prototype,"haloSize",void 0),u([d({type:Boolean,json:{write:!0}})],Xt.prototype,"rightToLeft",void 0),u([d({type:Boolean,json:{write:!0}})],Xt.prototype,"rotated",void 0),u([d({type:String,json:{write:!0}})],Xt.prototype,"text",void 0),u([Ve({esriTS:"text"},{readOnly:!0})],Xt.prototype,"type",void 0),u([d({...Pq,json:{write:!0}})],Xt.prototype,"verticalAlignment",void 0),u([d({type:Number,cast:ht,json:{write:!0}})],Xt.prototype,"xoffset",void 0),u([d({type:Number,cast:ht,json:{write:!0}})],Xt.prototype,"yoffset",void 0),u([d({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],Xt.prototype,"angle",void 0),u([d({type:Number,json:{write:!0}})],Xt.prototype,"width",void 0),u([d({type:Number})],Xt.prototype,"lineWidth",void 0),u([ge("lineWidth")],Xt.prototype,"writeLineWidth",null),u([pt("lineWidth")],Xt.prototype,"castLineWidth",null),u([d(kq)],Xt.prototype,"lineHeight",void 0),u([ge("lineHeight")],Xt.prototype,"writeLineHeight",null),Xt=vM=u([k("esri.symbols.TextSymbol")],Xt);const hy=Xt;var bM;let So=bM=class extends Vi{constructor(e){super(e),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const e=this.portal!=null?this.portal:or.getDefault(),t=e.user?e.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${t}:${e.url}`}read(e,t){this.portal=t?.portal,super.read(e,t)}clone(){return new bM({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(e){const t=e&&"acceptedFormats"in e?e.acceptedFormats:["web"];return this._fetchSymbol({...e,acceptedFormats:t})}async fetchCIMSymbol(e){const t=await this.fetchSymbol({...e,acceptedFormats:["cim"]});if(t?.type!=="cim")throw new B("webstylesymbol:fetchCIMSymbol","Resolved web style symbol is not of type 'cim'");return t}async _fetchSymbol(e){const t=e!=null?e.cache:null,n=t?this._fetchCacheKey:null;if(t!=null){const o=n&&t.get(n);if(o)return o.clone()}const{resolveWebStyleSymbol:i}=await J(()=>Promise.resolve().then(()=>n5e),void 0);fn(e);const r=i(this,{portal:this.portal},e);r.catch(o=>{re.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",o)});const s=await r;return t?.set(n,s.clone()),s}};u([d({json:{write:!1}})],So.prototype,"color",void 0),u([d({type:String,json:{write:!0}})],So.prototype,"styleName",void 0),u([d({type:or,json:{write:!1}})],So.prototype,"portal",void 0),u([d({type:String,json:{read:IL,write:Ph}})],So.prototype,"styleUrl",void 0),u([d({type:bh,json:{read:!1}})],So.prototype,"thumbnail",void 0),u([d({type:String,json:{write:!0}})],So.prototype,"name",void 0),u([Ve({styleSymbolReference:"web-style"},{readOnly:!0})],So.prototype,"type",void 0),u([d()],So.prototype,"_fetchCacheKey",null),So=bM=u([k("esri.symbols.WebStyleSymbol")],So);const yc=So;function Sx(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function Va(e){switch(e?.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const Qu={base:Vi,key:"type",typeMap:{"simple-fill":ql,"picture-fill":y3,"picture-marker":xb,"simple-line":Cr,"simple-marker":ir,text:hy,"label-3d":_x,"line-3d":lp,"mesh-3d":Sb,"point-3d":$l,"polygon-3d":Pc,"web-style":yc,cim:Mc},errorContext:"symbol"},tUe={base:Vi,key:"type",typeMap:{"picture-marker":xb,"simple-marker":ir,"point-3d":$l,cim:Mc},errorContext:"symbol"},nUe={base:Vi,key:"type",typeMap:{"simple-line":Cr,"line-3d":lp,cim:Mc},errorContext:"symbol"},iUe={base:Vi,key:"type",typeMap:{"simple-fill":ql,"picture-fill":y3,"polygon-3d":Pc,cim:Mc},errorContext:"symbol"},rwe={base:Vi,key:"type",typeMap:{"picture-marker":xb,"simple-marker":ir,text:hy,"web-style":yc,cim:Mc},errorContext:"symbol"},swe=ey({types:Qu}),Yq={base:Vi,key:"type",typeMap:{"simple-fill":ql,"picture-fill":y3,"picture-marker":xb,"simple-line":Cr,"simple-marker":ir,text:hy,"line-3d":lp,"mesh-3d":Sb,"point-3d":$l,"polygon-3d":Pc,"web-style":yc,cim:Mc},errorContext:"symbol"},owe={base:Vi,key:"type",typeMap:{text:hy,"label-3d":_x},errorContext:"symbol"},EV={base:Vi,key:"type",typeMap:{"line-3d":lp,"mesh-3d":Sb,"point-3d":$l,"polygon-3d":Pc,"web-style":yc,cim:Mc},errorContext:"symbol"},awe={base:Vi,key:"type",typeMap:{"label-3d":_x},errorContext:"symbol"},Jq=Ho(Qu);var wM;function lwe(e){if(!e)return null;const t={};for(const n in e){const i=zh(e[n]);i&&(t[n]=i)}return Object.keys(t).length!==0?t:null}function uwe(e){if(e==null)return null;const t={};for(const n in e){const i=e[n];i&&(t[n]=i.toJSON())}return Object.keys(t).length!==0?t:null}let Lr=wM=class extends ut.ClonableMixin(te){constructor(e){super(e),this.isAggregate=!1,this.layer=null,this.origin=null,this.popupTemplate=null,this.sourceLayer=null,this._version=0,Object.defineProperty(this,"uid",{value:s1(),configurable:!0}),Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1}),arguments.length>1&&mce(re.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(e){const t=this._get("aggregateGeometries");JSON.stringify(t)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){const t=this._get("geometry");t!==e&&(this._set("geometry",e),e?.type!=="mesh"&&this._notifyLayer("geometry",t,e))}set symbol(e){const t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}get version(){return this._version}set visible(e){const t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}cloneShallow(){return new wM({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;const t=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const n of[t,this.sourceLayer,this.layer])if(n){if("popupTemplate"in n&&n.popupTemplate)return n.popupTemplate;if(e&&"defaultPopupTemplate"in n&&n.defaultPopupTemplate!=null)return n.defaultPopupTemplate}return null}getAttribute(e){return this.attributes?.[e]}setAttribute(e,t){if(this.attributes){const n=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",n,t,e)}else this.attributes={[e]:t},this._notifyLayer("attributes",void 0,t,e)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{aggregateGeometries:uwe(this.aggregateGeometries),geometry:this.geometry!=null?this.geometry.toJSON():null,symbol:this.symbol!=null?this.symbol.toJSON():null,attributes:te.isSerializable(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:this.popupTemplate?.toJSON()??null}}notifyMeshTransformChanged(e={}){const{geometry:t}=this;if(t?.type==="mesh"){const n={origin:t.origin,transform:t.transform};this._notifyLayer("origin-transform",n,n,e.action)}}_notifyLayer(e,t,n,i){if(this._version++,!this.layer||!("graphicChanged"in this.layer))return;const r={graphic:this,property:e,oldValue:t,newValue:n};e==="origin-transform"&&(r.action=i),e==="attributes"&&(r.attributeName=i),this.layer.graphicChanged(r)}_watchMeshGeometryChanges(){this.addHandles([sr(()=>this.geometry?.type==="mesh"&&this.geometry.vertexSpace.origin?{localMatrix:this.geometry.transform?.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0,({localMatrix:e,origin:t})=>{this._lastMeshTransform.localMatrix===e&&this._lastMeshTransform.origin===t||(this._lastMeshTransform.localMatrix=e,this._lastMeshTransform.origin=t,this.notifyMeshTransformChanged())}),sr(()=>this.geometry?.type==="mesh"?{vertexAttributes:this.geometry.vertexAttributes}:void 0,()=>{const e=this.geometry;e?.type==="mesh"&&e.vertexSpace.origin?(this._lastMeshTransform.localMatrix=e.transform?.localMatrix,this._lastMeshTransform.origin=e.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0),this._notifyLayer("geometry",this.geometry,this.geometry)},{equals:(e,t)=>e===t,sync:!0})])}};u([d({value:null,json:{read:lwe}})],Lr.prototype,"aggregateGeometries",null),u([d({value:null})],Lr.prototype,"attributes",null),u([d({value:null,types:yb,json:{read:zh}})],Lr.prototype,"geometry",null),u([d({type:Boolean})],Lr.prototype,"isAggregate",void 0),u([d({clonable:"reference"})],Lr.prototype,"layer",void 0),u([d({clonable:"reference"})],Lr.prototype,"origin",void 0),u([d({type:ly})],Lr.prototype,"popupTemplate",void 0),u([d({clonable:"reference"})],Lr.prototype,"sourceLayer",void 0),u([d({value:null,types:Qu})],Lr.prototype,"symbol",null),u([d({clonable:!1,json:{read:!1,write:!1}})],Lr.prototype,"_version",void 0),u([d({type:Boolean,value:!0})],Lr.prototype,"visible",null),Lr=wM=u([k("esri.Graphic")],Lr);const gc=Lr;let bS=class{constructor(t=n=>n.values().next().value){this._peeker=t,this._observable=new ab,this._items=new Set}get length(){return He(this._observable),this._items.size}clear(){this.length!==0&&(this._items.clear(),this._observable.notify())}last(){if(this.length===0)return;let t;for(t of this._items);return t}peek(){if(this.length!==0)return this._peeker(this._items)}push(t){this.contains(t)||(this._items.add(t),this._observable.notify())}contains(t){return He(this._observable),this._items.has(t)}pop(){if(this.length===0)return;const t=this.peek();return this._items.delete(t),this._observable.notify(),t}popLast(){if(this.length===0)return;const t=this.last();return this._items.delete(t),this._observable.notify(),t}remove(t){this.contains(t)&&(this._items.delete(t),this._observable.notify())}filter(t){const n=this.length;return this._items.forEach(i=>{t(i)||this._items.delete(i)}),n!==this._items.size&&this._observable.notify(),this}*[Symbol.iterator](){He(this._observable),yield*this._items}};const Kq=new FinalizationRegistry(e=>{e.close()});function cwe(e,t){Kq.register(e,t,t)}function dwe(e){Kq.unregister(e)}function Xq(e,t){return new Proxy({},{get:(n,i,r)=>(...s)=>{let o,a;const l=s[s.length-1];return hwe(l)&&(o=l.signal,a=l.transferList,s.pop()),e.apply(t?`${t}.${i.toString()}`:i.toString(),s,{transferList:a,signal:o})}})}function hwe(e){return typeof e=="object"&&!Array.isArray(e)&&e!=null&&("signal"in e||"transferList"in e||Object.keys(e).length===0)}const pwe={statsWorker:()=>J(()=>import("./statsWorker-ge-ptvY0.js"),__vite__mapDeps([32,33,34,35,36,3])),geometryEngineWorker:()=>J(()=>import("./geometryEngineWorker-BG_WtZnW.js"),__vite__mapDeps([37,38,39,8,40])),arcadeGeometryOperatorsWorker:()=>J(()=>import("./operatorsWorker-DG_PlHPO.js"),__vite__mapDeps([41,3])),CSVSourceWorker:()=>J(()=>import("./CSVSourceWorker-6NLCAXHW.js"),__vite__mapDeps([42,43,40,16,17,18,44,45,46,15,19,0,1,2,3,47,48,34,33,35,36,49,50,51,52,53,54,14,55])),EdgeProcessingWorker:()=>J(()=>import("./EdgeProcessingWorker-x-u8nZ4D.js"),__vite__mapDeps([56,57,58,59,60,61,62,63,64,65,66,67,3])),ElevationSamplerWorker:()=>J(()=>import("./ElevationSamplerWorker-yck0Mwic.js"),__vite__mapDeps([68,53,69,70,71,72,73,74,75,76,77,59,78,3])),FeatureServiceSnappingSourceWorker:()=>J(()=>import("./FeatureServiceSnappingSourceWorker-BNv_zSJ9.js"),__vite__mapDeps([79,44,45,40,46,15,16,17,18,19,0,1,2,3,47,48,34,33,35,36,49,50,51,52,53,54,80,81,82,83,30])),GeoJSONSourceWorker:()=>J(()=>import("./GeoJSONSourceWorker-UPV5jSKm.js"),__vite__mapDeps([84,15,16,17,18,19,44,45,40,46,0,1,2,3,47,48,34,33,35,36,49,50,51,52,53,54,85,43,55,86])),LercWorker:()=>J(()=>import("./LercWorker-DC8pSDsG.js"),__vite__mapDeps([87,3])),MemorySourceWorker:()=>J(()=>import("./MemorySourceWorker-BAkgEJDy.js"),__vite__mapDeps([88,15,16,17,18,19,89,44,45,40,46,0,1,2,3,47,48,34,33,35,36,49,50,51,52,53,54,55,86,43])),PBFDecoderWorker:()=>J(()=>import("./PBFDecoderWorker-C4FyXQ5t.js"),__vite__mapDeps([90,91,17,15,16,18,19,81,82,3])),FeaturePipelineWorker:()=>J(()=>import("./FeaturePipelineWorker-dkjmoKR7.js"),__vite__mapDeps([92,93,94,95,66,96,45,40,47,15,16,17,18,19,2,97,98,99,100,101,102,103,34,104,105,106,107,108,109,110,111,6,3,54,46,0,1,48,33,35,36,49,50,112,113,114,115,83,81,82,116,85,43,55,86,117,118,119])),PointCloudWorker:()=>J(()=>import("./PointCloudWorker-hgjB9jkd.js"),__vite__mapDeps([120,121,71,122,123,124,125,64,126,72,73,74,127,3])),RasterWorker:()=>J(()=>import("./RasterWorker-O2piBRfF.js"),__vite__mapDeps([128,129,130,8,131,132,133,3])),SceneLayerSnappingSourceWorker:()=>J(()=>import("./SceneLayerSnappingSourceWorker-Bh7xXGJC.js"),__vite__mapDeps([134,135,136,71,127,72,122,137,58,59,60,61,62,63,64,65,66,67,3])),SceneLayerWorker:()=>J(()=>import("./SceneLayerWorker-DwNc2Lok.js"),__vite__mapDeps([138,69,77,139,75,136,71,127,72,122,140,125,64,141,102,142,143,144,145,126,121,73,74,3])),WFSSourceWorker:()=>J(()=>import("./WFSSourceWorker-CRAs5Yjq.js"),__vite__mapDeps([146,15,16,17,18,19,44,45,40,46,0,1,2,3,47,48,34,33,35,36,49,50,51,52,53,54,85,43,86,147,148])),WorkerTileHandler:()=>J(()=>import("./WorkerTileHandler-BPWhiIsN.js"),__vite__mapDeps([149,150,100,103,151,152,82,17,108,153,154,66,110,98,3])),Lyr3DWorker:()=>J(()=>import("./Lyr3DWorker-BbyKNjsl.js"),__vite__mapDeps([155,3])),Feature3DPipelineWorker:()=>J(()=>import("./Feature3DPipelineWorker-CHB2azzl.js"),__vite__mapDeps([156,46,15,16,17,18,19,0,1,2,3,47,45,40,48,34,33,35,36,49,50,53,83,81,82,63,157,158,159,160,144,72,145,143,71,64,161,136,127,122,135,126,121,73,74,162,163,58,59,60,164,65,66,165,137,166,102,167,168,76,69,139,75,169,123,170,171,172,142,173])),TextureCompressionWorker:()=>J(()=>import("./TextureCompressionWorker-BDF77RP3.js"),__vite__mapDeps([174,163,3]))},Qq="worker:port-closed";var wi;(function(e){e[e.HANDSHAKE=0]="HANDSHAKE",e[e.OPEN=1]="OPEN",e[e.OPENED=2]="OPENED",e[e.RESPONSE=3]="RESPONSE",e[e.INVOKE=4]="INVOKE",e[e.ABORT=5]="ABORT",e[e.CLOSE=6]="CLOSE",e[e.OPEN_PORT=7]="OPEN_PORT",e[e.ON=8]="ON"})(wi||(wi={}));let fwe=0;function eW(){return fwe++}function mwe(e){return e&&typeof e=="object"&&("result"in e||"transferList"in e)}function m0(e){return e?typeof e=="string"?JSON.stringify({name:"message",message:e}):e.toJSON?JSON.stringify(e):JSON.stringify({name:e.name,message:e.message,details:e.details||{stack:e.stack}}):null}function g3(e,t,n,i){if(t.type===wi.OPEN_PORT)return void e.postMessage(t,[t.port]);if(t.type!==wi.INVOKE&&t.type!==wi.RESPONSE)return void e.postMessage(t);let r;if(mwe(n)?(r=IV(n.transferList),t.data=n.result):(r=IV(i),t.data=n),r){if(H("ff")){for(const s of r)if("byteLength"in s&&s.byteLength>267386880){const o="Worker call with large ArrayBuffer would crash Firefox";switch(t.type){case wi.INVOKE:throw o;case wi.RESPONSE:return void g3(e,{type:wi.RESPONSE,jobId:t.jobId,error:m0(o)})}}}e.postMessage(t,r)}else e.postMessage(t)}function y0(e){if(!e)return null;const t=e.data;return t?typeof t=="string"?JSON.parse(t):t:null}function IV(e){if(!e?.length)return null;if(H("esri-workers-arraybuffer-transfer"))return e;const t=e.filter(n=>!ywe(n));return t.length?t:null}function ywe(e){return e instanceof ArrayBuffer||e?.constructor?.name==="ArrayBuffer"}async function sUe(e){try{return await e}catch(t){const n=t?.name===Qq;if(!(ur(t)||n))throw t;return}}const{CLOSE:CV,ABORT:MV,INVOKE:kV,RESPONSE:Ay,OPEN_PORT:AV,ON:gwe}=wi,vwe=2;let bwe=class{constructor(t){this._invoke=t,this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._timer=null,this._process=this._process.bind(this)}push(t){t.type===wi.ABORT?this._cancelledJobIds.add(t.jobId):(this._invokeMessages.push(t),this._timer===null&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const t of this._invokeMessages)this._cancelledJobIds.has(t.jobId)||this._invoke(t);this._cancelledJobIds.clear(),this._invokeMessages.length=0}},vc=class of{static connect(t,n){const i=new MessageChannel;let r;r=typeof t=="function"?new t:"default"in t&&typeof t.default=="function"?new t.default:t;const s=new of(i.port1,{channel:i,client:r,schedule:n});return typeof r=="object"&&"remoteClient"in r&&(r.remoteClient=s),of.clients.set(s,r),i.port2}static loadWorker(t){const n=pwe[t];return n?n():Promise.resolve(null)}constructor(t,n,i){this._port=t,this._jobQueue=i,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new bwe(r=>this._onInvokeMessage(r)),this._client=n.client,this._onMessage=this._onMessage.bind(this),this._channel=n.channel,this._schedule=n.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}close(){this._post({type:CV}),this._close()}isBusy(){return this._outJobs.size>0}invoke(t,n,i){return this.apply(t,[n],i)}apply(t,n,i){const r=i?.signal,s=i?.transferList;if(!this._port)return Promise.reject(new B(Qq,`Cannot call invoke('${t}'), port is closed`,{methodName:t,data:n}));const o=eW();return new Promise((a,l)=>{if(vs(r))return this._processWork(),void l(Ut());const c=Ws(r,()=>{const p=this._outJobs.get(o);p&&(this._outJobs.delete(o),this._processWork(),on(p.abortHandle),this._post({type:MV,jobId:o}),l(Ut()))}),h={resolve:a,reject:l,abortHandle:c,debugInfo:t};this._outJobs.set(o,h),this._post({type:kV,jobId:o,methodName:t,abortable:r!=null},n,s)})}createInvokeProxy(t){return Xq(this,t)}on(t,n){const i=new MessageChannel;function r(s){n(s.data)}return this._port.postMessage({type:wi.ON,eventType:t,port:i.port2},[i.port2]),i.port1.addEventListener("message",r),i.port1.start(),St(()=>{i.port1.postMessage({type:wi.CLOSE}),i.port1.close(),i.port1.removeEventListener("message",r)})}jobAdded(){this._processWork()}openPort(){const t=new MessageChannel;return this._post({type:AV,port:t.port2}),t.port1}_processWork(){if(this._outJobs.size>=vwe)return;const t=this._jobQueue?.pop();if(!t)return;const{methodName:n,data:i,invokeOptions:r,resolver:s}=t;this.apply(n,i,r).then(o=>s.resolve(o)).catch(o=>s.reject(o))}_close(){this._channel&&(this._channel=void 0),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(t=>{on(t.abortHandle),t.reject(Ut(`Worker closing, aborting job calling '${t.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=null,this._client=null,this._schedule=null}_onMessage(t){this._schedule!=null?this._schedule(()=>this._processMessage(t,!0)):this._processMessage(t,!1)}_processMessage(t,n){const i=y0(t);if(i)switch(i.type){case Ay:this._onResponseMessage(i);break;case kV:n?this._onInvokeMessage(i):this._invokeQueue.push(i);break;case MV:this._onAbortMessage(i);break;case CV:this._onCloseMessage();break;case AV:this._onOpenPortMessage(i);break;case gwe:this._onOnMessage(i)}}_onAbortMessage(t){const n=this._inJobs,i=t.jobId,r=n.get(i);this._invokeQueue.push(t),r&&(r.controller&&r.controller.abort(),n.delete(i))}_onCloseMessage(){const t=this._client;this._close(),t&&"destroy"in t&&of.clients.get(this)===t&&t.destroy(),of.clients.delete(this),t?.remoteClient&&(t.remoteClient=null)}_onInvokeMessage(t){const{methodName:n,jobId:i,data:r=[],abortable:s}=t,o=s?new AbortController:null,a=this._inJobs;let l,c=this._client,h=c[n];try{if(!h&&n&&n.includes(".")){const p=n.split(".");for(let m=0;m<p.length-1;m++)c=c[p[m]],h=c[p[m+1]]}if(typeof h!="function")throw new TypeError(`${n} is not a function`);r.push({client:this,signal:o?o.signal:null}),l=h.apply(c,r)}catch(p){return void this._post({type:Ay,jobId:i,error:m0(p)})}Na(l)?(a.set(i,{controller:o,promise:l}),l.then(p=>{a.has(i)&&(a.delete(i),this._post({type:Ay,jobId:i},p))},p=>{a.has(i)&&(a.delete(i),ur(p)||this._post({type:Ay,jobId:i,error:m0(p||{message:`Error encountered at method ${n}`})}))})):this._post({type:Ay,jobId:i},l)}_onOpenPortMessage(t){new of(t.port,{client:this._client})}_onOnMessage(t){const{port:n}=t,i=this._client.on(t.eventType,s=>{n.postMessage(s)}),r=tb(t.port,"message",s=>{y0(s)?.type===wi.CLOSE&&(r.remove(),i.remove(),n.close())})}_onResponseMessage(t){const{jobId:n,error:i,data:r}=t,s=this._outJobs;if(!s.has(n))return;const o=s.get(n);s.delete(n),this._processWork(),on(o.abortHandle),i?o.reject(B.fromJSON(JSON.parse(i))):o.resolve(r)}_post(t,n,i){return g3(this._port,t,n,i)}};vc.kernelInfo={buildDate:aG,fullVersion:EL,revision:lG},vc.clients=new Map;let wwe=class{constructor(){this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new bS}destroy(){this.close()}get closed(){return!this._clients?.length}open(t,n){return new Promise((i,r)=>{let s=!0;const o=a=>{fn(n.signal),s&&(s=!1,a())};this._clients.length=t.length,this._clientPromises.length=t.length,this._inUseClients.length=t.length;for(let a=0;a<t.length;++a){const l=t[a];Na(l)?this._clientPromises[a]=l.then(c=>(this._clients[a]=new vc(c,n,this._ongoingJobsQueue),o(i),this._clients[a]),()=>(o(r),null)):(this._clients[a]=new vc(l,n,this._ongoingJobsQueue),this._clientPromises[a]=Promise.resolve(this._clients[a]),o(i))}})}broadcast(t,n,i){const r=new Array(this._clientPromises.length);for(let s=0;s<this._clientPromises.length;++s){const o=this._clientPromises[s];r[s]=o.then(a=>a?.invoke(t,n,i))}return r}close(){let t;for(;t=this._ongoingJobsQueue.pop();)t.resolver.reject(Ut(`Worker closing, aborting job calling '${t.methodName}'`));for(const n of this._clientPromises)n.then(i=>i?.close());this._clients.length=0,this._clientPromises.length=0,this._inUseClients.length=0,dwe(this)}invoke(t,n,i){return this.apply(t,[n],i)}apply(t,n,i){const r=bs();this._ongoingJobsQueue.push({methodName:t,data:n,invokeOptions:i,resolver:r});for(let s=0;s<this._clientPromises.length;s++){const o=this._clients[s];o?o.jobAdded():this._clientPromises[s].then(a=>a?.jobAdded())}return r.promise}createInvokeProxy(t){return Xq(this,t)}on(t,n){return Promise.all(this._clientPromises).then(()=>X0(this._clients.map(i=>i.on(t,n))))}openPorts(){return new Promise(t=>{const n=new Array(this._clientPromises.length);let i=n.length;for(let r=0;r<this._clientPromises.length;++r)this._clientPromises[r].then(s=>{s&&(n[r]=s.openPort()),--i==0&&t(n)})})}get test(){}};const _we={async request(e,t){const n=e.options,i=n.responseType;n.signal=t?.signal,n.responseType=i==="native"||i==="native-request-init"?"native-request-init":i&&["blob","json","text"].includes(i)&&gI(e.url)?.after?i:"array-buffer";const r=await Lt(e.url,n),s={data:r.data,httpStatus:r.httpStatus,ssl:r.ssl};switch(r.requestOptions?.responseType){case"native-request-init":return delete s.data.signal,s;case"blob":s.data=await s.data.arrayBuffer();break;case"json":s.data=new TextEncoder().encode(JSON.stringify(s.data)).buffer;break;case"text":s.data=new TextEncoder().encode(s.data).buffer}return{result:s,transferList:[s.data]}}},Swe={ar:"ar-u-nu-latn"};let G1=new WeakMap,tW={};function _M(e){const t=e||tW;if(!G1.has(t)){const n=Gr(),i=Swe[Gr()]||n;G1.set(t,new Intl.NumberFormat(i,e))}return G1.get(t)}function lUe(e={}){const t={};return e.digitSeparator!=null&&(t.useGrouping=e.digitSeparator),e.places!=null&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function Bh(e,t){return Object.is(e,-0)&&(e=0),_M(t).format(e)}function uUe(e,t=Gr()){if(!e)return null;let n=PV.get(t);if(!n){const i=_M().formatToParts(12345.6),r=[..._M({useGrouping:!1}).format(9876543210)].reverse(),s=new Map(r.map((p,m)=>[p,m])),o=new RegExp(`[${i.find(p=>p.type==="group")?.value}]`,"g"),a=new RegExp(`[${i.find(p=>p.type==="decimal")?.value}]`),l=new RegExp(`[${r.join("")}]`,"g"),c=/[\u200E\u200F\u202A\u202B\u202C\u202D\u202E\u2066\u2067\u2068\u2069\u061C]/g,h=/[-\u2212\u2013\u2014\u2015]/g;n=p=>{if((p=p.trim().replaceAll(o,"").replace(a,".").replace(l,y=>String(s.get(y))).replaceAll(c,"").replaceAll(h,"-"))==="")return null;const m=Number(p);return isNaN(m)?null:m},PV.set(t,n)}return n(e)}FL(()=>{G1=new WeakMap,tW={}});const PV=new Map,nW=()=>re.getLogger("esri.intl.substitute");function g0(e,t,n={}){const{format:i={}}=n;return J0(e,r=>xwe(r,t,i))}function xwe(e,t,n){let i,r;const s=e.indexOf(":");if(s===-1?i=e.trim():(i=e.slice(0,s).trim(),r=e.slice(s+1).trim()),!i)return"";const o=Y0(i,t);if(o==null)return"";const a=(r?n?.[r]:null)??n?.[i];return a?$we(o,a):r?Twe(o,r):v3(o)}function $we(e,t){switch(t.type){case"date":return Vo(e,t.intlOptions);case"number":return Bh(e,t.intlOptions);default:return nW().warn("missing format descriptor for key {key}"),v3(e)}}function Twe(e,t){switch(t.toLowerCase()){case"dateformat":return Vo(e);case"numberformat":return Bh(e);default:return nW().warn(`inline format is unsupported since 4.12: ${t}`),/^(dateformat|datestring)/i.test(t)?Vo(e):/^numberformat/i.test(t)?Bh(e):v3(e)}}function v3(e){switch(typeof e){case"string":return e;case"number":return Bh(e);case"boolean":return""+e;default:return e instanceof Date?Vo(e):""}}const LV=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,iW={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:"no",nl:!0,no:!0,pl:!0,pt:"pt-BR","pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,zh:"zh-CN","zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function Ewe(e){return e in iW}function OV(e){if(Ewe(e)){const t=iW[e];return t===!0?e:t}return null}const kg=[],Xf=new Map;function RV(e){for(const t of Xf.keys())sW(e.pattern,t)&&Xf.delete(t)}function Iwe(e){return kg.includes(e)||(RV(e),kg.unshift(e)),St(()=>{const t=kg.indexOf(e);t>-1&&(kg.splice(t,1),RV(e))})}async function b3(e){const t=Gr();Xf.has(e)||Xf.set(e,Cwe(e,t));const n=Xf.get(e);return n&&await Mwe.add(n),n}function rW(e){if(!LV.test(e))return null;const t=LV.exec(e);if(t===null)return null;const[,n,i]=t;return OV(n+(i?"-"+i.toUpperCase():""))??OV(n)}async function Cwe(e,t){const n=[];for(const i of kg)if(sW(i.pattern,e))try{return await i.fetchMessageBundle(e,t)}catch(r){n.push(r)}throw n.length?new B("intl:message-bundle-error",`Errors occurred while loading "${e}"`,{errors:n}):new B("intl:no-message-bundle-loader",`No loader found for message bundle "${e}"`)}function sW(e,t){return typeof e=="string"?t.startsWith(e):e.test(t)}FL(()=>{Xf.clear()});const Mwe=new class{constructor(){this._numLoading=0,this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(e){return this._increase(),e.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=bs())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}};async function kwe(e,t,n,i){const r=t.exec(n);if(!r)throw new B("esri-intl:invalid-bundle",`Bundle id "${n}" is not compatible with the pattern "${t}"`);const s=r[1]?`${r[1]}/`:"",o=r[2],a=rW(i),l=`${s}${o}.json`,c=a?`${s}${o}_${a}.json`:l;let h;try{h=await NV(e(c))}catch(p){if(c===l)throw new B("intl:unknown-bundle",`Bundle "${n}" cannot be loaded`,{error:p});try{h=await NV(e(l))}catch(m){throw new B("intl:unknown-bundle",`Bundle "${n}" cannot be loaded`,{error:m})}}return h}async function NV(e){if(DV.fetchBundleAsset!=null)return DV.fetchBundleAsset(e);const t=await Lt(e,{responseType:"text"});return JSON.parse(t.data)}let Awe=class{constructor({base:t="",pattern:n,location:i=new URL(window.location.href)}){let r;r=typeof i=="string"?s=>new URL(s,new URL(i,window.location.href)).href:i instanceof URL?s=>new URL(s,i).href:i,this.pattern=typeof n=="string"?new RegExp(`^${n}`):n,this.getAssetUrl=r,t=t?t.endsWith("/")?t:t+"/":"",this.matcher=new RegExp(`^${t}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(t,n){return kwe(this.getAssetUrl,this.matcher,t,n)}};function Pwe(e){return new Awe(e)}const DV={};Iwe(Pwe({pattern:"esri/",location:nn}));const VV={};function Lwe(e){const t={async:e.async,isDebug:e.isDebug,locale:e.locale,baseUrl:e.baseUrl,has:{...e.has},map:{...e.map},packages:e.packages?.slice()||[],paths:{...VV.paths,...e.paths}};return e.hasOwnProperty("async")||(t.async=!0),e.hasOwnProperty("isDebug")||(t.isDebug=!1),e.baseUrl||(t.baseUrl=VV.baseUrl),t}let Owe=class{constructor(){const t=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(n=>{this[n]=(...i)=>t[n](...i)})}},H1=class{constructor(){this._dispatcher=new Owe,this._workerPostMessage({type:wi.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(t){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=t,t&&this.addEventListener("message",t)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(t){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=t,t&&this.addEventListener("messageerror",t)}get onerror(){return this._onerrorHandler}set onerror(t){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=t,t&&this.addEventListener("error",t)}postMessage(t){F_(()=>{this._workerMessageHandler(new MessageEvent("message",{data:t}))})}dispatchEvent(t){return this._dispatcher.dispatchEvent(t)}addEventListener(t,n,i){this._dispatcher.addEventListener(t,n,i)}removeEventListener(t,n,i){this._dispatcher.removeEventListener(t,n,i)}_workerPostMessage(t){F_(()=>{this.dispatchEvent(new MessageEvent("message",{data:t}))})}async _workerMessageHandler(t){const n=y0(t);if(n&&n.type===wi.OPEN){const{modulePath:i,jobId:r}=n;let s=await vc.loadWorker(i);s||(s=await import(i));const o=vc.connect(s);this._workerPostMessage({type:wi.OPENED,jobId:r,data:o})}}};const SM=()=>re.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:Rwe}=wi,Nwe='let globalId=0;const outgoing=new Map,configuration={CONFIGURATION};self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;let s=null;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());s=()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))},t.addEventListener("abort",s)}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})})).finally((()=>{t&&t.removeEventListener("abort",s)}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,fullVersion:r}=configuration.kernelInfo,{revision:t,fullVersion:n,version:s}=e.kernelInfo;esriConfig.assetsPath!==esriConfig.defaultAssetsPath&&o!==t&&console.warn(`Version mismatch detected between ArcGIS Maps SDK for JavaScript modules and assets. For more information visit https://bit.ly/3QnsuSo.\nModules version: ${r}\nAssets version: ${n??s}\nAssets path: ${esriConfig.assetsPath}`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let n;function t(e){const o=n.connect(e);self.postMessage({type:2,jobId:r,data:o},[o])}"function"==typeof define&&define.amd?require([workerPath],(e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((e=>(n=e.default,checkWorkerRevision(n),n.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),n=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const s=outgoing.get(r);outgoing.delete(r),o.error?s.reject(JSON.parse(o.error)):s.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});';let uw,cw;const FV="Failed to create Worker. Fallback to execute module in main thread";async function Dwe(){if(!H("esri-workers"))return jV(new H1);if(!uw&&!cw)try{const t=Nwe.split("{CONFIGURATION}").join(Vwe());uw=URL.createObjectURL(new Blob([t],{type:"text/javascript"}))}catch(t){cw=t||{}}let e;if(uw)try{e=new Worker(uw,{name:"esri-worker-"+Fwe++})}catch{SM().warn(FV,cw),e=new H1}else SM().warn(FV,cw),e=new H1;return jV(e)}async function jV(e){return new Promise(t=>{function n(r){const s=y0(r);s&&s.type===Rwe&&(e.removeEventListener("message",n),e.removeEventListener("error",i),t(e))}function i(r){r.preventDefault(),e.removeEventListener("message",n),e.removeEventListener("error",i),SM().warn("Failed to create Worker. Fallback to execute module in main thread",r),(e=new H1).addEventListener("message",n),e.addEventListener("error",i)}e.addEventListener("message",n),e.addEventListener("error",i)})}function Vwe(){let e;if(kt.default!=null){const r={...kt};delete r.default,e=JSON.parse(JSON.stringify(r))}else e=JSON.parse(JSON.stringify(kt));e.assetsPath=Us(e.assetsPath),e.defaultAssetsPath=e.defaultAssetsPath?Us(e.defaultAssetsPath):void 0,e.request.interceptors=[],e.log.interceptors=[],e.locale=Gr(),e.has={"esri-csp-restrictions":H("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":H("esri-2d-update-debug"),"esri-2d-log-updating":H("esri-2d-log-updating"),"featurelayer-pbf":H("featurelayer-pbf"),"featurelayer-fast-triangulation-enabled":H("featurelayer-fast-triangulation-enabled"),"featurelayer-simplify-thresholds":H("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":H("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":H("featurelayer-simplify-mobile-factor"),"featurelayer-query-max-depth":H("featurelayer-query-max-depth"),"featurelayer-query-pausing-enabled":H("featurelayer-query-pausing-enabled"),"featurelayer-snapshot-enabled":H("featurelayer-snapshot-enabled"),"esri-atomics":H("esri-atomics"),"esri-shared-array-buffer":H("esri-shared-array-buffer"),"esri-tiles-debug":H("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":H("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":H("feature-polyline-generalization-factor"),"host-webworker":1},e.workers.loaderUrl&&(e.workers.loaderUrl=Us(e.workers.loaderUrl)),e.workers.workerPath?e.workers.workerPath=Us(e.workers.workerPath):e.workers.workerPath=Us(nn("esri/core/workers/RemoteClient.js")),e.workers.useDynamicImport=!1;const t=kt.workers.loaderConfig,n=Lwe({baseUrl:t?.baseUrl,locale:Gr(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...t?.has},map:{...t?.map},paths:{...t?.paths},packages:t?.packages||[]});return JSON.stringify({esriConfig:e,loaderConfig:n,kernelInfo:{buildDate:aG,fullVersion:EL,revision:lG}})}let Fwe=0;const{ABORT:zV,INVOKE:jwe,OPEN:zwe,OPENED:Bwe,RESPONSE:Py}=wi;let Uwe=class oW{static async create(t){const n=await Dwe();return new oW(n,t)}constructor(t,n){this._outJobs=new Map,this._inJobs=new Map,this.worker=t,this.id=n,t.addEventListener("message",this._onMessage.bind(this)),t.addEventListener("error",i=>{i.preventDefault(),re.getLogger("esri.core.workers.WorkerOwner").error(i)})}terminate(){this.worker.terminate()}async open(t,n={}){const{signal:i}=n,r=eW();return new Promise((s,o)=>{const a={resolve:s,reject:o,abortHandle:XP(i,()=>{this._outJobs.delete(r),this._post({type:zV,jobId:r})})};this._outJobs.set(r,a),this._post({type:zwe,jobId:r,modulePath:t})})}_onMessage(t){const n=y0(t);if(n)switch(n.type){case Bwe:this._onOpenedMessage(n);break;case Py:this._onResponseMessage(n);break;case zV:this._onAbortMessage(n);break;case jwe:this._onInvokeMessage(n)}}_onAbortMessage(t){const n=this._inJobs,i=t.jobId,r=n.get(i);r&&(r.controller&&r.controller.abort(),n.delete(i))}_onInvokeMessage(t){const{methodName:n,jobId:i,data:r,abortable:s}=t,o=s?new AbortController:null,a=this._inJobs,l=_we[n];let c;try{if(typeof l!="function")throw new TypeError(`${n} is not a function`);c=l.call(null,r,{signal:o?o.signal:null})}catch(h){return void this._post({type:Py,jobId:i,error:m0(h)})}Na(c)?(a.set(i,{controller:o,promise:c}),c.then(h=>{a.has(i)&&(a.delete(i),this._post({type:Py,jobId:i},h))},h=>{a.has(i)&&(a.delete(i),h||(h={message:"Error encountered at method"+n}),ur(h)||this._post({type:Py,jobId:i,error:m0(h||{message:`Error encountered at method ${n}`})}))})):this._post({type:Py,jobId:i},c)}_onOpenedMessage(t){const{jobId:n,data:i}=t,r=this._outJobs.get(n);r&&(this._outJobs.delete(n),on(r.abortHandle),r.resolve(i))}_onResponseMessage(t){const{jobId:n,error:i,data:r}=t,s=this._outJobs.get(n);s&&(this._outJobs.delete(n),on(s.abortHandle),i?s.reject(B.fromJSON(JSON.parse(i))):s.resolve(r))}_post(t,n,i){return g3(this.worker,t,n,i)}};const BV=H("host-browser")?Math.min(navigator.hardwareConcurrency-1,H("workers-pool-size")??8):0;let lh=H("esri-mobile")?Math.min(BV,3):BV;lh||(lh=H("safari")&&H("mac")?7:2);let UV=0;const q1=[];function Gwe(){aW()}async function dw(e,t){const n=new wwe,{registryTarget:i,...r}=t;return await n.open(e,r),i&&cwe(i,n),n}async function Hwe(e,t={}){if(typeof e!="string")throw new B("workers:undefined-module","modulePath is missing");let n=t.strategy||"distributed";if(H("host-webworker")&&!H("esri-workers")&&(n="local"),n==="local"){let i=await vc.loadWorker(e);i||(i=await import(e)),fn(t.signal);const r=t.client||i;return dw([vc.connect(i,t.schedule)],{...t,client:r})}if(await aW(),fn(t.signal),n==="dedicated"){const i=UV++%lh;return dw([await q1[i].open(e,t)],t)}if(t.maxNumWorkers&&t.maxNumWorkers>0){const i=Math.min(t.maxNumWorkers,lh);if(i<lh){const r=new Array(i);for(let s=0;s<i;++s){const o=UV++%lh;r[s]=q1[o].open(e,t)}return dw(r,t)}}return dw(q1.map(i=>i.open(e,t)),t)}let hw=null;async function aW(){if(hw)return hw;new AbortController;const e=[];for(let t=0;t<lh;t++){const n=Uwe.create(t).then(i=>(q1[t]=i,i));e.push(n)}return hw=Promise.all(e),hw}function GV(e,t,n){if(e.hasM==null||e.hasZ)for(const i of t)for(const r of i)r.length>2&&(r[2]*=n)}function qwe(e,t,n){if(!e&&!t||!n)return;const i=dS(n);HV(e,n,i),HV(t,n,i)}function HV(e,t,n){if(e)for(const i of e)Wwe(i.geometry,t,n)}function Wwe(e,t,n){if(!e?.spatialReference||ui(e.spatialReference,t))return;const i=dS(e.spatialReference)/n;if(i!==1){if("x"in e)e.z!=null&&(e.z*=i);else if("rings"in e)GV(e,e.rings,i);else if("paths"in e)GV(e,e.paths,i);else if("points"in e&&(e.hasM==null||e.hasZ))for(const r of e.points)r.length>2&&(r[2]*=i)}}function lW(e,t,n){if(t==null||n==null||n.vcsWkid||ui(t,n)||pc(t)||pc(n))return null;const i=dS(t)/dS(n);if(i===1)return null;switch(e){case"point":case"esriGeometryPoint":return r=>Zwe(r,i);case"polyline":case"esriGeometryPolyline":return r=>Jwe(r,i);case"polygon":case"esriGeometryPolygon":return r=>Ywe(r,i);case"multipoint":case"esriGeometryMultipoint":return r=>Kwe(r,i);case"extent":case"esriGeometryEnvelope":return r=>Xwe(r,i);default:return null}}function Zwe(e,t){e?.z!=null&&(e.z*=t)}function Ywe(e,t){if(e)for(const n of e.rings)for(const i of n)i.length>2&&(i[2]*=t)}function Jwe(e,t){if(e)for(const n of e.paths)for(const i of n)i.length>2&&(i[2]*=t)}function Kwe(e,t){if(e)for(const n of e.points)n.length>2&&(n[2]*=t)}function Xwe(e,t){e&&e.zmin!=null&&e.zmax!=null&&(e.zmin*=t,e.zmax*=t)}function qV(e,t,n){if(!n?.features||!n.hasZ)return;const i=lW(n.geometryType,t,e.outSpatialReference);if(i!=null)for(const r of n.features)i(r.geometry)}const Qwe=new at({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"});var xM;const e1e=new at({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let Hi=xM=class extends te{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=void 0,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(e,{description:t}){let n=null;try{n=t?JSON.parse(t):null}catch{}return n?.value??null}readValueType(e,{description:t}){let n=null;try{n=t?JSON.parse(t):null}catch{}return n?e1e.fromJSON(n.fieldValueType):null}clone(){return new xM({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain?.clone()??null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}};u([d({type:String,json:{write:!0}})],Hi.prototype,"alias",void 0),u([d({type:[String,Number],json:{write:{allowNull:!0}}})],Hi.prototype,"defaultValue",void 0),u([d()],Hi.prototype,"description",void 0),u([le("description")],Hi.prototype,"readDescription",null),u([d({types:TH,json:{read:{reader:hx},write:!0}})],Hi.prototype,"domain",void 0),u([d({type:Boolean,json:{write:!0}})],Hi.prototype,"editable",void 0),u([d({type:wt,json:{write:{overridePolicy:e=>({enabled:Number.isFinite(e)})}}})],Hi.prototype,"length",void 0),u([d({type:String,json:{write:!0}})],Hi.prototype,"name",void 0),u([d({type:Boolean,json:{write:!0}})],Hi.prototype,"nullable",void 0),u([Ve(Qwe)],Hi.prototype,"type",void 0),u([d()],Hi.prototype,"valueType",void 0),u([le("valueType",["description"])],Hi.prototype,"readValueType",null),u([d({type:Boolean,json:{read:!1}})],Hi.prototype,"visible",void 0),Hi=xM=u([k("esri.layers.support.Field")],Hi);const w3=Hi;var $M;const TM=new at({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let mi=$M=class extends te{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){return this.readFeaturesWithClass(e,t,gc)}writeGeometryType(e,t,n,i){if(e)return void TM.write(e,t,n,i);const{features:r}=this;if(r){for(const s of r)if(s?.geometry!=null)return void TM.write(s.geometry.type,t,n,i)}}readQueryGeometry(e,t){if(!e)return null;const n=!!e.spatialReference,i=zh(e);return i&&!n&&t.spatialReference&&(i.spatialReference=et.fromJSON(t.spatialReference)),i}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());const{features:n}=this;if(n){for(const i of n)if(i&&i.geometry!=null&&i.geometry.spatialReference)return void(t.spatialReference=i.geometry.spatialReference.toJSON())}}clone(){return new $M(this.cloneProperties())}cloneProperties(){return j({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(e){const t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(let n=0;n<t.features.length;n++){const i=t.features[n];if(i.geometry){const r=e?.[n];i.geometry=r?.toJSON()||i.geometry}}return t}quantize(e){const{scale:[t,n],translate:[i,r]}=e,s=c=>Math.round((c-i)/t),o=c=>Math.round((r-c)/n),a=this.features,l=this._getQuantizationFunction(this.geometryType,s,o);for(let c=0,h=a.length;c<h;c++)l?.(a[c].geometry)||(a.splice(c,1),c--,h--);return this.transform=e,this}unquantize(){const{geometryType:e,features:t,transform:n}=this;if(!n)return this;const{translate:[i,r],scale:[s,o]}=n,a=m=>m*s+i,l=m=>r-m*o;let c=null,h=null;if(this.hasZ&&n?.scale?.[2]!=null){const{translate:[,,m],scale:[,,y]}=n;c=g=>g*y+m}if(this.hasM&&n?.scale?.[3]!=null){const{translate:[,,,m],scale:[,,,y]}=n;h=g=>g==null?g:g*y+m}const p=this._getHydrationFunction(e,a,l,c,h);for(const{geometry:m}of t)m!=null&&p&&p(m);return this.transform=null,this}readFeaturesWithClass(e,t,n){const i=et.fromJSON(t.spatialReference),r=[];for(let s=0;s<e.length;s++){const o=e[s],a=n.fromJSON(o),l=o.geometry?.spatialReference;a.geometry==null||l||(a.geometry.spatialReference=i);const c=o.aggregateGeometries,h=a.aggregateGeometries;if(c&&h!=null)for(const p in h){const m=h[p],y=c[p],g=y?.spatialReference;m==null||g||(m.spatialReference=i)}r.push(a)}return r}_quantizePoints(e,t,n){let i,r;const s=[];for(let o=0,a=e.length;o<a;o++){const l=e[o];if(o>0){const c=t(l[0]),h=n(l[1]);c===i&&h===r||(s.push([c-i,h-r]),i=c,r=h)}else i=t(l[0]),r=n(l[1]),s.push([i,r])}return s.length>0?s:null}_getQuantizationFunction(e,t,n){return e==="point"?i=>(i.x=t(i.x),i.y=n(i.y),i):e==="polyline"||e==="polygon"?i=>{const r=vh(i)?i.rings:i.paths,s=[];for(let o=0,a=r.length;o<a;o++){const l=r[o],c=this._quantizePoints(l,t,n);c&&s.push(c)}return s.length>0?(vh(i)?i.rings=s:i.paths=s,i):null}:e==="multipoint"?i=>{const r=this._quantizePoints(i.points,t,n);return r&&r.length>0?(i.points=r,i):null}:e==="extent"?i=>i:null}_getHydrationFunction(e,t,n,i,r){return e==="point"?s=>{s.x=t(s.x),s.y=n(s.y),i&&(s.z=i(s.z))}:e==="polyline"||e==="polygon"?s=>{const o=vh(s)?s.rings:s.paths;let a,l;for(let c=0,h=o.length;c<h;c++){const p=o[c];for(let m=0,y=p.length;m<y;m++){const g=p[m];m>0?(a+=g[0],l+=g[1]):(a=g[0],l=g[1]),g[0]=t(a),g[1]=n(l)}}if(i&&r)for(let c=0,h=o.length;c<h;c++){const p=o[c];for(let m=0,y=p.length;m<y;m++){const g=p[m];g[2]=i(g[2]),g[3]=r(g[3])}}else if(i)for(let c=0,h=o.length;c<h;c++){const p=o[c];for(let m=0,y=p.length;m<y;m++){const g=p[m];g[2]=i(g[2])}}else if(r)for(let c=0,h=o.length;c<h;c++){const p=o[c];for(let m=0,y=p.length;m<y;m++){const g=p[m];g[2]=r(g[2])}}}:e==="extent"?s=>{s.xmin=t(s.xmin),s.ymin=n(s.ymin),s.xmax=t(s.xmax),s.ymax=n(s.ymax),i&&s.zmax!=null&&s.zmin!=null&&(s.zmax=i(s.zmax),s.zmin=i(s.zmin)),r&&s.mmax!=null&&s.mmin!=null&&(s.mmax=r(s.mmax),s.mmin=r(s.mmin))}:e==="multipoint"?s=>{const o=s.points;let a,l;for(let c=0,h=o.length;c<h;c++){const p=o[c];c>0?(a+=p[0],l+=p[1]):(a=p[0],l=p[1]),p[0]=t(a),p[1]=n(l)}if(i&&r)for(let c=0,h=o.length;c<h;c++){const p=o[c];p[2]=i(p[2]),p[3]=r(p[3])}else if(i)for(let c=0,h=o.length;c<h;c++){const p=o[c];p[2]=i(p[2])}else if(r)for(let c=0,h=o.length;c<h;c++){const p=o[c];p[2]=r(p[2])}}:null}};u([d({type:String,json:{write:!0}})],mi.prototype,"displayFieldName",void 0),u([d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],mi.prototype,"exceededTransferLimit",void 0),u([d({type:[gc],json:{write:!0}})],mi.prototype,"features",void 0),u([le("features")],mi.prototype,"readFeatures",null),u([d({type:[w3],json:{write:!0}})],mi.prototype,"fields",void 0),u([d({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:TM.read}}})],mi.prototype,"geometryType",void 0),u([ge("geometryType")],mi.prototype,"writeGeometryType",null),u([d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],mi.prototype,"hasM",void 0),u([d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],mi.prototype,"hasZ",void 0),u([d({types:yb,json:{write:!0}})],mi.prototype,"queryGeometry",void 0),u([le("queryGeometry")],mi.prototype,"readQueryGeometry",null),u([d({type:et,json:{write:!0}})],mi.prototype,"spatialReference",void 0),u([ge("spatialReference")],mi.prototype,"writeSpatialReference",null),u([d({json:{write:!0}})],mi.prototype,"transform",void 0),mi=$M=u([k("esri.rest.support.FeatureSet")],mi),mi.prototype.toJSON.isDefaultToJSON=!0;const uW=mi;let t1e=0,gl=class extends Ol.LoadableMixin(pb.EsriPromiseMixin(we)){constructor(t){super(t),this._idToClientGraphic=null,this.type="memory"}load(t){const n=t!=null?t.signal:null;return this.addResolvingPromise(this._startWorker(n)),Promise.resolve(this)}destroy(){this._connection?.close(),this._connection=null}get _workerGeometryType(){const t=this.layer?.geometryType;return t?this._geometryTypeRequiresClientGraphicMapping(t)?"polygon":t:null}applyEdits(t){return this.load().then(()=>this._applyEdits(t))}openPorts(){return this.load().then(()=>this._connection.openPorts())}async queryFeatures(t,n={}){await this.load(n);const i=await this._connection.invoke("queryFeatures",t?t.toJSON():null,n);qV(t,this.layer.spatialReference,i);const r=uW.fromJSON(i);if(!this._requiresClientGraphicMapping())return r;const s=this.layer.objectIdField;for(const o of r.features){const a=o.attributes[s],l=this._idToClientGraphic.get(a);l&&(o.geometry=l.geometry)}return r.geometryType=this.layer.geometryType,r}async queryFeaturesJSON(t,n={}){if(this._requiresClientGraphicMapping())throw new B("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");await this.load(n);const i=await this._connection.invoke("queryFeatures",t?t.toJSON():null,n);return qV(t,this.layer.spatialReference,i),i}queryFeatureCount(t,n={}){return this.load(n).then(()=>this._connection.invoke("queryFeatureCount",t?t.toJSON():null,n))}queryObjectIds(t,n={}){return this.load(n).then(()=>this._connection.invoke("queryObjectIds",t?t.toJSON():null,n))}queryExtent(t,n={}){return this.load(n).then(()=>this._connection.invoke("queryExtent",t?t.toJSON():null,n)).then(i=>({count:i.count,extent:Gt.fromJSON(i.extent)}))}querySnapping(t,n={}){return this.load(n).then(()=>this._connection.invoke("querySnapping",t,n))}async queryAttributeBins(t,n={}){return await this.load(),this._connection.invoke("queryAttributeBins",t?.toJSON(),n)}async _applyEdits(t){if(!this._connection)throw new B("feature-layer-source:edit-failure","Memory source not loaded");const n=this.layer.objectIdField;let i=null;const r=[],s=[];await Promise.all([this._prepareClientMapping(t.addFeatures,null),this._prepareClientMapping(t.updateFeatures,null)]);const o=h=>"objectId"in h&&h.objectId!=null?h.objectId:"attributes"in h&&h.attributes[n]!=null?h.attributes[n]:null;if(t.addFeatures&&(i=this._prepareAddFeatures(t.addFeatures)),t.deleteFeatures)for(const h of t.deleteFeatures){const p=o(h);p!=null&&r.push(p)}const a=t.updateFeatures&&this._idToClientGraphic?new Map:null;if(t.updateFeatures){for(const h of t.updateFeatures)if(s.push(this._serializeFeature(h)),a){const p=o(h);p!=null&&a.set(p,h)}}qwe(i?i.features:null,s,this.layer.spatialReference);const{fullExtent:l,featureEditResults:c}=await this._connection.invoke("applyEdits",{adds:i?i.features:[],updates:s,deletes:r});return this.fullExtent=l,i&&i.finish(c.uidToObjectId),this._updateClientGraphicIds(a,c),this._createEditsResult(c)}async _prepareClientMapping(t,n){if(this._layerOrSourceGeometryType!=="mesh"||t==null)return;const i=[];for(const{geometry:r}of t)r==null||r.type!=="mesh"||r.hasExtent||r.loaded||i.push(r.load({signal:n}));i.length&&await Promise.all(i)}_updateClientGraphicIds(t,n){if(this._idToClientGraphic){if(t)for(const i of n.updateResults){if(!i.success)continue;const r=t.get(i.objectId);r!=null&&this._addIdToClientGraphic(r)}for(const i of n.deleteResults)i.success&&this._idToClientGraphic.delete(i.objectId)}}_createEditsResult(t){return{addFeatureResults:t.addResults?t.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:t.updateResults?t.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:t.deleteResults?t.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(t){const n=t.success===!0?null:t.error||{code:void 0,description:void 0};return{objectId:t.objectId,globalId:t.globalId,error:n?new B("feature-layer-source:edit-failure",n.description,{code:n.code}):null}}_prepareAddFeatures(t){const n=new Map,i=new Array(t.length);let r=null;for(let o=0;o<t.length;o++){const a=t[o],l=this._serializeFeature(a);r||a.geometry==null||(r=a.geometry.type),i[o]=l,n.set(`${l.uid}`,a)}const s=this;return{features:i,inferredGeometryType:r,finish(o){const a=s.sourceJSON.objectIdField;for(const l in o){const c=o[l],h=n.get(l);h&&(h.attributes||(h.attributes={}),c===-1?delete h.attributes[a]:h.attributes[a]=c,s._addIdToClientGraphic(h))}}}}_addIdToClientGraphic(t){if(!this._idToClientGraphic)return;const n=this.sourceJSON.objectIdField,i=t.attributes?.[n];i!=null&&this._idToClientGraphic.set(i,t)}get _layerOrSourceGeometryType(){return this.layer?.geometryType??this.sourceJSON?.geometryType}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this._layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(t){return this._geometryTypeRequiresClientGraphicMapping(t.type)}_geometryTypeRequiresClientGraphicMapping(t){return t==="mesh"||t==="multipatch"||t==="extent"}_serializeFeature(t){const{attributes:n}=t,i=this._geometryForSerialization(t),r=(t1e++).toString();return i?{uid:r,geometry:i.toJSON(),attributes:n}:{uid:r,attributes:n}}_geometryForSerialization(t){const{geometry:n}=t;return n==null?null:this._geometryRequiresClientGraphicMapping(n)?n.extent?Wo.fromExtent(n.extent):null:n}async _startWorker(t){this._connection=await Hwe("MemorySourceWorker",{strategy:H("feature-layers-workers")?"dedicated":"local",signal:t,registryTarget:this});const{fields:n,spatialReference:i,objectIdField:r,hasM:s,hasZ:o,timeInfo:a,dateFieldsTimeZone:l}=this.layer,c=this.layer.originOf("spatialReference")==="defaults";await this._prepareClientMapping(this.items,t);const h=this._prepareAddFeatures(this.items);this.addHandles(this.on("before-changes",g=>{re.getLogger(this).error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead"),g.preventDefault()}));const p={features:h.features,fields:n?.map(g=>g.toJSON()),geometryType:bV.toJSON(this._workerGeometryType),hasM:this._layerOrSourceGeometryType!=="mesh"&&s,hasZ:this._layerOrSourceGeometryType==="mesh"||o,objectIdField:r,spatialReference:c?null:i&&i.toJSON(),timeInfo:a?.toJSON()??null,dateFieldsTimeZone:l},m=await this._connection.invoke("load",p,{signal:t});for(const g of m.warnings)re.getLogger(this.layer).warn("#load()",`${g.message} (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{warning:g});m.featureErrors.length&&re.getLogger(this.layer).warn("#load()",`Encountered ${m.featureErrors.length} validation errors while loading features. (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{errors:m.featureErrors});const y=m.layerDefinition;this._geometryTypeRequiresClientGraphicMapping(h.inferredGeometryType)&&(y.geometryType=bV.toJSON(h.inferredGeometryType)),this.sourceJSON=y,this._requiresClientGraphicMapping()&&(this._idToClientGraphic=new Map),h.finish(m.assignedObjectIds)}};u([oL({Type:gc,ensureType:Jn(gc)})],gl.prototype,"itemType",void 0),u([d()],gl.prototype,"type",void 0),u([d({constructOnly:!0})],gl.prototype,"layer",void 0),u([d({readOnly:!0})],gl.prototype,"_workerGeometryType",null),u([d()],gl.prototype,"sourceJSON",void 0),gl=u([k("esri.layers.graphics.sources.MemorySource")],gl);function n1e(e){return"portalItem"in e}const i1e=e=>{let t=class extends e{get apiKey(){return this._isOverridden("apiKey")?this._get("apiKey"):n1e(this)?this.portalItem?.apiKey:null}set apiKey(n){n!=null?this._override("apiKey",n):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return u([d({type:String})],t.prototype,"apiKey",null),t=u([k("esri.layers.mixins.APIKeyMixin")],t),t},r1e=e=>{let t=class extends e{get title(){if(this._get("title")&&this.originOf("title")!=="defaults")return this._get("title");if(this.url){const n=oy(this.url);if(n?.title)return n.title}return this._get("title")||""}set title(n){this._set("title",n)}set url(n){this._set("url",Hme(n,re.getLogger(this)))}};return u([d()],t.prototype,"title",null),u([d({type:String})],t.prototype,"url",null),t=u([k("esri.layers.mixins.ArcGISService")],t),t};function xx(){const e=new Float32Array(16);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function s1e(e){const t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function o1e(e,t,n,i,r,s,o,a,l,c,h,p,m,y,g,v){const b=new Float32Array(16);return b[0]=e,b[1]=t,b[2]=n,b[3]=i,b[4]=r,b[5]=s,b[6]=o,b[7]=a,b[8]=l,b[9]=c,b[10]=h,b[11]=p,b[12]=m,b[13]=y,b[14]=g,b[15]=v,b}function a1e(e,t){return new Float32Array(e,t,16)}const l1e=xx();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:l1e,clone:s1e,create:xx,createView:a1e,fromValues:o1e},Symbol.toStringTag,{value:"Module"}));let _3=1e-6;function Er(){return _3}function u1e(e){_3=e}const $x=Math.random,c1e=Math.PI/180,d1e=180/Math.PI;function S3(e){return e*c1e}function h1e(e){return e*d1e}function p1e(e,t){return Math.abs(e-t)<=_3*Math.max(1,Math.abs(e),Math.abs(t))}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:$x,equals:p1e,getEpsilon:Er,setEpsilon:u1e,toDegree:h1e,toRadian:S3},Symbol.toStringTag,{value:"Module"}));function cW(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Lc(e,t,n,i,r,s,o,a,l,c,h,p,m,y,g,v,b){return e[0]=t,e[1]=n,e[2]=i,e[3]=r,e[4]=s,e[5]=o,e[6]=a,e[7]=l,e[8]=c,e[9]=h,e[10]=p,e[11]=m,e[12]=y,e[13]=g,e[14]=v,e[15]=b,e}function Tx(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Oc(e,t){if(e===t){const n=t[1],i=t[2],r=t[3],s=t[6],o=t[7],a=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=i,e[9]=s,e[11]=t[14],e[12]=r,e[13]=o,e[14]=a}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function f1e(e,t){return dW(e,t)||Tx(e),e}function dW(e,t){const n=t[0],i=t[1],r=t[2],s=t[3],o=t[4],a=t[5],l=t[6],c=t[7],h=t[8],p=t[9],m=t[10],y=t[11],g=t[12],v=t[13],b=t[14],w=t[15],S=n*a-i*o,x=n*l-r*o,E=n*c-s*o,$=i*l-r*a,I=i*c-s*a,A=r*c-s*l,M=h*v-p*g,L=h*b-m*g,O=h*w-y*g,P=p*b-m*v,R=p*w-y*v,V=m*w-y*b;let U=S*V-x*R+E*P+$*O-I*L+A*M;return U?(U=1/U,e[0]=(a*V-l*R+c*P)*U,e[1]=(r*R-i*V-s*P)*U,e[2]=(v*A-b*I+w*$)*U,e[3]=(m*I-p*A-y*$)*U,e[4]=(l*O-o*V-c*L)*U,e[5]=(n*V-r*O+s*L)*U,e[6]=(b*E-g*A-w*x)*U,e[7]=(h*A-m*E+y*x)*U,e[8]=(o*R-a*O+c*M)*U,e[9]=(i*O-n*R-s*M)*U,e[10]=(g*I-v*E+w*S)*U,e[11]=(p*E-h*I-y*S)*U,e[12]=(a*L-o*P-l*M)*U,e[13]=(n*P-i*L+r*M)*U,e[14]=(v*x-g*$-b*S)*U,e[15]=(h*$-p*x+m*S)*U,e):null}function m1e(e,t){const n=t[0],i=t[1],r=t[2],s=t[3],o=t[4],a=t[5],l=t[6],c=t[7],h=t[8],p=t[9],m=t[10],y=t[11],g=t[12],v=t[13],b=t[14],w=t[15];return e[0]=a*(m*w-y*b)-p*(l*w-c*b)+v*(l*y-c*m),e[1]=-(i*(m*w-y*b)-p*(r*w-s*b)+v*(r*y-s*m)),e[2]=i*(l*w-c*b)-a*(r*w-s*b)+v*(r*c-s*l),e[3]=-(i*(l*y-c*m)-a*(r*y-s*m)+p*(r*c-s*l)),e[4]=-(o*(m*w-y*b)-h*(l*w-c*b)+g*(l*y-c*m)),e[5]=n*(m*w-y*b)-h*(r*w-s*b)+g*(r*y-s*m),e[6]=-(n*(l*w-c*b)-o*(r*w-s*b)+g*(r*c-s*l)),e[7]=n*(l*y-c*m)-o*(r*y-s*m)+h*(r*c-s*l),e[8]=o*(p*w-y*v)-h*(a*w-c*v)+g*(a*y-c*p),e[9]=-(n*(p*w-y*v)-h*(i*w-s*v)+g*(i*y-s*p)),e[10]=n*(a*w-c*v)-o*(i*w-s*v)+g*(i*c-s*a),e[11]=-(n*(a*y-c*p)-o*(i*y-s*p)+h*(i*c-s*a)),e[12]=-(o*(p*b-m*v)-h*(a*b-l*v)+g*(a*m-l*p)),e[13]=n*(p*b-m*v)-h*(i*b-r*v)+g*(i*m-r*p),e[14]=-(n*(a*b-l*v)-o*(i*b-r*v)+g*(i*l-r*a)),e[15]=n*(a*m-l*p)-o*(i*m-r*p)+h*(i*l-r*a),e}function y1e(e){const t=e[0],n=e[1],i=e[2],r=e[3],s=e[4],o=e[5],a=e[6],l=e[7],c=e[8],h=e[9],p=e[10],m=e[11],y=e[12],g=e[13],v=e[14],b=e[15];return(t*o-n*s)*(p*b-m*v)-(t*a-i*s)*(h*b-m*g)+(t*l-r*s)*(h*v-p*g)+(n*a-i*o)*(c*b-m*y)-(n*l-r*o)*(c*v-p*y)+(i*l-r*a)*(c*g-h*y)}function hW(e,t,n){const i=t[0],r=t[1],s=t[2],o=t[3],a=t[4],l=t[5],c=t[6],h=t[7],p=t[8],m=t[9],y=t[10],g=t[11],v=t[12],b=t[13],w=t[14],S=t[15];let x=n[0],E=n[1],$=n[2],I=n[3];return e[0]=x*i+E*a+$*p+I*v,e[1]=x*r+E*l+$*m+I*b,e[2]=x*s+E*c+$*y+I*w,e[3]=x*o+E*h+$*g+I*S,x=n[4],E=n[5],$=n[6],I=n[7],e[4]=x*i+E*a+$*p+I*v,e[5]=x*r+E*l+$*m+I*b,e[6]=x*s+E*c+$*y+I*w,e[7]=x*o+E*h+$*g+I*S,x=n[8],E=n[9],$=n[10],I=n[11],e[8]=x*i+E*a+$*p+I*v,e[9]=x*r+E*l+$*m+I*b,e[10]=x*s+E*c+$*y+I*w,e[11]=x*o+E*h+$*g+I*S,x=n[12],E=n[13],$=n[14],I=n[15],e[12]=x*i+E*a+$*p+I*v,e[13]=x*r+E*l+$*m+I*b,e[14]=x*s+E*c+$*y+I*w,e[15]=x*o+E*h+$*g+I*S,e}function g1e(e,t,n){const i=n[0],r=n[1],s=n[2];if(t===e)e[12]=t[0]*i+t[4]*r+t[8]*s+t[12],e[13]=t[1]*i+t[5]*r+t[9]*s+t[13],e[14]=t[2]*i+t[6]*r+t[10]*s+t[14],e[15]=t[3]*i+t[7]*r+t[11]*s+t[15];else{const o=t[0],a=t[1],l=t[2],c=t[3],h=t[4],p=t[5],m=t[6],y=t[7],g=t[8],v=t[9],b=t[10],w=t[11];e[0]=o,e[1]=a,e[2]=l,e[3]=c,e[4]=h,e[5]=p,e[6]=m,e[7]=y,e[8]=g,e[9]=v,e[10]=b,e[11]=w,e[12]=o*i+h*r+g*s+t[12],e[13]=a*i+p*r+v*s+t[13],e[14]=l*i+m*r+b*s+t[14],e[15]=c*i+y*r+w*s+t[15]}return e}function v1e(e,t,n){const i=n[0],r=n[1],s=n[2];return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*s,e[9]=t[9]*s,e[10]=t[10]*s,e[11]=t[11]*s,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function b1e(e,t,n,i){let r=i[0],s=i[1],o=i[2],a=Math.sqrt(r*r+s*s+o*o);if(a<=Er())return void cW(e,t);a=1/a,r*=a,s*=a,o*=a;const l=Math.sin(n),c=Math.cos(n),h=1-c,p=t[0],m=t[1],y=t[2],g=t[3],v=t[4],b=t[5],w=t[6],S=t[7],x=t[8],E=t[9],$=t[10],I=t[11],A=r*r*h+c,M=s*r*h+o*l,L=o*r*h-s*l,O=r*s*h-o*l,P=s*s*h+c,R=o*s*h+r*l,V=r*o*h+s*l,U=s*o*h-r*l,ee=o*o*h+c;e[0]=p*A+v*M+x*L,e[1]=m*A+b*M+E*L,e[2]=y*A+w*M+$*L,e[3]=g*A+S*M+I*L,e[4]=p*O+v*P+x*R,e[5]=m*O+b*P+E*R,e[6]=y*O+w*P+$*R,e[7]=g*O+S*P+I*R,e[8]=p*V+v*U+x*ee,e[9]=m*V+b*U+E*ee,e[10]=y*V+w*U+$*ee,e[11]=g*V+S*U+I*ee,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15])}function w1e(e,t,n){const i=Math.sin(n),r=Math.cos(n),s=t[4],o=t[5],a=t[6],l=t[7],c=t[8],h=t[9],p=t[10],m=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=s*r+c*i,e[5]=o*r+h*i,e[6]=a*r+p*i,e[7]=l*r+m*i,e[8]=c*r-s*i,e[9]=h*r-o*i,e[10]=p*r-a*i,e[11]=m*r-l*i,e}function _1e(e,t,n){const i=Math.sin(n),r=Math.cos(n),s=t[0],o=t[1],a=t[2],l=t[3],c=t[8],h=t[9],p=t[10],m=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*r-c*i,e[1]=o*r-h*i,e[2]=a*r-p*i,e[3]=l*r-m*i,e[8]=s*i+c*r,e[9]=o*i+h*r,e[10]=a*i+p*r,e[11]=l*i+m*r,e}function S1e(e,t,n){const i=Math.sin(n),r=Math.cos(n),s=t[0],o=t[1],a=t[2],l=t[3],c=t[4],h=t[5],p=t[6],m=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*r+c*i,e[1]=o*r+h*i,e[2]=a*r+p*i,e[3]=l*r+m*i,e[4]=c*r-s*i,e[5]=h*r-o*i,e[6]=p*r-a*i,e[7]=m*r-l*i,e}function x1e(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function $1e(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function T1e(e,t,n){if(t===0)return Tx(e);let i=n[0],r=n[1],s=n[2],o=Math.sqrt(i*i+r*r+s*s);if(o<=Er())return null;o=1/o,i*=o,r*=o,s*=o;const a=Math.sin(t),l=Math.cos(t),c=1-l;return e[0]=i*i*c+l,e[1]=r*i*c+s*a,e[2]=s*i*c-r*a,e[3]=0,e[4]=i*r*c-s*a,e[5]=r*r*c+l,e[6]=s*r*c+i*a,e[7]=0,e[8]=i*s*c+r*a,e[9]=r*s*c-i*a,e[10]=s*s*c+l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function E1e(e,t){const n=Math.sin(t),i=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function I1e(e,t){const n=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function C1e(e,t){const n=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function pW(e,t,n){const i=t[0],r=t[1],s=t[2],o=t[3],a=i+i,l=r+r,c=s+s,h=i*a,p=i*l,m=i*c,y=r*l,g=r*c,v=s*c,b=o*a,w=o*l,S=o*c;return e[0]=1-(y+v),e[1]=p+S,e[2]=m-w,e[3]=0,e[4]=p-S,e[5]=1-(h+v),e[6]=g+b,e[7]=0,e[8]=m+w,e[9]=g-b,e[10]=1-(h+y),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function M1e(e,t){const n=k1e,i=-t[0],r=-t[1],s=-t[2],o=t[3],a=t[4],l=t[5],c=t[6],h=t[7],p=i*i+r*r+s*s+o*o;return p>0?(n[0]=2*(a*o+h*i+l*s-c*r)/p,n[1]=2*(l*o+h*r+c*i-a*s)/p,n[2]=2*(c*o+h*s+a*r-l*i)/p):(n[0]=2*(a*o+h*i+l*s-c*r),n[1]=2*(l*o+h*r+c*i-a*s),n[2]=2*(c*o+h*s+a*r-l*i)),pW(e,t,n),e}const k1e=Ac();function A1e(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function P1e(e,t){const n=t[0],i=t[1],r=t[2],s=t[4],o=t[5],a=t[6],l=t[8],c=t[9],h=t[10];return e[0]=Math.sqrt(n*n+i*i+r*r),e[1]=Math.sqrt(s*s+o*o+a*a),e[2]=Math.sqrt(l*l+c*c+h*h),e}function L1e(e,t){const n=t[0]+t[5]+t[10];let i=0;return n>0?(i=2*Math.sqrt(n+1),e[3]=.25*i,e[0]=(t[6]-t[9])/i,e[1]=(t[8]-t[2])/i,e[2]=(t[1]-t[4])/i):t[0]>t[5]&&t[0]>t[10]?(i=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/i,e[0]=.25*i,e[1]=(t[1]+t[4])/i,e[2]=(t[8]+t[2])/i):t[5]>t[10]?(i=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/i,e[0]=(t[1]+t[4])/i,e[1]=.25*i,e[2]=(t[6]+t[9])/i):(i=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/i,e[0]=(t[8]+t[2])/i,e[1]=(t[6]+t[9])/i,e[2]=.25*i),e}function O1e(e,t,n,i){const r=t[0],s=t[1],o=t[2],a=t[3],l=r+r,c=s+s,h=o+o,p=r*l,m=r*c,y=r*h,g=s*c,v=s*h,b=o*h,w=a*l,S=a*c,x=a*h,E=i[0],$=i[1],I=i[2];return e[0]=(1-(g+b))*E,e[1]=(m+x)*E,e[2]=(y-S)*E,e[3]=0,e[4]=(m-x)*$,e[5]=(1-(p+b))*$,e[6]=(v+w)*$,e[7]=0,e[8]=(y+S)*I,e[9]=(v-w)*I,e[10]=(1-(p+g))*I,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function R1e(e,t,n,i,r){const s=t[0],o=t[1],a=t[2],l=t[3],c=s+s,h=o+o,p=a+a,m=s*c,y=s*h,g=s*p,v=o*h,b=o*p,w=a*p,S=l*c,x=l*h,E=l*p,$=i[0],I=i[1],A=i[2],M=r[0],L=r[1],O=r[2],P=(1-(v+w))*$,R=(y+E)*$,V=(g-x)*$,U=(y-E)*I,ee=(1-(m+w))*I,se=(b+S)*I,Se=(g+x)*A,oe=(b-S)*A,ie=(1-(m+v))*A;return e[0]=P,e[1]=R,e[2]=V,e[3]=0,e[4]=U,e[5]=ee,e[6]=se,e[7]=0,e[8]=Se,e[9]=oe,e[10]=ie,e[11]=0,e[12]=n[0]+M-(P*M+U*L+Se*O),e[13]=n[1]+L-(R*M+ee*L+oe*O),e[14]=n[2]+O-(V*M+se*L+ie*O),e[15]=1,e}function N1e(e,t){const n=t[0],i=t[1],r=t[2],s=t[3],o=n+n,a=i+i,l=r+r,c=n*o,h=i*o,p=i*a,m=r*o,y=r*a,g=r*l,v=s*o,b=s*a,w=s*l;return e[0]=1-p-g,e[1]=h+w,e[2]=m-b,e[3]=0,e[4]=h-w,e[5]=1-c-g,e[6]=y+v,e[7]=0,e[8]=m+b,e[9]=y-v,e[10]=1-c-p,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function D1e(e,t,n,i,r,s,o){const a=1/(n-t),l=1/(r-i),c=1/(s-o);return e[0]=2*s*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*s*l,e[6]=0,e[7]=0,e[8]=(n+t)*a,e[9]=(r+i)*l,e[10]=(o+s)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*s*2*c,e[15]=0,e}function V1e(e,t,n,i,r){const s=1/Math.tan(t/2);let o;return e[0]=s/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,r!=null&&r!==1/0?(o=1/(i-r),e[10]=(r+i)*o,e[14]=2*r*i*o):(e[10]=-1,e[14]=-2*i),e}function F1e(e,t,n,i){const r=Math.tan(t.upDegrees*Math.PI/180),s=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),a=Math.tan(t.rightDegrees*Math.PI/180),l=2/(o+a),c=2/(r+s);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-(o-a)*l*.5,e[9]=(r-s)*c*.5,e[10]=i/(n-i),e[11]=-1,e[12]=0,e[13]=0,e[14]=i*n/(n-i),e[15]=0,e}function j1e(e,t,n,i,r,s,o){const a=1/(t-n),l=1/(i-r),c=1/(s-o);return e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*a,e[13]=(r+i)*l,e[14]=(o+s)*c,e[15]=1,e}function z1e(e,t,n,i){const r=t[0],s=t[1],o=t[2];let a=r-n[0],l=s-n[1],c=o-n[2];const h=Er();if(Math.abs(a)<h&&Math.abs(l)<h&&Math.abs(c)<h)return void Tx(e);let p=1/Math.sqrt(a*a+l*l+c*c);a*=p,l*=p,c*=p;const m=i[0],y=i[1],g=i[2];let v=y*c-g*l,b=g*a-m*c,w=m*l-y*a;p=Math.sqrt(v*v+b*b+w*w),p?(p=1/p,v*=p,b*=p,w*=p):(v=0,b=0,w=0);let S=l*w-c*b,x=c*v-a*w,E=a*b-l*v;p=Math.sqrt(S*S+x*x+E*E),p?(p=1/p,S*=p,x*=p,E*=p):(S=0,x=0,E=0),e[0]=v,e[1]=S,e[2]=a,e[3]=0,e[4]=b,e[5]=x,e[6]=l,e[7]=0,e[8]=w,e[9]=E,e[10]=c,e[11]=0,e[12]=-(v*r+b*s+w*o),e[13]=-(S*r+x*s+E*o),e[14]=-(a*r+l*s+c*o),e[15]=1}function B1e(e,t,n,i){const r=t[0],s=t[1],o=t[2],a=i[0],l=i[1],c=i[2];let h=r-n[0],p=s-n[1],m=o-n[2],y=h*h+p*p+m*m;y>0&&(y=1/Math.sqrt(y),h*=y,p*=y,m*=y);let g=l*m-c*p,v=c*h-a*m,b=a*p-l*h;return y=g*g+v*v+b*b,y>0&&(y=1/Math.sqrt(y),g*=y,v*=y,b*=y),e[0]=g,e[1]=v,e[2]=b,e[3]=0,e[4]=p*b-m*v,e[5]=m*g-h*b,e[6]=h*v-p*g,e[7]=0,e[8]=h,e[9]=p,e[10]=m,e[11]=0,e[12]=r,e[13]=s,e[14]=o,e[15]=1,e}function U1e(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function G1e(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2+e[9]**2+e[10]**2+e[11]**2+e[12]**2+e[13]**2+e[14]**2+e[15]**2)}function H1e(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e}function fW(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}function q1e(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e}function W1e(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e[2]=t[2]+n[2]*i,e[3]=t[3]+n[3]*i,e[4]=t[4]+n[4]*i,e[5]=t[5]+n[5]*i,e[6]=t[6]+n[6]*i,e[7]=t[7]+n[7]*i,e[8]=t[8]+n[8]*i,e[9]=t[9]+n[9]*i,e[10]=t[10]+n[10]*i,e[11]=t[11]+n[11]*i,e[12]=t[12]+n[12]*i,e[13]=t[13]+n[13]*i,e[14]=t[14]+n[14]*i,e[15]=t[15]+n[15]*i,e}function Z1e(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function Y1e(e,t){if(e===t)return!0;const n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],h=e[8],p=e[9],m=e[10],y=e[11],g=e[12],v=e[13],b=e[14],w=e[15],S=t[0],x=t[1],E=t[2],$=t[3],I=t[4],A=t[5],M=t[6],L=t[7],O=t[8],P=t[9],R=t[10],V=t[11],U=t[12],ee=t[13],se=t[14],Se=t[15],oe=Er();return Math.abs(n-S)<=oe*Math.max(1,Math.abs(n),Math.abs(S))&&Math.abs(i-x)<=oe*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(r-E)<=oe*Math.max(1,Math.abs(r),Math.abs(E))&&Math.abs(s-$)<=oe*Math.max(1,Math.abs(s),Math.abs($))&&Math.abs(o-I)<=oe*Math.max(1,Math.abs(o),Math.abs(I))&&Math.abs(a-A)<=oe*Math.max(1,Math.abs(a),Math.abs(A))&&Math.abs(l-M)<=oe*Math.max(1,Math.abs(l),Math.abs(M))&&Math.abs(c-L)<=oe*Math.max(1,Math.abs(c),Math.abs(L))&&Math.abs(h-O)<=oe*Math.max(1,Math.abs(h),Math.abs(O))&&Math.abs(p-P)<=oe*Math.max(1,Math.abs(p),Math.abs(P))&&Math.abs(m-R)<=oe*Math.max(1,Math.abs(m),Math.abs(R))&&Math.abs(y-V)<=oe*Math.max(1,Math.abs(y),Math.abs(V))&&Math.abs(g-U)<=oe*Math.max(1,Math.abs(g),Math.abs(U))&&Math.abs(v-ee)<=oe*Math.max(1,Math.abs(v),Math.abs(ee))&&Math.abs(b-se)<=oe*Math.max(1,Math.abs(b),Math.abs(se))&&Math.abs(w-Se)<=oe*Math.max(1,Math.abs(w),Math.abs(Se))}function J1e(e){const t=Er(),n=e[0],i=e[1],r=e[2],s=e[4],o=e[5],a=e[6],l=e[8],c=e[9],h=e[10];return Math.abs(1-(n*n+s*s+l*l))<=t&&Math.abs(1-(i*i+o*o+c*c))<=t&&Math.abs(1-(r*r+a*a+h*h))<=t}function K1e(e){return e[0]===1&&e[1]===0&&e[2]===0&&e[4]===0&&e[5]===1&&e[6]===0&&e[8]===0&&e[9]===0&&e[10]===1}const X1e=hW,Q1e=fW;Object.freeze(Object.defineProperty({__proto__:null,add:H1e,adjoint:m1e,copy:cW,determinant:y1e,equals:Y1e,exactEquals:Z1e,frob:G1e,fromQuat:N1e,fromQuat2:M1e,fromRotation:T1e,fromRotationTranslation:pW,fromRotationTranslationScale:O1e,fromRotationTranslationScaleOrigin:R1e,fromScaling:$1e,fromTranslation:x1e,fromXRotation:E1e,fromYRotation:I1e,fromZRotation:C1e,frustum:D1e,getRotation:L1e,getScaling:P1e,getTranslation:A1e,hasIdentityRotation:K1e,identity:Tx,invert:dW,invertOrIdentity:f1e,isOrthoNormal:J1e,lookAt:z1e,mul:X1e,multiply:hW,multiplyScalar:q1e,multiplyScalarAndAdd:W1e,ortho:j1e,perspective:V1e,perspectiveFromFieldOfView:F1e,rotate:b1e,rotateX:w1e,rotateY:_1e,rotateZ:S1e,scale:v1e,set:Lc,str:U1e,sub:Q1e,subtract:fW,targetTo:B1e,translate:g1e,transpose:Oc},Symbol.toStringTag,{value:"Module"}));const e_e=(e,t)=>{const n=Lc(e,t,0,0,0,0,t,0,0,0,0,t,0,0,0,0,1);return Oc(n,n)},t_e=(e,t)=>{const n=Lc(e,t,0,0,.5-.5*t,0,t,0,.5-.5*t,0,0,t,.5-.5*t,0,0,0,1);return Oc(n,n)},n_e=(e,t)=>{const n=1-t,i=Lc(e,.2126+.7874*n,.7152-.7152*n,.0722-.0722*n,0,.2126-.2126*n,.7152+.2848*n,.0722-.0722*n,0,.2126-.2126*n,.7152-.7152*n,.0722+.9278*n,0,0,0,0,1);return Oc(i,i)},i_e=(e,t)=>{const n=Math.sin(t*Math.PI/180),i=Math.cos(t*Math.PI/180),r=Lc(e,.213+.787*i-.213*n,.715-.715*i-.715*n,.072-.072*i+.928*n,0,.213-.213*i+.143*n,.715+.285*i+.14*n,.072-.072*i-.283*n,0,.213-.213*i-.787*n,.715-.715*i+.715*n,.072+.928*i+.072*n,0,0,0,0,1);return Oc(r,r)},r_e=(e,t)=>{const n=1-2*t,i=Lc(e,n,0,0,t,0,n,0,t,0,0,n,t,0,0,0,1);return Oc(i,i)},s_e=(e,t)=>{const n=Lc(e,.213+.787*t,.715-.715*t,.072-.072*t,0,.213-.213*t,.715+.285*t,.072-.072*t,0,.213-.213*t,.715-.715*t,.072+.928*t,0,0,0,0,1);return Oc(n,n)},o_e=(e,t)=>{const n=1-t,i=Lc(e,.393+.607*n,.769-.769*n,.189-.189*n,0,.349-.349*n,.686+.314*n,.168-.168*n,0,.272-.272*n,.534-.534*n,.131+.869*n,0,0,0,0,1);return Oc(i,i)};let mW=class yW{constructor(t,n,i){this.strength=t,this.radius=n,this.threshold=i,this.type="bloom"}interpolate(t,n,i){this.strength=jr(t.strength,n.strength,i),this.radius=jr(t.radius,n.radius,i),this.threshold=jr(t.threshold,n.threshold,i)}clone(){return new yW(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:wv(this.radius),strength:this.strength,threshold:this.threshold}}},gW=class vW{constructor(t){this.radius=t,this.type="blur"}interpolate(t,n,i){this.radius=Math.round(jr(t.radius,n.radius,i))}clone(){return new vW(this.radius)}toJSON(){return{type:"blur",radius:wv(this.radius)}}},EM=class bW{constructor(t,n){this.type=t,this.amount=n,this.type!=="invert"&&this.type!=="grayscale"&&this.type!=="sepia"||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,n,i){this.amount=jr(t.amount,n.amount,i),this._updateMatrix()}clone(){return new bW(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const t=this._colorMatrix||xx();switch(this.type){case"brightness":this._colorMatrix=e_e(t,this.amount);break;case"contrast":this._colorMatrix=t_e(t,this.amount);break;case"grayscale":this._colorMatrix=n_e(t,this.amount);break;case"invert":this._colorMatrix=r_e(t,this.amount);break;case"saturate":this._colorMatrix=s_e(t,this.amount);break;case"sepia":this._colorMatrix=o_e(t,this.amount)}}},wW=class _W{constructor(t,n,i,r){this.offsetX=t,this.offsetY=n,this.blurRadius=i,this.color=r,this.type="drop-shadow"}interpolate(t,n,i){this.offsetX=jr(t.offsetX,n.offsetX,i),this.offsetY=jr(t.offsetY,n.offsetY,i),this.blurRadius=jr(t.blurRadius,n.blurRadius,i),this.color[0]=Math.round(jr(t.color[0],n.color[0],i)),this.color[1]=Math.round(jr(t.color[1],n.color[1],i)),this.color[2]=Math.round(jr(t.color[2],n.color[2],i)),this.color[3]=jr(t.color[3],n.color[3],i)}clone(){return new _W(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const t=[...this.color];return t[3]*=255,{type:"drop-shadow",xoffset:wv(this.offsetX),yoffset:wv(this.offsetY),blurRadius:wv(this.blurRadius),color:t}}},SW=class xW{constructor(t){this.angle=t,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,n,i){this.angle=jr(t.angle,n.angle,i),this._updateMatrix()}clone(){return new xW(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const t=this._colorMatrix||xx();this._colorMatrix=i_e(t,this.angle)}},$W=class TW{constructor(t){this.amount=t,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(t,n,i){this.amount=jr(t.amount,n.amount,i)}clone(){return new TW(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}};function jr(e,t,n){return e+(t-e)*n}function wv(e){return Math.round(1e3*Zr(e))/1e3}function a_e(e){switch(e.type){case"grayscale":case"sepia":case"invert":return new EM(e.type,0);case"saturate":case"brightness":case"contrast":return new EM(e.type,1);case"opacity":return new $W(1);case"hue-rotate":return new SW(0);case"blur":return new gW(0);case"drop-shadow":return new wW(0,0,0,[...UL("transparent")]);case"bloom":return new mW(0,0,1)}}function EW(e,t){const n=e.length>t.length?e:t;return(e.length>t.length?t:e).every((i,r)=>i.type===n[r].type)}function IW(e,t){const n=e.length>t.length?e:t,i=e.length>t.length?t:e;for(let r=i.length;r<n.length;r++)i.push(a_e(n[r]))}function l_e(e){const t=e[0];return!!t&&"type"in t}function u_e(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}function Qf(e,t,n,i){var r=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(r,Qf.prototype),r.expected=t,r.found=n,r.location=i,r.name="SyntaxError",r}function sT(e,t,n){return n=n||" ",e.length>t?e:(t-=e.length,e+(n+=n.repeat(t)).slice(0,t))}function c_e(e,t){var n,i={},r=(t=t!==void 0?t:{}).grammarSource,s={start:aR},o=aR,a="none",l=")",c=",",h="(",p="%",m="px",y="cm",g="mm",v="in",b="pt",w="pc",S="deg",x="rad",E="grad",$="turn",I="#",A=".",M="e",L=/^[ \t\n\r]/,O=/^[a-z\-]/,P=/^[0-9a-fA-F]/,R=/^[+\-]/,V=/^[0-9]/,U=Fa("none"),ee=hi("none",!1),se=hi(")",!1),Se=hi(",",!1),oe=Fa("whitespace"),ie=vy([" ","	",`
`,"\r"],!1,!1),Q=Fa("function"),W=hi("(",!1),ue=Fa("identifier"),$e=vy([["a","z"],"-"],!1,!1),Te=Fa("percentage"),Ne=hi("%",!1),ve=Fa("length"),fe=hi("px",!1),ze=hi("cm",!1),Ht=hi("mm",!1),yt=hi("in",!1),Me=hi("pt",!1),de=hi("pc",!1),Ze=Fa("angle"),De=hi("deg",!1),ke=hi("rad",!1),ot=hi("grad",!1),Ci=hi("turn",!1),Ts=Fa("number"),Jr=Fa("color"),On=hi("#",!1),Fi=vy([["0","9"],["a","f"],["A","F"]],!1,!1),rR=vy(["+","-"],!1,!1),Zl=vy([["0","9"]],!1,!1),See=hi(".",!1),xee=hi("e",!1),$ee=function(){return[]},Tee=function(D,ne){return{type:"function",name:D,parameters:ne||[]}},Eee=function(D,ne){return ne.length>0?ste(D,ne,3):[D]},Iee=function(D){return{type:"quantity",value:D.value,unit:D.unit}},Cee=function(D){return{type:"color",colorType:D.type,value:D.value}},Mee=function(D){return D},kee=function(){return Vb()},Aee=function(D){return{value:D,unit:"%"}},Pee=function(D){return{value:D,unit:"px"}},Lee=function(D){return{value:D,unit:"cm"}},Oee=function(D){return{value:D,unit:"mm"}},Ree=function(D){return{value:D,unit:"in"}},Nee=function(D){return{value:D,unit:"pt"}},Dee=function(D){return{value:D,unit:"pc"}},Vee=function(D){return{value:D,unit:"deg"}},Fee=function(D){return{value:D,unit:"rad"}},jee=function(D){return{value:D,unit:"grad"}},zee=function(D){return{value:D,unit:"turn"}},Bee=function(D){return{value:D,unit:null}},Uee=function(){return{type:"hex",value:Vb()}},Gee=function(D){return{type:"function",value:D}},Hee=function(){return{type:"named",value:Vb()}},qee=function(){return parseFloat(Vb())},Y=0|t.peg$currPos,un=Y,fp=[{line:1,column:1}],so=Y,Db=t.peg$maxFailExpected||[],Fe=0|t.peg$silentFails;if(t.startRule){if(!(t.startRule in s))throw new Error(`Can't start parsing from rule "`+t.startRule+'".');o=s[t.startRule]}function Vb(){return e.substring(un,Y)}function hi(D,ne){return{type:"literal",text:D,ignoreCase:ne}}function vy(D,ne,ye){return{type:"class",parts:D,inverted:ne,ignoreCase:ye}}function Wee(){return{type:"end"}}function Fa(D){return{type:"other",description:D}}function sR(D){var ne,ye=fp[D];if(ye)return ye;if(D>=fp.length)ne=fp.length-1;else for(ne=D;!fp[--ne];);for(ye={line:(ye=fp[ne]).line,column:ye.column};ne<D;)e.charCodeAt(ne)===10?(ye.line++,ye.column=1):ye.column++,ne++;return fp[D]=ye,ye}function oR(D,ne,ye){var Ye=sR(D),jt=sR(ne);return{source:r,start:{offset:D,line:Ye.line,column:Ye.column},end:{offset:ne,line:jt.line,column:jt.column}}}function it(D){Y<so||(Y>so&&(so=Y,Db=[]),Db.push(D))}function Zee(D,ne,ye){return new Qf(Qf.buildMessage(D,ne),D,ne,ye)}function aR(){var D;return(D=Yee())===i&&(D=Jee()),D}function Yee(){var D,ne;return Fe++,D=Y,pi(),e.substr(Y,4)===a?(ne=a,Y+=4):(ne=i,Fe===0&&it(ee)),ne!==i?(pi(),un=D,D=$ee()):(Y=D,D=i),Fe--,D===i&&Fe===0&&it(U),D}function Jee(){var D,ne;if(D=[],(ne=l$())!==i)for(;ne!==i;)D.push(ne),ne=l$();else D=i;return D}function l$(){var D,ne,ye,Ye;return D=Y,pi(),(ne=Xee())!==i?(pi(),(ye=Kee())===i&&(ye=null),pi(),e.charCodeAt(Y)===41?(Ye=l,Y++):(Ye=i,Fe===0&&it(se)),Ye!==i?(pi(),un=D,D=Tee(ne,ye)):(Y=D,D=i)):(Y=D,D=i),D}function Kee(){var D,ne,ye,Ye,jt,$n,ei,Mr;if(D=Y,(ne=u$())!==i){for(ye=[],Ye=Y,jt=pi(),e.charCodeAt(Y)===44?($n=c,Y++):($n=i,Fe===0&&it(Se)),$n===i&&($n=null),ei=pi(),(Mr=u$())!==i?Ye=jt=[jt,$n,ei,Mr]:(Y=Ye,Ye=i);Ye!==i;)ye.push(Ye),Ye=Y,jt=pi(),e.charCodeAt(Y)===44?($n=c,Y++):($n=i,Fe===0&&it(Se)),$n===i&&($n=null),ei=pi(),(Mr=u$())!==i?Ye=jt=[jt,$n,ei,Mr]:(Y=Ye,Ye=i);un=D,D=Eee(ne,ye)}else Y=D,D=i;return D}function u$(){var D,ne;return D=Y,(ne=Qee())===i&&(ne=ete())===i&&(ne=tte())===i&&(ne=nte()),ne!==i&&(un=D,ne=Iee(ne)),(D=ne)===i&&(D=Y,(ne=ite())!==i&&(un=D,ne=Cee(ne)),D=ne),D}function pi(){var D,ne;for(Fe++,D=[],ne=e.charAt(Y),L.test(ne)?Y++:(ne=i,Fe===0&&it(ie));ne!==i;)D.push(ne),ne=e.charAt(Y),L.test(ne)?Y++:(ne=i,Fe===0&&it(ie));return Fe--,ne=i,Fe===0&&it(oe),D}function Xee(){var D,ne,ye;return Fe++,D=Y,(ne=lR())!==i?(e.charCodeAt(Y)===40?(ye=h,Y++):(ye=i,Fe===0&&it(W)),ye!==i?(un=D,D=Mee(ne)):(Y=D,D=i)):(Y=D,D=i),Fe--,D===i&&(ne=i,Fe===0&&it(Q)),D}function lR(){var D,ne,ye;if(Fe++,D=Y,ne=[],ye=e.charAt(Y),O.test(ye)?Y++:(ye=i,Fe===0&&it($e)),ye!==i)for(;ye!==i;)ne.push(ye),ye=e.charAt(Y),O.test(ye)?Y++:(ye=i,Fe===0&&it($e));else ne=i;return ne!==i&&(un=D,ne=kee()),Fe--,(D=ne)===i&&(ne=i,Fe===0&&it(ue)),D}function Qee(){var D,ne,ye;return Fe++,D=Y,pi(),(ne=Es())!==i?(e.charCodeAt(Y)===37?(ye=p,Y++):(ye=i,Fe===0&&it(Ne)),ye!==i?(un=D,D=Aee(ne)):(Y=D,D=i)):(Y=D,D=i),Fe--,D===i&&Fe===0&&it(Te),D}function ete(){var D,ne,ye;return Fe++,D=Y,pi(),(ne=Es())!==i?(e.substr(Y,2)===m?(ye=m,Y+=2):(ye=i,Fe===0&&it(fe)),ye!==i?(un=D,D=Pee(ne)):(Y=D,D=i)):(Y=D,D=i),D===i&&(D=Y,pi(),(ne=Es())!==i?(e.substr(Y,2)===y?(ye=y,Y+=2):(ye=i,Fe===0&&it(ze)),ye!==i?(un=D,D=Lee(ne)):(Y=D,D=i)):(Y=D,D=i),D===i&&(D=Y,pi(),(ne=Es())!==i?(e.substr(Y,2)===g?(ye=g,Y+=2):(ye=i,Fe===0&&it(Ht)),ye!==i?(un=D,D=Oee(ne)):(Y=D,D=i)):(Y=D,D=i),D===i&&(D=Y,pi(),(ne=Es())!==i?(e.substr(Y,2)===v?(ye=v,Y+=2):(ye=i,Fe===0&&it(yt)),ye!==i?(un=D,D=Ree(ne)):(Y=D,D=i)):(Y=D,D=i),D===i&&(D=Y,pi(),(ne=Es())!==i?(e.substr(Y,2)===b?(ye=b,Y+=2):(ye=i,Fe===0&&it(Me)),ye!==i?(un=D,D=Nee(ne)):(Y=D,D=i)):(Y=D,D=i),D===i&&(D=Y,pi(),(ne=Es())!==i?(e.substr(Y,2)===w?(ye=w,Y+=2):(ye=i,Fe===0&&it(de)),ye!==i?(un=D,D=Dee(ne)):(Y=D,D=i)):(Y=D,D=i)))))),Fe--,D===i&&Fe===0&&it(ve),D}function tte(){var D,ne,ye;return Fe++,D=Y,(ne=Es())!==i?(e.substr(Y,3)===S?(ye=S,Y+=3):(ye=i,Fe===0&&it(De)),ye!==i?(un=D,D=Vee(ne)):(Y=D,D=i)):(Y=D,D=i),D===i&&(D=Y,(ne=Es())!==i?(e.substr(Y,3)===x?(ye=x,Y+=3):(ye=i,Fe===0&&it(ke)),ye!==i?(un=D,D=Fee(ne)):(Y=D,D=i)):(Y=D,D=i),D===i&&(D=Y,(ne=Es())!==i?(e.substr(Y,4)===E?(ye=E,Y+=4):(ye=i,Fe===0&&it(ot)),ye!==i?(un=D,D=jee(ne)):(Y=D,D=i)):(Y=D,D=i),D===i&&(D=Y,(ne=Es())!==i?(e.substr(Y,4)===$?(ye=$,Y+=4):(ye=i,Fe===0&&it(Ci)),ye!==i?(un=D,D=zee(ne)):(Y=D,D=i)):(Y=D,D=i)))),Fe--,D===i&&(ne=i,Fe===0&&it(Ze)),D}function nte(){var D,ne;return Fe++,D=Y,pi(),(ne=Es())!==i?(un=D,D=Bee(ne)):(Y=D,D=i),Fe--,D===i&&Fe===0&&it(Ts),D}function ite(){var D,ne,ye,Ye;if(Fe++,D=Y,e.charCodeAt(Y)===35?(ne=I,Y++):(ne=i,Fe===0&&it(On)),ne!==i){if(ye=[],Ye=e.charAt(Y),P.test(Ye)?Y++:(Ye=i,Fe===0&&it(Fi)),Ye!==i)for(;Ye!==i;)ye.push(Ye),Ye=e.charAt(Y),P.test(Ye)?Y++:(Ye=i,Fe===0&&it(Fi));else ye=i;ye!==i?(un=D,D=Uee()):(Y=D,D=i)}else Y=D,D=i;return D===i&&(D=Y,(ne=l$())!==i&&(un=D,ne=Gee(ne)),(D=ne)===i&&(D=Y,(ne=lR())!==i&&(un=D,ne=Hee()),D=ne)),Fe--,D===i&&(ne=i,Fe===0&&it(Jr)),D}function Es(){var D,ne,ye,Ye,jt,$n,ei,Mr;for(D=Y,ne=e.charAt(Y),R.test(ne)?Y++:(ne=i,Fe===0&&it(rR)),ne===i&&(ne=null),ye=Y,Ye=[],jt=e.charAt(Y),V.test(jt)?Y++:(jt=i,Fe===0&&it(Zl));jt!==i;)Ye.push(jt),jt=e.charAt(Y),V.test(jt)?Y++:(jt=i,Fe===0&&it(Zl));if(e.charCodeAt(Y)===46?(jt=A,Y++):(jt=i,Fe===0&&it(See)),jt!==i){if($n=[],ei=e.charAt(Y),V.test(ei)?Y++:(ei=i,Fe===0&&it(Zl)),ei!==i)for(;ei!==i;)$n.push(ei),ei=e.charAt(Y),V.test(ei)?Y++:(ei=i,Fe===0&&it(Zl));else $n=i;$n!==i?ye=Ye=[Ye,jt,$n]:(Y=ye,ye=i)}else Y=ye,ye=i;if(ye===i)if(ye=[],Ye=e.charAt(Y),V.test(Ye)?Y++:(Ye=i,Fe===0&&it(Zl)),Ye!==i)for(;Ye!==i;)ye.push(Ye),Ye=e.charAt(Y),V.test(Ye)?Y++:(Ye=i,Fe===0&&it(Zl));else ye=i;if(ye!==i){if(Ye=Y,e.charCodeAt(Y)===101?(jt=M,Y++):(jt=i,Fe===0&&it(xee)),jt!==i){if($n=e.charAt(Y),R.test($n)?Y++:($n=i,Fe===0&&it(rR)),$n===i&&($n=null),ei=[],Mr=e.charAt(Y),V.test(Mr)?Y++:(Mr=i,Fe===0&&it(Zl)),Mr!==i)for(;Mr!==i;)ei.push(Mr),Mr=e.charAt(Y),V.test(Mr)?Y++:(Mr=i,Fe===0&&it(Zl));else ei=i;ei!==i?Ye=jt=[jt,$n,ei]:(Y=Ye,Ye=i)}else Y=Ye,Ye=i;Ye===i&&(Ye=null),un=D,D=qee()}else Y=D,D=i;return D}function rte(D,ne){return D.map(function(ye){return ye[ne]})}function ste(D,ne,ye){return[D].concat(rte(ne,ye))}if(n=o(),t.peg$library)return{peg$result:n,peg$currPos:Y,peg$FAILED:i,peg$maxFailExpected:Db,peg$maxFailPos:so};if(n!==i&&Y===e.length)return n;throw n!==i&&Y<e.length&&it(Wee()),Zee(Db,so<e.length?e.charAt(so):null,so<e.length?oR(so,so+1):oR(so,so))}function x3(e){if(!e||e.length===0)return null;if(typeof e=="string"){const n=WV(e);return n&&n.length!==0?n:null}const t=e.map(n=>{if(!Number.isFinite(n.scale)||n.scale<=0)throw new B("effect:invalid-scale","scale must be finite and greater than 0",{stop:n});return{scale:n.scale,effects:WV(n.value)}});t.sort((n,i)=>i.effects.length-n.effects.length);for(let n=0;n<t.length-1;n++){if(!EW(t[n].effects,t[n+1].effects))throw new B("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:t[n].effects,b:t[n+1].effects});IW(t[n].effects,t[n+1].effects)}return t.sort((n,i)=>i.scale-n.scale),t}function WV(e){let t;if(!e)return[];try{t=c_e(e)}catch(n){throw new B("effect:invalid-syntax","Invalid effect syntax",{value:e,error:n})}return t.map(n=>d_e(n))}function d_e(e){try{switch(e.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return h_e(e);case"opacity":return p_e(e);case"hue-rotate":return f_e(e);case"blur":return m_e(e);case"drop-shadow":return y_e(e);case"bloom":return g_e(e)}}catch(t){throw t.details.filter=e,t}throw new B("effect:unknown-effect",`Effect '${e.name}' is not supported`,{effect:e})}function h_e(e){let t=1;return py(e.parameters,1),e.parameters.length===1&&(t=Lo(e.parameters[0])),new EM(e.name,t)}function p_e(e){let t=1;return py(e.parameters,1),e.parameters.length===1&&(t=Lo(e.parameters[0])),new $W(t)}function f_e(e){let t=0;return py(e.parameters,1),e.parameters.length===1&&(t=x_e(e.parameters[0])),new SW(t)}function m_e(e){let t=0;return py(e.parameters,1),e.parameters.length===1&&(t=E3(e.parameters[0]),$b(t,e.parameters[0])),new gW(t)}function y_e(e){const t=[];let n=null;for(const i of e.parameters)if(i.type==="color"){if(t.length&&Object.freeze(t),n)throw new B("effect:type-error","Accepts only one color",{});n=$_e(i)}else{const r=E3(i);if(Object.isFrozen(t))throw new B("effect:type-error","<length> parameters not consecutive",{lengths:t});t.push(r),t.length===3&&$b(r,i)}if(t.length<2||t.length>3)throw new B("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${t.length}}`,{lengths:t});return new wW(t[0],t[1],t[2]||0,n||CW("black"))}function g_e(e){let t=1,n=0,i=0;return py(e.parameters,3),e.parameters[0]&&(t=Lo(e.parameters[0])),e.parameters[1]&&(n=E3(e.parameters[1]),$b(n,e.parameters[1])),e.parameters[2]&&(i=Lo(e.parameters[2])),new mW(t,n,i)}function py(e,t){if(e.length>t)throw new B("effect:type-error",`Function supports up to ${t} parameters, Actual: ${e.length}`,{parameters:e})}function Ex(e){if(e.type==="color")return"<color>";if(e.unit){if(e.unit in T3)return"<length>";if(e.unit in $3)return"<angle>";if(e.unit==="%")return"<percentage>"}return"<double>"}function $b(e,t){if(e<0)throw new B("effect:type-error",`Negative values are not allowed, Actual: ${e}`,{term:t})}function v_e(e){if(e.type!=="quantity"||e.unit!==null)throw new B("effect:type-error",`Expected <double>, Actual: ${Ex(e)}`,{term:e})}function b_e(e){if(e.type!=="quantity"||e.unit!==null&&e.unit!=="%")throw new B("effect:type-error",`Expected <double> or <percentage>, Actual: ${Ex(e)}`,{term:e})}u_e(Qf,Error),Qf.prototype.format=function(e){var t="Error: "+this.message;if(this.location){var n,i=null;for(n=0;n<e.length;n++)if(e[n].source===this.location.source){i=e[n].text.split(/\r\n|\n|\r/g);break}var r=this.location.start,s=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(r):r,o=this.location.source+":"+s.line+":"+s.column;if(i){var a=this.location.end,l=sT("",s.line.toString().length," "),c=i[r.line-1],h=(r.line===a.line?a.column:c.length+1)-r.column||1;t+=`
 --> `+o+`
`+l+` |
`+s.line+" | "+c+`
`+l+" | "+sT("",r.column-1," ")+sT("",h,"^")}else t+=`
 at `+o}return t},Qf.buildMessage=function(e,t){var n={literal:function(c){return'"'+r(c.text)+'"'},class:function(c){var h=c.parts.map(function(p){return Array.isArray(p)?s(p[0])+"-"+s(p[1]):s(p)});return"["+(c.inverted?"^":"")+h.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(c){return c.description}};function i(c){return c.charCodeAt(0).toString(16).toUpperCase()}function r(c){return c.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(h){return"\\x0"+i(h)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(h){return"\\x"+i(h)})}function s(c){return c.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(h){return"\\x0"+i(h)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(h){return"\\x"+i(h)})}function o(c){return n[c.type](c)}function a(c){var h,p,m=c.map(o);if(m.sort(),m.length>0){for(h=1,p=1;h<m.length;h++)m[h-1]!==m[h]&&(m[p]=m[h],p++);m.length=p}switch(m.length){case 1:return m[0];case 2:return m[0]+" or "+m[1];default:return m.slice(0,-1).join(", ")+", or "+m[m.length-1]}}function l(c){return c?'"'+r(c)+'"':"end of input"}return"Expected "+a(e)+" but "+l(t)+" found."};const $3={deg:1,grad:.9,rad:180/Math.PI,turn:360};function w_e(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&$3[e.unit]!=null))throw new B("effect:type-error",`Expected <angle>, Actual: ${Ex(e)}`,{term:e})}const T3={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function __e(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&T3[e.unit]!=null))throw new B("effect:type-error",`Expected <length>, Actual: ${Ex(e)}`,{term:e})}function Lo(e){b_e(e);const t=e.value;return $b(t,e),e.unit==="%"?.01*t:t}function S_e(e){return v_e(e),$b(e.value,e),e.value}function x_e(e){return w_e(e),e.value*$3[e.unit]||0}function E3(e){return __e(e),e.value*T3[e.unit]||0}function $_e(e){switch(e.colorType){case"hex":return Qge(e.value);case"named":return CW(e.value);case"function":return I_e(e.value)}}function CW(e){if(!nH(e))throw new B("effect:unknown-color",`color '${e}' isn't valid`,{namedColor:e});return Xge(e)}const T_e=/^rgba?/i,E_e=/^hsla?/i;function I_e(e){if(py(e.parameters,4),T_e.test(e.name))return[Lo(e.parameters[0]),Lo(e.parameters[1]),Lo(e.parameters[2]),e.parameters[3]?Lo(e.parameters[3]):1];if(E_e.test(e.name))return iH(S_e(e.parameters[0]),Lo(e.parameters[1]),Lo(e.parameters[2]),e.parameters[3]?Lo(e.parameters[3]):1);throw new B("effect:syntax-error",`Invalid color function '${e.name}'`,{colorFunction:e})}function v0(e,t,n){try{return M_e(e)}catch(i){n?.messages?.push(i)}return null}function b0(e,t,n,i){try{const r=C_e(e);$i(n,r,t)}catch(r){i.messages&&i.messages.push(r)}}function C_e(e){const t=x3(e);return t?l_e(t)?t.map(n=>n.toJSON()):t.map(({scale:n,effects:i})=>({scale:n,value:i.map(r=>r.toJSON())})):null}function M_e(e){if(!e||e.length===0)return null;if(k_e(e)){const t=[];for(const n of e)t.push({scale:n.scale,value:wS(n.value)});return t}return wS(e)}function k_e(e){const t=e[0];return!!t&&"scale"in t}function wS(e){if(!e?.length)return"";const t=[];for(const n of e){let i=[];switch(n.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":i=[ja(n,"amount")];break;case"blur":i=[ja(n,"radius","pt")];break;case"hue-rotate":i=[ja(n,"angle","deg")];break;case"drop-shadow":i=[ja(n,"xoffset","pt"),ja(n,"yoffset","pt"),ja(n,"blurRadius","pt"),A_e(n,"color")];break;case"bloom":i=[ja(n,"strength"),ja(n,"radius","pt"),ja(n,"threshold")]}const r=`${n.type}(${i.filter(Boolean).join(" ")})`;x3(r),t.push(r)}return t.join(" ")}function ja(e,t,n){if(e[t]==null)throw new B("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});return n?e[t]+n:""+e[t]}function A_e(e,t){if(e[t]==null)throw new B("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});const n=e[t];return`rgba(${n[0]||0}, ${n[1]||0}, ${n[2]||0}, ${n[3]/255||0})`}const P_e={type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:{layerContainerTypes:an}},"portal-item":{read:!0,write:{layerContainerTypes:an}}}}},ZV={read:{reader:v0},write:{allowNull:!0,writer:b0,layerContainerTypes:an}},L_e={json:{read:!1,write:!1,origins:{"web-map":ZV,"portal-item":ZV}}},O_e=e=>{let t=class extends e{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return u([d(P_e)],t.prototype,"blendMode",void 0),u([d(L_e)],t.prototype,"effect",void 0),t=u([k("esri.layers.mixins.BlendLayer")],t),t},R_e=e=>{let t=class extends e{constructor(){super(...arguments),this.customParameters=null}};return u([d({type:Object,json:{write:{overridePolicy:n=>({enabled:!!(n&&Object.keys(n).length>0)})}}})],t.prototype,"customParameters",void 0),t=u([k("esri.layers.mixins.CustomParametersMixin")],t),t},MW=96;function fUe(e,t){const n=e.extent,i=e.width,r=no(n?.spatialReference);return n&&i?n.width/i*r*MG*MW:0}function mUe(e,t){return e/(no(t)*MG*MW)}function N_e(e,t,n){return D_e(e,t)&&V_e(e,n)}function D_e(e,t){return t===0||Bo(e,t)||e<t}function V_e(e,t){return t===0||Bo(e,t)||e>t}function F_e(e,t){return Bo(e,t)?0:(e||Number.POSITIVE_INFINITY)>(t||Number.POSITIVE_INFINITY)?1:-1}const j_e="randomUUID"in crypto;function Ix(){if(j_e)return crypto.randomUUID();const e=crypto.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;const t=n=>e[n].toString(16).padStart(4,"0");return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}function yUe(){return`{${Ix().toUpperCase()}}`}function z_e(){return`{${Ix()}}`}function B_e(e){const t=e.toUpperCase();return e[0]!=="{"?`{${t}}`:t}const YV={write:{overridePolicy:(e,t,n)=>({enabled:!n||n.filterMode==="scale"})}};let wu=class extends ut.ClonableMixin(te){constructor(t){super(t),this.id=Ix(),this.maxScale=0,this.minScale=0,this.title="",this.where=null}};u([d({type:String,json:{write:!0}})],wu.prototype,"id",void 0),u([d({type:Number,json:YV})],wu.prototype,"maxScale",void 0),u([d({type:Number,json:YV})],wu.prototype,"minScale",void 0),u([d({type:String,json:{write:!0}})],wu.prototype,"title",void 0),u([d({type:String,json:{write:!0}})],wu.prototype,"where",void 0),wu=u([k("esri.layers.support.DisplayFilter")],wu);const kW=wu;function U_e(e,t){return{...t,filterMode:e.mode}}function G_e(e,t){return AW(e,t).next().value??null}function vUe(e,t,n){const i=H_e(e);if(i&&(sH(t,i[0])||BI(n,i[1])))return"";const r=Array.from(AW(e,t,n)),s=q_e(r,t,n)?"1=1":r.map(o=>o.where||"1=1").reduce((o,a)=>Dhe(o,a),"");return s&&s!=="1=1"?s:""}function H_e(e){if(PW(e)==="manual")return null;const t=[Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY];for(const{minScale:n,maxScale:i}of e.filters)t[0]=Math.max(t[0],w0(n)),t[1]=Math.min(t[1],_S(i));return t}function*AW(e,t,n){if(PW(e)==="manual"){const i=e.filters.find(r=>r.id===e.activeFilterId);i&&(yield i)}else{typeof t=="object"&&(t=t.scale);for(const i of e.filters)W_e(i.minScale,i.maxScale,t,n)&&(yield i)}}function q_e(e,t,n){if(e.length===0)return!0;const i=w0(e.at(0)?.minScale),r=_S(e.at(-1)?.maxScale);if(BI(i,t)||sH(r,n))return!0;for(let s=0;s<e.length-1;s++){const o=e[s],a=e[s+1];if(BI(w0(a.minScale),_S(o.maxScale)))return!0}return!1}function W_e(e,t,n,i){return e=w0(e),n=w0(n),t=_S(t),!(!Bo(n,e)&&(i??n)>e)&&!tve(t,n)&&(i===void 0||!Bo(i,e))}function PW(e){return"mode"in e?e.mode:e.filterMode}function w0(e){return e||Number.POSITIVE_INFINITY}function _S(e){return e||0}let md=class extends ut.ClonableMixin(te){constructor(t){super(t),this.activeFilterId=null,this.filters=new(we.ofType(kW)),this.mode="manual"}writeFilters(t,n,i,r){const s=t.toArray();this.mode==="scale"&&s.sort((o,a)=>{const l=F_e(a.minScale,o.minScale),c=o.maxScale-a.maxScale;return l===0?c:l}),n[i]=s.map(o=>o.toJSON(r))}write(t,n){return super.write(t,U_e(this,n))}};u([d({type:String,json:{write:{overridePolicy:(e,t,n)=>({enabled:n.filterMode==="manual",isRequired:!0})}}})],md.prototype,"activeFilterId",void 0),u([d({type:we.ofType(kW),nonNullable:!0,json:{write:!0}})],md.prototype,"filters",void 0),u([ge("filters")],md.prototype,"writeFilters",null),u([d({type:["manual","scale"],nonNullable:!0,json:{name:"filterMode",write:!0}})],md.prototype,"mode",void 0),md=u([k("esri.layers.support.DisplayFilterInfo")],md);const Z_e=md,Y_e=e=>{let t=class extends e{constructor(){super(...arguments),this.displayFilterEnabled=!0,this.displayFilterInfo=null}};return u([d(J_e)],t.prototype,"displayFilterEnabled",void 0),u([d(K_e)],t.prototype,"displayFilterInfo",void 0),t=u([k("esri.layers.mixins.DisplayFilteredLayer")],t),t},J_e={type:Boolean,json:{name:"layerDefinition.disableDisplayFilter",read:{reader:e=>!e},write:{layerContainerTypes:an,writer(e,t,n){$i(n,!e,t)}},origins:{"web-scene":{write:!1,read:!1}}}},K_e={type:Z_e,json:{name:"layerDefinition.displayFilterInfo",write:{enabled:!0,allowNull:!0,layerContainerTypes:an},origins:{"web-scene":{write:!1,read:!1}}}},X_e=z_e(),LW=new Map,OW=new Map;async function wUe(e,t,n){if(!e||!n)return!1;if(!t)return!0;const i=new URL(e).host;let r=LW.get(i);if(!r){const s=e.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,"");r=(await Lt(s,{responseType:"json",query:{f:"json"}})).data.defaultVersionName}return r===t}async function _Ue(e,t,n=!1){if(!e||!t)return!0;const i=e.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,""),r=OW.get(i)?.entries();if(r){for(const[s,o]of r)if(o.name===t){const a=!o.stack?.hasForwardEdits();if(!a&&n){const[{deleteForwardEdits:l},{default:c}]=await Promise.all([J(()=>import("./deleteForwardEdits-CAKSAIbb.js"),__vite__mapDeps([175,3])),J(()=>import("./DeleteForwardEditsParameters-D_Bmi0Sx.js"),__vite__mapDeps([176,3]))]),h=await l(i,s,new c({sessionId:X_e,moment:o.moment}));return h.success&&o.stack?.clearForwardEdits(),h.success}return a}}return!0}function Q_e(e,t){if(!e)return!1;const n=e.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,""),i=OW.get(n)?.entries();if(i){for(const[r,s]of i)if(s.name===t)return s.lockType==="edit"}return!1}const I3=new Ks.EventEmitter;function eSe(e){return I3.on("apply-edits",new WeakRef(e))}function tSe(e){return I3.on("update-moment",new WeakRef(e))}function SUe(e,t,n=null,i=!1){const r=bs();return i=t==null||i,I3.emit("apply-edits",{serviceUrl:e,layerId:t,gdbVersion:n,mayReceiveServiceEdits:i,result:r.promise}),r}const RW=Symbol();function xUe(e){return e!=null&&typeof e=="object"&&RW in e}function Ly(e){return e!=null&&typeof e=="object"&&"gdbVersion"in e}function oT(e,t,n){const i=new URL(e).host,r=LW.get(i),s=o=>!o||o===r;return s(t)&&s(n)||t===n}const nSe=e=>{var t;let n=class extends e{constructor(...i){super(...i),this[t]=!0,this._applyEditsHandler=r=>{const{serviceUrl:s,layerId:o,gdbVersion:a,mayReceiveServiceEdits:l,result:c}=r,h=s===this.url,p=o!=null&&this.layerId!=null&&o===this.layerId,m=Ly(this),y=Ly(this)&&oT(s,a,this.gdbVersion);if(!h||m&&!y||!p&&!l)return;const g=c.then(v=>{if(this.lastEditsEventDate=new Date,p&&(v.addedFeatures.length||v.updatedFeatures.length||v.deletedFeatures.length||v.addedAttachments.length||v.updatedAttachments.length||v.deletedAttachments.length))return this.emit("edits",j(v)),v;const b=v.editedFeatures?.find(({layerId:S})=>S===this.layerId);if(b){const{adds:S,updates:x,deletes:E}=b.editedFeatures,$={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:S?S.map(({attributes:I})=>({objectId:this.objectIdField&&I[this.objectIdField],globalId:this.globalIdField&&I[this.globalIdField]})):[],deletedFeatures:E?E.map(({attributes:I})=>({objectId:this.objectIdField&&I[this.objectIdField],globalId:this.globalIdField&&I[this.globalIdField]})):[],updatedFeatures:x?x.map(({current:{attributes:I}})=>({objectId:this.objectIdField&&I[this.objectIdField],globalId:this.globalIdField&&I[this.globalIdField]})):[],editedFeatures:j(v.editedFeatures),exceededTransferLimit:!1,historicMoment:j(v.historicMoment)};return this.emit("edits",$),$}const w={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:[],deletedFeatures:[],updatedFeatures:[],editedFeatures:j(v.editedFeatures),exceededTransferLimit:!1,historicMoment:j(v.historicMoment)};return"historicMoment"in this&&this._shouldUpdateHistoricMoment(s,a,w.historicMoment)&&this.emit("edits",w),w}).then(v=>("historicMoment"in this&&this._shouldUpdateHistoricMoment(s,a,v.historicMoment)&&(this.historicMoment=v.historicMoment),v));this.emit("apply-edits",{result:g})},this._updateMomentHandler=r=>{const{serviceUrl:s,gdbVersion:o,moment:a}=r,l=s===this.url,c=Ly(this),h=Ly(this)&&oT(s,o,this.gdbVersion),p=Ly(this)&&!oT(s,this.gdbVersion,null);l&&c&&h&&p&&"historicMoment"in this&&this.historicMoment!==a&&(this.historicMoment=a)},this.when().then(()=>{this.addHandles(eSe(this._applyEditsHandler)),"historicMoment"in this&&this.addHandles(tSe(this._updateMomentHandler))},()=>{})}_shouldUpdateHistoricMoment(i,r,s){return"historicMoment"in this&&this.historicMoment!==s&&Q_e(i,r)}};return t=RW,u([d()],n.prototype,"lastEditsEventDate",void 0),n=u([k("esri.layers.mixins.EditBusLayer")],n),n};var IM;let af=IM=class extends te{constructor(e){super(e),this.type="map-layer"}clone(){const{mapLayerId:e,gdbVersion:t}=this;return new IM({mapLayerId:e,gdbVersion:t})}};u([Ve({mapLayer:"map-layer"}),d({json:{write:{isRequired:!0}}})],af.prototype,"type",void 0),u([d({type:wt,json:{write:{isRequired:!0}}})],af.prototype,"mapLayerId",void 0),u([d({type:String,json:{write:!0}})],af.prototype,"gdbVersion",void 0),af=IM=u([k("esri.layers.support.source.MapLayerSource")],af);var CM;let tl=CM=class extends te{constructor(e){super(e),this.type="query-table"}clone(){const{workspaceId:e,query:t,oidFields:n,spatialReference:i,geometryType:r}=this,s={workspaceId:e,query:t,oidFields:n,spatialReference:i?.clone()??void 0,geometryType:r};return new CM(s)}};u([Ve({queryTable:"query-table"}),d({json:{write:{isRequired:!0}}})],tl.prototype,"type",void 0),u([d({type:String,json:{write:!0}})],tl.prototype,"workspaceId",void 0),u([d({type:String,json:{write:!0}})],tl.prototype,"query",void 0),u([d({type:String,json:{write:!0}})],tl.prototype,"oidFields",void 0),u([d({type:et,json:{write:!0}})],tl.prototype,"spatialReference",void 0),u([Ve(nbe)],tl.prototype,"geometryType",void 0),tl=CM=u([k("esri.layers.support.source.QueryTableDataSource")],tl);var MM;let lf=MM=class extends te{constructor(e){super(e),this.type="raster"}clone(){const{workspaceId:e,dataSourceName:t}=this;return new MM({workspaceId:e,dataSourceName:t})}};u([Ve({raster:"raster"}),d({json:{write:{isRequired:!0}}})],lf.prototype,"type",void 0),u([d({type:String,json:{write:!0}})],lf.prototype,"dataSourceName",void 0),u([d({type:String,json:{write:!0}})],lf.prototype,"workspaceId",void 0),lf=MM=u([k("esri.layers.support.source.RasterDataSource")],lf);var kM;let yd=kM=class extends te{constructor(e){super(e),this.type="table"}clone(){const{workspaceId:e,gdbVersion:t,dataSourceName:n}=this;return new kM({workspaceId:e,gdbVersion:t,dataSourceName:n})}};u([Ve({table:"table"}),d({json:{write:{isRequired:!0}}})],yd.prototype,"type",void 0),u([d({type:String,json:{write:!0}})],yd.prototype,"workspaceId",void 0),u([d({type:String,json:{write:!0}})],yd.prototype,"gdbVersion",void 0),u([d({type:String,json:{write:!0}})],yd.prototype,"dataSourceName",void 0),yd=kM=u([k("esri.layers.support.source.TableDataSource")],yd);var AM,PM;const iSe=Ii()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let is=AM=class extends te{constructor(e){super(e),this.type="join-table"}readLeftTableSource(e,t,n){return JV()(e,t,n)}castLeftTableSource(e){return Ho(LM(),e)}readRightTableSource(e,t,n){return JV()(e,t,n)}castRightTableSource(e){return Ho(LM(),e)}clone(){const{leftTableKey:e,rightTableKey:t,leftTableSource:n,rightTableSource:i,joinType:r}=this,s={leftTableKey:e,rightTableKey:t,leftTableSource:n?.clone()??void 0,rightTableSource:i?.clone()??void 0,joinType:r};return new AM(s)}};u([Ve({joinTable:"join-table"}),d({json:{write:{isRequired:!0}}})],is.prototype,"type",void 0),u([d({type:String,json:{write:!0}})],is.prototype,"leftTableKey",void 0),u([d({type:String,json:{write:!0}})],is.prototype,"rightTableKey",void 0),u([d({json:{write:!0}})],is.prototype,"leftTableSource",void 0),u([le("leftTableSource")],is.prototype,"readLeftTableSource",null),u([pt("leftTableSource")],is.prototype,"castLeftTableSource",null),u([d({json:{write:!0}})],is.prototype,"rightTableSource",void 0),u([le("rightTableSource")],is.prototype,"readRightTableSource",null),u([pt("rightTableSource")],is.prototype,"castRightTableSource",null),u([Ve(iSe)],is.prototype,"joinType",void 0),is=AM=u([k("esri.layers.support.source.JoinTableDataSource")],is);let aT=null;function JV(){return aT||(aT=ey({types:LM()})),aT}let lT=null;function LM(){return lT||(lT={key:"type",base:null,typeMap:{"data-layer":Oo,"map-layer":af}}),lT}const rSe={key:"type",base:null,typeMap:{"join-table":is,"query-table":tl,raster:lf,table:yd}};let Oo=PM=class extends te{constructor(e){super(e),this.type="data-layer"}clone(){const{fields:e,dataSource:t}=this;return new PM({fields:e,dataSource:t})}};u([Ve({dataLayer:"data-layer"}),d({json:{write:{isRequired:!0}}})],Oo.prototype,"type",void 0),u([d({type:[w3],json:{write:!0}})],Oo.prototype,"fields",void 0),u([d({types:rSe,json:{write:!0}})],Oo.prototype,"dataSource",void 0),Oo=PM=u([k("esri.layers.support.source.DataLayerSource")],Oo),Oo.from=Jn(Oo);let gd=class extends ut.ClonableMixin(te){constructor(t){super(t),this.onFields=null,this.operator=null,this.searchTerm=null,this.searchType=null}};u([d({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.onFields!=null&&this.onFields.length>0}}}}})],gd.prototype,"onFields",void 0),u([d({type:String,json:{write:!0}})],gd.prototype,"operator",void 0),u([d({type:String,json:{write:!0}})],gd.prototype,"searchTerm",void 0),u([d({type:String,json:{write:!0}})],gd.prototype,"searchType",void 0),gd=u([k("esri.rest.support.FullTextSearch")],gd);const sSe=gd;var OM;const KV=new at({upperLeft:"upper-left",lowerLeft:"lower-left"});let vd=OM=class extends te{constructor(e){super(e),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new OM(j({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};u([d({type:Gt,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],vd.prototype,"extent",void 0),u([d({type:["view","edit"],json:{write:!0}})],vd.prototype,"mode",void 0),u([d({type:String,json:{read:KV.read,write:KV.write}})],vd.prototype,"originPosition",void 0),u([d({type:Number,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],vd.prototype,"tolerance",void 0),vd=OM=u([k("esri.rest.support.QuantizationParameters")],vd);const NW=vd,oSe=new at({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});var RM;const XV=new at({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});let xo=RM=class extends te{constructor(e){super(e),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(e,t){this.statisticType!=="percentile-continuous"&&this.statisticType!=="percentile-discrete"||(t.statisticParameters=j(e))}clone(){return new RM({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:j(this.statisticParameters)})}};u([d({type:Number,json:{write:!0}})],xo.prototype,"maxPointCount",void 0),u([d({type:Number,json:{write:!0}})],xo.prototype,"maxRecordCount",void 0),u([d({type:Number,json:{write:!0}})],xo.prototype,"maxVertexCount",void 0),u([d({type:String,json:{write:!0}})],xo.prototype,"onStatisticField",void 0),u([d({type:String,json:{write:!0}})],xo.prototype,"outStatisticFieldName",void 0),u([d({type:String,json:{read:{source:"statisticType",reader:XV.read},write:{target:"statisticType",writer:XV.write}}})],xo.prototype,"statisticType",void 0),u([d({type:Object})],xo.prototype,"statisticParameters",void 0),u([ge("statisticParameters")],xo.prototype,"writeStatisticParameters",null),xo=RM=u([k("esri.rest.support.StatisticDefinition")],xo);const aSe=xo;var W1;const lSe=new at({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let Ge=W1=class extends te{static from(e){return ob(W1,e)}constructor(e){super(e),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.fullText=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.returnTrueCurves=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}castDatumTransformation(e){return typeof e=="number"||typeof e=="object"?e:null}writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeParameterValues(e,t){if(e){const n={};for(const i in e){const r=e[i];Array.isArray(r)?n[i]=r.map(s=>s instanceof Date?s.getTime():s):r instanceof Date?n[i]=r.getTime():n[i]=r}t.parameterValues=n}}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,t.where="1=1"}writeWhere(e,t){t.where=e||"1=1"}clone(){return new W1(j({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,formatOf3DObjects:this.formatOf3DObjects,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:this.historicMoment!=null?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,returnTrueCurves:this.returnTrueCurves,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}};Ge.MAX_MAX_RECORD_COUNT_FACTOR=5,u([d({json:{write:!0}})],Ge.prototype,"aggregateIds",void 0),u([d({type:Boolean,json:{write:!0}})],Ge.prototype,"cacheHint",void 0),u([d({type:Boolean,json:{default:!1,write:!0}})],Ge.prototype,"compactGeometryEnabled",void 0),u([d({json:{write:!0}})],Ge.prototype,"datumTransformation",void 0),u([pt("datumTransformation")],Ge.prototype,"castDatumTransformation",null),u([d({type:Boolean,json:{default:!1,write:!0}})],Ge.prototype,"defaultSpatialReferenceEnabled",void 0),u([d({type:Number,json:{write:!0}})],Ge.prototype,"distance",void 0),u([d({type:Oo,json:{write:!0}})],Ge.prototype,"dynamicDataSource",void 0),u([d({type:String,json:{write:!0}})],Ge.prototype,"formatOf3DObjects",void 0),u([d({type:[sSe],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.fullText!=null&&this.fullText.length>0}}}}})],Ge.prototype,"fullText",void 0),u([d({type:String,json:{write:!0}})],Ge.prototype,"gdbVersion",void 0),u([d({types:yb,json:{read:zh,write:!0}})],Ge.prototype,"geometry",void 0),u([d({type:Number,json:{write:!0}})],Ge.prototype,"geometryPrecision",void 0),u([d({type:[String],json:{write:!0}})],Ge.prototype,"groupByFieldsForStatistics",void 0),u([d({type:String,json:{write:!0}})],Ge.prototype,"having",void 0),u([d({type:Date})],Ge.prototype,"historicMoment",void 0),u([ge("historicMoment")],Ge.prototype,"writeHistoricMoment",null),u([d({type:Number,json:{write:!0}})],Ge.prototype,"maxAllowableOffset",void 0),u([d({type:Number,cast:e=>e<1?1:e>Ge.MAX_MAX_RECORD_COUNT_FACTOR?Ge.MAX_MAX_RECORD_COUNT_FACTOR:e,json:{write:{overridePolicy:e=>({enabled:e>1})}}})],Ge.prototype,"maxRecordCountFactor",void 0),u([d({type:["xyFootprint"],json:{write:!0}})],Ge.prototype,"multipatchOption",void 0),u([d({type:Number,json:{read:{source:"resultRecordCount"}}})],Ge.prototype,"num",void 0),u([d({json:{write:!0}})],Ge.prototype,"objectIds",void 0),u([d({type:[String],json:{write:!0}})],Ge.prototype,"orderByFields",void 0),u([d({type:[String],json:{write:!0}})],Ge.prototype,"outFields",void 0),u([d({type:et,json:{name:"outSR",write:!0}})],Ge.prototype,"outSpatialReference",void 0),u([d({type:[aSe],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.outStatistics!=null&&this.outStatistics.length>0}}}}})],Ge.prototype,"outStatistics",void 0),u([d({json:{write:!0}})],Ge.prototype,"parameterValues",void 0),u([ge("parameterValues")],Ge.prototype,"writeParameterValues",null),u([d({type:nt,json:{write:!0}})],Ge.prototype,"pixelSize",void 0),u([d({type:NW,json:{write:!0}})],Ge.prototype,"quantizationParameters",void 0),u([d({type:[Object],json:{write:!0}})],Ge.prototype,"rangeValues",void 0),u([d({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:this.spatialRelationship==="relation"}}}}})],Ge.prototype,"relationParameter",void 0),u([d({type:String,json:{write:!0}})],Ge.prototype,"resultType",void 0),u([d({type:Boolean,json:{default:!1,write:!0}})],Ge.prototype,"returnCentroid",void 0),u([d({type:Boolean,json:{default:!1,write:!0}})],Ge.prototype,"returnDistinctValues",void 0),u([d({type:Boolean,json:{default:!0,write:!0}})],Ge.prototype,"returnExceededLimitFeatures",void 0),u([d({type:Boolean,json:{write:!0}})],Ge.prototype,"returnGeometry",void 0),u([d({type:Boolean,json:{default:!1,write:!0}})],Ge.prototype,"returnQueryGeometry",void 0),u([d({type:Boolean,json:{default:!1,write:!0}})],Ge.prototype,"returnM",void 0),u([d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Ge.prototype,"returnZ",void 0),u([d({type:Boolean,json:{write:!0}})],Ge.prototype,"returnTrueCurves",void 0),u([d({type:et,json:{write:!0}})],Ge.prototype,"sourceSpatialReference",void 0),u([Ve(oSe,{ignoreUnknown:!1,name:"spatialRel"})],Ge.prototype,"spatialRelationship",void 0),u([d({type:Number,json:{read:{source:"resultOffset"}}})],Ge.prototype,"start",void 0),u([ge("start"),ge("num")],Ge.prototype,"writeStart",null),u([d({type:String,json:{write:!0}})],Ge.prototype,"sqlFormat",void 0),u([d({type:String,json:{write:!0}})],Ge.prototype,"text",void 0),u([d({type:Rl,json:{write:!0}})],Ge.prototype,"timeExtent",void 0),u([d({type:Boolean,json:{default:!1,write:!0}})],Ge.prototype,"timeReferenceUnknownClient",void 0),u([Ve(lSe,{ignoreUnknown:!1}),d({json:{write:{overridePolicy(e){return{enabled:!!e&&this.distance!=null}}}}})],Ge.prototype,"units",void 0),u([d({type:String,json:{write:{overridePolicy(e){return{enabled:e!=null||this.start!=null&&this.start>0}}}}})],Ge.prototype,"where",void 0),u([ge("where")],Ge.prototype,"writeWhere",null),Ge=W1=u([k("esri.rest.support.Query")],Ge);const Dl=Ge;var NM;const uT=new at({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),cT=new at({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let sa=NM=class extends te{constructor(e){super(e),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(e={}){const{where:t,geometry:n,spatialRelationship:i,timeExtent:r,objectIds:s,units:o,distance:a}=this;return new Dl({geometry:j(n),objectIds:j(s),spatialRelationship:i,timeExtent:j(r),where:t,units:o,distance:a,...e})}clone(){const{where:e,geometry:t,spatialRelationship:n,timeExtent:i,objectIds:r,units:s,distance:o}=this;return new NM({geometry:j(t),objectIds:j(r),spatialRelationship:n,timeExtent:j(i),where:e,units:s,distance:o})}};u([d({type:String,json:{write:!0}})],sa.prototype,"where",void 0),u([d({types:yb,json:{write:!0}})],sa.prototype,"geometry",void 0),u([d({type:uT.apiValues,json:{name:"spatialRel",read:{reader:uT.read},write:{allowNull:!1,writer:uT.write,overridePolicy(){return{enabled:this.geometry!=null}}}}})],sa.prototype,"spatialRelationship",void 0),u([d({type:Number,json:{write:{overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],sa.prototype,"distance",void 0),u([d({type:[Number],json:{write:!0}})],sa.prototype,"objectIds",void 0),u([d({type:cT.apiValues,json:{read:cT.read,write:{writer:cT.write,overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],sa.prototype,"units",void 0),u([d({type:Rl,json:{write:!0}})],sa.prototype,"timeExtent",void 0),sa=NM=u([k("esri.layers.support.FeatureFilter")],sa);const uSe=sa;var DM;const QV={read:{reader:v0},write:{writer:b0,overridePolicy(){return{allowNull:this.excludedEffect!=null,isRequired:this.excludedEffect==null}}}},eF={read:{reader:v0},write:{writer:b0,overridePolicy(){return{allowNull:this.includedEffect!=null,isRequired:this.includedEffect==null}}}},tF={name:"showExcludedLabels",default:!0};let bd=DM=class extends te{constructor(e){super(e),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(e,t){const n=super.write(e,t);if(t?.origin){if(n.filter){const i=Object.keys(n.filter);if(i.length>1||i[0]!=="where")return t.messages?.push(new B("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:t.layer,effect:this})),null}if("showExcludedLabels"in n)return t.messages?.push(new B("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:t.layer,effect:this})),null}return n}clone(){return new DM({filter:this.filter!=null?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};u([d({type:uSe,json:{write:{allowNull:!0,writer(e,t,n,i){const r=e?.write({},i);r&&Object.keys(r).length!==0?$i(n,r,t):$i(n,null,t)}}}})],bd.prototype,"filter",void 0),u([d({json:{read:v0,write:{writer:b0,allowNull:!0},origins:{"web-map":QV,"portal-item":QV}}})],bd.prototype,"includedEffect",void 0),u([d({json:{read:v0,write:{writer:b0,allowNull:!0},origins:{"web-map":eF,"portal-item":eF}}})],bd.prototype,"excludedEffect",void 0),u([d({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":tF,"portal-item":tF}}})],bd.prototype,"excludedLabelsVisible",void 0),bd=DM=u([k("esri.layers.support.FeatureEffect")],bd);const cSe=bd,nF={write:{allowNull:!0}},dSe={type:cSe,json:{origins:{"web-map":nF,"portal-item":nF}}},hSe=e=>{let t=class extends e{constructor(){super(...arguments),this.featureEffect=null}};return u([d(dSe)],t.prototype,"featureEffect",void 0),t=u([k("esri.layers.mixins.FeatureEffectLayer")],t),t};var Ag;const SS=Ii()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),DW=SS.jsonValues.slice();bce(DW,"orthometric");const _v=Ii()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let $o=Ag=class extends te{constructor(e){super(e),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(e,t,n){return SS.write(e,t,n)}readHeightModel(e,t,n){return SS.read(e)||(n?.messages&&n.messages.push(pSe(e,{context:n})),null)}readHeightUnit(e,t,n){return _v.read(e)||(n?.messages&&n.messages.push(iF(e,{context:n})),null)}readHeightUnitService(e,t,n){return OL(e)||_v.read(e)||(n?.messages&&n.messages.push(iF(e,{context:n})),null)}readVertCRS(e,t){return t.vertCRS||t.ellipsoid||t.geoid}clone(){return new Ag({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(e){return!!e&&(this===e||this.heightModel===e.heightModel&&this.heightUnit===e.heightUnit&&this.vertCRS===e.vertCRS)}static deriveUnitFromSR(e,t){const n=LG(t);return new Ag({heightModel:e.heightModel,heightUnit:n??void 0,vertCRS:e.vertCRS})}write(e,t){return t={origin:"web-scene",...t},super.write(e,t)}static fromJSON(e){if(!e)return null;const t=new Ag;return t.read(e,{origin:"web-scene"}),t}};function iF(e,t){return new Js("height-unit:unsupported",`Height unit of value '${e}' is not supported`,t)}function pSe(e,t){return new Js("height-model:unsupported",`Height model of value '${e}' is not supported`,t)}u([d({type:SS.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:DW,default:"ellipsoidal",write:{isRequired:!0}}}}})],$o.prototype,"heightModel",void 0),u([ge("web-scene","heightModel")],$o.prototype,"writeHeightModel",null),u([le(["web-scene","service"],"heightModel")],$o.prototype,"readHeightModel",null),u([d({type:_v.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:_v.jsonValues,write:{writer:_v.write,isRequired:!0}}}}})],$o.prototype,"heightUnit",void 0),u([le("web-scene","heightUnit")],$o.prototype,"readHeightUnit",null),u([le("service","heightUnit")],$o.prototype,"readHeightUnitService",null),u([d({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],$o.prototype,"vertCRS",void 0),u([le("service","vertCRS",["vertCRS","ellipsoid","geoid"])],$o.prototype,"readVertCRS",null),$o=Ag=u([k("esri.geometry.HeightModelInfo")],$o);const Tb=$o;var VM;let Pg=VM=class extends te{constructor(e){super(e)}async collectRequiredFields(e,t){return rr(e,t,this.expression)}clone(){return new VM({expression:this.expression,title:this.title})}equals(e){return this.expression===e.expression&&this.title===e.title}};u([d({type:String,json:{write:{isRequired:!0}}})],Pg.prototype,"expression",void 0),u([d({type:String,json:{write:!0}})],Pg.prototype,"title",void 0),Pg=VM=u([k("esri.symbols.support.FeatureExpressionInfo")],Pg);const rF=Pg,Cx={unknown:1,inches:Mn(1,"meters","inches"),feet:Mn(1,"meters","feet"),"us-feet":Mn(1,"meters","us-feet"),yards:Mn(1,"meters","yards"),miles:Mn(1,"meters","miles"),"nautical-miles":Mn(1,"meters","nautical-miles"),millimeters:Mn(1,"meters","millimeters"),centimeters:Mn(1,"meters","centimeters"),decimeters:Mn(1,"meters","decimeters"),meters:Mn(1,"meters","meters"),kilometers:Mn(1,"meters","kilometers"),"decimal-degrees":1/Oye(1,"meters",_n.radius)};function TUe(e){return!!e&&Cx[e]!=null}function EUe(e){return 1/(Cx[e]||1)}function fSe(){const e=Object.keys(Cx);return AU(e,"decimal-degrees"),e.sort(),e}const mSe=fSe();var FM;const pw=Ii()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),sF=new at({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let nl=FM=class extends te{constructor(e){super(e),this.featureExpressionInfo=void 0,this.offset=null}readFeatureExpressionInfo(e,t){return e??(t.featureExpression&&t.featureExpression.value===0?{expression:"0"}:void 0)}writeFeatureExpressionInfo(e,t,n,i){t[n]=e.write({},i),e.expression==="0"&&(t.featureExpression={value:0})}get mode(){const{offset:e,featureExpressionInfo:t}=this;return this._isOverridden("mode")?this._get("mode"):e!=null||t?"relative-to-ground":"on-the-ground"}set mode(e){this._override("mode",e)}set unit(e){this._set("unit",e)}write(e,t){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,t):null}clone(){return new FM({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}equals(e){return this.mode===e.mode&&this.offset===e.offset&&this.unit===e.unit&&kce(this.featureExpressionInfo,e.featureExpressionInfo)}};u([d({type:rF,json:{write:!0}})],nl.prototype,"featureExpressionInfo",void 0),u([le("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],nl.prototype,"readFeatureExpressionInfo",null),u([ge("featureExpressionInfo",{featureExpressionInfo:{type:rF},"featureExpression.value":{type:[0]}})],nl.prototype,"writeFeatureExpressionInfo",null),u([d({type:pw.apiValues,nonNullable:!0,json:{type:pw.jsonValues,read:pw.read,write:{writer:pw.write,isRequired:!0}}})],nl.prototype,"mode",null),u([d({type:Number,json:{write:!0}})],nl.prototype,"offset",void 0),u([d({type:mSe,json:{type:String,read:sF.read,write:sF.write}})],nl.prototype,"unit",null),nl=FM=u([k("esri.symbols.support.ElevationInfo")],nl);const ySe=nl;let uf=class extends te{constructor(t){super(t),this.description=null,this.label=null,this.type=null}};u([d({type:String,json:{write:!0}})],uf.prototype,"description",void 0),u([d({type:String,json:{write:!0}})],uf.prototype,"label",void 0),u([d()],uf.prototype,"type",void 0),uf=u([k("esri.tables.elements.AttributeTableElement")],uf);const Lm=uf;var jM;let Lg=jM=class extends Lm{constructor(e){super(e),this.displayType="auto",this.type="attachment"}clone(){return new jM({description:this.description,displayType:this.displayType,label:this.label})}};u([d({type:["auto"],json:{write:!0}})],Lg.prototype,"displayType",void 0),u([d({type:["attachment"],readOnly:!0,json:{read:!1,write:!0}})],Lg.prototype,"type",void 0),Lg=jM=u([k("esri.tables.elements.AttributeTableAttachmentElement")],Lg);const oF=Lg;var zM;let Og=zM=class extends Lm{constructor(e){super(e),this.fieldName=null,this.type="field"}clone(){return new zM({description:this.description,fieldName:this.fieldName,label:this.label})}};u([d({type:String,json:{write:!0}})],Og.prototype,"fieldName",void 0),u([d({type:String,json:{read:!1,write:!0}})],Og.prototype,"type",void 0),Og=zM=u([k("esri.tables.elements.AttributeTableFieldElement")],Og);const aF=Og;var BM;let Rg=BM=class extends Lm{constructor(e){super(e),this.relationshipId=null,this.type="relationship"}clone(){return new BM({description:this.description,label:this.label,relationshipId:this.relationshipId})}};u([d({type:Number,json:{write:!0}})],Rg.prototype,"relationshipId",void 0),u([d({type:["relationship"],json:{read:!1,write:!0}})],Rg.prototype,"type",void 0),Rg=BM=u([k("esri.tables.elements.AttributeTableRelationshipElement")],Rg);const lF=Rg;function VW(e){return{typesWithGroup:{base:Lm,key:"type",typeMap:{attachment:oF,field:aF,group:e,relationship:lF}},typesWithoutGroup:{base:Lm,key:"type",typeMap:{attachment:oF,field:aF,relationship:lF}}}}function FW(e,t,n=!0){if(!e)return null;const i=n?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(r=>i[r.type]).map(r=>i[r.type].fromJSON(r))}function jW(e,t,n=!0){if(!e)return null;const i=n?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(r=>i[r.type]).map(r=>r.toJSON())}function zW(e,t,n=!0){return e?e.map(i=>Ho(n?t.typesWithGroup:t.typesWithoutGroup,i)):null}var UM;let vl=UM=class extends Lm{constructor(e){super(e),this.elements=null,this.type="group"}castElements(e){return zW(e,dT,!1)}readElements(e,t){return FW(t.attributeTableElements,dT,!1)}writeElements(e,t){t.attributeTableElements=jW(e,dT,!1)}clone(){return new UM({description:this.description,elements:j(this.elements),label:this.label})}};u([d({json:{write:!0}})],vl.prototype,"elements",void 0),u([pt("elements")],vl.prototype,"castElements",null),u([le("elements",["attributeTableElements"])],vl.prototype,"readElements",null),u([ge("elements")],vl.prototype,"writeElements",null),u([d({type:String,json:{read:!1,write:!0}})],vl.prototype,"type",void 0),vl=UM=u([k("esri.tables.elements.AttributeTableGroupElement")],vl);const dT=VW(vl),gSe=vl;var GM;const hT=VW(gSe);let _u=GM=class extends te{constructor(e){super(e),this.elements=null,this.orderByFields=null}castElements(e){return zW(e,hT)}readElements(e,t){return FW(t.attributeTableElements,hT)}writeElements(e,t){t.attributeTableElements=jW(e,hT)}clone(){return new GM({elements:j(this.elements),orderByFields:this.orderByFields})}};u([d({json:{write:!0}})],_u.prototype,"elements",void 0),u([pt("elements")],_u.prototype,"castElements",null),u([le("elements",["attributeTableElements"])],_u.prototype,"readElements",null),u([ge("elements")],_u.prototype,"writeElements",null),u([d({type:[Object],json:{write:!0}})],_u.prototype,"orderByFields",void 0),_u=GM=u([k("esri.tables.AttributeTableTemplate")],_u);const vSe=_u,bSe={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:{enabled:!0,layerContainerTypes:an}}},Mx={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(e,t)=>!t.disablePopup},write:{enabled:!0,writer(e,t,n){t[n]=!e}}}},kx={type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",write:{enabled:!0,layerContainerTypes:an}}},wSe={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:Ph}}},_Se={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:{enabled:!0,layerContainerTypes:an}}},SSe={value:null,type:ySe,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:{enabled:!0,layerContainerTypes:an}}};function CUe(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const BW={write:{enabled:!0,layerContainerTypes:an},read:!0},HM={type:Number,json:{origins:{"web-document":BW,"portal-item":{write:{layerContainerTypes:an}}}}},xSe={...HM,json:{...HM.json,origins:{"web-document":{...BW,write:{enabled:!0,layerContainerTypes:an,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(e,t,n)=>n&&n.origin!=="service"||!t.drawingInfo||t.drawingInfo.transparency===void 0?t.layerDefinition?.drawingInfo&&t.layerDefinition.drawingInfo.transparency!==void 0?p0(t.layerDefinition.drawingInfo.transparency):void 0:p0(t.drawingInfo.transparency)}}},MUe={type:Gt,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(e,t)=>{const n=Gt.fromJSON(e);return t.spatialReference!=null&&typeof t.spatialReference=="object"&&(n.spatialReference=et.fromJSON(t.spatialReference)),n}}}},read:!1}},$Se={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},TSe={type:Number,json:{origins:{service:{write:{enabled:!1}}},name:"layerDefinition.minScale",write:{layerContainerTypes:an}}},ESe={type:Number,json:{origins:{service:{write:{enabled:!1}}},name:"layerDefinition.maxScale",write:{layerContainerTypes:an}}},UW={json:{write:{ignoreOrigin:!0,layerContainerTypes:an},origins:{"web-map":{read:!1,write:!1}}}},ISe={type:vSe,json:{name:"attributeTableInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}};let il=class extends ut.ClonableMixin(te){constructor(t){super(t),this.creatorField=null,this.creationDateField=null,this.editorField=null,this.editDateField=null,this.realm=null,this.timeZone=null}};u([d()],il.prototype,"creatorField",void 0),u([d()],il.prototype,"creationDateField",void 0),u([d()],il.prototype,"editorField",void 0),u([d()],il.prototype,"editDateField",void 0),u([d()],il.prototype,"realm",void 0),u([d(fS("dateFieldsTimeReference",!0))],il.prototype,"timeZone",void 0),il=u([k("esri.layers.support.EditFieldsInfo")],il);const CSe=il;let ga=class extends ut.ClonableMixin(te){constructor(t){super(t)}};u([d({constructOnly:!0,json:{write:!0}})],ga.prototype,"name",void 0),u([d({constructOnly:!0,json:{write:!0}})],ga.prototype,"fields",void 0),u([d({constructOnly:!0,json:{write:!0}})],ga.prototype,"isAscending",void 0),u([d({constructOnly:!0,json:{write:!0}})],ga.prototype,"indexType",void 0),u([d({constructOnly:!0,json:{write:!0}})],ga.prototype,"isUnique",void 0),u([d({constructOnly:!0,json:{write:!0}})],ga.prototype,"description",void 0),ga=u([k("esri.layers.support.FeatureIndex")],ga);async function MSe(e,t,n){t=t.clone(),e.capabilities.query.supportsMaxRecordCountFactor&&(t.maxRecordCountFactor=GW(e));const i=kSe(e),r=e.capabilities.query.supportsPagination;t.start=0,t.num=i;let s=null;for(;;){const o=await e.source.queryFeaturesJSON(t,n);if(s==null?s=o:s.features=s.features.concat(o.features),s.exceededTransferLimit=o.exceededTransferLimit,!r||!o.exceededTransferLimit)break;t.start+=i}return s}function kSe(e){return GW(e)*ASe(e)}function ASe(e){return e.capabilities.query.maxRecordCount||2e3}function GW(e){return e.capabilities.query.supportsMaxRecordCountFactor?Dl.MAX_MAX_RECORD_COUNT_FACTOR:1}function PSe(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="feature"}function LSe(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="subtype-group"&&"sublayers"in e}function wd(e){return e?.type==="subtype-sublayer"}const PUe={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function qM(e){const t=e?.type;return t==="building-scene"||t==="integrated-mesh"||t==="point-cloud"||t==="scene"}function LUe(e){return e==="integrated-mesh"||e==="integrated-mesh-3dtiles"}function Ax(e){return e?.type==="feature"&&!e.url&&e.source?.type==="memory"}function OUe(e){const t=e?.type;return(t==="feature"||t==="subtype-group"||t==="oriented-imagery")&&e?.source?.type==="feature-layer"}async function C3(e,t){const n=dt?.findServerInfo(e);if(n?.currentVersion!=null)return n.owningSystemUrl||null;const i=e.toLowerCase().indexOf("/rest/services");if(i===-1)return null;const r=`${e.slice(0,i)}/rest/info`,s=t!=null?t.signal:null,{data:o}=await Lt(r,{query:{f:"json"},responseType:"json",signal:s});return o?.owningSystemUrl||null}function HW(e){if(!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function OSe(e){return HW(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function RSe(e){if(!("editingEnabled"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}function NSe(e){return!!RSe(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}var WM;let Ng=WM=class extends te{constructor(e){super(e),this.minValue=0,this.maxValue=0}clone(){return new WM({minValue:this.minValue,maxValue:this.maxValue})}};u([d({type:Number,json:{write:!0}})],Ng.prototype,"minValue",void 0),u([d({type:Number,json:{write:!0}})],Ng.prototype,"maxValue",void 0),Ng=WM=u([k("esri.renderers.support.AuthoringInfoClassBreakInfo")],Ng);var ZM;let zu=ZM=class extends te{constructor(e){super(e),this.field="",this.normalizationField="",this.label="",this.classBreakInfos=new Array}clone(){return new ZM({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:j(this.classBreakInfos)})}};u([d({type:String,json:{write:!0}})],zu.prototype,"field",void 0),u([d({type:String,json:{write:!0}})],zu.prototype,"normalizationField",void 0),u([d({type:String,json:{write:!0}})],zu.prototype,"label",void 0),u([d({type:[Ng],json:{write:!0}})],zu.prototype,"classBreakInfos",void 0),zu=ZM=u([k("esri.renderers.support.AuthoringInfoFieldInfo")],zu);var YM;let cf=YM=class extends te{constructor(e){super(e),this.label=null,this.size=null,this.value=null}clone(){return new YM({label:this.label,value:this.value,size:this.size})}};u([d({type:String,json:{write:!0}})],cf.prototype,"label",void 0),u([d({type:Number,json:{write:!0}})],cf.prototype,"size",void 0),u([d({type:Number,json:{write:!0}})],cf.prototype,"value",void 0),cf=YM=u([k("esri.renderers.support.AuthoringInfoSizeStop")],cf);const DSe=cf;var JM;const fw=new at({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),mw=new at({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),uF={key:e=>typeof e=="number"?"number":"string",typeMap:{number:Number,string:String},base:null},cF=["high-to-low","above-and-below","centered-on","extremes"],dF=[...new Set(["high-to-low","above-and-below","centered-on","extremes","above","below","high-to-low","above-and-below","above","below","reference-size"])],hF=["seconds","minutes","hours","days","months","years"],VSe=["circle","diamond","hexagon-flat","hexagon-pointy","square"];let yi=JM=class extends te{constructor(e){super(e),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime(e){return typeof e=="string"||typeof e=="number"?e:null}get normalizationField(){return this.theme==="reference-size"?this._get("normalizationField"):null}set normalizationField(e){this._set("normalizationField",e)}get referenceSizeScale(){return this.theme==="reference-size"?this._get("referenceSizeScale"):null}set referenceSizeScale(e){this._set("referenceSizeScale",e)}get referenceSizeSymbolStyle(){return this.theme==="reference-size"?this._get("referenceSizeSymbolStyle"):null}set referenceSizeSymbolStyle(e){this._set("referenceSizeSymbolStyle",e)}castStartTime(e){return typeof e=="string"||typeof e=="number"?e:null}get sizeStops(){return this.theme==="reference-size"?this._get("sizeStops"):null}set sizeStops(e){this._set("sizeStops",e)}get style(){return this.type==="color"?this._get("style"):null}set style(e){this._set("style",e)}get theme(){return this.type==="color"||this.type==="size"?this._get("theme")||"high-to-low":null}set theme(e){this._set("theme",e)}clone(){return new JM({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,normalizationField:this.normalizationField,referenceSizeScale:this.referenceSizeScale,referenceSizeSymbolStyle:this.referenceSizeSymbolStyle,sizeStops:j(this.sizeStops),startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};u([d({types:uF,json:{write:!0}})],yi.prototype,"endTime",void 0),u([pt("endTime")],yi.prototype,"castEndTime",null),u([d({type:String,json:{write:!0}})],yi.prototype,"field",void 0),u([d({type:Number,json:{write:!0}})],yi.prototype,"maxSliderValue",void 0),u([d({type:Number,json:{write:!0}})],yi.prototype,"minSliderValue",void 0),u([d({type:String,json:{origins:{"web-scene":{write:!1}},write:!0}})],yi.prototype,"normalizationField",null),u([d({type:Number,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],yi.prototype,"referenceSizeScale",null),u([d({type:VSe,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],yi.prototype,"referenceSizeSymbolStyle",null),u([d({types:uF,json:{write:!0}})],yi.prototype,"startTime",void 0),u([pt("startTime")],yi.prototype,"castStartTime",null),u([d({type:[DSe],json:{origins:{"web-scene":{write:!1}},write:!0}})],yi.prototype,"sizeStops",null),u([d({type:fw.apiValues,value:null,json:{type:fw.jsonValues,read:fw.read,write:fw.write}})],yi.prototype,"style",null),u([d({type:dF,value:null,json:{type:dF,origins:{"web-scene":{type:cF,write:{writer:(e,t)=>{cF.includes(e)&&(t.theme=e)}}}},write:!0}})],yi.prototype,"theme",null),u([d({type:mw.apiValues,json:{type:mw.jsonValues,read:mw.read,write:mw.write}})],yi.prototype,"type",void 0),u([d({type:hF,json:{type:hF,write:!0}})],yi.prototype,"units",void 0),yi=JM=u([k("esri.renderers.support.AuthoringInfoVisualVariable")],yi);const FSe=yi;let Z1=class extends te{constructor(t){super(t),this.type=null}};u([d({readOnly:!0,json:{read:!1,write:!0}})],Z1.prototype,"type",void 0),Z1=u([k("esri.rest.support.ColorRamp")],Z1);const M3=Z1;var KM;let _d=KM=class extends M3{constructor(e){super(e),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new KM({fromColor:j(this.fromColor),toColor:j(this.toColor),algorithm:this.algorithm})}};u([Ve({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],_d.prototype,"algorithm",void 0),u([d({type:he,json:{type:[wt],write:!0}})],_d.prototype,"fromColor",void 0),u([d({type:he,json:{type:[wt],write:!0}})],_d.prototype,"toColor",void 0),u([d({type:["algorithmic"]})],_d.prototype,"type",void 0),_d=KM=u([k("esri.rest.support.AlgorithmicColorRamp")],_d);const k3=_d;var XM;let Dg=XM=class extends M3{constructor(e){super(e),this.colorRamps=null,this.type="multipart"}clone(){return new XM({colorRamps:j(this.colorRamps)})}};u([d({type:[k3],json:{write:!0}})],Dg.prototype,"colorRamps",void 0),u([d({type:["multipart"]})],Dg.prototype,"type",void 0),Dg=XM=u([k("esri.rest.support.MultipartColorRamp")],Dg);const qW=Dg,jSe={key:"type",base:M3,typeMap:{algorithmic:k3,multipart:qW}};function zSe(e){return e?.type?e.type==="algorithmic"?k3.fromJSON(e):e.type==="multipart"?qW.fromJSON(e):null:null}var QM;const Uc=new at({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),yw=new at({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",flow:"flow"}),pF=new at({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),fF=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers"],BSe=["high-to-low","above-and-below","above","below"],USe=["flow-line","wave-front"],GSe=["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"];let vn=QM=class extends te{constructor(e){super(e),this.colorRamp=null,this.fadeRatio=null,this.isAutoGenerated=!1,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){const e=this._get("classificationMethod"),t=this.type;return t&&t!=="relationship"?t==="class-breaks-size"||t==="class-breaks-color"?e||"manual":null:e}set classificationMethod(e){this._set("classificationMethod",e)}readColorRamp(e){return e?zSe(e):void 0}get fields(){return this.type&&this.type!=="predominance"?null:this._get("fields")}set fields(e){this._set("fields",e)}get field1(){return this.type&&this.type!=="relationship"?null:this._get("field1")}set field1(e){this._set("field1",e)}get field2(){return this.type&&this.type!=="relationship"?null:this._get("field2")}set field2(e){this._set("field2",e)}get flowTheme(){return this.type==="flow"?this._get("flowTheme"):null}set flowTheme(e){this._set("flowTheme",e)}get focus(){return this.type&&this.type!=="relationship"?null:this._get("focus")}set focus(e){this._set("focus",e)}get numClasses(){return this.type&&this.type!=="relationship"?null:this._get("numClasses")}set numClasses(e){this._set("numClasses",e)}get statistics(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("statistics"):null}set statistics(e){this._set("statistics",e)}get standardDeviationInterval(){const e=this.type;return e&&e!=="relationship"&&e!=="class-breaks-size"&&e!=="class-breaks-color"||this.classificationMethod&&this.classificationMethod!=="standard-deviation"?null:this._get("standardDeviationInterval")}set standardDeviationInterval(e){this._set("standardDeviationInterval",e)}get type(){return this._get("type")}set type(e){let t=e;e==="classed-size"?t="class-breaks-size":e==="classed-color"&&(t="class-breaks-color"),this._set("type",t)}get univariateSymbolStyle(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(e){this._set("univariateSymbolStyle",e)}get univariateTheme(){return this.type==="univariate-color-size"?this._get("univariateTheme"):null}set univariateTheme(e){this._set("univariateTheme",e)}clone(){return new QM({classificationMethod:this.classificationMethod,colorRamp:j(this.colorRamp),fadeRatio:j(this.fadeRatio),fields:this.fields?.slice(),field1:j(this.field1),field2:j(this.field2),isAutoGenerated:this.isAutoGenerated,focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(e=>e.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};u([d({type:Uc.apiValues,value:null,json:{type:Uc.jsonValues,read:Uc.read,write:Uc.write,origins:{"web-document":{default:"manual",type:Uc.jsonValues,read:Uc.read,write:Uc.write}}}})],vn.prototype,"classificationMethod",null),u([d({types:jSe,json:{write:!0}})],vn.prototype,"colorRamp",void 0),u([le("colorRamp")],vn.prototype,"readColorRamp",null),u([d({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],vn.prototype,"fadeRatio",void 0),u([d({type:[String],value:null,json:{write:!0}})],vn.prototype,"fields",null),u([d({type:zu,value:null,json:{write:!0}})],vn.prototype,"field1",null),u([d({type:zu,value:null,json:{write:!0}})],vn.prototype,"field2",null),u([d({type:USe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],vn.prototype,"flowTheme",null),u([d({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],vn.prototype,"focus",null),u([d({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],vn.prototype,"isAutoGenerated",void 0),u([d({type:Number,value:null,json:{type:wt,write:!0}})],vn.prototype,"numClasses",null),u([d({type:fF,json:{type:fF,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],vn.prototype,"lengthUnit",void 0),u([d({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],vn.prototype,"maxSliderValue",void 0),u([d({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],vn.prototype,"minSliderValue",void 0),u([d({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],vn.prototype,"statistics",null),u([d({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],vn.prototype,"standardDeviationInterval",null),u([d({type:yw.apiValues,value:null,json:{type:yw.jsonValues,read:yw.read,write:yw.write,origins:{"web-scene":{type:pF.jsonValues,write:{writer:pF.write,overridePolicy:e=>({enabled:e!=="flow"})}}}}})],vn.prototype,"type",null),u([d({type:[FSe],json:{write:!0}})],vn.prototype,"visualVariables",void 0),u([d({type:GSe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],vn.prototype,"univariateSymbolStyle",null),u([d({type:BSe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],vn.prototype,"univariateTheme",null),vn=QM=u([k("esri.renderers.support.AuthoringInfo")],vn);const A3=vn,pT=new at({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary",pieChart:"pie-chart"},{ignoreUnknown:!0});let Vg=class extends te{constructor(t){super(t),this.authoringInfo=null,this.type=null}async getRequiredFields(t){if(!this.collectRequiredFields)return[];const n=new Set;return await this.collectRequiredFields(n,t),Array.from(n).sort()}getSymbol(t,n){}async getSymbolAsync(t,n){}get symbols(){return[]}get arcadeRequired(){return!1}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};u([d({type:A3,json:{write:!0}})],Vg.prototype,"authoringInfo",void 0),u([d({type:pT.apiValues,readOnly:!0,json:{type:pT.jsonValues,read:!1,write:{writer:pT.write,ignoreOrigin:!0,isRequired:!0}}})],Vg.prototype,"type",void 0),Vg=u([k("esri.renderers.Renderer")],Vg);const Wl=Vg;let Fg=class extends ut.ClonableMixin(te){constructor(){super(...arguments),this.showLegend=null,this.title=null}};u([d({type:Boolean,json:{write:!0}})],Fg.prototype,"showLegend",void 0),u([d({type:String,json:{write:!0}})],Fg.prototype,"title",void 0),Fg=u([k("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],Fg);const WW=Fg,fT=new at({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});let To=class extends te{constructor(t){super(t),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(t){return t==null?t:typeof t=="function"?(re.getLogger(this).error(".field: field must be a string value"),null):sb(t)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};u([d()],To.prototype,"index",void 0),u([d({type:fT.apiValues,readOnly:!0,json:{read:fT.read,write:{writer:fT.write,isRequired:!0}}})],To.prototype,"type",void 0),u([d({type:String,json:{write:!0}})],To.prototype,"field",void 0),u([pt("field")],To.prototype,"castField",null),u([d({type:String,json:{write:!0}})],To.prototype,"valueExpression",void 0),u([d({type:String,json:{write:!0}})],To.prototype,"valueExpressionTitle",void 0),u([d({readOnly:!0})],To.prototype,"arcadeRequired",null),u([d({type:WW,json:{write:!0}})],To.prototype,"legendOptions",void 0),To=u([k("esri.renderers.visualVariables.VisualVariable")],To);const fy=To;var ek;let Sd=ek=class extends te{constructor(e){super(e),this.color=null,this.label=null,this.value=null}writeValue(e,t,n){t[n]=e??0}clone(){return new ek({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};u([d({type:he,json:{type:[wt],write:{isRequired:!0}}})],Sd.prototype,"color",void 0),u([d({type:String,json:{write:!0}})],Sd.prototype,"label",void 0),u([d({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],Sd.prototype,"value",void 0),u([ge("value")],Sd.prototype,"writeValue",null),Sd=ek=u([k("esri.renderers.visualVariables.support.ColorStop")],Sd);const HSe=Sd;var tk;let xd=tk=class extends fy{constructor(e){super(e),this.type="color",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,n)=>t.value-n.value),this._set("stops",e)}clone(){return new tk({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(e=>e.clone()),legendOptions:this.legendOptions?.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};u([d({readOnly:!0})],xd.prototype,"cache",null),u([d({type:["color"],json:{type:["colorInfo"]}})],xd.prototype,"type",void 0),u([d({type:String,json:{write:!0}})],xd.prototype,"normalizationField",void 0),u([d({type:[HSe],json:{write:!0}})],xd.prototype,"stops",null),xd=tk=u([k("esri.renderers.visualVariables.ColorVariable")],xd);const ZW=xd;var nk;let Su=nk=class extends te{constructor(e){super(e),this.label=null,this.opacity=null,this.value=null}readOpacity(e,t){return p0(t.transparency)}writeOpacity(e,t,n){t[n]=bx(e)}clone(){return new nk({label:this.label,opacity:this.opacity,value:this.value})}};u([d({type:String,json:{write:!0}})],Su.prototype,"label",void 0),u([d({type:Number,json:{type:wt,write:{target:"transparency",isRequired:!0}}})],Su.prototype,"opacity",void 0),u([le("opacity",["transparency"])],Su.prototype,"readOpacity",null),u([ge("opacity")],Su.prototype,"writeOpacity",null),u([d({type:Number,json:{write:{isRequired:!0}}})],Su.prototype,"value",void 0),Su=nk=u([k("esri.renderers.visualVariables.support.OpacityStop")],Su);const qSe=Su;var ik;let $d=ik=class extends fy{constructor(e){super(e),this.type="opacity",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,n)=>t.value-n.value),this._set("stops",e)}clone(){return new ik({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(e=>e.clone()),legendOptions:this.legendOptions?.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};u([d({readOnly:!0})],$d.prototype,"cache",null),u([d({type:["opacity"],json:{type:["transparencyInfo"]}})],$d.prototype,"type",void 0),u([d({type:String,json:{write:!0}})],$d.prototype,"normalizationField",void 0),u([d({type:[qSe],json:{write:!0}})],$d.prototype,"stops",null),$d=ik=u([k("esri.renderers.visualVariables.OpacityVariable")],$d);const P3=$d;var rk;let Td=rk=class extends fy{constructor(e){super(e),this.axis=null,this.type="rotation",this.rotationType="geographic"}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}clone(){return new rk({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions?.clone()})}};u([d({readOnly:!0})],Td.prototype,"cache",null),u([d({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],Td.prototype,"axis",void 0),u([d({type:["rotation"],json:{type:["rotationInfo"]}})],Td.prototype,"type",void 0),u([d({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],Td.prototype,"rotationType",void 0),Td=rk=u([k("esri.renderers.visualVariables.RotationVariable")],Td);const YW=Td;function WSe(e){return ht(e)}var sk;let xu=sk=class extends te{constructor(e){super(e),this.label=null,this.size=null,this.value=null,this.useMinValue=null,this.useMaxValue=null}clone(){return new sk({label:this.label,size:this.size,value:this.value,useMaxValue:this.useMaxValue,useMinValue:this.useMinValue})}};u([d({type:String,json:{write:!0}})],xu.prototype,"label",void 0),u([d({type:Number,cast:ht,json:{write:{isRequired:!0}}})],xu.prototype,"size",void 0),u([d({type:Number,json:{write:{isRequired:!0}}})],xu.prototype,"value",void 0),u([d({type:Boolean,json:{write:!1}})],xu.prototype,"useMinValue",void 0),u([d({type:Boolean,json:{write:!1}})],xu.prototype,"useMaxValue",void 0),xu=sk=u([k("esri.renderers.visualVariables.support.SizeStop")],xu);const Y1=xu;let J1=class extends WW{constructor(){super(...arguments),this.customValues=null}};u([d({type:[Number],json:{write:!0}})],J1.prototype,"customValues",void 0),J1=u([k("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],J1);const JW=J1;var El,oi;function Vf(e){return e&&e.declaredClass==="esri.renderers.visualVariables.SizeVariable"}function _0(e){return e!=null&&!isNaN(e)&&isFinite(e)}function KW(e){return e.valueExpression?El.Expression:e.field&&typeof e.field=="string"?El.Field:El.Unknown}function ZSe(e,t){const n=t||KW(e),i=e.valueUnit||"unknown";return n===El.Unknown?oi.Constant:e.stops?oi.Stops:e.minSize!=null&&e.maxSize!=null&&e.minDataValue!=null&&e.maxDataValue!=null?oi.ClampedLinear:i==="unknown"?e.minSize!=null&&e.minDataValue!=null?e.minSize&&e.minDataValue?oi.Proportional:oi.Additive:oi.Identity:oi.RealWorldSize}(function(e){e.Unknown="unknown",e.Expression="expression",e.Field="field"})(El||(El={})),function(e){e.Unknown="unknown",e.Stops="stops",e.ClampedLinear="clamped-linear",e.Proportional="proportional",e.Additive="additive",e.Constant="constant",e.Identity="identity",e.RealWorldSize="real-world-size"}(oi||(oi={}));const XW=()=>re.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),Px=e=>XW().warn(`The visualVariable should be an instance of esri.renderers.visualVariables.${e}`),Lx=()=>XW().error("Use of arcade expressions requires an arcade context"),mF=new gc,K1=Math.PI,QW=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function eZ(e,t,n){const i="visualVariables"in e&&e.visualVariables?e.visualVariables.find(g=>g.type==="color"):e;if(!i)return;if(i.declaredClass!=="esri.renderers.visualVariables.ColorVariable")return void Px("ColorVariable");const r=typeof t=="number",s=r?null:t,o=s?.attributes;let a=r?t:null;const l=i.field,{ipData:c,hasExpression:h}=i.cache;let p=i.cache.compiledFunc;if(!l&&!h){const g=i.stops;return g&&g[0]&&g[0].color}if(typeof a!="number")if(h){if(n?.arcade==null)return void Lx();const g={viewingMode:n.viewingMode,scale:n.scale,spatialReference:n.spatialReference},v=n.arcade.arcadeUtils,b=v.getViewInfo(g),w=v.createExecContext(s,b,n.timeZone);if(!p){const S=v.createSyntaxTree(i.valueExpression);p=v.createFunction(S),i.cache.compiledFunc=p}a=v.executeFunction(p,w)}else o&&(a=o[l]);const m=i.normalizationField,y=o!=null&&m!=null?parseFloat(o[m]):void 0;if(a!=null&&(!m||r||!isNaN(y)&&y!==0)){isNaN(y)||r||(a/=y);const g=L3(a,c);if(g){const v=g[0],b=g[1],w=v===b?i.stops[v].color:he.blendColors(i.stops[v].color,i.stops[b].color,g[2],n?.color);return new he(w)}}}function tZ(e,t,n){const i="visualVariables"in e&&e.visualVariables?e.visualVariables.find(g=>g.type==="opacity"):e;if(!i)return;if(i.declaredClass!=="esri.renderers.visualVariables.OpacityVariable")return void Px("OpacityVariable");const r=typeof t=="number",s=r?null:t,o=s?.attributes;let a=r?t:null;const l=i.field,{ipData:c,hasExpression:h}=i.cache;let p=i.cache.compiledFunc;if(!l&&!h){const g=i.stops;return g&&g[0]&&g[0].opacity}if(typeof a!="number")if(h){if(n?.arcade==null)return void Lx();const g={viewingMode:n.viewingMode,scale:n.scale,spatialReference:n.spatialReference},v=n.arcade.arcadeUtils,b=v.getViewInfo(g),w=v.createExecContext(s,b,n.timeZone);if(!p){const S=v.createSyntaxTree(i.valueExpression);p=v.createFunction(S),i.cache.compiledFunc=p}a=v.executeFunction(p,w)}else o&&(a=o[l]);const m=i.normalizationField,y=o!=null&&m!=null?parseFloat(o[m]):void 0;if(a!=null&&(!m||r||!isNaN(y)&&y!==0)){isNaN(y)||r||(a/=y);const g=L3(a,c);if(g){const v=g[0],b=g[1];if(v===b)return i.stops[v].opacity;{const w=i.stops[v].opacity;return w+(i.stops[b].opacity-w)*g[2]}}}}function nZ(e,t,n){const i="visualVariables"in e&&e.visualVariables?e.visualVariables.find(y=>y.type==="rotation"):e;if(!i)return;if(i.declaredClass!=="esri.renderers.visualVariables.RotationVariable")return void Px("RotationVariable");const r=i.axis||"heading",s=r==="heading"&&i.rotationType==="arithmetic"?90:0,o=r==="heading"&&i.rotationType==="arithmetic"?-1:1,a=typeof t=="number"?null:t,l=a?.attributes,c=i.field,{hasExpression:h}=i.cache;let p=i.cache.compiledFunc,m=0;if(!c&&!h)return m;if(h){if(n?.arcade==null)return void Lx();const y={viewingMode:n.viewingMode,scale:n.scale,spatialReference:n.spatialReference},g=n.arcade.arcadeUtils,v=g.getViewInfo(y),b=g.createExecContext(a,v,n.timeZone);if(!p){const w=g.createSyntaxTree(i.valueExpression);p=g.createFunction(w),i.cache.compiledFunc=p}m=g.executeFunction(p,b)}else l&&(m=l[c]||0);return m=typeof m!="number"||isNaN(m)?null:s+o*m,m}function YSe(e,t,n){const i=typeof t=="number",r=i?null:t,s=r?.attributes;let o=i?t:null;const{isScaleDriven:a}=e.cache;let l=e.cache.compiledFunc;if(a){const h=n?.scale,p=n?.view;o=h==null||p==="3d"?JSe(e):h}else if(!i)switch(e.inputValueType){case El.Expression:{if(n?.arcade==null)return void Lx();const h={viewingMode:n.viewingMode,scale:n.scale,spatialReference:n.spatialReference},p=n.arcade.arcadeUtils,m=p.getViewInfo(h),y=p.createExecContext(r,m,n.timeZone);if(!l){const g=p.createSyntaxTree(e.valueExpression);l=p.createFunction(g),e.cache.compiledFunc=l}o=p.executeFunction(l,y);break}case El.Field:s&&(o=s[e.field]);break;case El.Unknown:o=null}if(!_0(o))return null;if(i||!e.normalizationField)return o;const c=s?parseFloat(s[e.normalizationField]):null;return _0(c)&&c!==0?o/c:null}function JSe(e){let t=null,n=null;const i=e.stops;return i?(t=i[0].value,n=i[i.length-1].value):(t=e.minDataValue||0,n=e.maxDataValue||0),(t+n)/2}function Ox(e,t,n){const i="visualVariables"in e&&e.visualVariables?e.visualVariables.find(s=>s.type==="size"):e;if(!i)return;if(i.declaredClass!=="esri.renderers.visualVariables.SizeVariable")return void Px("SizeVariable");const r=rZ(YSe(i,t,n),i,t,n,i.cache.ipData);return r==null||isNaN(r)?0:r}function Hr(e,t,n){return e==null?null:Vf(e)?Ox(e,t,n):_0(e)?e:null}function iZ(e,t,n){return _0(n)&&e>n?n:_0(t)&&e<t?t:e}function KSe(e,t,n,i){return e+((Hr(t.minSize,n,i)||t.minDataValue)??0)}function XSe(e,t,n){const i=e.stops;let r=i?.length&&i[0].size;return r==null&&(r=e.minSize),Hr(r,t,n)}function QSe(e,t,n,i){const r=(e-t.minDataValue)/(t.maxDataValue-t.minDataValue),s=Hr(t.minSize,n,i),o=Hr(t.maxSize,n,i),a=i?.shape;if(e<=t.minDataValue)return s;if(e>=t.maxDataValue)return o;if(s==null||o==null)return null;if(t.scaleBy==="area"&&a){const l=a==="circle",c=l?K1*(s/2)**2:s*s,h=c+r*((l?K1*(o/2)**2:o*o)-c);return l?2*Math.sqrt(h/K1):Math.sqrt(h)}return s+r*(o-s)}function e2e(e,t,n,i){const r=i?.shape,s=e/t.minDataValue,o=Hr(t.minSize,n,i),a=Hr(t.maxSize,n,i);let l=null;return l=r==="circle"?2*Math.sqrt(s*(o/2)**2):r==="square"||r==="diamond"||r==="image"?Math.sqrt(s*o**2):s*o,iZ(l,o,a)}function t2e(e,t,n,i,r){const[s,o,a]=L3(e,r);if(s===o)return Hr(t.stops?.[s].size,n,i);{const l=Hr(t.stops?.[s].size,n,i);return l+(Hr(t.stops?.[o].size,n,i)-l)*a}}function n2e(e,t,n,i){const r=(i?.resolution??1)*Cx[t.valueUnit],s=Hr(t.minSize,n,i),o=Hr(t.maxSize,n,i),{valueRepresentation:a}=t;let l=null;return l=a==="area"?2*Math.sqrt(e/K1)/r:a==="radius"||a==="distance"?2*e/r:e/r,iZ(l,s,o)}function rZ(e,t,n,i,r){switch(t.transformationType){case oi.Additive:return KSe(e,t,n,i);case oi.Constant:return XSe(t,n,i);case oi.ClampedLinear:return QSe(e,t,n,i);case oi.Proportional:return e2e(e,t,n,i);case oi.Stops:return t2e(e,t,n,i,r);case oi.RealWorldSize:return n2e(e,t,n,i);case oi.Identity:return e;case oi.Unknown:return null}}function i2e(e,t,n){const{isScaleDriven:i}=e.cache;if(!(i&&n==="3d"||t))return null;const r={scale:t,view:n};let s=Hr(e.minSize,mF,r),o=Hr(e.maxSize,mF,r);if(s!=null||o!=null){if(s>o){const a=o;o=s,s=a}return{minSize:s,maxSize:o}}}function r2e(e,t,n){if(!e.visualVariables)return;const i=[],r=[],s=[],o=[],a=[];for(const l of e.visualVariables)switch(l.type){case"color":r.push(l);break;case"opacity":s.push(l);break;case"rotation":a.push(l);break;case"size":o.push(l)}return r.forEach(l=>{const c=eZ(l,t,n);i.push({variable:l,value:c})}),s.forEach(l=>{const c=tZ(l,t,n);i.push({variable:l,value:c})}),a.forEach(l=>{const c=nZ(l,t,n);i.push({variable:l,value:c})}),o.forEach(l=>{const c=Ox(l,t,n);i.push({variable:l,value:c})}),i.filter(l=>l.value!=null)}function L3(e,t){if(!t)return;let n=0,i=t.length-1;return t.some((r,s)=>e<r?(i=s,!0):(n=s,!1)),[n,i,(e-t[n])/(t[i]-t[n])]}function s2e(e,t,n){const i=["proportional","proportional","proportional"];for(const r of e){const s=r.useSymbolValue?"symbol-value":Ox(r,t,n);switch(r.axis){case"width":i[0]=s;break;case"depth":i[1]=s;break;case"height":i[2]=s;break;case"width-and-depth":i[0]=s,i[1]=s;break;case"all":case void 0:case null:i[0]=s,i[1]=s,i[2]=s;break;default:r.axis}}return i}const up=Object.freeze(Object.defineProperty({__proto__:null,getAllSizes:s2e,getColor:eZ,getOpacity:tZ,getRotationAngle:nZ,getSize:Ox,getSizeForValue:rZ,getSizeFromNumberOrVariable:Hr,getSizeRangeAtScale:i2e,getVisualVariableValues:r2e,viewScaleRE:QW},Symbol.toStringTag,{value:"Module"}));var ok;const gw=new at({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),ak=new at({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers"});function yF(e){if(e!=null)return typeof e=="string"||typeof e=="number"?WSe(e):e.type==="size"?Vf(e)?e:(delete(e={...e}).type,new Mt(e)):void 0}function gF(e,t,n){if(typeof e!="object")return e;const i=new Mt;return i.read(e,n),i}let Mt=ok=class extends fy{constructor(e){super(e),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type="size",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:this.valueExpression!=null&&QW.test(this.valueExpression)}}set index(e){Vf(this.maxSize)&&(this.maxSize.index=`visualVariables[${e}].maxSize`),Vf(this.minSize)&&(this.minSize.index=`visualVariables[${e}].minSize`),this._set("index",e)}get inputValueType(){return KW(this)}set maxDataValue(e){e&&this.stops&&(re.getLogger(this).warn("cannot set maxDataValue when stops is not null."),e=null),this._set("maxDataValue",e)}set maxSize(e){e&&this.stops&&(re.getLogger(this).warn("cannot set maxSize when stops is not null."),e=null),this._set("maxSize",e)}castMaxSize(e){return yF(e)}readMaxSize(e,t,n){return gF(e,t,n)}set minDataValue(e){e&&this.stops&&(re.getLogger(this).warn("cannot set minDataValue when stops is not null."),e=null),this._set("minDataValue",e)}set minSize(e){e&&this.stops&&(re.getLogger(this).warn("cannot set minSize when stops is not null."),e=null),this._set("minSize",e)}castMinSize(e){return yF(e)}readMinSize(e,t,n){return gF(e,t,n)}get arcadeRequired(){return!!this.valueExpression||this.minSize!=null&&typeof this.minSize=="object"&&this.minSize.arcadeRequired||this.maxSize!=null&&typeof this.maxSize=="object"&&this.maxSize.arcadeRequired}set stops(e){this.minDataValue==null&&this.maxDataValue==null&&this.minSize==null&&this.maxSize==null?e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,n)=>t.value-n.value):e&&(re.getLogger(this).warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),e=null),this._set("stops",e)}get transformationType(){return ZSe(this,this.inputValueType)}readValueExpression(e,t){return e||t.expression&&"$view.scale"}writeValueExpressionWebScene(e,t,n,i){if(e==="$view.scale"){if(i?.messages){const r=this.index,s=typeof r=="string"?r:`visualVariables[${r}]`;i.messages.push(new B("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:s+".valueExpression",context:i}))}}else t[n]=e}readValueUnit(e){return e?ak.read(e):null}clone(){return new ok({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:Vf(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:Vf(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops?.map(e=>e.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions?.clone()})}flipSizes(){if(this.transformationType===oi.ClampedLinear){const{minSize:e,maxSize:t}=this;return this.minSize=t,this.maxSize=e,this}if(this.transformationType===oi.Stops){const e=this.stops;if(!e)return this;const t=e.map(i=>i.size).reverse(),n=e.length;for(let i=0;i<n;i++)e[i].size=t[i];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){return this.stops?.map(e=>e.value||0)}};u([d({readOnly:!0})],Mt.prototype,"cache",null),u([d({type:gw.apiValues,json:{type:gw.jsonValues,origins:{"web-map":{read:!1}},read:gw.read,write:gw.write}})],Mt.prototype,"axis",void 0),u([d()],Mt.prototype,"index",null),u([d({type:String,readOnly:!0})],Mt.prototype,"inputValueType",null),u([d({type:JW,json:{write:!0}})],Mt.prototype,"legendOptions",void 0),u([d({type:Number,value:null,json:{write:!0}})],Mt.prototype,"maxDataValue",null),u([d({type:Number,value:null,json:{write:!0}})],Mt.prototype,"maxSize",null),u([pt("maxSize")],Mt.prototype,"castMaxSize",null),u([le("maxSize")],Mt.prototype,"readMaxSize",null),u([d({type:Number,value:null,json:{write:!0}})],Mt.prototype,"minDataValue",null),u([d({type:Number,value:null,json:{write:!0}})],Mt.prototype,"minSize",null),u([pt("minSize")],Mt.prototype,"castMinSize",null),u([le("minSize")],Mt.prototype,"readMinSize",null),u([d({type:String,json:{write:!0}})],Mt.prototype,"normalizationField",void 0),u([d({readOnly:!0})],Mt.prototype,"arcadeRequired",null),u([d({type:String})],Mt.prototype,"scaleBy",void 0),u([d({type:[Y1],value:null,json:{write:!0}})],Mt.prototype,"stops",null),u([d({type:["outline"],json:{write:!0}})],Mt.prototype,"target",void 0),u([d({type:String,readOnly:!0})],Mt.prototype,"transformationType",null),u([d({type:["size"],json:{type:["sizeInfo"]}})],Mt.prototype,"type",void 0),u([d({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],Mt.prototype,"useSymbolValue",void 0),u([d({type:String,json:{write:!0}})],Mt.prototype,"valueExpression",void 0),u([le("valueExpression",["valueExpression","expression"])],Mt.prototype,"readValueExpression",null),u([ge("web-scene","valueExpression")],Mt.prototype,"writeValueExpressionWebScene",null),u([d({type:["radius","diameter","area","width","distance"],json:{write:!0}})],Mt.prototype,"valueRepresentation",void 0),u([d({type:ak.apiValues,json:{write:ak.write,origins:{"web-map":{read:!1},"web-scene":{write:!0},"portal-item":{write:!0}}}})],Mt.prototype,"valueUnit",void 0),u([le("valueUnit")],Mt.prototype,"readValueUnit",null),Mt=ok=u([k("esri.renderers.visualVariables.SizeVariable")],Mt);const my=Mt,o2e={color:ZW,size:my,opacity:P3,rotation:YW},a2e=new at({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),l2e=/^\[([^\]]+)\]$/i;let X1=class extends Ce{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(t){if(this._resetVariables(),t=t?.filter(n=>!!n),t?.length){for(const n of t)switch(n.type){case"color":this.colorVariables.push(n);break;case"opacity":this.opacityVariables.push(n);break;case"rotation":this.rotationVariables.push(n);break;case"size":this.sizeVariables.push(n)}this.sizeVariables.length&&this.sizeVariables.some(n=>!!n.target)&&t.sort((n,i)=>{let r=null;return r=n.target===i.target?0:n.target?1:-1,r});for(let n=0;n<t.length;n++)t[n].index=n;this._set("visualVariables",t)}else this._set("visualVariables",t)}readVariables(t,n,i){const{rotationExpression:r,rotationType:s}=n,o=r?.match(l2e),a=o?.[1];if(a&&(t||(t=[]),t.push({type:"rotationInfo",rotationType:s,field:a})),t)return t.map(l=>{const c=a2e.read(l.type),h=o2e[c];h||(re.getLogger(this).warn(`Unknown variable type: ${c}`),i?.messages&&i.messages.push(new Js("visual-variable:unsupported",`visualVariable of type '${c}' is not supported`,{definition:l,context:i})));const p=new h;return p.read(l,i),p})}writeVariables(t,n){const i=[];for(const r of t){const s=r.toJSON(n);s&&i.push(s)}return i}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};u([d()],X1.prototype,"visualVariables",null),X1=u([k("esri.renderers.visualVariables.VisualVariableFactory")],X1);const u2e=X1,c2e={base:fy,key:"type",typeMap:{opacity:P3,color:ZW,rotation:YW,size:my}},yy=e=>{let t=class extends e{constructor(){super(...arguments),this._vvFactory=new u2e}set visualVariables(n){this._vvFactory.visualVariables=n,this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(n,i,r){return this._vvFactory.readVariables(n,i,r)}writeVisualVariables(n,i,r,s){i[r]=this._vvFactory.writeVariables(n,s)}get arcadeRequiredForVisualVariables(){return this.visualVariables?.some(({arcadeRequired:n})=>n)??!1}hasVisualVariables(n,i){return n?this.getVisualVariablesForType(n,i).length>0:this.getVisualVariablesForType("size",i).length>0||this.getVisualVariablesForType("color",i).length>0||this.getVisualVariablesForType("opacity",i).length>0||this.getVisualVariablesForType("rotation",i).length>0}getVisualVariablesForType(n,i){return this.visualVariables?.filter(r=>r.type===n&&(typeof i=="string"?r.target===i:i!==!1||!r.target))??[]}async collectVVRequiredFields(n,i){let r=[];this.visualVariables&&(r=r.concat(this.visualVariables));for(const s of r)s&&(s.field&&$r(n,i,s.field),s.normalizationField&&$r(n,i,s.normalizationField),s.valueExpression&&(d2e(s.valueExpression,n,i)||await rr(n,i,s.valueExpression)))}};return u([d({types:[c2e],value:null,json:{write:!0}})],t.prototype,"visualVariables",null),u([le("visualVariables",["visualVariables","rotationType","rotationExpression"])],t.prototype,"readVisualVariables",null),u([ge("visualVariables")],t.prototype,"writeVisualVariables",null),t=u([k("esri.renderers.mixins.VisualVariablesMixin")],t),t};function d2e(e,t,n){const i=eme(e);return i!=null&&($r(t,n,i),!0)}const O3=[252,146,31,255],h2e=[153,153,153,255],p2e={type:"esriSMS",style:"esriSMSCircle",size:6,color:O3,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},f2e={type:"esriSLS",style:"esriSLSSolid",width:.75,color:O3},m2e={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},y2e={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},g2e={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},v2e={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},b2e={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null},xS=ir.fromJSON(p2e),R3=Cr.fromJSON(f2e),sZ=ql.fromJSON(m2e),w2e=hy.fromJSON(y2e);function zUe(e){if(e==null)return null;switch(e.type){case"mesh":return null;case"point":case"multipoint":return xS;case"polyline":return R3;case"polygon":case"extent":return sZ}return null}const BUe=ir.fromJSON(g2e),UUe=Cr.fromJSON(v2e),GUe=ql.fromJSON(b2e),_2e=$l.fromSimpleMarkerSymbol(xS),S2e=lp.fromSimpleLineSymbol(R3),x2e=Pc.fromSimpleFillSymbol(sZ),$2e=new Sb({symbolLayers:new we([new ap({material:{color:O3},edges:new pq({size:Zr(1),color:new he(h2e)})})])}),T2e=new lp({symbolLayers:new we([new cy({material:{color:new he([0,0,0])},size:Zr(1)})])}),E2e=new Pc({symbolLayers:new we([new ap({outline:{color:new he([0,0,0]),size:Zr(1)}})])});function HUe(e){if(e==null)return null;switch(e.type){case"mesh":return $2e;case"point":case"multipoint":return _2e;case"polyline":return S2e;case"polygon":case"extent":return x2e}return null}const vF="#useCIMFallbackSymbology()",Sl={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function Om(e,t=Sl){if(!e)return{symbol:null};const{retainId:n=Sl.retainId,ignoreDrivers:i=Sl.ignoreDrivers,hasLabelingContext:r=Sl.hasLabelingContext,retainCIM:s=Sl.retainCIM,cimFallbackEnabled:o=Sl.cimFallbackEnabled}=t;let a=null;if(Va(e)||e instanceof yc)a=e.clone();else if(e.type==="cim"){const l=e.data?.symbol?.type;switch(l){case"CIMPointSymbol":a=s?e.clone():$l.fromCIMSymbol(e);break;case"CIMLineSymbol":o&&(a=T2e.clone(),t?.logWarning?.(vF,"Unsupported CIM line symbology converted to fallback 3D line symbology"));break;case"CIMPolygonSymbol":o&&(a=E2e.clone(),t?.logWarning?.(vF,"Unsupported CIM polygon symbology converted to fallback 3D polygon symbology"))}if(!a)return{error:new B("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${l||"unknown"}' is unsupported in 3D`,{symbol:e})}}else if(e instanceof Cr)a=lp.fromSimpleLineSymbol(e);else if(e instanceof ir)a=$l.fromSimpleMarkerSymbol(e);else if(e instanceof xb)a=$l.fromPictureMarkerSymbol(e);else if(e instanceof ql)a=t.geometryType&&t.geometryType==="mesh"?Sb.fromSimpleFillSymbol(e):Pc.fromSimpleFillSymbol(e);else{if(!(e instanceof hy))return{error:new B("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${e.type||e.declaredClass}' is unsupported in 3D`,{symbol:e})};a=r?_x.fromTextSymbol(e):$l.fromTextSymbol(e)}return n&&a&&a.type!=="cim"&&(a.id=e.id),!i||a.type==="cim"||a instanceof yc||a.symbolLayers.forEach(l=>l.ignoreDrivers=!0),{symbol:a}}function $S(e,t,n,i){const r=oZ(e,{},{context:i,isLabelSymbol:!1});r!=null&&(t[n]=r)}function bF(e,t,n,i){const r=oZ(e,{},{context:i,isLabelSymbol:!0});r!=null&&(t[n]=r)}function wF(e){return Va(e)||e instanceof yc}function I2e(e){return e?.type==="polygon-3d"||e?.type==="line-3d"}function oZ(e,t,n){if(e==null)return null;const{context:i,isLabelSymbol:r}=n,s=i?.origin,o=i?.messages;if(s==="web-scene"&&!wF(e)){const a=Om(e,{retainCIM:!0,hasLabelingContext:r});return a.symbol!=null?a.symbol.write(t,i):(o?.push(new B("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:i,error:a.error})),null)}return qM(i?.layer)&&I2e(e)?(o?.push(new B("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported on layers of type '${i?.layer?.declaredClass}'.`,{symbol:e,context:i})),null):(s==="web-map"||s==="portal-item"&&!qM(i?.layer))&&wF(e)?(o?.push(new B("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:e,context:i})),null):e.write(t,i)}function aZ(e,t){return swe(e,null,t)}const Rx={types:Yq,json:{write:{writer:$S},origins:{"web-scene":{types:EV,write:{writer:$S},read:{reader:ey({types:EV})}}}}},N3=JP({json:{origins:{"web-scene":{write:{isRequired:!0}}}}},Rx),D3={types:{base:Vi,key:"type",typeMap:{"simple-fill":Qu.typeMap["simple-fill"],"picture-fill":Qu.typeMap["picture-fill"],"polygon-3d":Qu.typeMap["polygon-3d"],cim:Qu.typeMap.cim}},json:{write:{writer:$S},origins:{"web-scene":{type:Pc,write:{writer:$S}}}}},Q1={cast:e=>e==null||typeof e=="string"||typeof e=="number"?e:`${e}`,json:{type:String,write:{writer:(e,t)=>{t.value=e?.toString()}}}};var lk;let Ed=lk=class extends yy(Wl){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.type="simple"}async collectRequiredFields(e,t){await Promise.all([this.collectSymbolFields(e,t),this.collectVVRequiredFields(e,t)])}async collectSymbolFields(e,t){await Promise.all(this.symbols.map(n=>n.collectRequiredFields(e,t)))}getSymbol(e,t){return this.symbol}async getSymbolAsync(e,t){return this.symbol}get symbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables?.reduce((e,t)=>e+t.getAttributeHash(),"")??""}getMeshHash(){return this.symbols.reduce((e,t)=>e+JSON.stringify(t),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new lk({description:this.description,label:this.label,symbol:j(this.symbol),visualVariables:j(this.visualVariables),authoringInfo:j(this.authoringInfo)})}};u([d({type:String,json:{write:!0}})],Ed.prototype,"description",void 0),u([d({type:String,json:{write:!0}})],Ed.prototype,"label",void 0),u([d(N3)],Ed.prototype,"symbol",void 0),u([Ve({simple:"simple"})],Ed.prototype,"type",void 0),Ed=lk=u([k("esri.renderers.SimpleRenderer")],Ed);const Il=Ed,C2e=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]);function uk(e){return e instanceof Ce}function _F(e){return e instanceof we?Object.keys(e.items):uk(e)?qr(e).keys():e?Object.keys(e):[]}function vw(e,t){return e instanceof we?e.items[t]:e[t]}function M2e(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}function Sv(e){return e?e.declaredClass:null}function lZ(e,t){const n=e.diff;if(n&&typeof n=="function")return n(e,t);const i=_F(e),r=_F(t);if(i.length===0&&r.length===0)return;if(!i.length||!r.length||M2e(e,t))return{type:"complete",oldValue:e,newValue:t};const s=r.filter(p=>!i.includes(p)),o=i.filter(p=>!r.includes(p)),a=i.filter(p=>r.includes(p)&&vw(e,p)!==vw(t,p)).concat(s,o).sort(),l=Sv(e);if(l&&C2e.has(l)&&a.length)return{type:"complete",oldValue:e,newValue:t};let c;const h=uk(e)&&uk(t);for(const p of a){const m=vw(e,p),y=vw(t,p);let g;if((h||typeof m!="function"&&typeof y!="function")&&m!==y&&(m!=null||y!=null)){if(n&&n[p]&&typeof n[p]=="function")g=n[p]?.(m,y);else if(m instanceof Date&&y instanceof Date){if(m.getTime()===y.getTime())continue;g={type:"complete",oldValue:m,newValue:y}}else g=typeof m=="object"&&typeof y=="object"&&Sv(m)===Sv(y)?lZ(m,y):{type:"complete",oldValue:m,newValue:y};g!=null&&(c!=null?c.diff[p]=g:c={type:"partial",diff:{[p]:g}})}}return c}function qUe(e,t){return k2e(e,t)}function k2e(e,t){if(e==null)return!1;const n=t.split(".");let i=e;for(const r of n){if(i.type==="complete")return!0;if(i.type!=="partial")return!1;{const s=i.diff[r];if(!s)return!1;i=s}}return!0}function WUe(e,t){if(!e)return!1;if(e.type==="partial"){const n=Object.keys(e.diff);return n.length===1&&n[0]===t}return!1}function A2e(e,t){if(typeof e!="function"&&typeof t!="function"&&(e!=null||t!=null))return e==null||t==null||typeof e=="object"&&typeof t=="object"&&Sv(e)!==Sv(t)?{type:"complete",oldValue:e,newValue:t}:lZ(e,t)}function bw(e){if(e==null)return!0;switch(e.type){case"complete":return!1;case"collection":{const t=e;for(const n of t.added)if(!bw(n))return!1;for(const n of t.removed)if(!bw(n))return!1;for(const n of t.changed)if(!bw(n))return!1;return!0}case"partial":for(const t in e.diff)if(!bw(e.diff[t]))return!1;return!0}}var ck;const P2e=Ii()({ascendingValues:"ascending-values",descendingValues:"descending-values"});let jg=ck=class extends ut.ClonableMixin(te){static from(e){return ob(ck,e)}constructor(e){super(e),this.title=null,this.order=null}};u([d({type:String,json:{write:!0}})],jg.prototype,"title",void 0),u([Ve(P2e)],jg.prototype,"order",void 0),jg=ck=u([k("esri.renderers.support.RendererLegendOptions")],jg);const V3=jg;let df=class extends ut.ClonableMixin(te){constructor(t){super(t),this.value=null,this.value2=null,this.value3=null}};u([d(Q1)],df.prototype,"value",void 0),u([d(Q1)],df.prototype,"value2",void 0),u([d(Q1)],df.prototype,"value3",void 0),df=u([k("esri.renderers.support.UniqueValue")],df);const em=df;let $u=class extends ut.ClonableMixin(te){constructor(t){super(t),this.description=null,this.label=null,this.symbol=null,this.values=null}castValues(t){if(t==null)return null;const n=typeof(t=Array.isArray(t)?t:[t])[0];return n==="string"||n==="number"?t.map(i=>new em({value:i})):n==="object"?t[0]instanceof em?t:t.map(i=>new em(i)):null}};u([d({type:String,json:{write:!0}})],$u.prototype,"description",void 0),u([d({type:String,json:{write:!0}})],$u.prototype,"label",void 0),u([d(Rx)],$u.prototype,"symbol",void 0),u([d({type:[em],json:{type:[[String]],read:{reader:e=>e?e.map(t=>new em({value:t[0],value2:t[1],value3:t[2]})):null},write:{writer:(e,t)=>{const n=[];for(const i of e){const r=[i.value,i.value2,i.value3].filter(Ji).map(s=>s.toString());n.push(r)}t.values=n}}}})],$u.prototype,"values",void 0),u([pt("values")],$u.prototype,"castValues",null),$u=u([k("esri.renderers.support.UniqueValueClass")],$u);const uZ=$u;let zg=class extends ut.ClonableMixin(te){constructor(t){super(t),this.heading=null,this.classes=null}};u([d({type:String,json:{write:!0}})],zg.prototype,"heading",void 0),u([d({type:[uZ],json:{write:{isRequired:!0}}})],zg.prototype,"classes",void 0),zg=u([k("esri.renderers.support.UniqueValueGroup")],zg);const dk=zg;var hk;let Id=hk=class extends te{constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.value=null}clone(){return new hk({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const e=JSON.stringify(this.symbol?.toJSON());return`${this.value}.${e}`}};u([d({type:String,json:{write:!0}})],Id.prototype,"description",void 0),u([d({type:String,json:{write:!0}})],Id.prototype,"label",void 0),u([d(N3)],Id.prototype,"symbol",void 0),u([d(Q1)],Id.prototype,"value",void 0),Id=hk=u([k("esri.renderers.support.UniqueValueInfo")],Id);const xv=Id,SF=new Map;async function L2e(e,t){try{return{data:(await F3(e,t)).data,baseUrl:TL(e),styleUrl:e}}catch(n){return ba(n),null}}function O2e(e,t,n){const i=t.portal!=null?t.portal:or.getDefault();let r;const s=`${i.url} - ${i.user?.username} - ${e}`,o=SF.get(s);if(o)return o;const a=R2e(e,i,n).then(l=>(r=l,l.fetchData())).then(l=>({data:l,baseUrl:r.itemUrl??"",styleName:e}));return SF.set(s,a),a}function R2e(e,t,n){return t.load(n).then(()=>{const i=new No({disableExtraQuery:!0,query:`owner:${xF} AND type:${$F} AND typekeywords:"${e}"`});return t.queryItems(i,n)}).then(({results:i})=>{let r=null;const s=e.toLowerCase();if(i&&Array.isArray(i)){for(const o of i)if(o.typeKeywords?.some(l=>l.toLowerCase()===s)&&o.type===$F&&o.owner===xF){r=o;break}}if(!r)throw new B("symbolstyleutils:style-not-found",`The style '${e}' could not be found`,{styleName:e});return r.load(n)})}function cZ(e,t,n){return e?.styleUrl!=null?L2e(e.styleUrl,n):e?.styleName!=null?O2e(e.styleName,t,n):Promise.reject(new B("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function dZ(e){return e===null||e.type==="CIMSymbolReference"?e:{type:"CIMSymbolReference",symbol:e}}function N2e(e,t){for(const n of t)switch(n){case"cim":if(e.cimRef)return{format:n,url:encodeURI(e.cimRef)};break;case"web-gltf-basisu":{const i=mT(e,"gltf_basisu");if(i)return{format:n,url:i};break}case"web-gltf":{const i=mT(e,"gltf");if(i)return{format:n,url:i};break}case"web":{const i=mT(e,"gltf");if(i)return{format:"web-gltf",url:i};if(e.webRef)return{format:n,url:encodeURI(e.webRef)};break}}}function mT(e,t){if(!H("enable-feature:force-wosr"))return e.formatInfos?.find(n=>n.type===t)?.href}function F3(e,t){const n={responseType:"json",query:{f:"json"},...t};return Lt(jo(e),n)}const xF="esri_en",$F="Style",D2e="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json";var Bg;const hZ="esri.renderers.UniqueValueRenderer",nu=()=>re.getLogger(hZ),TF="uvInfos-watcher",EF="uvGroups-watcher",V2e=",",F2e=Jn(xv);function j2e(e){const{field1:t,field2:n,field3:i,fieldDelimiter:r,uniqueValueInfos:s,valueExpression:o}=e,a=!(!t||!n);return[{classes:(s??[]).map(l=>{const{symbol:c,label:h,value:p,description:m}=l,[y,g,v]=a?p?.toString()?.split(r||"")||[]:[p],b=[];return(t||o)&&b.push(y),n&&b.push(g),i&&b.push(v),{symbol:c,label:h,values:[b],description:m}})}]}function $p(e){return e!=null&&e!==""&&(typeof e!="string"||e.trim()!==""&&e.toLowerCase()!=="<null>")||(e=null),e+""}let Qt=Bg=class extends yy(Wl){constructor(e){super(e),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this._isInfosSource=null,this.type="unique-value",this.backgroundFillSymbol=null,this.orderByClassesEnabled=!1,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(t,n){if(!t&&!n)return;if(!t||!n)return{type:"complete",oldValue:t,newValue:n};let i=!1;const r={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let s=0;s<n.length;s++){const o=t.find(a=>a.value===n[s].value);o?A2e(o,n[s])?(r.changed.push({type:"complete",oldValue:o,newValue:n[s]}),i=!0):r.unchanged.push({oldValue:o,newValue:n[s]}):(r.added.push(n[s]),i=!0)}for(let s=0;s<t.length;s++)n.find(o=>o.value===t[s].value)||(r.removed.push(t[s]),i=!0);return i?r:void 0}},this._set("uniqueValueInfos",[]),this._set("uniqueValueGroups",[])}get _cache(){return{compiledFunc:null}}set field(e){this._set("field",e),this._updateFieldDelimiter(),this._updateUniqueValues()}castField(e){return e==null||typeof e=="function"?e:sb(e)}writeField(e,t,n,i){typeof e=="string"?t[n]=e:i?.messages?i.messages.push(new B("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):nu().error(".field: cannot write field to JSON since it's not a string value")}set field2(e){this._set("field2",e),this._updateFieldDelimiter(),this._updateUniqueValues()}set field3(e){this._set("field3",e),this._updateUniqueValues()}set valueExpression(e){this._set("valueExpression",e),this._updateUniqueValues()}set defaultSymbol(e){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",e)}set fieldDelimiter(e){this._set("fieldDelimiter",e),this._updateUniqueValues()}readPortal(e,t,n){return n.portal||or.getDefault()}readStyleOrigin(e,t,n){if(t.styleName)return Object.freeze({styleName:t.styleName});if(t.styleUrl){const i=hc(t.styleUrl,n);return Object.freeze({styleUrl:i})}}writeStyleOrigin(e,t,n,i){e.styleName?t.styleName=e.styleName:e.styleUrl&&(t.styleUrl=hb(e.styleUrl,i))}set uniqueValueGroups(e){this.styleOrigin?nu().error("#uniqueValueGroups=","Cannot modify unique value groups of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueGroups",e),this._updateInfosFromGroups(),this._isInfosSource=!1,this._watchUniqueValueGroups())}set uniqueValueInfos(e){this.styleOrigin?nu().error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",e),this._updateValueInfoMap(),this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos())}addUniqueValueInfo(e,t){if(this.styleOrigin)return void nu().error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");let n;n=typeof e=="object"?F2e(e):new xv({value:e,symbol:Jq(t)}),this.uniqueValueInfos?.push(n),this._valueInfoMap[$p(n.value)]=n,this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}removeUniqueValueInfo(e){if(this.styleOrigin)return void nu().error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");const t=this.uniqueValueInfos;if(t)for(let n=0;n<t.length;n++){const i=t[n];if(String(i.value)===String(e)){delete this._valueInfoMap[$p(e)],t.splice(n,1);break}}this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}async getUniqueValueInfo(e,t){let n=t;return this.valueExpression&&t?.arcade==null&&(n={...n,arcade:await Ia()}),this._getUniqueValueInfo(e,n)}getSymbol(e,t){return this.valueExpression&&t?.arcade==null?void nu().error("#getSymbol()","Please use getSymbolAsync if valueExpression is used"):this._getUniqueValueInfo(e,t)?.symbol||this.defaultSymbol}async getSymbolAsync(e,t){let n=t;if(this.valueExpression&&n?.arcade==null){const r=await Ia(),{arcadeUtils:s}=r;s.hasGeometryOperations(this.valueExpression)&&await s.enableGeometryOperations(),n={...n,arcade:r}}return this._getUniqueValueInfo(e,n)?.symbol||this.defaultSymbol}get symbols(){const e=[];for(const t of this.uniqueValueInfos??[])t.symbol&&e.push(t.symbol);return this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables?.reduce((e,t)=>e+t.getAttributeHash(),"")??""}getMeshHash(){const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),n=this.uniqueValueInfos?.reduce((i,r)=>i+r.getMeshHash(),"");return`${e}.${t}.${n}.${`${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}`}.${this.valueExpression}`}clone(){const e=new Bg({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:j(this.defaultSymbol),orderByClassesEnabled:this.orderByClassesEnabled,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:j(this.visualVariables),legendOptions:j(this.legendOptions),authoringInfo:j(this.authoringInfo),backgroundFillSymbol:j(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(e._isDefaultSymbolDerived=!0),e._set("portal",this.portal);const t=j(this.uniqueValueInfos),n=j(this.uniqueValueGroups);return this.styleOrigin&&(e._set("styleOrigin",Object.freeze(j(this.styleOrigin))),Object.freeze(t),Object.freeze(n)),e._set("uniqueValueInfos",t),e._updateValueInfoMap(),e._set("uniqueValueGroups",n),e._isInfosSource=this._isInfosSource,e._watchUniqueValueInfosAndGroups(),e}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}async collectRequiredFields(e,t){const n=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(n)}async collectSymbolFields(e,t){const n=[...this.symbols.map(i=>i.collectRequiredFields(e,t)),rr(e,t,this.valueExpression)];$r(e,t,this.field),$r(e,t,this.field2),$r(e,t,this.field3),await Promise.all(n)}populateFromStyle(){return cZ(this.styleOrigin,{portal:this.portal}).then(e=>{const t=[];return this._valueInfoMap={},e?.data&&Array.isArray(e.data.items)&&e.data.items.forEach(n=>{const i=new yc({styleUrl:e.styleUrl,styleName:e.styleName,portal:this.portal,name:n.name});this.defaultSymbol||n.name!==e.data.defaultItem||(this.defaultSymbol=i,this._isDefaultSymbolDerived=!0);const r=new xv({value:n.name,symbol:i});t.push(r),this._valueInfoMap[$p(n.name)]=r}),this._set("uniqueValueInfos",Object.freeze(t)),this._updateGroupsFromInfos(!0),this._isInfosSource=null,this._watchUniqueValueInfos(),!this.defaultSymbol&&this.uniqueValueInfos?.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this})}_updateFieldDelimiter(){this.field&&this.field2&&!this.fieldDelimiter&&this._set("fieldDelimiter",V2e)}_updateUniqueValues(){this._isInfosSource!=null&&(this._isInfosSource?this._updateGroupsFromInfos():this._updateInfosFromGroups())}_updateValueInfoMap(){this._valueInfoMap={};const{uniqueValueInfos:e}=this;if(e)for(const t of e)this._valueInfoMap[$p(t.value)]=t}_watchUniqueValueInfosAndGroups(){this._watchUniqueValueInfos(),this._watchUniqueValueGroups()}_watchUniqueValueInfos(){this.removeHandles(TF);const{uniqueValueInfos:e}=this;if(e){const t=[];for(const n of e)t.push(me(()=>({symbol:n.symbol,value:n.value,label:n.label,description:n.description}),(i,r)=>{i!==r&&(this._updateGroupsFromInfos(),this._isInfosSource=!0)},{sync:!0}));this.addHandles(t,TF)}}_watchUniqueValueGroups(){this.removeHandles(EF);const{uniqueValueGroups:e}=this;if(e){const t=[];for(const n of e){t.push(me(()=>({classes:n.classes}),(i,r)=>{i!==r&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}));for(const i of n.classes??[])t.push(me(()=>({symbol:i.symbol,values:i.values,label:i.label,description:i.description}),(r,s)=>{r!==s&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}))}this.addHandles(t,EF)}}_updateInfosFromGroups(){if(!this.uniqueValueGroups)return this._set("uniqueValueInfos",null),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const e=[],{field:t,field2:n,field3:i,fieldDelimiter:r,uniqueValueGroups:s,valueExpression:o}=this;if(!t&&!o)return this._set("uniqueValueInfos",e),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const a=!(!t||!n);for(const l of s)for(const c of l.classes??[]){const{symbol:h,label:p,values:m,description:y}=c;for(const g of m??[]){const{value:v,value2:b,value3:w}=g,S=[v];n&&S.push(b),i&&S.push(w);const x=a?S.join(r||""):S[0]??void 0;e.push(new xv({symbol:h,label:p,value:x,description:y}))}}this._set("uniqueValueInfos",e),this._updateValueInfoMap(),this._watchUniqueValueInfos()}_updateGroupsFromInfos(e=!1){if(!this.uniqueValueInfos)return this._set("uniqueValueGroups",null),void this._watchUniqueValueGroups();const{field:t,field2:n,valueExpression:i,fieldDelimiter:r,uniqueValueInfos:s}=this;if(!t&&!i||!s.length)return this._set("uniqueValueGroups",[]),void this._watchUniqueValueGroups();const o=!(!t||!n),a=s.map(c=>{const{symbol:h,label:p,value:m,description:y}=c,[g,v,b]=o?m?.toString()?.split(r||"")||[]:[m];return new uZ({symbol:h,label:p,description:y,values:[new em({value:g,value2:v,value3:b})]})}),l=[new dk({classes:a})];e&&Object.freeze(l),this._set("uniqueValueGroups",l),this._watchUniqueValueGroups()}_getUniqueValueInfo(e,t){return this.valueExpression?this._getUnqiueValueInfoForExpression(e,t):this._getUnqiueValueInfoForFields(e)}_getUnqiueValueInfoForExpression(e,t){const{viewingMode:n,scale:i,spatialReference:r,arcade:s,timeZone:o}=t??{};let a=this._cache.compiledFunc;const l=s.arcadeUtils;if(!a){const h=l.createSyntaxTree(this.valueExpression);a=l.createFunction(h),this._cache.compiledFunc=a}const c=l.executeFunction(a,l.createExecContext(e,l.getViewInfo({viewingMode:n,scale:i,spatialReference:r}),o));return this._valueInfoMap[$p(c)]}_getUnqiueValueInfoForFields(e){const t=this.field,n=e.attributes;let i;if(this.field2){const r=this.field2,s=this.field3,o=[];t&&o.push(n[t]),r&&o.push(n[r]),s&&o.push(n[s]),i=o.join(this.fieldDelimiter||"")}else t&&(i=n[t]);return this._valueInfoMap[$p(i)]}static fromPortalStyle(e,t){const n=new Bg(t?.properties);n._set("styleOrigin",Object.freeze({styleName:e})),n._set("portal",t?.portal||or.getDefault());const i=n.populateFromStyle();return i.catch(r=>{nu().error(`#fromPortalStyle('${e}'[, ...])`,"Failed to create unique value renderer from style name",r)}),i}static fromStyleUrl(e,t){const n=new Bg(t?.properties);n._set("styleOrigin",Object.freeze({styleUrl:e}));const i=n.populateFromStyle();return i.catch(r=>{nu().error(`#fromStyleUrl('${e}'[, ...])`,"Failed to create unique value renderer from style URL",r)}),i}};u([d({readOnly:!0})],Qt.prototype,"_cache",null),u([Ve({uniqueValue:"unique-value"})],Qt.prototype,"type",void 0),u([d(D3)],Qt.prototype,"backgroundFillSymbol",void 0),u([d({value:null,json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],Qt.prototype,"field",null),u([pt("field")],Qt.prototype,"castField",null),u([ge("field")],Qt.prototype,"writeField",null),u([d({type:String,value:null,json:{write:!0}})],Qt.prototype,"field2",null),u([d({type:String,value:null,json:{write:!0}})],Qt.prototype,"field3",null),u([d({type:Boolean,json:{name:"drawInClassOrder",default:!1,write:!0,origins:{"web-scene":{write:!1}}}})],Qt.prototype,"orderByClassesEnabled",void 0),u([d({type:String,value:null,json:{write:!0}})],Qt.prototype,"valueExpression",null),u([d({type:String,json:{write:!0}})],Qt.prototype,"valueExpressionTitle",void 0),u([d({type:V3,json:{write:!0}})],Qt.prototype,"legendOptions",void 0),u([d({type:String,json:{write:!0}})],Qt.prototype,"defaultLabel",void 0),u([d(JP({...Rx},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],Qt.prototype,"defaultSymbol",null),u([d({type:String,value:null,json:{write:!0}})],Qt.prototype,"fieldDelimiter",null),u([d({type:or,readOnly:!0})],Qt.prototype,"portal",void 0),u([le("portal",["styleName"])],Qt.prototype,"readPortal",null),u([d({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],Qt.prototype,"styleOrigin",void 0),u([le("styleOrigin",["styleName","styleUrl"])],Qt.prototype,"readStyleOrigin",null),u([ge("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],Qt.prototype,"writeStyleOrigin",null),u([d({type:[dk],json:{read:{source:["uniqueValueGroups","uniqueValueInfos"],reader:(e,t,n)=>(t.uniqueValueGroups||j2e(t)).map(i=>dk.fromJSON(i,n))},write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],Qt.prototype,"uniqueValueGroups",null),u([d({type:[xv],json:{read:!1,write:{isRequired:!0,overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0,isRequired:!0}}}}})],Qt.prototype,"uniqueValueInfos",null),Qt=Bg=u([k(hZ)],Qt);const j3=Qt;var pk;let ii=pk=class extends te{constructor(e){super(e),this.attachmentTypes=null,this.attachmentsWhere=null,this.cacheHint=void 0,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.orderByFields=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}clone(){return new pk(j({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,cacheHint:this.cacheHint,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}};u([d({type:[String],json:{write:!0}})],ii.prototype,"attachmentTypes",void 0),u([d({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],ii.prototype,"attachmentsWhere",void 0),u([d({type:Boolean,json:{write:!0}})],ii.prototype,"cacheHint",void 0),u([d({type:[String],json:{write:!0}})],ii.prototype,"keywords",void 0),u([d({type:[String],json:{write:!0}})],ii.prototype,"globalIds",void 0),u([d({json:{write:!0}})],ii.prototype,"name",void 0),u([d({type:Number,json:{read:{source:"resultRecordCount"}}})],ii.prototype,"num",void 0),u([d({type:[Number],json:{write:!0}})],ii.prototype,"objectIds",void 0),u([d({type:[String],json:{write:!0}})],ii.prototype,"orderByFields",void 0),u([d({type:Boolean,json:{default:!1,write:!0}})],ii.prototype,"returnMetadata",void 0),u([d({type:[Number],json:{write:!0}})],ii.prototype,"size",void 0),u([d({type:Number,json:{read:{source:"resultOffset"}}})],ii.prototype,"start",void 0),u([ge("start"),ge("num")],ii.prototype,"writeStart",null),u([d({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],ii.prototype,"where",void 0),ii=pk=u([k("esri.rest.support.AttachmentQuery")],ii),ii.from=Jn(ii);const z2e=ii,pZ=Ii()({naturalLog:"natural-log",squareRoot:"square-root",percentOfTotal:"percent-of-total",log:"log",field:"field"}),IF="percent-of-total",CF="field",KUe=e=>{let t=class extends e{constructor(){super(...arguments),this.normalizationField=null,this.normalizationMaxValue=null,this.normalizationMinValue=null,this.normalizationTotal=null}get normalizationType(){let n=this._get("normalizationType");const i=!!this.normalizationField,r=this.normalizationTotal!=null;return i||r?(n=i&&CF||r&&IF||null,i&&r&&re.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):n!==CF&&n!==IF||(n=null),n}set normalizationType(n){this._set("normalizationType",n)}};return u([d({type:String,json:{name:"parameters.normalizationField",write:!0}})],t.prototype,"normalizationField",void 0),u([d({type:Number,json:{name:"parameters.normalizationMaxValue",write:!0}})],t.prototype,"normalizationMaxValue",void 0),u([d({type:Number,json:{name:"parameters.normalizationMinValue",write:!0}})],t.prototype,"normalizationMinValue",void 0),u([d({type:Number,json:{name:"parameters.normalizationTotal",write:!0}})],t.prototype,"normalizationTotal",void 0),u([Ve(pZ,{name:"parameters.normalizationType"})],t.prototype,"normalizationType",null),t=u([k("esri.rest.support.NormalizationBinParametersMixin")],t),t};var fk;let cn=fk=class extends te{constructor(e){super(e),this.cacheHint=void 0,this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,this.start>0&&this.where==null&&(t.definitionExpression="1=1")}clone(){return new fk(j({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};u([d({type:Boolean,json:{write:!0}})],cn.prototype,"cacheHint",void 0),u([d({type:Oo,json:{write:!0}})],cn.prototype,"dynamicDataSource",void 0),u([d({type:String,json:{write:!0}})],cn.prototype,"gdbVersion",void 0),u([d({type:Number,json:{write:!0}})],cn.prototype,"geometryPrecision",void 0),u([d({type:Date})],cn.prototype,"historicMoment",void 0),u([ge("historicMoment")],cn.prototype,"_writeHistoricMoment",null),u([d({type:Number,json:{write:!0}})],cn.prototype,"maxAllowableOffset",void 0),u([d({json:{write:!0}})],cn.prototype,"objectIds",void 0),u([d({type:[String],json:{write:!0}})],cn.prototype,"orderByFields",void 0),u([d({type:[String],json:{write:!0}})],cn.prototype,"outFields",void 0),u([d({type:et,json:{read:{source:"outSR"},write:{target:"outSR"}}})],cn.prototype,"outSpatialReference",void 0),u([d({json:{write:!0}})],cn.prototype,"relationshipId",void 0),u([d({type:Number,json:{read:{source:"resultOffset"}}})],cn.prototype,"start",void 0),u([ge("start"),ge("num")],cn.prototype,"writeStart",null),u([d({type:Number,json:{read:{source:"resultRecordCount"}}})],cn.prototype,"num",void 0),u([d({json:{write:!0}})],cn.prototype,"returnGeometry",void 0),u([d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],cn.prototype,"returnM",void 0),u([d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],cn.prototype,"returnZ",void 0),u([d({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],cn.prototype,"where",void 0),cn=fk=u([k("esri.rest.support.RelationshipQuery")],cn),cn.from=Jn(cn);const z3=cn,XUe=Object.freeze(Object.defineProperty({__proto__:null,default:z3},Symbol.toStringTag,{value:"Module"})),mk=new at({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"});async function B2e(e,t,n,i){const r=await Rc(e);if(await B3(e,t,i),!r.addAttachment)throw new B(i,"Layer source does not support addAttachment capability");return r.addAttachment(t,n)}function B3(e,t,n){const{attributes:i}=t,{objectIdField:r}=e;return e.capabilities?.data?.supportsAttachment?t?i?r&&i[r]?Promise.resolve():Promise.reject(new B(n,`feature is missing the identifying attribute ${r}`)):Promise.reject(new B(n,"'attributes' are required on a feature to query attachments")):Promise.reject(new B(n,"A feature is required to add/delete/update attachments")):Promise.reject(new B(n,"this layer doesn't support attachments"))}async function U2e(e,t,n,i,r){const s=await Rc(e);if(await B3(e,t,r),!s.updateAttachment)throw new B(r,"Layer source does not support updateAttachment capability");return s.updateAttachment(t,n,i)}async function G2e(e,t,n){const{applyEdits:i}=await J(()=>import("./editingSupport-DHQru0rV.js"),__vite__mapDeps([177,3])),r=await e.load();let s=n;return r.type==="feature"&&r.infoFor3D&&t.deleteFeatures!=null&&r.globalIdField!=null&&(s={...s,globalIdToObjectId:await hxe(r,t.deleteFeatures,r.globalIdField)}),i(r,r.source,t,n)}async function H2e(e,t,n){const{uploadAssets:i}=await J(()=>import("./editingSupport-DHQru0rV.js"),__vite__mapDeps([177,3])),r=await e.load();return i(r,r.source,t,n)}async function q2e(e,t,n,i){const r=await Rc(e);if(await B3(e,t,i),!r.deleteAttachments)throw new B(i,"Layer source does not support deleteAttachments capability");return r.deleteAttachments(t,n)}async function W2e(e,t,n){const i=(await e.load({signal:t?.signal})).source;if(!i.fetchRecomputedExtents)throw new B(n,"Layer source does not support fetchUpdates capability");return i.fetchRecomputedExtents(t)}async function Z2e(e,t,n,i){t=z2e.from(t),await e.load();const r=e.source,s=e.capabilities;if(!s?.data?.supportsAttachment)throw new B(i,"this layer doesn't support attachments");const{attachmentTypes:o,objectIds:a,globalIds:l,num:c,size:h,start:p,where:m}=t;if(!s?.operations?.supportsQueryAttachments&&(o?.length>0||l?.length>0||h?.length>0||c||p||m))throw new B(i,"when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",t);if(!(a?.length||l?.length||m))throw new B(i,"'objectIds', 'globalIds', or 'where' are required to perform attachment query",t);if(!r.queryAttachments)throw new B(i,"Layer source does not support queryAttachments capability",t);return!s?.attachment?.supportsOrderByFields&&t.orderByFields?.length&&((t=t.clone()).orderByFields=null),r.queryAttachments(t)}async function Y2e(e,t,n,i){const r=await Rc(e);if(!r.queryObjectIds)throw new B(i,"Layer source does not support queryObjectIds capability");return r.queryObjectIds(Dl.from(t)??e.createQuery(),n)}async function J2e(e,t,n,i){const r=await Rc(e);if(!r.queryFeatureCount)throw new B(i,"Layer source does not support queryFeatureCount capability");return r.queryFeatureCount(Dl.from(t)??e.createQuery(),n)}async function K2e(e,t,n,i){const r=await Rc(e);if(!r.queryExtent)throw new B(i,"Layer source does not support queryExtent capability");return r.queryExtent(Dl.from(t)??e.createQuery(),n)}async function X2e(e,t,n,i){const r=await Rc(e);if(!r.queryRelatedFeatures)throw new B(i,"Layer source does not support queryRelatedFeatures capability");return r.queryRelatedFeatures(z3.from(t),n)}async function Q2e(e,t,n,i){const r=await Rc(e);if(!r.queryRelatedFeaturesCount)throw new B(i,"Layer source does not support queryRelatedFeaturesCount capability");return r.queryRelatedFeaturesCount(z3.from(t),n)}async function exe(e){const t=e.source;if(t?.refresh)try{const{dataChanged:n,updates:i}=await t.refresh();if(i!=null&&(e.sourceJSON={...e.sourceJSON,...i},e.read(i,{origin:"service",url:e.parsedUrl})),n)return!0}catch{}if(e.definitionExpression)try{return(await aL(e.definitionExpression,e.fieldsIndex)).hasDateFunctions}catch{}return!1}function txe(e){const t=new Dl,n=e.capabilities?.data,i=e.capabilities?.query;t.historicMoment=e.historicMoment,t.gdbVersion=e.gdbVersion,t.returnGeometry=!0,i&&(t.compactGeometryEnabled=i.supportsCompactGeometry,t.defaultSpatialReferenceEnabled=i.supportsDefaultSpatialReference),n&&(n.supportsZ&&e.returnZ!=null&&(t.returnZ=e.returnZ),n.supportsM&&e.returnM!=null&&(t.returnM=e.returnM)),t.outFields=["*"];const{timeOffset:r,timeExtent:s}=e;return t.timeExtent=r!=null&&s!=null?s.offset(-r.value,r.unit):s||null,t.multipatchOption=e.geometryType==="multipatch"?"xyFootprint":null,t}function fZ(e){const{globalIdField:t,fields:n}=e;if(t)return t;if(n){for(const i of n)if(i.type==="esriFieldTypeGlobalID")return i.name}}function mZ(e){const{objectIdField:t,fields:n}=e;if(t)return t;if(n){for(const i of n)if(i.type==="esriFieldTypeOID")return i.name}}function nxe(e){return e.currentVersion?e.currentVersion:e.hasOwnProperty("capabilities")||e.hasOwnProperty("drawingInfo")||e.hasOwnProperty("hasAttachments")||e.hasOwnProperty("htmlPopupType")||e.hasOwnProperty("relationships")||e.hasOwnProperty("timeInfo")||e.hasOwnProperty("typeIdField")||e.hasOwnProperty("types")?10:9.3}function ixe(e,t,n,i){const r=n?.feature,s=!!e.subtypes?.length;if(s&&!n?.excludeImpliedDomains){const l=sxe(e,t);if(l)return l}const o=s&&rxe(e,r);if(o){const l=o?.domains?.[t];return l?.type==="inherited"?i:l}const a=vZ(e.types,e.typeIdField,r);if(a){const l=a.domains&&a.domains[t];if(l&&l?.type!=="inherited")return l}if(i)return i;if(!n?.excludeImpliedDomains){const l=oxe(e,t);if(l)return l}return null}function rxe(e,t){const{subtypes:n,subtypeField:i}=e;if(!t?.attributes||!n?.length||!i)return null;const r=t.attributes[i];return r==null?null:n.find(s=>s.code===r)}function sxe(e,t){const{fieldsIndex:n,subtypeField:i}=e,{name:r,type:s}=n.get(t)??{};if(!r)return null;if((i&&n.get(i)?.name)===r&&e.subtypes?.length){const o=e.subtypes.map(a=>new oh({code:yZ(a.code,s),name:a.name}));if(o?.length)return new dx({codedValues:o})}return null}function oxe(e,t){const{fieldsIndex:n}=e,{name:i,type:r}=n.get(t)??{};if(!i)return null;if(("typeIdField"in e?n.get(e.typeIdField)?.name:null)===i&&"types"in e&&e.types?.length){const s=e.types.map(o=>new oh({code:yZ(o.id,r),name:o.name}));return new dx({codedValues:s})}return null}function yZ(e,t){return t?ZG({type:t})&&typeof e=="number"?`${e}`:vge({type:t})&&typeof e=="string"?Number.parseInt(e,10):e:e}async function Rc(e){return(await e.load()).source}async function QUe(e,t){if(!dt)return;const n=dt.findCredential(e);if(n)return n.userId;let i;try{const r=await C3(e,t);r&&(i=await dt.checkSignInStatus(`${r}/sharing`))}catch{}return i?i.userId:null}async function gZ(e,t){if(!dt||dt.findCredential(e))return;let n;try{const i=await C3(e,t);i&&(n=await dt.checkSignInStatus(`${i}/sharing`))}catch{}if(n)try{const i=t!=null?t.signal:null;await dt.getCredential(e,{signal:i})}catch{}}async function axe(e,t,n){const i=e.parsedUrl?.path;i&&e.authenticationTriggerEvent===t&&await gZ(i,n)}async function e9e(e){const t=e.parsedUrl?.path;t&&lxe(e)&&await gZ(t)}function lxe(e){return uxe(e)&&("serviceDefinitionExpression"in e&&TS(e.serviceDefinitionExpression)||"definitionExpression"in e&&TS(e.definitionExpression))}function uxe(e){return!(!HW(e)||!e.capabilities?.query.supportsCurrentUser)}function TS(e){return!!e?.toLowerCase().includes("current_user")}function cxe(e){return!e_(e)&&(e.userHasUpdateItemPrivileges||e.editingEnabled)}const yT=ey({types:Yq});function U3(e,t){if(e.defaultSymbol)return e.types?.length?new j3({defaultSymbol:yT(e.defaultSymbol,e,t),field:e.typeIdField,uniqueValueInfos:e.types.map(n=>({id:n.id,symbol:yT(n.symbol,n,t)}))}):new Il({symbol:yT(e.defaultSymbol,e,t)})}function dxe(e){let t=e.sourceJSON?.cacheMaxAge;if(!t)return!1;const n=e.editingInfo?.lastEditDate?.getTime();return n==null||(t*=1e3,Date.now()-n<t)}async function hxe(e,t,n){if(t==null)return null;const i=[],{objectIdField:r}=e;if(t.forEach(c=>{let h=null;if("attributes"in c){const{attributes:p}=c;h={globalId:p[n],objectId:p[r]!=null&&p[r]!==-1?p[r]:null}}else h={globalId:c.globalId,objectId:c.objectId!=null&&c.objectId!==-1?c.objectId:null};h.globalId!=null&&(h.objectId!=null&&h.objectId!==-1||i.push(h.globalId))}),i.length===0)return null;const s=e.createQuery();s.where=i.map(c=>`${n}='${c}'`).join(" OR "),s.returnGeometry=!1,s.outFields=[r,n],s.cacheHint=!1;const o=await g0e(MSe(e,s));if(!o.ok)return null;const a=new Map,l=o.value.features;for(const c of l){const h=c.attributes[n],p=c.attributes[r];h!=null&&p!=null&&p!==-1&&a.set(B_e(h),p)}return a}function vZ(e,t,n){if(!t||!n||!e)return null;const i=n.getAttribute(t);return i==null?null:e.find(r=>{const{id:s}=r;return s!=null&&s.toString()===i.toString()})??null}function e_(e){return e.sourceJSON?.isMultiServicesView||pxe(e)}function pxe(e){return!!e.sourceJSON?.capabilities?.toLowerCase().split(",").map(t=>t.trim()).includes("map")}function fxe(e,t,n){const i=t?.queryAttributeBins;if(!i)throw new B(n,"Layer source does not support binning");switch(e.binParameters.type){case"auto-interval":if(!i.supportsAutoInterval)throw new B(n,"Layer source does not support auto-interval binning");if(e.binParameters.normalizationType&&(!i.supportsNormalization||!MF(e.binParameters.normalizationType,i.supportedNormalizationTypes)))throw new B(n,"Layer source does not support normalization binning");break;case"date":if(!i.supportsDate)throw new B(n,"Layer source does not support date binning");if(e.binParameters.snapToData&&!i.supportsSnapToData)throw new B(n,"Layer source does not support snapToData binning");if(e.binParameters.returnFullIntervalBin&&!i.supportsReturnFullIntervalBin)throw new B(n,"Layer source does not support returnFullIntervalBin binning");break;case"fixed-boundaries":if(!i.supportsFixedBoundaries)throw new B(n,"Layer source does not support fixed-boundaries binning");break;case"fixed-interval":if(!i.supportsFixedInterval)throw new B(n,"Layer source does not support fixed-interval binning");if(e.binParameters.normalizationType&&(!i.supportsNormalization||!MF(e.binParameters.normalizationType,i.supportedNormalizationTypes)))throw new B(n,"Layer source does not support normalization binning")}if(e.binParameters.stackBy&&!i.supportsStackBy)throw new B(n,"Layer source does not support stackBy binning");if(e.binParameters.splitBy&&!i.supportsSplitBy)throw new B(n,"Layer source does not support splitBy binning");if(e.binParameters.firstDayOfWeek&&!i.supportsFirstDayOfWeek)throw new B(n,"Layer source does not support firstDayOfWeek binning");const r=i?.supportedStatistics;if(e.outStatistics&&r){const s=new Map([["count","count"],["sum","sum"],["min","min"],["max","max"],["avg","avg"],["stddev","stddev"],["var","var"],["percentile-continuous","percentileContinuous"],["percentile-discrete","percentileDiscrete"],["centroid-aggregate","centroid"],["convex-hull-aggregate","convexHull"],["envelope-aggregate","envelope"]]);for(const{statisticType:o}of e.outStatistics){const a=s.get(o);if(a&&!r[a])throw new B(n,`Layer source does not support ${o} statistic type`)}}}function MF(e,t){return e!=null&&!!t?.[pZ.toJSON(e)]}let hf=class extends ut.ClonableMixin(te){constructor(t){super(t),this.shapeAreaField=null,this.shapeLengthField=null,this.units=null}};u([d({type:String,json:{read:{source:"shapeAreaFieldName"}}})],hf.prototype,"shapeAreaField",void 0),u([d({type:String,json:{read:{source:"shapeLengthFieldName"}}})],hf.prototype,"shapeLengthField",void 0),u([d({type:String,json:{read:e=>zye.read(e)||Bye.read(e)}})],hf.prototype,"units",void 0),hf=u([k("esri.layers.support.GeometryFieldsInfo")],hf);const mxe=hf;var yk;let pf=yk=class extends te{constructor(e){super(e),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new we}clone(){return new yk({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};u([d({type:String,json:{write:{isRequired:!0}}})],pf.prototype,"floorField",void 0),u([d({json:{read:!1,write:!1}})],pf.prototype,"viewAllMode",void 0),u([d({json:{read:!1,write:!1}})],pf.prototype,"viewAllLevelIds",void 0),pf=yk=u([k("esri.layers.support.LayerFloorInfo")],pf);const yxe=pf,kF=new at({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),AF=new at({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});let rs=class extends ut.ClonableMixin(te){constructor(t){super(t),this.cardinality=null,this.catalogId=null,this.composite=null,this.id=null,this.keyField=null,this.keyFieldInRelationshipTable=null,this.name=null,this.relatedTableId=null,this.relationshipTableId=null,this.role=null}};u([d({json:{read:kF.read,write:kF.write}})],rs.prototype,"cardinality",void 0),u([d({json:{name:"catalogID"}})],rs.prototype,"catalogId",void 0),u([d({json:{read:!0,write:!0}})],rs.prototype,"composite",void 0),u([d({json:{read:!0,write:!0}})],rs.prototype,"id",void 0),u([d({json:{read:!0,write:!0}})],rs.prototype,"keyField",void 0),u([d({json:{read:!0,write:!0}})],rs.prototype,"keyFieldInRelationshipTable",void 0),u([d({json:{read:!0,write:!0}})],rs.prototype,"name",void 0),u([d({json:{read:!0,write:!0}})],rs.prototype,"relatedTableId",void 0),u([d({json:{read:!0,write:!0}})],rs.prototype,"relationshipTableId",void 0),u([d({json:{read:AF.read,write:AF.write}})],rs.prototype,"role",void 0),rs=u([k("esri.layers.support.Relationship")],rs);const gxe=rs,vxe=[["binary","application/octet-stream","bin",""]];function i9e(e,t){return SZ(t.name,e?.supportedFormats??[])!=null}function r9e(e,t){if(!e)return!1;const n=bxe(t,e.supportedFormats??[]);return n!=null&&e.editFormats.includes(n)}function bZ(e,t){return H3(xxe(e,t))}function wZ(e,t){return H3(SZ(e,t))}function s9e(e,t){return xZ(Sxe(e,t))}function bxe(e,t){return wZ(e.name,t)??bZ(e.type,t)}function Nx(e,t,n){return bZ(e,n)??wZ(t,n)}function _Z({supportedFormats:e}){return Nx("model/gltf-binary","glb",e)}function o9e(e){const t=_Z(e);return t!=null&&e.editFormats.includes(t)}function wxe({supportedFormats:e}){return Nx("model/gltf+json","gltf",e)}function _xe(e){if(!e)return null;const t=_Z(e),n=wxe(e);let i=null;for(const r of e.queryFormats){if(r===t)return r;r===n&&(i=r)}return i}function a9e({supportedFormats:e}){return Nx("application/esri3do-SR_world","wld",e)}function l9e({supportedFormats:e}){return Nx("application/esri3do-SR_prj","prj",e)}function G3(e){return[...vxe,...e]}function Sxe(e,t){return G3(t).find(n=>H3(n)===e)}function xxe(e,t){const n=e.toLowerCase();return G3(t).find(i=>xZ(i)===n)}function SZ(e,t){const n=e.toLowerCase();return G3(t).find(i=>$xe(i).some(r=>n.endsWith(r)))}function H3(e){return e?.[0]}function xZ(e){return e?.[1].toLowerCase()}function $xe(e){return e?.[2].split(",").map(t=>t.toLowerCase())??[]}function u9e(e){return e.tables?.find(t=>t.role==="assetMaps")}function Ie(e,t,n){return!!$Z(e,t,n)}function Ug(e,t,n){return $Z(e,t,n)}function $Z(e,t,n){return e&&e.hasOwnProperty(t)?e[t]:n}const Txe={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"};function Exe(e){const t=e?.supportedSpatialAggregationStatistics?.map(n=>n.toLowerCase());return{envelope:!!t?.includes("envelopeaggregate"),centroid:!!t?.includes("centroidaggregate"),convexHull:!!t?.includes("convexhullaggregate")}}function Eb(e,t){return!!e?.supportedOperationsWithCacheHint?.map(i=>i.toLowerCase())?.includes(t.toLowerCase())}function Ixe(e){const t=e?.supportedStatisticTypes?.map(n=>n.toLowerCase());return{count:!!t?.includes("count"),sum:!!t?.includes("sum"),min:!!t?.includes("min"),max:!!t?.includes("max"),avg:!!t?.includes("avg"),var:!!t?.includes("var"),stddev:!!t?.includes("stddev"),percentileContinuous:!!t?.includes("percentile_continuous"),percentileDiscrete:!!t?.includes("percentile_discrete"),envelope:!!t?.includes("envelopeaggregate"),centroid:!!t?.includes("centroidaggregate"),convexHull:!!t?.includes("convexhullaggregate")}}function Cxe(e){const t=e?.supportedNormalizationTypes?.map(n=>n.toLowerCase());return{field:!!t?.includes("field"),log:!!t?.includes("log"),naturalLog:!!t?.includes("naturallog"),percentOfTotal:!!t?.includes("percentoftotal"),squareRoot:!!t?.includes("squareroot")}}function TZ(e,t){return{analytics:Mxe(e),attachment:kxe(e),data:Axe(e),metadata:Pxe(e),operations:Lxe(e.capabilities,e,t),query:Oxe(e,t),queryAttributeBins:Dxe(e),queryRelated:Rxe(e),queryTopFeatures:Nxe(e),editing:Vxe(e)}}function Mxe(e){return{supportsCacheHint:Eb(e.advancedQueryCapabilities,"queryAnalytics")}}function kxe(e){const t=e.attachmentProperties,n={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:Eb(e.advancedQueryCapabilities,"queryAttachments"),supportsOrderByFields:Ie(e.advancedQueryCapabilities,"supportsQueryAttachmentOrderByFields",!1),supportsResize:Ie(e,"supportsAttachmentsResizing",!1)};return t&&Array.isArray(t)&&t.forEach(i=>{const r=Txe[i.name];r&&(n[r]=!!i.isEnabled)}),n}function Axe(e){return{isVersioned:Ie(e,"isDataVersioned",!1),isBranchVersioned:Ie(e,"isDataBranchVersioned",!1),supportsAttachment:Ie(e,"hasAttachments",!1),supportsM:Ie(e,"hasM",!1),supportsZ:Ie(e,"hasZ",!1)}}function Pxe(e){return{supportsAdvancedFieldProperties:Ie(e,"supportsFieldDescriptionProperty",!1)}}function Lxe(e,t,n){const i=e?e.toLowerCase().split(",").map(m=>m.trim()):[],r=n?oy(n):null,s=i.includes(r!=null&&r.serverType==="MapServer"?"data":"query"),o=i.includes("editing")&&!t.datesInUnknownTimezone;let a=o&&i.includes("create"),l=o&&i.includes("delete"),c=o&&i.includes("update");const h=i.includes("changetracking"),p=t.advancedQueryCapabilities;return o&&!(a||l||c)&&(a=l=c=!0),{supportsCalculate:Ie(t,"supportsCalculate",!1),supportsTruncate:Ie(t,"supportsTruncate",!1),supportsValidateSql:Ie(t,"supportsValidateSql",!1),supportsAdd:a,supportsDelete:l,supportsEditing:o,supportsChangeTracking:h,supportsQuery:s,supportsQueryAnalytics:Ie(p,"supportsQueryAnalytic",!1),supportsQueryAttachments:Ie(p,"supportsQueryAttachments",!1),supportsQueryBins:Ie(p,"supportsQueryBins",!1),supportsQueryTopFeatures:Ie(p,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:Ie(t,"supportsAttachmentsResizing",!1),supportsSync:i.includes("sync"),supportsUpdate:c,supportsExceedsLimitStatistics:Ie(t,"supportsExceedsLimitStatistics",!1),supportsAsyncConvert3D:Ie(t,"supportsAsyncConvert3D",!1)}}function Oxe(e,t){const n=e.advancedQueryCapabilities,i=e.ownershipBasedAccessControlForFeatures,r=e.archivingInfo,s=e.currentVersion,o=t?.includes("MapServer"),a=!o||s>=H("mapserver-pbf-version-support"),l=iS(t),c=new Set((e.supportedQueryFormats??"").split(",").map(h=>h.toLowerCase().trim()));return{maxRecordCount:Ug(e,"maxRecordCount",void 0),maxRecordCountFactor:Ug(e,"maxRecordCountFactor",void 0),standardMaxRecordCount:Ug(e,"standardMaxRecordCount",void 0),supportedSpatialAggregationStatistics:Exe(n),supportsCacheHint:Ie(n,"supportsQueryWithCacheHint",!1)||Eb(n,"query"),supportsCentroid:Ie(n,"supportsReturningGeometryCentroid",!1),supportsCompactGeometry:l,supportsCurrentUser:Ie(n,"supportsCurrentUserQueries",!1),supportsDefaultSpatialReference:Ie(n,"supportsDefaultSR",!1),supportsDisjointSpatialRelationship:Ie(n,"supportsDisjointSpatialRel",!1),supportsDistance:Ie(n,"supportsQueryWithDistance",!1),supportsDistinct:Ie(n,"supportsDistinct",e.supportsAdvancedQueries),supportsExtent:Ie(n,"supportsReturningQueryExtent",!1),supportsFormatPBF:a&&c.has("pbf"),supportsFullTextSearch:Ie(n,"supportsFullTextSearch",!1),supportsGeometryProperties:Ie(n,"supportsReturningGeometryProperties",!1),supportsHavingClause:Ie(n,"supportsHavingClause",!1),supportsHistoricMoment:Ie(r,"supportsQueryWithHistoricMoment",!1),supportsMaxRecordCountFactor:Ie(n,"supportsMaxRecordCountFactor",!1),supportsOrderBy:Ie(n,"supportsOrderBy",e.supportsAdvancedQueries),supportsPagination:Ie(n,"supportsPagination",!1),supportsPercentileStatistics:Ie(n,"supportsPercentileStatistics",!1),supportsQuantization:Ie(e,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:Ie(e,"supportsQuantizationEditMode",!1),supportsQueryByAnonymous:Ie(i,"allowAnonymousToQuery",!0),supportsQueryByOthers:Ie(i,"allowOthersToQuery",!0),supportsQueryGeometry:Ie(e,"supportsReturningQueryGeometry",!1),supportsResultType:Ie(n,"supportsQueryWithResultType",!1),supportsReturnMesh:!!_xe(e.infoFor3D),supportsSpatialAggregationStatistics:Ie(n,"supportsSpatialAggregationStatistics",!1),supportsSqlExpression:Ie(n,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:Ie(e,"useStandardizedQueries",!1),supportsStatistics:Ie(n,"supportsStatistics",e.supportsStatistics),supportsTopFeaturesQuery:Ie(n,"supportsTopFeaturesQuery",!1),supportsTrueCurve:Ie(n,"supportsTrueCurve",!1),tileMaxRecordCount:Ug(e,"tileMaxRecordCount",void 0)}}function Rxe(e){const t=e.advancedQueryCapabilities,n=Ie(t,"supportsAdvancedQueryRelated",!1);return{supportsPagination:Ie(t,"supportsQueryRelatedPagination",!1),supportsCount:n,supportsOrderBy:n,supportsCacheHint:Eb(t,"queryRelated")}}function Nxe(e){return{supportsCacheHint:Eb(e.advancedQueryCapabilities,"queryTopFilter")}}function Dxe(e){const t=e?e.queryBinsCapabilities:void 0;return{supportsDate:Ie(t,"supportsDateBin",!1),supportsFixedInterval:Ie(t,"supportsFixedIntervalBin",!1),supportsAutoInterval:Ie(t,"supportsAutoIntervalBin",!1),supportsFixedBoundaries:Ie(t,"supportsFixedBoundariesBin",!1),supportsStackBy:Ie(t,"supportsStackBy",!1),supportsSplitBy:Ie(t,"supportsSplitBy",!1),supportsSnapToData:Ie(t,"supportsSnapToData",!1),supportsReturnFullIntervalBin:Ie(t,"supportsReturnFullIntervalBin",!1),supportsFirstDayOfWeek:Ie(t,"supportsFirstDayOfWeek",!1),supportsNormalization:Ie(t,"supportsNormalization",!1),supportedStatistics:Ixe(t),supportedNormalizationTypes:Cxe(t)}}function Vxe(e){const t=e.ownershipBasedAccessControlForFeatures,n=e?e.advancedEditingCapabilities:void 0;return{supportsGeometryUpdate:Ie(e,"allowGeometryUpdates",!0),supportsGlobalId:Ie(e,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:Ie(e,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:Ie(e,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:Ie(e,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:Ie(e,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:Ie(t,"allowAnonymousToDelete",!0),supportsDeleteByOthers:Ie(t,"allowOthersToDelete",!0),supportsUpdateByAnonymous:Ie(t,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:Ie(t,"allowOthersToUpdate",!0),supportsAsyncApplyEdits:Ie(n,"supportsAsyncApplyEdits",!1),zDefault:Ug(e,"zDefault",void 0)}}function c9e(e){return{operations:{supportsAppend:Ie(e,"supportsAppend",!1),supportsCoverageQuery:e?.playbackInfo?.klv["0601"]??!1,supportsExportClip:Ie(e,"supportsExportClip",!1),supportsExportFrameset:Ie(e,"supportsExportFrameset",!1),supportsMensuration:Ie(e,"supportsMensuration",!1),supportsUpdate:Ie(e,"supportsUpdate",!1)}}}let rl=class extends ut.ClonableMixin(te){constructor(t){super(t),this.code=null,this.defaultValues={},this.domains=null,this.name=null}readDomains(t){if(!t)return null;const n={};for(const i of Object.keys(t))n[i]=hx(t[i]);return n}writeDomains(t,n){if(!t)return;const i={};for(const r of Object.keys(t))t[r]&&(i[r]=t[r]?.toJSON());n.domains=i}};u([d({type:Number,json:{write:!0}})],rl.prototype,"code",void 0),u([d({type:Object,json:{write:!0}})],rl.prototype,"defaultValues",void 0),u([d({json:{write:!0}})],rl.prototype,"domains",void 0),u([le("domains")],rl.prototype,"readDomains",null),u([ge("domains")],rl.prototype,"writeDomains",null),u([d({type:String,json:{write:!0}})],rl.prototype,"name",void 0),rl=u([k("esri.layers.support.Subtype")],rl);const Fxe=rl,jxe=e=>{let t=class extends e{constructor(){super(...arguments),this.copyright=null,this.capabilities=null,this.dateFieldsTimeZone=null,this.datesInUnknownTimezone=!1,this.definitionExpression=null,this.displayField=null,this.editFieldsInfo=null,this.editingInfo=null,this.elevationInfo=null,this.fieldsIndex=null,this.floorInfo=null,this.fullExtent=null,this.gdbVersion=null,this.geometryFieldsInfo=null,this.geometryType=null,this.globalIdField=null,this.hasM=void 0,this.hasZ=void 0,this.heightModelInfo=null,this.historicMoment=null,this.indexes=new(we.ofType(ga)),this.isTable=!1,this.layerId=void 0,this.maxScale=0,this.minScale=0,this.objectIdField=null,this.preferredTimeZone=null,this.relationships=null,this.returnM=void 0,this.returnZ=void 0,this.serviceDefinitionExpression=null,this.serviceItemId=null,this.sourceJSON=null,this.spatialReference=et.WGS84,this.subtypeField=null,this.subtypes=null,this.trackIdField=null,this.version=void 0}getFieldDomain(){throw new Error("Not implemented")}getField(n){return this.fieldsIndex.get(n)}get authenticationTriggerEvent(){if(!this.url)return null;const{capabilities:n}=this;if(n){const{query:r,operations:s,editing:o}=n;if(!r.supportsQueryByOthers||!r.supportsQueryByAnonymous||s.supportsEditing&&!(o.supportsUpdateByOthers&&o.supportsUpdateByAnonymous&&o.supportsDeleteByOthers&&o.supportsDeleteByAnonymous))return"load"}if(TS(this.serviceDefinitionExpression)||TS(this.definitionExpression))return"load";if(this.userHasUpdateItemPrivileges){if(dxe(this))return"load";if(this.hasUpdateItemRestrictions)return n.operations.supportsQuery?"editing":"load"}if(this.userHasFullEditingPrivileges&&this.hasFullEditingRestrictions)return"editing";const i=this.editFieldsInfo;return(i?.creatorField||i?.editorField)&&n?.operations.supportsEditing?"editing":null}readCapabilitiesFromService(n,i){return TZ(i,this.url)}readEditingInfo(n,i){const{editingInfo:r}=i;return r?{lastEditDate:r.lastEditDate!=null?new Date(r.lastEditDate):null}:null}get effectiveCapabilities(){const n=this.capabilities;if(!n)return null;const i=j(n),{operations:r,editing:s}=i;return e_(this)?(this.userHasUpdateItemPrivileges&&(r.supportsQuery=!0),i):this.userHasUpdateItemPrivileges?(r.supportsAdd=r.supportsDelete=r.supportsEditing=r.supportsQuery=r.supportsUpdate=s.supportsDeleteByOthers=s.supportsGeometryUpdate=s.supportsUpdateByOthers=!0,i):(this.userHasFullEditingPrivileges&&r.supportsEditing&&(r.supportsAdd=r.supportsDelete=r.supportsUpdate=s.supportsGeometryUpdate=!0),i)}get effectiveEditingEnabled(){return!1}readGlobalIdFieldFromService(n,i){return fZ(i)}get hasFullEditingRestrictions(){const n=this.capabilities;if(!n||e_(this))return!1;const{operations:i,editing:r}=n;return i.supportsEditing&&!(i.supportsAdd&&i.supportsDelete&&i.supportsUpdate&&r.supportsGeometryUpdate)}get hasUpdateItemRestrictions(){const n=this.capabilities;if(!n)return!1;const{operations:i,editing:r}=n;return e_(this)?!i.supportsQuery:!(i.supportsAdd&&i.supportsDelete&&i.supportsEditing&&i.supportsQuery&&i.supportsUpdate&&r.supportsDeleteByOthers&&r.supportsGeometryUpdate&&r.supportsUpdateByOthers)}readIsTableFromService(n,i){return i.type==="Table"}readMaxScale(n,i){return i.effectiveMaxScale||n||0}readMinScale(n,i){return i.effectiveMinScale||n||0}readObjectIdFieldFromService(n,i){return mZ(i)}readServiceDefinitionExpression(n,i){return i.definitionQuery||i.definitionExpression}set url(n){if(n==null)return void this._set("url",n);const i=qme({layer:this,url:n,nonStandardUrlAllowed:!0,logger:re.getLogger(this)});this._set("url",i.url),i.layerId!=null&&this._set("layerId",i.layerId)}writeUrl(n,i,r,s){Wme(this,n,null,i,s)}readVersion(n,i){return nxe(i)}};return u([d({readOnly:!0})],t.prototype,"authenticationTriggerEvent",null),u([d({type:String,json:{origins:{service:{read:{source:"copyrightText"}}}}})],t.prototype,"copyright",void 0),u([d({readOnly:!0,json:{read:!1,origins:{service:{read:{source:["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","isDataBranchVersioned","isDataVersioned","maxRecordCount","maxRecordCountFactor","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"]}}}}})],t.prototype,"capabilities",void 0),u([le("service","capabilities")],t.prototype,"readCapabilitiesFromService",null),u([d(fS("dateFieldsTimeReference"))],t.prototype,"dateFieldsTimeZone",void 0),u([d({type:Boolean})],t.prototype,"datesInUnknownTimezone",void 0),u([d({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],t.prototype,"definitionExpression",void 0),u([d({type:String,json:{origins:{service:{read:{source:"displayField"}}}}})],t.prototype,"displayField",void 0),u([d({readOnly:!0,type:CSe})],t.prototype,"editFieldsInfo",void 0),u([d({readOnly:!0})],t.prototype,"editingInfo",void 0),u([le("editingInfo")],t.prototype,"readEditingInfo",null),u([d({readOnly:!0})],t.prototype,"effectiveCapabilities",null),u([d()],t.prototype,"effectiveEditingEnabled",null),u([d((()=>{const n=j(SSe),i=n.json.origins;return i["web-map"]={read:!1,write:!1},i["portal-item"]={read:!1,write:!1},n})())],t.prototype,"elevationInfo",void 0),u([d()],t.prototype,"fieldsIndex",void 0),u([d({type:yxe,json:{name:"layerDefinition.floorInfo",write:{layerContainerTypes:an}}})],t.prototype,"floorInfo",void 0),u([d({type:Gt,json:{origins:{service:{read:{source:"extent"}}}}})],t.prototype,"fullExtent",void 0),u([d()],t.prototype,"gdbVersion",void 0),u([d({readOnly:!0,type:mxe,json:{read:{source:"geometryProperties"}}})],t.prototype,"geometryFieldsInfo",void 0),u([d({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:mk.read}}}})],t.prototype,"geometryType",void 0),u([d({type:String})],t.prototype,"globalIdField",void 0),u([le("service","globalIdField",["globalIdField","fields"])],t.prototype,"readGlobalIdFieldFromService",null),u([d({readOnly:!0})],t.prototype,"hasFullEditingRestrictions",null),u([d({type:Boolean,json:{origins:{service:{read:!0}}}})],t.prototype,"hasM",void 0),u([d({readOnly:!0})],t.prototype,"hasUpdateItemRestrictions",null),u([d({type:Boolean,json:{origins:{service:{read:!0}}}})],t.prototype,"hasZ",void 0),u([d({readOnly:!0,type:Tb})],t.prototype,"heightModelInfo",void 0),u([d({type:Date})],t.prototype,"historicMoment",void 0),u([d({type:we.ofType(ga),readOnly:!0})],t.prototype,"indexes",void 0),u([d({readOnly:!0})],t.prototype,"isTable",void 0),u([le("service","isTable",["type"])],t.prototype,"readIsTableFromService",null),u([d({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{read:!1,write:{target:"id"}}},read:!1}})],t.prototype,"layerId",void 0),u([d(ESe)],t.prototype,"maxScale",void 0),u([le("service","maxScale",["maxScale","effectiveMaxScale"])],t.prototype,"readMaxScale",null),u([d(TSe)],t.prototype,"minScale",void 0),u([le("service","minScale",["minScale","effectiveMinScale"])],t.prototype,"readMinScale",null),u([d({type:String})],t.prototype,"objectIdField",void 0),u([le("service","objectIdField",["objectIdField","fields"])],t.prototype,"readObjectIdFieldFromService",null),u([d(fS("preferredTimeReference"))],t.prototype,"preferredTimeZone",void 0),u([d({type:[gxe],readOnly:!0})],t.prototype,"relationships",void 0),u([d({type:Boolean})],t.prototype,"returnM",void 0),u([d({type:Boolean})],t.prototype,"returnZ",void 0),u([d({readOnly:!0,json:{write:!1}})],t.prototype,"serverGens",void 0),u([d({readOnly:!0})],t.prototype,"serviceDefinitionExpression",void 0),u([le("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],t.prototype,"readServiceDefinitionExpression",null),u([d({type:String,readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],t.prototype,"serviceItemId",void 0),u([d()],t.prototype,"sourceJSON",void 0),u([d({type:et,json:{origins:{service:{read:{source:"extent.spatialReference"}}}}})],t.prototype,"spatialReference",void 0),u([d({type:String,readOnly:!0,json:{origins:{service:{read:!0}}}})],t.prototype,"subtypeField",void 0),u([d({type:[Fxe],readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],t.prototype,"subtypes",void 0),u([d({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],t.prototype,"trackIdField",void 0),u([d(wSe)],t.prototype,"url",null),u([ge("url")],t.prototype,"writeUrl",null),u([d({json:{origins:{service:{read:!0}},read:!1}})],t.prototype,"version",void 0),u([le("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],t.prototype,"readVersion",null),t=u([k("esri.layers.mixins.FeatureLayerBase")],t),t};let ff=class extends ut.ClonableMixin(te){constructor(t){super(t),this.expression=null,this.title=null,this.returnType=null}};u([d({type:String,json:{write:!0}})],ff.prototype,"expression",void 0),u([d({type:String,json:{write:!0}})],ff.prototype,"title",void 0),u([d({type:String,json:{write:!0}})],ff.prototype,"returnType",void 0),ff=u([k("esri.layers.support.ExpressionInfo")],ff);const q3=ff;var gk;let sl=gk=class extends te{constructor(e){super(e),this.isAutoGenerated=!1,this.name=null,this.alias=null,this.onStatisticField=null,this.onStatisticExpression=null,this.statisticType=null}clone(){return new gk({name:this.name,alias:this.alias,isAutoGenerated:this.isAutoGenerated,onStatisticExpression:j(this.onStatisticExpression),onStatisticField:this.onStatisticField,statisticType:this.statisticType})}};u([d({type:Boolean,json:{write:!0}})],sl.prototype,"isAutoGenerated",void 0),u([d({type:String,json:{write:!0}})],sl.prototype,"name",void 0),u([d({type:String,json:{write:!0}})],sl.prototype,"alias",void 0),u([d({type:String,json:{write:!0}})],sl.prototype,"onStatisticField",void 0),u([d({type:q3,json:{write:!0}})],sl.prototype,"onStatisticExpression",void 0),u([d({type:String,json:{write:!0}})],sl.prototype,"statisticType",void 0),sl=gk=u([k("esri.layers.support.AggregateField")],sl);const bc=sl;let sc=class extends te{constructor(){super(...arguments),this.type=null}};u([d({type:["selection","cluster","binning"],readOnly:!0,json:{read:!1,write:!0}})],sc.prototype,"type",void 0),sc=u([k("esri.layers.support.FeatureReduction")],sc);const W3="__begin__",Z3="__end__",zxe=new RegExp(W3,"ig"),Bxe=new RegExp(Z3,"ig"),PF=new RegExp("^"+W3,"i"),LF=new RegExp(Z3+"$","i"),ES='"',Uxe=ES+" + ",Gxe=" + "+ES;function Hxe(e){return e.replaceAll(new RegExp("\\[","g"),"{").replaceAll(new RegExp("\\]","g"),"}")}function qxe(e){return e.replaceAll(new RegExp("\\{","g"),"[").replaceAll(new RegExp("\\}","g"),"]")}function Y3(e){const t={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):e.labelExpression!=null&&(t.expression=Hxe(e.labelExpression),t.type="conventional"),t}function Wxe(e){const t=Y3(e);switch(t.type){case"conventional":return vk(t.expression);case"arcade":return t.expression}return null}function Zxe(e){const t=Y3(e);switch(t.type){case"conventional":return Jxe(t.expression);case"arcade":return EZ(t.expression)}return null}function vk(e){let t;return e?(t=J0(e,n=>W3+'$feature["'+n+'"]'+Z3),t=PF.test(t)?t.replace(PF,""):ES+t,t=LF.test(t)?t.replace(LF,""):t+ES,t=t.replaceAll(zxe,Uxe).replaceAll(Bxe,Gxe)):t='""',t}const Yxe=/^\s*\{([^}]+)\}\s*$/i;function Jxe(e){return e?.match(Yxe)?.[1].trim()||null}const Kxe=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*$/i,Xxe=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,Qxe=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(.+)(\1)\s*\));?\s*$/i;function EZ(e){if(!e)return null;let t=Kxe.exec(e)||Xxe.exec(e);return t?t[1]||t[3]:(t=Qxe.exec(e),t?t[2]:null)}var bk;let Tu=bk=class extends te{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(e,t){return t.value?vk(t.value):e}writeExpression(e,t,n){this.value!=null&&(e=vk(this.value)),e!=null&&(t[n]=e)}clone(){return new bk({expression:this.expression,title:this.title,value:this.value})}};u([d({type:String,json:{write:{writerEnsuresNonNull:!0}}})],Tu.prototype,"expression",void 0),u([le("expression",["expression","value"])],Tu.prototype,"readExpression",null),u([ge("expression")],Tu.prototype,"writeExpression",null),u([d({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Tu.prototype,"title",void 0),u([d({json:{read:!1,write:!1}})],Tu.prototype,"value",void 0),Tu=bk=u([k("esri.layers.support.LabelExpressionInfo")],Tu);const IZ=Tu;var wk;const ww=new at({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function _w(e,t,n){return{enabled:!qM(n?.layer)}}function CZ(e){return!e||e.origin!=="service"&&e.layer?.type!=="map-image"}function e$e(e){return e?.type==="map-image"}function MZ(e){return!!e$e(e)&&!!e.capabilities?.exportMap?.supportsArcadeExpressionForLabeling}function t$e(e){return CZ(e)||MZ(e?.layer)}let En=wk=class extends te{static evaluateWhere(e,t){const n=(i,r,s)=>{switch(r){case"=":return i==s;case"<>":return i!=s;case">":return i>s;case">=":return i>=s;case"<":return i<s;case"<=":return i<=s}return!1};try{if(e==null)return!0;const i=e.split(" ");if(i.length===3)return n(t[i[0]],i[1],i[2]);if(i.length===7){const r=n(t[i[0]],i[1],i[2]),s=i[3],o=n(t[i[4]],i[5],i[6]);switch(s){case"AND":return r&&o;case"OR":return r||o}}return!1}catch{}}constructor(e){super(e),this.type="label",this.name=null,this.allowOverrun=!1,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition="curved",this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=w2e,this.useCodedValues=void 0,this.where=null}readLabelExpression(e,t){const n=t.labelExpressionInfo;if(!n||!n.value&&!n.expression)return e}writeLabelExpression(e,t,n){if(this.labelExpressionInfo){if(this.labelExpressionInfo.value!=null)e=qxe(this.labelExpressionInfo.value);else if(this.labelExpressionInfo.expression!=null){const i=EZ(this.labelExpressionInfo.expression);i&&(e="["+i+"]")}}e!=null&&(t[n]=e)}writeLabelExpressionInfo(e,t,n,i){if(e==null&&this.labelExpression!=null&&CZ(i))e=new IZ({expression:this.getLabelExpressionArcade()});else if(!e)return;const r=e.toJSON(i);r.expression&&(t[n]=r)}writeMaxScale(e,t){(e||this.minScale)&&(t.maxScale=e)}writeMinScale(e,t){(e||this.maxScale)&&(t.minScale=e)}getLabelExpression(){return Y3(this)}getLabelExpressionArcade(){return Wxe(this)}getLabelExpressionSingleField(){return Zxe(this)}hash(){return JSON.stringify(this)}clone(){return new wk({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:j(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:j(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};u([d({type:String,json:{write:!0}})],En.prototype,"name",void 0),u([d({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1},"portal-item":{default:!1,write:{overridePolicy:_w}}}}})],En.prototype,"allowOverrun",void 0),u([d({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1},"portal-item":{default:"static",write:{overridePolicy:_w}}}}})],En.prototype,"deconflictionStrategy",void 0),u([d({type:String,json:{write:{overridePolicy(e,t,n){return this.labelExpressionInfo&&n?.origin==="service"&&MZ(n.layer)?{enabled:!1}:{allowNull:!0}}}}})],En.prototype,"labelExpression",void 0),u([le("labelExpression")],En.prototype,"readLabelExpression",null),u([ge("labelExpression")],En.prototype,"writeLabelExpression",null),u([d({type:IZ,json:{write:{overridePolicy:(e,t,n)=>t$e(n)?{allowNull:!0}:{enabled:!1}}}})],En.prototype,"labelExpressionInfo",void 0),u([ge("labelExpressionInfo")],En.prototype,"writeLabelExpressionInfo",null),u([d({type:ww.apiValues,json:{type:ww.jsonValues,read:ww.read,write:ww.write}})],En.prototype,"labelPlacement",void 0),u([d({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],En.prototype,"labelPosition",void 0),u([d({type:Number})],En.prototype,"maxScale",void 0),u([ge("maxScale")],En.prototype,"writeMaxScale",null),u([d({type:Number})],En.prototype,"minScale",void 0),u([ge("minScale")],En.prototype,"writeMinScale",null),u([d({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:_w}}}}})],En.prototype,"repeatLabel",void 0),u([d({type:Number,cast:ht,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:_w}}}}})],En.prototype,"repeatLabelDistance",void 0),u([d({types:owe,json:{origins:{"web-scene":{types:awe,write:bF,default:null}},write:bF,default:null}})],En.prototype,"symbol",void 0),u([d({type:Boolean,json:{write:!0}})],En.prototype,"useCodedValues",void 0),u([d({type:String,json:{write:!0}})],En.prototype,"where",void 0),En=wk=u([k("esri.layers.support.LabelClass")],En);const Ib=En;var _k;let Eu=_k=class extends te{constructor(e){super(e),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){return new _k({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?.clone()??null})}getMeshHash(){const e=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${e}`}};u([d({type:String,json:{write:!0}})],Eu.prototype,"description",void 0),u([d({type:String,json:{write:!0}})],Eu.prototype,"label",void 0),u([d({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],Eu.prototype,"minValue",void 0),u([d({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],Eu.prototype,"maxValue",void 0),u([d(N3)],Eu.prototype,"symbol",void 0),Eu=_k=u([k("esri.renderers.support.ClassBreakInfo")],Eu);const IS=Eu;var Sk;const kZ="log",t_="percent-of-total",n_="field",Sw=new at({esriNormalizeByLog:kZ,esriNormalizeByPercentOfTotal:t_,esriNormalizeByField:n_}),n$e=Jn(IS);let Un=Sk=class extends yy(Wl){constructor(e){super(e),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(e,t,n){if(!Array.isArray(e))return;let i=t.minValue;return e.map(r=>{const s=new IS;return s.read(r,n),s.minValue==null&&(s.minValue=i),s.maxValue==null&&(s.maxValue=s.minValue),i=s.maxValue,s})}writeClassBreakInfos(e,t,n,i){const r=e.map(s=>s.write({},i));this._areClassBreaksConsecutive()&&r.forEach(s=>delete s.classMinValue),t[n]=r}castField(e){return e==null?e:typeof e=="function"?(re.getLogger(this).error(".field: field must be a string value"),null):sb(e)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let e=this._get("normalizationType");const t=!!this.normalizationField,n=this.normalizationTotal!=null;return t||n?(e=t&&n_||n&&t_||null,t&&n&&re.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):e!==n_&&e!==t_||(e=null),e}set normalizationType(e){this._set("normalizationType",e)}addClassBreakInfo(e,t,n){let i=null;i=typeof e=="number"?new IS({minValue:e,maxValue:t,symbol:Jq(n)}):n$e(j(e)),this.classBreakInfos.push(i),this.classBreakInfos.length===1&&this.notifyChange("minValue")}removeClassBreakInfo(e,t){const n=this.classBreakInfos.length;for(let i=0;i<n;i++){const r=[this.classBreakInfos[i].minValue,this.classBreakInfos[i].maxValue];if(r[0]===e&&r[1]===t){this.classBreakInfos.splice(i,1);break}}}getBreakIndex(e,t){return this.valueExpression&&t?.arcade==null&&re.getLogger(this).warn(""),this.valueExpression?this._getBreakIndexForExpression(e,t):this._getBreakIndexForField(e)}async getClassBreakInfo(e,t){let n=t;this.valueExpression&&t?.arcade==null&&(n={...n,arcade:await Ia()});const i=this.getBreakIndex(e,n);return i!==-1?this.classBreakInfos[i]:null}getSymbol(e,t){if(this.valueExpression&&t?.arcade==null)return void re.getLogger(this).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const n=this.getBreakIndex(e,t);return n>-1?this.classBreakInfos[n].symbol:this.defaultSymbol}async getSymbolAsync(e,t){let n=t;if(this.valueExpression&&t?.arcade==null){const r=await Ia(),{arcadeUtils:s}=r;s.hasGeometryOperations(this.valueExpression)&&await s.enableGeometryOperations(),n={...n,arcade:r}}const i=this.getBreakIndex(e,n);return i>-1?this.classBreakInfos[i].symbol:this.defaultSymbol}get symbols(){const e=[];return this.classBreakInfos.forEach(t=>{t.symbol&&e.push(t.symbol)}),this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables?.reduce((e,t)=>e+t.getAttributeHash(),"")??""}getMeshHash(){const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),n=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${e}.${t}.${this.classBreakInfos.reduce((i,r)=>i+r.getMeshHash(),"")}.${n}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){return new Sk({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol?.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol?.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:j(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:j(this.visualVariables),legendOptions:j(this.legendOptions),authoringInfo:j(this.authoringInfo)})}async collectRequiredFields(e,t){const n=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(n)}async collectSymbolFields(e,t){const n=[...this.symbols.map(i=>i.collectRequiredFields(e,t)),rr(e,t,this.valueExpression)];$r(e,t,this.field),$r(e,t,this.normalizationField),await Promise.all(n)}_getBreakIndexForExpression(e,t){const{viewingMode:n,scale:i,spatialReference:r,arcade:s,timeZone:o}=t??{},{valueExpression:a}=this;let l=this._compiledValueExpression.valueExpression===a?this._compiledValueExpression.compiledFunction:null;const c=s.arcadeUtils;if(!l){const p=c.createSyntaxTree(a);l=c.createFunction(p),this._compiledValueExpression.compiledFunction=l}this._compiledValueExpression.valueExpression=a;const h=c.executeFunction(l,c.createExecContext(e,c.getViewInfo({viewingMode:n,scale:i,spatialReference:r}),o));return this._getBreakIndexfromInfos(h)}_getBreakIndexForField(e){const t=this.field,n=e.attributes,i=this.normalizationType;let r=parseFloat(n[t]);if(i){const s=this.normalizationTotal,o=parseFloat(this.normalizationField?n[this.normalizationField]:void 0);if(i===kZ)r=Math.log(r)*Math.LOG10E;else if(i!==t_||s==null||isNaN(s)){if(i===n_&&!isNaN(o)){if(isNaN(r)||isNaN(o))return-1;r/=o}}else r=r/s*100}return this._getBreakIndexfromInfos(r)}_getBreakIndexfromInfos(e){const t=this.isMaxInclusive;if(e!=null&&typeof e=="number"&&!isNaN(e))for(let n=0;n<this.classBreakInfos.length;n++){const i=[this.classBreakInfos[n].minValue,this.classBreakInfos[n].maxValue];if(i[0]<=e&&(t?e<=i[1]:e<i[1]))return n}return-1}_areClassBreaksConsecutive(){const e=this.classBreakInfos,t=e.length;for(let n=1;n<t;n++)if(e[n-1].maxValue!==e[n].minValue)return!1;return!0}};u([d(D3)],Un.prototype,"backgroundFillSymbol",void 0),u([d({type:[IS],json:{write:{isRequired:!0}}})],Un.prototype,"classBreakInfos",void 0),u([le("classBreakInfos")],Un.prototype,"readClassBreakInfos",null),u([ge("classBreakInfos")],Un.prototype,"writeClassBreakInfos",null),u([d({type:String,json:{write:!0}})],Un.prototype,"defaultLabel",void 0),u([d(Rx)],Un.prototype,"defaultSymbol",void 0),u([d({type:String,json:{write:!0}})],Un.prototype,"field",void 0),u([pt("field")],Un.prototype,"castField",null),u([d({type:Boolean})],Un.prototype,"isMaxInclusive",void 0),u([d({type:V3,json:{write:!0}})],Un.prototype,"legendOptions",void 0),u([d({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return this.classBreakInfos.length!==0&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],Un.prototype,"minValue",null),u([d({type:String,json:{write:!0}})],Un.prototype,"normalizationField",void 0),u([d({type:Number,json:{write:!0}})],Un.prototype,"normalizationTotal",void 0),u([d({type:Sw.apiValues,value:null,json:{type:Sw.jsonValues,read:Sw.read,write:Sw.write}})],Un.prototype,"normalizationType",null),u([Ve({classBreaks:"class-breaks"})],Un.prototype,"type",void 0),u([d({type:String,json:{write:!0}})],Un.prototype,"valueExpression",void 0),u([d({type:String,json:{write:!0}})],Un.prototype,"valueExpressionTitle",void 0),Un=Sk=u([k("esri.renderers.ClassBreaksRenderer")],Un);const AZ=Un,xk=-3,i$e=xk-1;var bl;(function(e){e[e.ALL=0]="ALL",e[e.SOME=1]="SOME"})(bl||(bl={}));let r$e=class{get size(){return this._size}constructor(t=10485760){this._maxSize=t,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new mh,this._users=new mh}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear()}register(t){this._users.push(t)}deregister(t){this._users.removeUnordered(t)}registerRemoveFunc(t,n){this._removeFuncs.push([t,n])}deregisterRemoveFunc(t){this._removeFuncs.filterInPlace(n=>n[0]!==t)}get maxSize(){return this._maxSize}set maxSize(t){this._maxSize=Math.max(t,-1),this._checkSize()}getSize(t,n){return this._db.get(t.id+n)?.size??0}put(t,n,i,r,s){n=t.id+n;const o=this._db.get(n);if(o&&(this._size-=o.size,t.size-=o.size,this._db.delete(n),o.entry!==i&&this._notifyRemove(n,o.entry,o.size,bl.ALL)),r>this._maxSize)return void this._notifyRemove(n,i,r,bl.ALL);if(i===void 0)return void console.warn("Refusing to cache undefined entry ");if(!r||r<0)return console.warn(`Refusing to cache entry with size ${r} for key ${n}`),void this._notifyRemove(n,i,0,bl.ALL);const a=1+Math.max(s,i$e)-xk;this._db.set(n,new s$e(i,r,a)),this._size+=r,t.size+=r,this._checkSize()}updateSize(t,n,i,r){n=t.id+n;const s=this._db.get(n);if(s&&s.entry===i){for(this._size-=s.size,t.size-=s.size;r>this._maxSize;){const o=this._notifyRemove(n,i,r,bl.SOME);if(!(o!=null&&o>0))return void this._db.delete(n);r=o}s.size=r,this._size+=r,t.size+=r,this._checkSize()}}pop(t,n){n=t.id+n;const i=this._db.get(n);if(i)return this._size-=i.size,t.size-=i.size,this._db.delete(n),++this._hit,i.entry;++this._miss}get(t,n){n=t.id+n;const i=this._db.get(n);if(i!==void 0)return this._db.delete(n),i.lives=i.lifetime,this._db.set(n,i),++this._hit,i.entry;++this._miss}peek(t,n){const i=this._db.get(t.id+n);return i?++this._hit:++this._miss,i?.entry}get performanceInfo(){const t={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},n={},i=new Array;this._db.forEach((o,a)=>{const l=o.lifetime;i[l]=(i[l]||0)+o.size,this._users.forAll(c=>{const{id:h,name:p}=c;if(a.startsWith(h)){const m=n[p]||0;n[p]=m+o.size}})});const r={};this._users.forAll(o=>{const a=o.name;if("hitRate"in o&&typeof o.hitRate=="number"&&!isNaN(o.hitRate)&&o.hitRate>0){const l=n[a]||0;n[a]=l,r[a]=Math.round(100*o.hitRate)+"%"}else r[a]="0%"});const s=Object.keys(n);s.sort((o,a)=>n[a]-n[o]),s.forEach(o=>t[o]=Math.round(n[o]/2**20)+"MB / "+r[o]);for(let o=i.length-1;o>=0;--o){const a=i[o];a&&(t["Priority "+(o+xk-1)]=Math.round(a/this._size*100)+"%")}return t}resetStats(){this._hit=this._miss=0,this._users.forAll(t=>t.resetHitRate())}clear(t){const n=t.id;this._db.forEach((i,r)=>{r.startsWith(n)&&(this._size-=i.size,this._db.delete(r),this._notifyRemove(r,i.entry,i.size,bl.ALL))}),t.size=0}clearAll(){this._db.forEach((t,n)=>this._notifyRemove(n,t.entry,t.size,bl.ALL)),this._users.forAll(t=>t.size=0),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(t,n,i,r){let s;return this._removeFuncs.some(o=>{if(t.startsWith(o[0])){const a=o[1](n,r,i);return typeof a=="number"&&(s=a),!0}return!1}),s}_checkSize(){this._users.forAll(t=>this._checkSizeLimits(t)),this._checkSizeLimits()}_checkSizeLimits(t){const n=t??this;if(n.maxSize<0||n.size<=n.maxSize)return;const i=t?.id;let r=!0;for(;r;){r=!1;for(const[s,o]of this._db)if(o.lifetime===0&&(!i||s.startsWith(i))){if(this._purgeItem(s,o,t),n.size<=.9*n.maxSize)return;r||=this._db.has(s)}}for(const[s,o]of this._db)if((!i||s.startsWith(i))&&(this._purgeItem(s,o,t),n.size<=.9*n.maxSize))return}_purgeItem(t,n,i=this._users.find(r=>t.startsWith(r.id))){if(this._db.delete(t),n.lives<=1){this._size-=n.size,i&&(i.size-=n.size);const r=this._notifyRemove(t,n.entry,n.size,bl.SOME);r!=null&&r>0&&(this._size+=r,i&&(i.size+=r),n.lives=n.lifetime,n.size=r,this._db.set(t,n))}else--n.lives,this._db.set(t,n)}},s$e=class{constructor(t,n,i){this.entry=t,this.size=n,this.lifetime=i,this.lives=i}},PZ=class{constructor(t,n){this._storage=new r$e,this.id="",this.name="",this.size=0,this._storage.maxSize=t,this._storage.register(this),n&&this._storage.registerRemoveFunc("",n)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(t,n,i=1){this._storage.put(this,t,n,i,1)}pop(t){return this._storage.pop(this,t)}get(t){return this._storage.get(this,t)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(t){this._storage.maxSize=t}resetHitRate(){}},LZ=class $k{constructor(t,n,i=""){this.major=t,this.minor=n,this._context=i}lessThan(t,n){return this.major<t||t===this.major&&this.minor<n}greaterEqual(t,n){return!this.lessThan(t,n)}validate(t){if(this.major!==t.major){const n=this._context&&this._context+":",i=this._context&&this._context+" ";throw new B(n+"unsupported-version",`Required major ${i}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:t})}}clone(){return new $k(this.major,this.minor,this._context)}static parse(t,n=""){const[i,r]=t.split("."),s=/^\s*\d+\s*$/;if(!i?.match||!s.test(i))throw new B((n&&n+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:t});if(!r?.match||!s.test(r))throw new B((n&&n+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:t});const o=parseInt(i,10),a=parseInt(r,10);return new $k(o,a,n)}};function o$e(e){return"timeZone"in e}function a$e(e){return"timeZone"in e}function l$e(e){return"dateFieldsTimeZone"in e}const u$e=new Map;let OZ=class i_{static fromJSON(t){return new i_(t.fields,t.timeZoneByFieldName)}static fromLayer(t){return new i_(t.fields??[],RF(t))}static fromLayerJSON(t){return new i_(t.fields??[],RF(t))}constructor(t=[],n){this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=t||[],this._timeZoneByFieldName=n?new Map(n):null;const i=[];for(const r of this.fields){const s=r?.name,o=OF(s);if(s&&o){const a=Kd(s);this._fieldsMap.set(s,r),this._fieldsMap.set(a,r),this._normalizedFieldsMap.set(o,r),i.push(`${a}:${r.type}:${this._timeZoneByFieldName?.get(s)}`),NL(r)?(this.dateFields.push(r),this._dateFieldsSet.add(r)):WG(r)&&(this._numericFieldsSet.add(r),this.numericFields.push(r)),FD(r)||jD(r)||(r.editable=r.editable==null||!!r.editable,r.nullable=r.nullable==null||!!r.nullable)}}i.sort(),this.uid=i.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const t of this.fields)FD(t)||jD(t)||t.nullable||lge(t)!==void 0||this._requiredFields.push(t)}return this._requiredFields}equals(t){return this.uid===t?.uid}has(t){return this.get(t)!=null}get(t){if(!t)return;let n=this._fieldsMap.get(t);return n||(n=this._fieldsMap.get(Kd(t))??this._normalizedFieldsMap.get(OF(t)),n&&this._fieldsMap.set(t,n),n)}getTimeZone(t){const n=this.get(t&&typeof t!="string"?t.name:t);return n?this._timeZoneByFieldName?this._timeZoneByFieldName.get(n.name):n.type==="date"||n.type==="esriFieldTypeDate"?(re.getLogger("esri.layers.support.FieldsIndex").errorOnce(new B("getTimeZone:no-timezone-information",`no time zone information for field '${n.name}'`)),Ma):RZ.has(n.type)?Nh:null:null}getLuxonTimeZone(t){const n=this.getTimeZone(t);return n?n===Nh?Ro.instance:n===Ma?_i.utcInstance:rb(u$e,n,()=>Wr.create(n)):null}isDateField(t){return this._dateFieldsSet.has(this.get(t))}isTimeOnlyField(t){return YG(this.get(t))}isNumericField(t){return this._numericFieldsSet.has(this.get(t))}normalizeFieldName(t){return this.get(t)?.name??void 0}toJSON(){return{fields:this.fields.map(t=>te.isSerializable(t)?t.toJSON():t),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}};function Kd(e){return e.trim().toLowerCase()}function OF(e){return Zye(e)?.toLowerCase()??""}const RZ=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function RF(e){const t=new Map;if(!e.fields)return t;const n=e.datesInUnknownTimezone===!0,{timeInfo:i,editFieldsInfo:r}=e,s=(i?"startField"in i?i.startField:i.startTimeField:"")??"",o=(i?"endField"in i?i.endField:i.endTimeField:"")??"",a=l$e(e)?e.dateFieldsTimeZone??null:e.dateFieldsTimeReference?y1(e.dateFieldsTimeReference):null,l=r?o$e(r)?r.timeZone??a:r.dateFieldsTimeReference?y1(r.dateFieldsTimeReference):a??Ma:null,c=i?a$e(i)?i.timeZone??a:i.timeReference?y1(i.timeReference):a:null,h=new Map([[Kd(r?.creationDateField??""),l],[Kd(r?.editDateField??""),l],[Kd(s),c],[Kd(o),c]]);for(const{name:p,type:m}of e.fields)if(RZ.has(m))t.set(p,Nh);else if(m!=="date"&&m!=="esriFieldTypeDate")t.set(p,null);else if(n)t.set(p,Nh);else{const y=h.get(Kd(p??""))??a;t.set(p,y)}return t}var NF,DF,VF,FF,jF,zF,BF,UF,GF,HF,Tk,Ek,qF,WF,ZF,YF,JF,KF,XF,QF,e5,t5,n5,i5,r5,s5,o5,a5,l5,u5,c5,d5,h5,p5,f5,m5,y5,g5,v5,b5,w5,_5,S5,x5,$5,T5,E5,I5,C5,M5,k5,A5,P5,L5,O5,CS,R5,N5,D5,V5,F5,j5,z5;(function(e){e[e.BUTT=0]="BUTT",e[e.ROUND=1]="ROUND",e[e.SQUARE=2]="SQUARE",e[e.UNKNOWN=4]="UNKNOWN"})(NF||(NF={})),function(e){e[e.BEVEL=0]="BEVEL",e[e.ROUND=1]="ROUND",e[e.MITER=2]="MITER",e[e.UNKNOWN=4]="UNKNOWN"}(DF||(DF={})),function(e){e[e.SCREEN=0]="SCREEN",e[e.MAP=1]="MAP"}(VF||(VF={})),function(e){e[e.Tint=0]="Tint",e[e.Ignore=1]="Ignore",e[e.Multiply=99]="Multiply"}(FF||(FF={})),function(e){e.Both="Both",e.JustBegin="JustBegin",e.JustEnd="JustEnd",e.None="None"}(jF||(jF={})),function(e){e[e.Mosaic=0]="Mosaic",e[e.Centered=1]="Centered"}(zF||(zF={})),function(e){e[e.Normal=0]="Normal",e[e.Superscript=1]="Superscript",e[e.Subscript=2]="Subscript"}(BF||(BF={})),function(e){e[e.MSSymbol=0]="MSSymbol",e[e.Unicode=1]="Unicode"}(UF||(UF={})),function(e){e[e.Unspecified=0]="Unspecified",e[e.TrueType=1]="TrueType",e[e.PSOpenType=2]="PSOpenType",e[e.TTOpenType=3]="TTOpenType",e[e.Type1=4]="Type1"}(GF||(GF={})),function(e){e[e.Display=0]="Display",e[e.Map=1]="Map"}(HF||(HF={})),function(e){e.None="None",e.Loop="Loop",e.Oscillate="Oscillate"}(Tk||(Tk={})),function(e){e.Linear="Linear",e.EaseIn="EaseIn",e.EaseOut="EaseOut",e.EaseInOut="EaseInOut"}(Ek||(Ek={})),function(e){e[e.Z=0]="Z",e[e.X=1]="X",e[e.Y=2]="Y"}(qF||(qF={})),function(e){e[e.XYZ=0]="XYZ",e[e.ZXY=1]="ZXY",e[e.YXZ=2]="YXZ"}(WF||(WF={})),function(e){e[e.Rectangle=0]="Rectangle",e[e.RoundedRectangle=1]="RoundedRectangle",e[e.Oval=2]="Oval"}(ZF||(ZF={})),function(e){e[e.None=0]="None",e[e.Alpha=1]="Alpha",e[e.Screen=2]="Screen",e[e.Multiply=3]="Multiply",e[e.Add=4]="Add"}(YF||(YF={})),function(e){e[e.TTB=0]="TTB",e[e.RTL=1]="RTL",e[e.BTT=2]="BTT"}(JF||(JF={})),function(e){e[e.None=0]="None",e[e.SignPost=1]="SignPost",e[e.FaceNearPlane=2]="FaceNearPlane"}(KF||(KF={})),function(e){e[e.Float=0]="Float",e[e.String=1]="String",e[e.Boolean=2]="Boolean"}(XF||(XF={})),function(e){e[e.Intersect=0]="Intersect",e[e.Subtract=1]="Subtract"}(QF||(QF={})),function(e){e.OpenEnded="OpenEnded",e.Block="Block",e.Crossed="Crossed"}(e5||(e5={})),function(e){e.FullGeometry="FullGeometry",e.PerpendicularFromFirstSegment="PerpendicularFromFirstSegment",e.ReversedFirstSegment="ReversedFirstSegment",e.PerpendicularToSecondSegment="PerpendicularToSecondSegment",e.SecondSegmentWithTicks="SecondSegmentWithTicks",e.DoublePerpendicular="DoublePerpendicular",e.OppositeToFirstSegment="OppositeToFirstSegment",e.TriplePerpendicular="TriplePerpendicular",e.HalfCircleFirstSegment="HalfCircleFirstSegment",e.HalfCircleSecondSegment="HalfCircleSecondSegment",e.HalfCircleExtended="HalfCircleExtended",e.OpenCircle="OpenCircle",e.CoverageEdgesWithTicks="CoverageEdgesWithTicks",e.GapExtentWithDoubleTicks="GapExtentWithDoubleTicks",e.GapExtentMidline="GapExtentMidline",e.Chevron="Chevron",e.PerpendicularWithArc="PerpendicularWithArc",e.ClosedHalfCircle="ClosedHalfCircle",e.TripleParallelExtended="TripleParallelExtended",e.ParallelWithTicks="ParallelWithTicks",e.Parallel="Parallel",e.PerpendicularToFirstSegment="PerpendicularToFirstSegment",e.ParallelOffset="ParallelOffset",e.OffsetOpposite="OffsetOpposite",e.OffsetSame="OffsetSame",e.CircleWithArc="CircleWithArc",e.DoubleJog="DoubleJog",e.PerpendicularOffset="PerpendicularOffset",e.LineExcludingLastSegment="LineExcludingLastSegment",e.MultivertexArrow="MultivertexArrow",e.CrossedArrow="CrossedArrow",e.ChevronArrow="ChevronArrow",e.ChevronArrowOffset="ChevronArrowOffset",e.PartialFirstSegment="PartialFirstSegment",e.Arch="Arch",e.CurvedParallelTicks="CurvedParallelTicks",e.Arc90Degrees="Arc90Degrees",e.TipWithPerpendicularAndTicks="TipWithPerpendicularAndTicks",e.ConcentricCircles="ConcentricCircles",e.DoubleJogArrow="DoubleJogArrow",e.LinkedChevrons="LinkedChevrons",e.SegmentThenHalfCircle="SegmentThenHalfCircle",e.LineWithStraightTicks="LineWithStraightTicks",e.DoubleCurve="DoubleCurve",e.ParallelWithTicksByWidth="ParallelWithTicksByWidth",e.EnclosingRoundedRectangle="EnclosingRoundedRectangle"}(t5||(t5={})),function(e){e.Mitered="Mitered",e.Bevelled="Bevelled",e.Rounded="Rounded",e.Square="Square",e.TrueBuffer="TrueBuffer"}(n5||(n5={})),function(e){e.ClosePath="ClosePath",e.ConvexHull="ConvexHull",e.RectangularBox="RectangularBox"}(i5||(i5={})),function(e){e.BeginningOfLine="BeginningOfLine",e.EndOfLine="EndOfLine"}(r5||(r5={})),function(e){e.Mitered="Mitered",e.Bevelled="Bevelled",e.Rounded="Rounded",e.Square="Square"}(s5||(s5={})),function(e){e.Fast="Fast",e.Accurate="Accurate"}(o5||(o5={})),function(e){e.BeginningOfLine="BeginningOfLine",e.EndOfLine="EndOfLine"}(a5||(a5={})),function(e){e.Sinus="Sinus",e.Square="Square",e.Triangle="Triangle",e.Random="Random"}(l5||(l5={})),function(e){e[e.None=0]="None",e[e.Default=1]="Default",e[e.Force=2]="Force"}(u5||(u5={})),function(e){e[e.Buffered=0]="Buffered",e[e.Left=1]="Left",e[e.Right=2]="Right",e[e.AlongLine=3]="AlongLine"}(c5||(c5={})),function(e){e[e.Linear=0]="Linear",e[e.Rectangular=1]="Rectangular",e[e.Circular=2]="Circular",e[e.Buffered=3]="Buffered"}(d5||(d5={})),function(e){e[e.Discrete=0]="Discrete",e[e.Continuous=1]="Continuous"}(h5||(h5={})),function(e){e[e.AcrossLine=0]="AcrossLine",e[e.AlongLine=1]="AlongLine"}(p5||(p5={})),function(e){e[e.Auto=0]="Auto",e[e.Clockwise=1]="Clockwise",e[e.Counterclockwise=2]="Counterclockwise"}(f5||(f5={})),function(e){e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Center=2]="Center",e[e.Justify=3]="Justify"}(m5||(m5={})),function(e){e[e.Base=0]="Base",e[e.MidPoint=1]="MidPoint",e[e.ThreePoint=2]="ThreePoint",e[e.FourPoint=3]="FourPoint",e[e.Underline=4]="Underline",e[e.CircularCW=5]="CircularCW",e[e.CircularCCW=6]="CircularCCW"}(y5||(y5={})),function(e){e.Butt="Butt",e.Round="Round",e.Square="Square"}(g5||(g5={})),function(e){e.NoConstraint="NoConstraint",e.HalfPattern="HalfPattern",e.HalfGap="HalfGap",e.FullPattern="FullPattern",e.FullGap="FullGap",e.Custom="Custom"}(v5||(v5={})),function(e){e[e.None=-1]="None",e[e.Custom=0]="Custom",e[e.Circle=1]="Circle",e[e.OpenArrow=2]="OpenArrow",e[e.ClosedArrow=3]="ClosedArrow",e[e.Diamond=4]="Diamond"}(b5||(b5={})),function(e){e[e.ExtraLeading=0]="ExtraLeading",e[e.Multiple=1]="Multiple",e[e.Exact=2]="Exact"}(w5||(w5={})),function(e){e.Bevel="Bevel",e.Round="Round",e.Miter="Miter"}(_5||(_5={})),function(e){e[e.Default=0]="Default",e[e.String=1]="String",e[e.Numeric=2]="Numeric"}(S5||(S5={})),function(e){e[e.InsidePolygon=0]="InsidePolygon",e[e.PolygonCenter=1]="PolygonCenter",e[e.RandomlyInsidePolygon=2]="RandomlyInsidePolygon"}(x5||(x5={})),function(e){e[e.Tint=0]="Tint",e[e.Replace=1]="Replace",e[e.Multiply=2]="Multiply"}($5||($5={})),function(e){e[e.ClipAtBoundary=0]="ClipAtBoundary",e[e.RemoveIfCenterOutsideBoundary=1]="RemoveIfCenterOutsideBoundary",e[e.DoNotTouchBoundary=2]="DoNotTouchBoundary",e[e.DoNotClip=3]="DoNotClip"}(T5||(T5={})),function(e){e.NoConstraint="NoConstraint",e.WithMarkers="WithMarkers",e.WithFullGap="WithFullGap",e.WithHalfGap="WithHalfGap",e.Custom="Custom"}(E5||(E5={})),function(e){e.Fixed="Fixed",e.Random="Random",e.RandomFixedQuantity="RandomFixedQuantity"}(I5||(I5={})),function(e){e.LineMiddle="LineMiddle",e.LineBeginning="LineBeginning",e.LineEnd="LineEnd",e.SegmentMidpoint="SegmentMidpoint"}(C5||(C5={})),function(e){e.OnPolygon="OnPolygon",e.CenterOfMass="CenterOfMass",e.BoundingBoxCenter="BoundingBoxCenter"}(M5||(M5={})),function(e){e[e.Low=0]="Low",e[e.Medium=1]="Medium",e[e.High=2]="High"}(k5||(k5={})),function(e){e[e.MarkerCenter=0]="MarkerCenter",e[e.MarkerBounds=1]="MarkerBounds"}(A5||(A5={})),function(e){e[e.None=0]="None",e[e.PropUniform=1]="PropUniform",e[e.PropNonuniform=2]="PropNonuniform",e[e.DifUniform=3]="DifUniform",e[e.DifNonuniform=4]="DifNonuniform"}(P5||(P5={})),function(e){e.Tube="Tube",e.Strip="Strip",e.Wall="Wall"}(L5||(L5={})),function(e){e[e.Random=0]="Random",e[e.Increasing=1]="Increasing",e[e.Decreasing=2]="Decreasing",e[e.IncreasingThenDecreasing=3]="IncreasingThenDecreasing"}(O5||(O5={})),function(e){e[e.Relative=0]="Relative",e[e.Absolute=1]="Absolute"}(CS||(CS={})),function(e){e[e.Normal=0]="Normal",e[e.LowerCase=1]="LowerCase",e[e.Allcaps=2]="Allcaps"}(R5||(R5={})),function(e){e[e.LTR=0]="LTR",e[e.RTL=1]="RTL"}(N5||(N5={})),function(e){e.Draft="Draft",e.Picture="Picture",e.Text="Text"}(D5||(D5={})),function(e){e[e.Top=0]="Top",e[e.Center=1]="Center",e[e.Baseline=2]="Baseline",e[e.Bottom=3]="Bottom"}(V5||(V5={})),function(e){e[e.Right=0]="Right",e[e.Upright=1]="Upright"}(F5||(F5={})),function(e){e[e.Small=0]="Small",e[e.Medium=1]="Medium",e[e.Large=2]="Large"}(j5||(j5={})),function(e){e[e.Calm=0]="Calm",e[e.Rippled=1]="Rippled",e[e.Slight=2]="Slight",e[e.Moderate=3]="Moderate"}(z5||(z5={}));const c$e={color:[128,128,128,1],outlinecolor:[0,0,0,1],backgroundcolor:[128,128,128,1],borderlinecolor:[0,0,0,1],tintcolor:[255,255,255,1]},Ik={CIMVectorMarker:{scalesymbolsproportionally:!1,respectframe:!0,anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMPictureMarker:{scalex:1,texturefilter:"Draft",anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMTextSymbol:{angle:0,anglex:0,angley:0,halosize:1,height:10,horizontalalignment:"Left",kerning:!0,letterspacing:0,letterwidth:100,ligatures:!0,linegap:0,offsetx:0,offsety:0,strikethrough:!1,textcase:"Normal",textstring:"",underline:!1,verticalalignment:"Bottom",enable:!0,colorlocked:!1},CIMSolidStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMPictureStroke:{texturefilter:"Draft",capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMGradientStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1,gradientMethod:"AcrossLine",gradientSize:75,gradientSizeUnits:CS.Relative,gradientType:"Discrete",interval:5},CIMSolidFill:{enable:!0,colorlocked:!1},CIMPictureFill:{offsetx:0,offsety:0,rotation:0,scalex:1,height:10,texturefilter:"Draft",enable:!0,colorlocked:!1},CIMHatchFill:{offsetx:0,offsety:0,rotation:0,separation:4,enable:!0,colorlocked:!1},CIMGradientFill:{enable:!0,angle:90,gradientMethod:"Linear",gradientSize:75,gradientSizeUnits:CS.Relative,gradientType:"Discrete",interval:5},CIMGeometricEffectAddControlPoints:{angletolerance:120},CIMGeometricEffectArrow:{arrowtype:"OpenEnded",width:5},CIMGeometricEffectBuffer:{size:1},CIMGeometricEffectCut:{begincut:1,endcut:1,middlecut:0,invert:!1},CIMGeometricEffectDashes:{customendingoffset:0,linedashending:"NoConstraint",offsetalongline:0},CIMGeometricEffectDonut:{method:"Mitered",option:"Accurate",width:2},CIMGeometricEffectJog:{angle:225,length:20,position:50},CIMGeometricEffectControlMeasureLine:{rule:"FullGeometry"},CIMGeometricEffectMove:{offsetx:1,offsety:-1},CIMGeometricEffectOffset:{method:"Square",offset:1,option:"Fast"},CIMGeometricEffectRotate:{angle:15},CIMGeometricEffectScale:{xscalefactor:1.15,yscalefactor:1.15},CIMGeometricEffectWave:{amplitude:2,period:3,seed:1,waveform:"Sinus"},CIMMarkerPlacementAlongLine:{customendingoffset:0,endings:"WithHalfGap",offsetalongline:0,placeperpart:!0,angletoline:!0,offset:0},CIMMarkerPlacementAtExtremities:{extremityplacement:"Both",offsetalongline:0,angletoline:!0,offset:0},CIMMarkerPlacementAtRatioPositions:{beginposition:0,endposition:0,flipfirst:!0,angletoline:!0,offset:0},CIMMarkerPlacementInsidePolygon:{gridangle:0,gridtype:"Fixed",offsetx:0,offsety:0,randomness:100,seed:0,shiftoddrows:!1,stepx:16,stepy:16,clipping:"ClipAtBoundary"},CIMMarkerPlacementOnLine:{relativeto:"LineMiddle",startpointoffset:0,angletoline:!0,offset:0},CIMMarkerPlacementOnVertices:{placeperpart:!0,placeoncontrolpoints:!0,placeonendpoints:!0,placeonregularvertices:!0,angletoline:!0,offset:0},CIMMarkerPlacementPolygonCenter:{method:"OnPolygon",offsetx:0,offsety:0,clipatboundary:!1},CIMAnimatedSymbolProperties:{playanimation:!1,reverseanimation:!1,randomizestarttime:!1,randomizestartseed:0,starttimeoffset:0,duration:3,endingduration:3,useendingduration:!1,repeattype:Tk.Loop,repeatdelay:0,easing:Ek.Linear},CIMSymbolAnimationSize:{tosize:10},CIMSymbolAnimationScale:{scalefactor:1},CIMSymbolAnimationColor:{tocolor:[255,255,255,1]},CIMSymbolAnimationTransparency:{totransparency:0},CIMSymbolAnimationRotation:{torotation:0,rotateclockwise:!1},CIMSymbolAnimationOffset:{offsetx:0,offsety:0}};function d$e(e){return typeof e=="function"}function g9e(e,t,n,i){return d$e(e)?e(t,n,i):e}function v9e(e){return[e.r,e.g,e.b,e.a]}const h$e=` /-,
`;function B5(e){let t=e.length;for(;t--;)if(!h$e.includes(e.charAt(t)))return!1;return!0}function b9e(e,t){const n=[];let i=0,r=-1;do if(r=e.indexOf("[",i),r>=i){if(r>i){const s=e.slice(i,r);n.push([s,null,B5(s)])}if(i=r+1,r=e.indexOf("]",i),r>=i){if(r>i){const s=t[e.slice(i,r)];s&&n.push([null,s,!1])}i=r+1}}while(r!==-1);if(i<e.length){const s=e.slice(i);n.push([s,null,B5(s)])}return n}function w9e(e,t,n,i){let r="",s=null;for(const o of t){const[a,l,c]=o;if(a)c?s=a:(s&&(r+=s,s=null),r+=a);else{let h=l;n!=null&&(h=jZ(l,n));const p=e.attributes[h];p&&(s&&(r+=s,s=null),r+=p)}}return p$e(r,i)}function p$e(e,t){switch(typeof e!="string"&&(e=String(e)),t){case"LowerCase":return e.toLowerCase();case"Allcaps":return e.toUpperCase();default:return e}}function _9e(e,t,n,i,r,s,o=!0){const a=t/r,l=n/s,c=Math.ceil(a/2),h=Math.ceil(l/2);for(let p=0;p<s;p++)for(let m=0;m<r;m++){const y=4*(m+(o?s-p-1:p)*r);let g=0,v=0,b=0,w=0,S=0,x=0,E=0;const $=(p+.5)*l;for(let I=Math.floor(p*l);I<(p+1)*l;I++){const A=Math.abs($-(I+.5))/h,M=(m+.5)*a,L=A*A;for(let O=Math.floor(m*a);O<(m+1)*a;O++){let P=Math.abs(M-(O+.5))/c;const R=Math.sqrt(L+P*P);R>=-1&&R<=1&&(g=2*R*R*R-3*R*R+1,g>0&&(P=4*(O+I*t),E+=g*e[P+3],b+=g,e[P+3]<255&&(g=g*e[P+3]/250),w+=g*e[P],S+=g*e[P+1],x+=g*e[P+2],v+=g))}}i[y]=w/v,i[y+1]=S/v,i[y+2]=x/v,i[y+3]=E/b}}function NZ(e){return e?[e[0],e[1],e[2],e[3]/255]:[0,0,0,0]}function DZ(e){return e.data?.symbol??null}function VZ(e){return e.type==="CIMVectorMarker"||e.type==="CIMPictureMarker"||e.type==="CIMBarChartMarker"||e.type==="CIMCharacterMarker"||e.type==="CIMPieChartMarker"||e.type==="CIMStackedBarChartMarker"}function FZ(e){return e.type==="CIMGradientStroke"||e.type==="CIMPictureStroke"||e.type==="CIMSolidStroke"}function S9e(e){return e!=null&&(e.type==="CIMGradientFill"||e.type==="CIMHatchFill"||e.type==="CIMPictureFill"||e.type==="CIMSolidFill"||e.type==="CIMWaterFill")}function Dx(e){return e!=null&&(e.type==="CIMMarkerPlacementAlongLineRandomSize"||e.type==="CIMMarkerPlacementAlongLineSameSize"||e.type==="CIMMarkerPlacementAlongLineVariableSize"||e.type==="CIMMarkerPlacementAtExtremities"||e.type==="CIMMarkerPlacementAtMeasuredUnits"||e.type==="CIMMarkerPlacementAtRatioPositions"||e.type==="CIMMarkerPlacementOnLine"||e.type==="CIMMarkerPlacementOnVertices")}const x9e=(e,t=0)=>e==null||isNaN(e)?t:e,$9e=(e,t)=>e??t,T9e=(e,t)=>e??t,E9e=e=>e.tintColor?NZ(e.tintColor):[255,255,255,1],I9e=e=>{if(!e)return!1;for(const t of e)switch(t.type){case"CIMGeometricEffectBuffer":case"CIMGeometricEffectOffset":case"CIMGeometricEffectDonut":return!0}return!1};function C9e(){return J(()=>import("./geometryEngineJSON-oRyFp_Dn.js").then(e=>e.g),__vite__mapDeps([38,39,8,40]))}function M9e(e){if(!e)return"normal";switch(e.toLowerCase()){case"italic":return"italic";case"oblique":return"oblique";default:return"normal"}}function k9e(e){if(!e)return"normal";switch(e.toLowerCase()){case"bold":return"bold";case"bolder":return"bolder";case"lighter":return"lighter";default:return"normal"}}function A9e(e){let t="normal",n="normal";if(e){const i=e.toLowerCase();i.includes("italic")?t="italic":i.includes("oblique")&&(t="oblique"),i.includes("bold")?n="bold":i.includes("light")&&(n="lighter")}return{style:t,weight:n}}function P9e(e){return e.underline?"underline":e.strikethrough?"line-through":"none"}function U5(e){if(!e)return null;switch(e.type){case"CIMPolygonSymbol":if(e.symbolLayers)for(const t of e.symbolLayers){const n=U5(t);if(n!=null)return n}break;case"CIMTextSymbol":return U5(e.symbol);case"CIMSolidFill":return e.color}return null}function G5(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":{const t=e.symbolLayers;if(t)for(const n of t){const i=G5(n);if(i!=null)return i}break}case"CIMTextSymbol":return G5(e.symbol);case"CIMSolidStroke":return e.color}}function H5(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":if(e.symbolLayers)for(const t of e.symbolLayers){const n=H5(t);if(n!==void 0)return n}break;case"CIMTextSymbol":return H5(e.symbol);case"CIMSolidStroke":case"CIMGradientStroke":case"CIMPictureStroke":return e.width}}function L9e(e){switch(e){case"Left":default:return"left";case"Right":return"right";case"Center":case"Justify":return"center"}}function O9e(e){switch(e){case"Top":default:return"top";case"Center":return"middle";case"Baseline":return"baseline";case"Bottom":return"bottom"}}function R9e(e){return(e?Object.keys(e):[]).map(t=>({name:t,alias:t,type:typeof e[t]=="string"?"esriFieldTypeString":"esriFieldTypeDouble"}))}const N9e=e=>e.includes("data:image/svg+xml");function D9e(e){if(!e)return null;switch(e.type){case"CIMPointSymbol":case"CIMTextSymbol":return"esriGeometryPoint";case"CIMLineSymbol":return"esriGeometryPolyline";case"CIMPolygonSymbol":return"esriGeometryPolygon";default:return null}}function J3(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}function V9e(e,t,n,i,r,s,o=!0){const{infos:a}=s;let l=1,c=0,h=0,p=0,m=1;for(const{absoluteAnchorPoint:v,offsetX:b,offsetY:w,rotation:S,size:x,frameHeight:E,rotateClockWise:$,scaleSymbolsProportionally:I}of a)m=v?1:l,h=W5(b,w,c,m,h),p=q5(b,w,c,m,p),E&&(I||o)&&(l*=x/E),c=Z5(S,$,c);const y=W5(i,r,c,m,h),g=q5(i,r,c,m,p);return{size:e*l,rotation:Z5(t,n,c),offsetX:y,offsetY:g}}function f$e(e){if(e==null)return!1;if(Array.isArray(e))return e.every(t=>f$e(t));switch(typeof e){case"string":return!!e;case"number":return!isNaN(e)}}function m$e(e,t){if(t==="color"||t==="outlinecolor"||t==="backgroundcolor"||t==="borderlinecolor"||t==="tintcolor")return[...c$e[t]];const n=Ik[e];if(!n)throw new Error(`InternalError: default value for type ${e}.`);return n[t]}function y$e(e){return e.split(" ").map(t=>Number(t))}function g$e(e){return typeof e=="string"?y$e(e):e}function F9e(e){return e?.dashTemplate&&(e.dashTemplate=g$e(e.dashTemplate)),e}function Ck(e){if(e==null)return"Normal";switch(e.type){case"CIMTextSymbol":return e.textCase??"Normal";case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":{const t=e.symbolLayers;if(!t)return"Normal";for(const n of t)if(n.type==="CIMVectorMarker")return Ck(n)}break;case"CIMVectorMarker":{const t=e.markerGraphics;if(!t)return"Normal";for(const n of t)if(n.symbol)return Ck(n.symbol)}}return"Normal"}function j9e(e){if(e)switch(e.type){case"CIMTextSymbol":return e.height;case"CIMPointSymbol":{let t=0;if(e.symbolLayers){for(const n of e.symbolLayers)if(n)switch(n.type){case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":{const i=n.size??Ik.CIMVectorMarker.size;i>t&&(t=i);break}}}return t}case"CIMLineSymbol":case"CIMPolygonSymbol":{let t=0;if(e.symbolLayers){for(const n of e.symbolLayers)if(n)switch(n.type){case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":{const i=n.width;i!=null&&i>t&&(t=i);break}case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":if(n.markerPlacement&&Dx(n.markerPlacement)){const i=n.size??Ik.CIMVectorMarker.size;i>t&&(t=i)}break;case"CIMPictureFill":{const i=n.height;i!=null&&i>t&&(t=i)}}}return t}}}function jZ(e,t){if(t!==null){const n=t.get(e);return n?n.name:e}return e}function z9e(e){return e.map(t=>({...t,propertyName:J3(t.propertyName)}))}function B9e(e){const t={};for(const n in e){const i=e[n];t[J3(n)]=i}return t}function q5(e,t,n,i,r){const s=n*Math.PI/180;if(s){const o=Math.cos(s);return(Math.sin(s)*e+o*t)*i+r}return t*i+r}function W5(e,t,n,i,r){const s=n*Math.PI/180;return s?(Math.cos(s)*e-Math.sin(s)*t)*i+r:e*i+r}function Z5(e,t,n){return t?n-e:n+e}function U9e(e,t,n){const i=n==="Color"||n==="TintColor"||n==="ToColor",r=n==="Rotation"||n==="Angle"||n==="ToRotation";let s=t[J3(n)];if(s!=null&&(i?s=[s[0]/255,s[1]/255,s[2]/255,s[3]/255]:r&&(s*=Math.PI/180)),s==null&&(s=m$e(t.type,n.toLowerCase()),s!=null&&(i?s=[s[0]/255,s[1]/255,s[2]/255,s[3]]:r&&(s*=Math.PI/180))),t.primitiveName!=null){const o=e[t.primitiveName];if(o!=null){const a=o[n];a==null||(typeof a=="string"||typeof a=="number"||Array.isArray(a)?(s=a,s!=null&&(i?s=[s[0]/255,s[1]/255,s[2]/255,s[3]/255]:r&&(s*=Math.PI/180))):(s={valueExpressionInfo:a,defaultValue:s},s!=null&&(i?s={type:"Process",op:"ArcadeColor",value:s}:r&&(s={type:"Process",op:"Divide",left:s,right:180/Math.PI}))))}}if(s==null)throw new Error(`Failed to derive a value or an expression for "${n}".`);return s}function G9e(e,t){return Math.max(Math.min((e??t)/100,1),0)}const Y5="esri.renderers.support.DictionaryLoader",v$e={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};let zZ=class{constructor(t,n,i){this.config=null,this.fieldMap=null,this.url=null,this._ongoingRequests=new Map,this._symbolCache=new PZ(100),this._dictionaryVersion=null,this._fieldIndex=null,this._dictionaryPromise=null,this.url=t,this.config=n,this.fieldMap=i}getSymbolFields(){return this._symbolFields}async getSymbolAsync(t,n){let i;this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(n));try{i=await this._dictionaryPromise}catch(p){if(ur(p))return this._dictionaryPromise=null,null}const r=this._dictionaryVersion?.greaterEqual(4,0),s={};if(this.fieldMap)for(const p of this._symbolFields){const m=jZ(this.fieldMap[p],this._fieldIndex);if(m){const y=t.attributes[m];s[p]=r?y:y!=null?""+t.attributes[m]:""}else s[p]=""}let o=null;try{o=i?.(s,n)}catch{return null}if(!o||typeof o!="string"||o==="invalid")return null;const a=o.split(";"),l=[],c=[];for(let p=0;p<a.length;p++){const m=a[p];if(m){if(m.includes("po:")){const y=m.slice(3).split("|");if(y.length===3){const g=y[0],v=y[1];let b=y[2];const w="countrylabel";if(g===w&&v==="TextString"){if(this.fieldMap!=null){let S=this.fieldMap[w];S==null&&(S=w,this.fieldMap[S]=S),t.attributes[S]=b}continue}if(v==="DashTemplate")b=b.split(" ").map(S=>Number(S));else if(v==="Color"){const S=new he(b).toRgba();b=[S[0],S[1],S[2],255*S[3]]}else b=Number(b);c.push({primitiveName:g,propertyName:v,value:b,defaultValue:null})}}else if(m.includes("|")){for(const y of m.split("|"))if(this._itemNames.has(y)){l.push(y);break}}else if(this._itemNames.has(m))l.push(m);else if(p===0){l.length=0;let y="Invalid_P";t.geometry!=null&&(vh(t.geometry)?y="Invalid_A":r3(t.geometry)&&(y="Invalid_L")),l.push(y);break}}}const h=t.geometry==null||!t.geometry.hasZ&&t.geometry.type==="point";return this._cimPartsToCIMSymbol(t,l,c,h,n)}async fetchResources(t){if(this._dictionaryPromise)return this._dictionaryPromise;if(!this.url)return void re.getLogger(Y5).error("no valid URL!");const n=Lt(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"},signal:t!=null?t.signal:null}),[{data:i}]=await Promise.all([n,Ia()]);if(!i)throw this._dictionaryPromise=null,new B("esri.renderers.DictionaryRenderer","Bad dictionary data!");const{authoringInfo:r,dictionary_version:s,expression:o,itemsNames:a}=i,l=o;let c=!1;s&&(this._dictionaryVersion=LZ.parse(s),c=this._dictionaryVersion.greaterEqual(4,0)),this._refSymbolUrlTemplate=this.url+"/"+i.cimRefTemplateUrl,this._itemNames=new Set(a),this._symbolFields=r.symbol;const h={};if(this.config){const y=this.config;for(const g in y)h[g]=y[g]}if(r.configuration)for(const y of r.configuration)h.hasOwnProperty(y.name)||(h[y.name]=y.value);const p=[];if(t?.fields&&this.fieldMap)for(const y in this.fieldMap){const g=this.fieldMap[y],v=t.fields.filter(b=>b.name.toLowerCase()===g?.toLowerCase());v.length>0&&p.push({...v[0],type:c?v[0].type:"esriFieldTypeString"})}p.length>0&&(this._fieldIndex=new OZ(p));const m=Hye(l,t!=null?t.spatialReference:null,p,h).then(y=>{const g={scale:0};return(v,b)=>{if(y==null)return null;const w=y.repurposeFeature({geometry:null,attributes:v});return g.scale=b!=null?b.scale??void 0:void 0,y.evaluate({$feature:w,$view:g},y.services)}}).catch(y=>(re.getLogger(Y5).error("Creating dictionary expression failed:",y),null));return this._dictionaryPromise=m,m}async _cimPartsToCIMSymbol(t,n,i,r,s){const o=new Array(n.length);for(let c=0;c<n.length;c++)o[c]=this._getSymbolPart(n[c],s);let a=await Promise.all(o);const l=this.fieldMap;if(l&&a.length>0){const{OverrideHelper:c}=await J(()=>import("./OverrideHelper-BgpyywX6.js").then(h=>h.O),__vite__mapDeps([178,34]));a=j(a);for(const h of a)c.applyDictionaryTextOverrides(h,t,l,this._fieldIndex,Ck(h))}return new Mc({data:b$e(a,i,r)})}async _getSymbolPart(t,n){const i=this._symbolCache.get(t);if(i)return i;if(this._ongoingRequests.has(t))return this._ongoingRequests.get(t).then(o=>o.data);const r=this._refSymbolUrlTemplate.replaceAll(/\{itemName\}/gi,t),s=Lt(r,{responseType:"json",query:{f:"json"},...n});this._ongoingRequests.set(t,s),s.finally(()=>this._ongoingRequests.delete(t));try{const o=await s;return this._symbolCache.put(t,o.data),o.data}catch(o){throw o}}};function b$e(e,t,n){if(!e||e.length===0)return null;const i={...e[0]};if(e.length>1){i.effects=null,i.symbolLayers=[];for(const r of e){const s=r;if(s.effects!=null)for(const o of s.symbolLayers)o.effects==null?o.effects=s.effects:o.effects.unshift(...s.effects);i.symbolLayers.unshift(...s.symbolLayers)}}return n&&(i.callout=v$e),{type:"CIMSymbolReference",symbol:i,primitiveOverrides:t}}var Mk;let Eo=Mk=class extends yy(Wl){constructor(e){super(e),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}get _loader(){return new zZ(this.url,this.config,this.fieldMap)}writeData(e,t){e&&(t.scalingExpressionInfo={expression:e,returnType:"number"})}writeVisualVariables(e,t,n,i){i?.origin||super.writeVisualVariables(e,t,n,i)}clone(){return new Mk({config:j(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:j(this.fieldMap),url:j(this.url),visualVariables:j(this.visualVariables)})}async getSymbolAsync(e,t){return this._loader.getSymbolAsync(e,t)}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t),this.scaleExpression&&await rr(e,t,this.scaleExpression);for(const n in this.fieldMap){const i=this.fieldMap[n];t.has(i)&&e.add(i)}}get arcadeRequired(){return!0}getSymbol(){return null}get symbols(){return[]}getAttributeHash(){return this.visualVariables?.reduce((e,t)=>e+t.getAttributeHash(),"")??""}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._loader.getSymbolFields()}};u([d({type:zZ})],Eo.prototype,"_loader",null),u([d({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],Eo.prototype,"config",void 0),u([d({type:Object,json:{write:!0}})],Eo.prototype,"fieldMap",void 0),u([d({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],Eo.prototype,"scaleExpression",void 0),u([ge("scaleExpression")],Eo.prototype,"writeData",null),u([d({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(e){return{enabled:!!e&&!!this.scaleExpression}}}}})],Eo.prototype,"scaleExpressionTitle",void 0),u([d({type:String,json:{write:!0}})],Eo.prototype,"url",void 0),u([ge("visualVariables")],Eo.prototype,"writeVisualVariables",null),Eo=Mk=u([k("esri.renderers.DictionaryRenderer")],Eo);const w$e=Eo;var kk;let ol=kk=class extends te{constructor(e){super(e),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(e){return e==null?e:typeof e=="function"?(re.getLogger(this).error(".field: field must be a string value"),null):sb(e)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new kk({color:this.color?.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};u([d({type:he,json:{type:[Number],write:!0}})],ol.prototype,"color",void 0),u([d({type:String,json:{write:!0}})],ol.prototype,"field",void 0),u([pt("field")],ol.prototype,"castField",null),u([d({type:String,json:{write:!0}})],ol.prototype,"label",void 0),u([d({type:String,json:{write:!0}})],ol.prototype,"valueExpression",void 0),u([d({type:String,json:{write:!0}})],ol.prototype,"valueExpressionTitle",void 0),ol=kk=u([k("esri.renderers.support.AttributeColorInfo")],ol);const BZ=ol;var Ak;let r_=Ak=class extends te{constructor(){super(...arguments),this.unit=null}clone(){return new Ak({unit:this.unit})}};u([d({type:String,json:{write:!0}})],r_.prototype,"unit",void 0),r_=Ak=u([k("esri.renderers.support.DotDensityLegendOptions")],r_);const _$e=r_;var Pk;let Or=Pk=class extends yy(Wl){constructor(e){super(e),this.attributes=null,this.backgroundColor=new he([0,0,0,0]),this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new Cr,this.dotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(e){if(this.referenceScale==null)return this.dotValue;const t=e/this.referenceScale*this.dotValue;return t<1?1:t}getSymbol(){return new ql({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes?.reduce((e,t)=>e+t.getAttributeHash(),"")??""}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new Pk({attributes:j(this.attributes),backgroundColor:j(this.backgroundColor),dotBlendingEnabled:j(this.dotBlendingEnabled),dotShape:j(this.dotShape),dotSize:j(this.dotSize),dotValue:j(this.dotValue),legendOptions:j(this.legendOptions),outline:j(this.outline),referenceScale:j(this.referenceScale),seed:j(this.seed),visualVariables:j(this.visualVariables),authoringInfo:j(this.authoringInfo)})}getControllerHash(){return`${this.attributes?.map(t=>t.field||t.valueExpression||"")}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t);for(const n of this.attributes??[])n.valueExpression&&await rr(e,t,n.valueExpression),n.field&&e.add(n.field)}};u([d({type:[BZ],json:{write:!0}})],Or.prototype,"attributes",void 0),u([d({type:he,json:{write:!0}})],Or.prototype,"backgroundColor",void 0),u([d({type:Boolean,json:{write:!0}})],Or.prototype,"dotBlendingEnabled",void 0),u([d({type:String,json:{write:!1}})],Or.prototype,"dotShape",void 0),u([d({type:Number,json:{write:!0}})],Or.prototype,"dotSize",void 0),u([d({type:_$e,json:{write:!0}})],Or.prototype,"legendOptions",void 0),u([d({type:Cr,json:{default:null,write:!0}})],Or.prototype,"outline",void 0),u([d({type:Number,json:{write:!0}})],Or.prototype,"dotValue",void 0),u([d({type:Number,json:{write:!0}})],Or.prototype,"referenceScale",void 0),u([d({type:Number,json:{write:!0}})],Or.prototype,"seed",void 0),u([Ve({dotDensity:"dot-density"})],Or.prototype,"type",void 0),Or=Pk=u([k("esri.renderers.DotDensityRenderer")],Or);const S$e=Or;var Lk;let Gg=Lk=class extends te{constructor(e){super(e),this.color=null,this.ratio=null}clone(){return new Lk({color:this.color&&this.color.clone(),ratio:this.ratio})}};u([d({type:he,json:{type:[wt],default:null,write:{isRequired:!0}}})],Gg.prototype,"color",void 0),u([d({type:Number,json:{write:{isRequired:!0}}})],Gg.prototype,"ratio",void 0),Gg=Lk=u([k("esri.renderers.support.HeatmapColorStop")],Gg);const $v=Gg;let mf=class extends ut.ClonableMixin(te){constructor(){super(...arguments),this.minLabel=null,this.maxLabel=null,this.title=null}};u([d({type:String,json:{write:!0}})],mf.prototype,"minLabel",void 0),u([d({type:String,json:{write:!0}})],mf.prototype,"maxLabel",void 0),u([d({type:String,json:{write:!0}})],mf.prototype,"title",void 0),mf=u([k("esri.renderers.support.HeatmapLegendOptions")],mf);function x$e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function $$e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function T$e(e,t,n,i,r){return e[0]=t,e[1]=n,e[2]=i,e[3]=r,e}function E$e(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}function UZ(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}function GZ(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e}function HZ(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e[3]=t[3]/n[3],e}function I$e(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function C$e(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function M$e(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e[3]=Math.min(t[3],n[3]),e}function k$e(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e[3]=Math.max(t[3],n[3]),e}function A$e(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function P$e(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function L$e(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e[2]=t[2]+n[2]*i,e[3]=t[3]+n[3]*i,e}function qZ(e,t){const n=t[0]-e[0],i=t[1]-e[1],r=t[2]-e[2],s=t[3]-e[3];return Math.sqrt(n*n+i*i+r*r+s*s)}function WZ(e,t){const n=t[0]-e[0],i=t[1]-e[1],r=t[2]-e[2],s=t[3]-e[3];return n*n+i*i+r*r+s*s}function ZZ(e){const t=e[0],n=e[1],i=e[2],r=e[3];return Math.sqrt(t*t+n*n+i*i+r*r)}function YZ(e){const t=e[0],n=e[1],i=e[2],r=e[3];return t*t+n*n+i*i+r*r}function O$e(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function R$e(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function N$e(e,t){const n=t[0],i=t[1],r=t[2],s=t[3];let o=n*n+i*i+r*r+s*s;return o>0&&(o=1/Math.sqrt(o),e[0]=n*o,e[1]=i*o,e[2]=r*o,e[3]=s*o),e}function D$e(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function JZ(e,t,n,i){const r=t[0],s=t[1],o=t[2],a=t[3];return e[0]=r+i*(n[0]-r),e[1]=s+i*(n[1]-s),e[2]=o+i*(n[2]-o),e[3]=a+i*(n[3]-a),e}function V$e(e,t=1){const n=$x;let i,r,s,o,a,l;do i=2*n()-1,r=2*n()-1,a=i*i+r*r;while(a>=1);do s=2*n()-1,o=2*n()-1,l=s*s+o*o;while(l>=1);const c=Math.sqrt((1-a)/l);return e[0]=t*i,e[1]=t*r,e[2]=t*s*c,e[3]=t*o*c,e}function F$e(e,t,n){const i=t[0],r=t[1],s=t[2],o=t[3];return e[0]=n[0]*i+n[4]*r+n[8]*s+n[12]*o,e[1]=n[1]*i+n[5]*r+n[9]*s+n[13]*o,e[2]=n[2]*i+n[6]*r+n[10]*s+n[14]*o,e[3]=n[3]*i+n[7]*r+n[11]*s+n[15]*o,e}function j$e(e,t,n){const i=t[0],r=t[1],s=t[2],o=n[0],a=n[1],l=n[2],c=n[3],h=c*i+a*s-l*r,p=c*r+l*i-o*s,m=c*s+o*r-a*i,y=-o*i-a*r-l*s;return e[0]=h*c+y*-o+p*-l-m*-a,e[1]=p*c+y*-a+m*-o-h*-l,e[2]=m*c+y*-l+h*-a-p*-o,e[3]=t[3],e}function z$e(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function B$e(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function U$e(e,t){const n=e[0],i=e[1],r=e[2],s=e[3],o=t[0],a=t[1],l=t[2],c=t[3],h=Er();return Math.abs(n-o)<=h*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-a)<=h*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(r-l)<=h*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(s-c)<=h*Math.max(1,Math.abs(s),Math.abs(c))}const G$e=UZ,H$e=GZ,q$e=HZ,W$e=qZ,Z$e=WZ,Y$e=ZZ,J$e=YZ;Object.freeze(Object.defineProperty({__proto__:null,add:E$e,ceil:I$e,copy:x$e,copyVec3:$$e,dist:W$e,distance:qZ,div:q$e,divide:HZ,dot:D$e,equals:U$e,exactEquals:B$e,floor:C$e,inverse:R$e,len:Y$e,length:ZZ,lerp:JZ,max:k$e,min:M$e,mul:H$e,multiply:GZ,negate:O$e,normalize:N$e,random:V$e,round:A$e,scale:P$e,scaleAndAdd:L$e,set:T$e,sqrDist:Z$e,sqrLen:J$e,squaredDistance:WZ,squaredLength:YZ,str:z$e,sub:G$e,subtract:UZ,transformMat4:F$e,transformQuat:j$e},Symbol.toStringTag,{value:"Module"}));function Vx(){return[0,0,0,0]}function K$e(e){return[e[0],e[1],e[2],e[3]]}function cp(e,t,n,i){return[e,t,n,i]}function X$e(e,t,n,i){return[e,t,n,i]}function Q$e(e,t=Vx()){const n=Math.min(4,e.length);for(let i=0;i<n;++i)t[i]=e[i];return t}function eTe(e,t){return new Float64Array(e,t,4)}function KZ(){return Vx()}function XZ(){return cp(1,1,1,1)}function QZ(){return cp(1,0,0,0)}function eY(){return cp(0,1,0,0)}function tY(){return cp(0,0,1,0)}function nY(){return cp(0,0,0,1)}const tTe=KZ(),nTe=XZ(),iTe=QZ(),rTe=eY(),sTe=tY(),oTe=nY();Object.freeze(Object.defineProperty({__proto__:null,ONES:nTe,UNIT_W:oTe,UNIT_X:iTe,UNIT_Y:rTe,UNIT_Z:sTe,ZEROS:tTe,clone:K$e,create:Vx,createView:eTe,freeze:X$e,fromArray:Q$e,fromValues:cp,ones:XZ,unitW:nY,unitX:QZ,unitY:eY,unitZ:tY,zeros:KZ},Symbol.toStringTag,{value:"Module"}));const K3=2.4;function aTe(e){return Zr(e*K3)}function lTe(e){return pn(e)/K3}function uTe(e,t,n,i){let{color:r,ratio:s}=t,{color:o,ratio:a}=n;a===s&&(a===1?s-=1e-6:a+=1e-6);const l=ws((i-s)/(a-s),0,1);JZ(e,r.toArray(),o.toArray(),l)}function W9e(e){const n=new Uint8ClampedArray(2048);if(e=e.filter(({ratio:a})=>a>=0&&a<=1).sort((a,l)=>a.ratio-l.ratio).map(({color:a,ratio:l})=>({color:a,ratio:Math.max(l,.001)})),e.length<1)return n;let i=e[0],r=e[0],s=1;const o=Vx();for(let a=0;a<512;a++){const l=(a+.5)/512;for(;l>r.ratio&&s<e.length;)i=r,r=e[s++];uTe(o,i,r,l),n.set(o,4*a)}return n}function Z9e(e,t,n){const i=Math.sqrt(e**2+t**2)/n;return i>1?0:3/(Math.PI*n**2)*(1-i**2)**2}function Y9e(e){return typeof e=="function"?e:e?t=>+t[e]:()=>1}var Ok;function J5(e){if(e!=null){const{maxDensity:t,minDensity:n,radius:i}=e;if(t!=null||n!=null||i!=null){const{blurRadius:r,maxPixelIntensity:s,minPixelIntensity:o,...a}=e;return a}}return e}let gi=Ok=class extends Wl{constructor(e){super(e),this.authoringInfo=null,this.colorStops=[new $v({ratio:0,color:new he("rgba(255, 140, 0, 0)")}),new $v({ratio:.75,color:new he("rgba(255, 140, 0, 1)")}),new $v({ratio:.9,color:new he("rgba(255, 0,   0, 1)")})],this.field=null,this.legendOptions=null,this.maxDensity=.04,this.minDensity=0,this.radius=18,this.referenceScale=0,this.type="heatmap",this.valueExpression=null,this.valueExpressionTitle=null}normalizeCtorArgs(e){return J5(e)}get blurRadius(){return lTe(this.radius)}set blurRadius(e){const t=this.maxPixelIntensity,n=this.minPixelIntensity;this._set("radius",aTe(e)),this._set("maxDensity",t*this._pixelIntensityToDensity),this._set("minDensity",n*this._pixelIntensityToDensity)}get maxPixelIntensity(){return this.maxDensity/this._pixelIntensityToDensity}set maxPixelIntensity(e){this._set("maxDensity",e*this._pixelIntensityToDensity)}get minPixelIntensity(){return this.minDensity/this._pixelIntensityToDensity}set minPixelIntensity(e){this._set("minDensity",e*this._pixelIntensityToDensity)}get _pixelIntensityToDensity(){return 24/(K3**2*this.blurRadius**4)}read(e,t){e=J5(e),super.read(e,t)}getSymbol(){return new ir}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol()]}async collectRequiredFields(e,t){const n=this.field,i=this.valueExpression;n&&typeof n=="string"&&$r(e,t,n),i&&typeof i=="string"&&await rr(e,t,i)}getAttributeHash(){return""}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new Ok({authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),colorStops:j(this.colorStops),field:this.field,legendOptions:j(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,radius:this.radius,referenceScale:this.referenceScale,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};u([d({type:A3,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],gi.prototype,"authoringInfo",void 0),u([d({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],gi.prototype,"blurRadius",null),u([d({type:[$v],json:{write:{isRequired:!0}}})],gi.prototype,"colorStops",void 0),u([d({type:String,json:{write:!0}})],gi.prototype,"field",void 0),u([d({type:mf,json:{write:!0}})],gi.prototype,"legendOptions",void 0),u([d({type:Number,json:{write:!0}})],gi.prototype,"maxDensity",void 0),u([d({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],gi.prototype,"maxPixelIntensity",null),u([d({type:Number,json:{write:!0}})],gi.prototype,"minDensity",void 0),u([d({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],gi.prototype,"minPixelIntensity",null),u([d({type:Number,cast:ht,json:{write:!0}})],gi.prototype,"radius",void 0),u([d({type:Number,range:{min:0},json:{default:0,write:!0}})],gi.prototype,"referenceScale",void 0),u([Ve({heatmap:"heatmap"})],gi.prototype,"type",void 0),u([d({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],gi.prototype,"valueExpression",void 0),u([d({type:String})],gi.prototype,"valueExpressionTitle",void 0),u([d({readOnly:!0})],gi.prototype,"_pixelIntensityToDensity",null),gi=Ok=u([k("esri.renderers.HeatmapRenderer")],gi);const iY=gi;let Xd=class extends ut.ClonableMixin(te){constructor(){super(...arguments),this.color=new he([0,0,0,0]),this.label=null,this.threshold=0}};u([d({type:he,json:{write:!0}})],Xd.prototype,"color",void 0),u([d({type:String,json:{write:!0}})],Xd.prototype,"label",void 0),u([d({type:Number,range:{min:0,max:1},json:{write:!0}})],Xd.prototype,"threshold",void 0),Xd=u([k("esri.renderers.support.OthersCategory")],Xd);const cTe={base:fy,key:"type",typeMap:{size:my,opacity:P3}};let Rr=class extends yy(ut.ClonableMixin(Wl)){constructor(t){super(t),this.attributes=null,this.backgroundFillSymbol=null,this.defaultColor=new he([0,0,0,0]),this.defaultLabel=null,this.holePercentage=0,this.othersCategory=new Xd,this.legendOptions=null,this.outline=null,this.size=12,this.type="pie-chart",this.visualVariables=null}getSymbol(){return new ir({size:this.size?this.size/2+(this.outline?.width||0):0})}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol(),this.backgroundFillSymbol].filter(Ji)}getAttributeHash(){return this.visualVariables?.reduce((t,n)=>t+n.getAttributeHash(),"")??""}getMeshHash(){return this.symbols.reduce((t,n)=>t+JSON.stringify(n),"")}async collectRequiredFields(t,n){await this.collectVVRequiredFields(t,n);for(const i of this.attributes)i.valueExpression&&await rr(t,n,i.valueExpression),i.field&&t.add(i.field)}};u([d({type:[BZ],json:{write:!0}})],Rr.prototype,"attributes",void 0),u([d(D3)],Rr.prototype,"backgroundFillSymbol",void 0),u([d({type:he,json:{write:!0}})],Rr.prototype,"defaultColor",void 0),u([d({type:String,json:{write:!0}})],Rr.prototype,"defaultLabel",void 0),u([d({type:Number,range:{min:0,max:1},json:{write:!0}})],Rr.prototype,"holePercentage",void 0),u([d({type:Xd,json:{write:!0}})],Rr.prototype,"othersCategory",void 0),u([d({type:V3,json:{write:!0}})],Rr.prototype,"legendOptions",void 0),u([d({type:Cr,json:{default:null,write:!0}})],Rr.prototype,"outline",void 0),u([d({type:Number,cast:ht,json:{write:!0}})],Rr.prototype,"size",void 0),u([Ve({pieChart:"pie-chart"})],Rr.prototype,"type",void 0),u([d({types:[cTe]})],Rr.prototype,"visualVariables",void 0),Rr=u([k("esri.renderers.PieChartRenderer")],Rr);const dTe=Rr,Cb={key:"type",base:Wl,typeMap:{heatmap:iY,simple:Il,"unique-value":j3,"class-breaks":AZ,"dot-density":S$e,dictionary:w$e,"pie-chart":dTe},errorContext:"renderer"},hTe={key:"type",base:Wl,typeMap:{simple:Il,"unique-value":j3,"class-breaks":AZ,heatmap:iY},errorContext:"renderer",validate:pTe};function pTe(e){switch(e.type){case"simple":return fTe(e);case"unique-value":return mTe(e);case"class-breaks":return yTe(e);case"heatmap":return e}}function fTe(e){if(e.symbol)return e;re.getLogger("esri.renderers.support.types").error("Removed invalid 'simple' renderer without a symbol from web scene.")}function mTe(e){const t=e.uniqueValueInfos,n=t?.filter(({symbol:i,label:r},s)=>(i||re.getLogger("esri.renderers.support.types").error(`Removed invalid unique value info ([${s}] ${r}) without a symbol from web scene.`),!!i));return n?.length!==t?.length&&(e.uniqueValueInfos=n),e}function yTe(e){const t=e.classBreakInfos,n=t?.filter(({symbol:i,label:r},s)=>(i||re.getLogger("esri.renderers.support.types").error(`Removed invalid class break info ([${s}] ${r}) without a symbol from web scene.`),!!i));return n?.length!==t?.length&&(e.classBreakInfos=n),e}function gTe(e,t){return S0(e,null,t)}const vTe=ey({types:Cb});function S0(e,t,n){return e?e&&(e.styleName||e.styleUrl)&&e.type!=="uniqueValue"?(n?.messages&&n.messages.push(new Js("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+e.type+"'",{definition:e,context:n})),null):vTe(e,t,n):null}var Rk;let qi=Rk=class extends sc{constructor(e){super(e),this.type="binning",this.binType="geohash",this.fixedBinLevel=null,this.labelingInfo=null,this.labelsVisible=!0,this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.size=ht("12px"),this.fields=[],this.renderer=null}writeFields(e,t,n){const i=e.filter(r=>r.statisticType!=="avg_angle").map(r=>r.toJSON());$i(n,i,t)}readRenderer(e,t,n){const i=t.drawingInfo?.renderer;return i?S0(i,t,n)??void 0:U3(t,n)}clone(){return new Rk({fields:j(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:j(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,popupEnabled:this.popupEnabled,popupTemplate:j(this.popupTemplate),renderer:j(this.renderer),binType:j(this.binType),size:this.size})}};u([Ve({binning:"binning"})],qi.prototype,"type",void 0),u([Ve({geohash:"geohash",square:"square"}),d({type:["geohash","square"]})],qi.prototype,"binType",void 0),u([d({type:Number,json:{write:!0}})],qi.prototype,"fixedBinLevel",void 0),u([d({type:[Ib],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],qi.prototype,"labelingInfo",void 0),u([d(kx)],qi.prototype,"labelsVisible",void 0),u([d({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],qi.prototype,"maxScale",void 0),u([d(Mx)],qi.prototype,"popupEnabled",void 0),u([d({type:ly,json:{name:"popupInfo",write:!0}})],qi.prototype,"popupTemplate",void 0),u([d({cast:e=>e==="auto"?e:vr(ht(e))})],qi.prototype,"size",void 0),u([d({type:[bc],json:{write:!0}})],qi.prototype,"fields",void 0),u([ge("fields")],qi.prototype,"writeFields",null),u([d({types:Cb,json:{write:{target:"drawingInfo.renderer"}}})],qi.prototype,"renderer",void 0),u([le("renderer",["drawingInfo.renderer"])],qi.prototype,"readRenderer",null),qi=Rk=u([k("esri.layers.support.FeatureReductionBinning")],qi);const rY=qi;var Nk;function K5(e){return e.type==="simple"&&!e.visualVariables?.length}let Gn=Nk=class extends te{constructor(e){super(e),this.type="cluster",this.clusterRadius=ht("80px"),this.clusterMinSize=ht("12px"),this.clusterMaxSize=ht("50px"),this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.renderer=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=[]}readRenderer(e,t,n){const i=t.drawingInfo?.renderer;return i?.authoringInfo?.isAutoGenerated?null:i?K5(i)?null:S0(i,t,n)??void 0:U3(t,n)}readSymbol(e,t,n){const i=t.drawingInfo?.renderer;return i?.authoringInfo?.isAutoGenerated?null:i&&K5(i)?S0(i,t,n)?.symbol:null}writeSymbol(e,t,n,i){const r=this.renderer?.authoringInfo?.isAutoGenerated;if(!this.renderer||r){const s=new Il({symbol:e});t.drawingInfo={renderer:s.write({},i)}}}writeFields(e,t,n){const i=e.filter(r=>r.statisticType!=="avg_angle").map(r=>r.toJSON());$i(n,i,t)}readFields(e,t,n){return e.filter(i=>!i.isAutoGenerated).map(i=>bc.fromJSON(i))}clone(){return new Nk({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:j(this.labelingInfo),labelsVisible:this.labelsVisible,fields:j(this.fields),maxScale:this.maxScale,renderer:j(this.renderer),symbol:j(this.symbol),popupEnabled:this.popupEnabled,popupTemplate:j(this.popupTemplate)})}};u([d({type:["cluster"],readOnly:!0,json:{write:!0}})],Gn.prototype,"type",void 0),u([d({cast:e=>e==="auto"?e:vr(ht(e)),json:{write:!0}})],Gn.prototype,"clusterRadius",void 0),u([d({type:Number,cast:ht,json:{write:!0}})],Gn.prototype,"clusterMinSize",void 0),u([d({type:Number,cast:ht,json:{write:!0}})],Gn.prototype,"clusterMaxSize",void 0),u([d({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],Gn.prototype,"maxScale",void 0),u([d(Mx)],Gn.prototype,"popupEnabled",void 0),u([d({type:ly,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],Gn.prototype,"popupTemplate",void 0),u([d({types:Cb,json:{write:{target:"drawingInfo.renderer"}}})],Gn.prototype,"renderer",void 0),u([le("renderer",["drawingInfo.renderer"])],Gn.prototype,"readRenderer",null),u([d({types:rwe})],Gn.prototype,"symbol",void 0),u([le("symbol",["drawingInfo.renderer"])],Gn.prototype,"readSymbol",null),u([ge("symbol")],Gn.prototype,"writeSymbol",null),u([d({type:[Ib],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],Gn.prototype,"labelingInfo",void 0),u([d(kx)],Gn.prototype,"labelsVisible",void 0),u([d({type:[bc],json:{write:!0}})],Gn.prototype,"fields",void 0),u([ge("fields")],Gn.prototype,"writeFields",null),u([le("fields")],Gn.prototype,"readFields",null),Gn=Nk=u([k("esri.layers.support.FeatureReductionCluster")],Gn);const sY=Gn;var Dk;let s_=Dk=class extends sc{constructor(e){super(e),this.type="selection"}clone(){return new Dk}};u([d({type:["selection"]})],s_.prototype,"type",void 0),s_=Dk=u([k("esri.layers.support.FeatureReductionSelection")],s_);const X5=s_,Q5={key:"type",base:sc,typeMap:{cluster:sY,binning:rY}},bTe={types:{key:"type",base:sc,typeMap:{selection:X5,cluster:sY,binning:rY}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:Q5},"portal-item":{types:Q5},"web-scene":{types:{key:"type",base:sc,typeMap:{selection:X5}},name:"layerDefinition.featureReduction",write:{layerContainerTypes:an}}}}},Tp={Base64:0,Hex:1,String:2,Raw:3},tm=8,oY=(1<<tm)-1;function ec(e,t){const n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function wTe(e){const t=[];for(let n=0,i=e.length*tm;n<i;n+=tm)t[n>>5]|=(e.charCodeAt(n/tm)&oY)<<n%32;return t}function _Te(e){const t=[];for(let n=0,i=32*e.length;n<i;n+=tm)t.push(String.fromCharCode(e[n>>5]>>>n%32&oY));return t.join("")}function STe(e){const t="0123456789abcdef",n=[];for(let i=0,r=4*e.length;i<r;i++)n.push(t.charAt(e[i>>2]>>i%4*8+4&15)+t.charAt(e[i>>2]>>i%4*8&15));return n.join("")}function xTe(e){const t="=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=[];for(let r=0,s=4*e.length;r<s;r+=3){const o=(e[r>>2]>>r%4*8&255)<<16|(e[r+1>>2]>>(r+1)%4*8&255)<<8|e[r+2>>2]>>(r+2)%4*8&255;for(let a=0;a<4;a++)8*r+6*a>32*e.length?i.push(t):i.push(n.charAt(o>>6*(3-a)&63))}return i.join("")}function $Te(e,t){return e<<t|e>>>32-t}function Fx(e,t,n,i,r,s){return ec($Te(ec(ec(t,e),ec(i,s)),r),n)}function ji(e,t,n,i,r,s,o){return Fx(t&n|~t&i,e,t,r,s,o)}function zi(e,t,n,i,r,s,o){return Fx(t&i|n&~i,e,t,r,s,o)}function Bi(e,t,n,i,r,s,o){return Fx(t^n^i,e,t,r,s,o)}function Ui(e,t,n,i,r,s,o){return Fx(n^(t|~i),e,t,r,s,o)}function TTe(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;let n=1732584193,i=-271733879,r=-1732584194,s=271733878;for(let o=0;o<e.length;o+=16){const a=n,l=i,c=r,h=s;n=ji(n,i,r,s,e[o],7,-680876936),s=ji(s,n,i,r,e[o+1],12,-389564586),r=ji(r,s,n,i,e[o+2],17,606105819),i=ji(i,r,s,n,e[o+3],22,-1044525330),n=ji(n,i,r,s,e[o+4],7,-176418897),s=ji(s,n,i,r,e[o+5],12,1200080426),r=ji(r,s,n,i,e[o+6],17,-1473231341),i=ji(i,r,s,n,e[o+7],22,-45705983),n=ji(n,i,r,s,e[o+8],7,1770035416),s=ji(s,n,i,r,e[o+9],12,-1958414417),r=ji(r,s,n,i,e[o+10],17,-42063),i=ji(i,r,s,n,e[o+11],22,-1990404162),n=ji(n,i,r,s,e[o+12],7,1804603682),s=ji(s,n,i,r,e[o+13],12,-40341101),r=ji(r,s,n,i,e[o+14],17,-1502002290),i=ji(i,r,s,n,e[o+15],22,1236535329),n=zi(n,i,r,s,e[o+1],5,-165796510),s=zi(s,n,i,r,e[o+6],9,-1069501632),r=zi(r,s,n,i,e[o+11],14,643717713),i=zi(i,r,s,n,e[o],20,-373897302),n=zi(n,i,r,s,e[o+5],5,-701558691),s=zi(s,n,i,r,e[o+10],9,38016083),r=zi(r,s,n,i,e[o+15],14,-660478335),i=zi(i,r,s,n,e[o+4],20,-405537848),n=zi(n,i,r,s,e[o+9],5,568446438),s=zi(s,n,i,r,e[o+14],9,-1019803690),r=zi(r,s,n,i,e[o+3],14,-187363961),i=zi(i,r,s,n,e[o+8],20,1163531501),n=zi(n,i,r,s,e[o+13],5,-1444681467),s=zi(s,n,i,r,e[o+2],9,-51403784),r=zi(r,s,n,i,e[o+7],14,1735328473),i=zi(i,r,s,n,e[o+12],20,-1926607734),n=Bi(n,i,r,s,e[o+5],4,-378558),s=Bi(s,n,i,r,e[o+8],11,-2022574463),r=Bi(r,s,n,i,e[o+11],16,1839030562),i=Bi(i,r,s,n,e[o+14],23,-35309556),n=Bi(n,i,r,s,e[o+1],4,-1530992060),s=Bi(s,n,i,r,e[o+4],11,1272893353),r=Bi(r,s,n,i,e[o+7],16,-155497632),i=Bi(i,r,s,n,e[o+10],23,-1094730640),n=Bi(n,i,r,s,e[o+13],4,681279174),s=Bi(s,n,i,r,e[o],11,-358537222),r=Bi(r,s,n,i,e[o+3],16,-722521979),i=Bi(i,r,s,n,e[o+6],23,76029189),n=Bi(n,i,r,s,e[o+9],4,-640364487),s=Bi(s,n,i,r,e[o+12],11,-421815835),r=Bi(r,s,n,i,e[o+15],16,530742520),i=Bi(i,r,s,n,e[o+2],23,-995338651),n=Ui(n,i,r,s,e[o],6,-198630844),s=Ui(s,n,i,r,e[o+7],10,1126891415),r=Ui(r,s,n,i,e[o+14],15,-1416354905),i=Ui(i,r,s,n,e[o+5],21,-57434055),n=Ui(n,i,r,s,e[o+12],6,1700485571),s=Ui(s,n,i,r,e[o+3],10,-1894986606),r=Ui(r,s,n,i,e[o+10],15,-1051523),i=Ui(i,r,s,n,e[o+1],21,-2054922799),n=Ui(n,i,r,s,e[o+8],6,1873313359),s=Ui(s,n,i,r,e[o+15],10,-30611744),r=Ui(r,s,n,i,e[o+6],15,-1560198380),i=Ui(i,r,s,n,e[o+13],21,1309151649),n=Ui(n,i,r,s,e[o+4],6,-145523070),s=Ui(s,n,i,r,e[o+11],10,-1120210379),r=Ui(r,s,n,i,e[o+2],15,718787259),i=Ui(i,r,s,n,e[o+9],21,-343485551),n=ec(n,a),i=ec(i,l),r=ec(r,c),s=ec(s,h)}return[n,i,r,s]}function aY(e,t=Tp.Hex){const n=t||Tp.Base64,i=TTe(wTe(e),e.length*tm);switch(n){case Tp.Raw:return i;case Tp.Hex:return STe(i);case Tp.String:return _Te(i);case Tp.Base64:return xTe(i)}}const ETe=()=>re.getLogger("esri.views.2d.layers.support.clusterUtils");H.add("esri-cluster-arcade-enabled",!0);const ITe=H("esri-cluster-arcade-enabled"),CTe=new Set(["simple-line","simple-fill","picture-fill"]);function e4(e,t){let n=t.clone();if(!MTe(n))return n;if(t.symbols.some(i=>CTe.has(i.type))&&(n=new Il({symbol:new ir})),n.authoringInfo||(n.authoringInfo=new A3),n.authoringInfo.isAutoGenerated=!0,"visualVariables"in n){const i=(n.visualVariables||[]).filter(r=>r.valueExpression!=="$view.scale");i.forEach(r=>{r.type==="rotation"?r.field?r.field=Gc(e,r.field,"avg_angle","number"):r.valueExpression&&(r.field=Oy(e,r.valueExpression,"avg_angle","number"),r.valueExpression=null):r.normalizationField?(r.field=Gc(e,r.field,"avg_norm","number",r.normalizationField),r.normalizationField=null):r.field?r.field=Gc(e,r.field,"avg","number"):r.valueExpression&&(r.field=Oy(e,r.valueExpression,"avg","number"),r.valueExpression=null)}),n.visualVariables=i}switch(n.type){case"simple":break;case"pie-chart":for(const i of n.attributes)i.field?i.field=Gc(e,i.field,"sum","number"):i.valueExpression&&(i.field=Oy(e,i.valueExpression,"sum","number"),i.valueExpression=null);break;case"unique-value":n.field?n.field=Gc(e,n.field,"mode","string"):n.valueExpression&&(n.field=Oy(e,n.valueExpression,"mode","string"),n.valueExpression=null);break;case"class-breaks":n.normalizationField?(n.field=Gc(e,n.field,"avg_norm","number",n.normalizationField),n.normalizationField=null):n.field?n.field=Gc(e,n.field,"avg","number"):n.valueExpression&&(n.field=Oy(e,n.valueExpression,"avg","number"),n.valueExpression=null)}return n}const MTe=e=>{const t=n=>ETe().error(new B("Unsupported-renderer",n,{renderer:e}));if(!e)return!1;switch(e.type){case"unique-value":if(e.field2||e.field3)return t("FeatureReductionCluster does not support multi-field UniqueValueRenderers"),!1;break;case"class-breaks":if(e.normalizationField){const n=e.normalizationType;if(n!=="field")return t(`FeatureReductionCluster does not support a normalizationType of ${n}`),!1}break;case"simple":case"pie-chart":break;default:return t(`FeatureReductionCluster does not support renderers of type ${e.type}`),!1}if(!ITe){if("valueExpression"in e&&e.valueExpression)return t("FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release"),!1;if(("visualVariables"in e&&e.visualVariables||[]).some(n=>!(!("valueExpression"in n)||!n.valueExpression)))return t("FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release"),!1}return!0};function kTe(e,t,n){switch(e){case"sum":return`cluster_sum_${t}`;case"avg":case"avg_angle":return`cluster_avg_${t}`;case"mode":return`cluster_type_${t}`;case"avg_norm":{const i=n,r="field",s=t.toLowerCase()+",norm:"+r+","+i.toLowerCase();return"cluster_avg_"+aY(s)}}}function Oy(e,t,n,i){const r=aY(t),s=n==="mode"?`cluster_type_${r}`:n==="sum"?`cluster_sum_${r}`:`cluster_avg_${r}`;return e.some(o=>o.name===s)||e.push(new bc({name:s,isAutoGenerated:!0,onStatisticExpression:new q3({expression:t,returnType:i}),statisticType:n})),s}function Gc(e,t,n,i,r){if(t==="cluster_count"||e.some(o=>o.name===t))return t;const s=kTe(n,t,r);return e.some(o=>o.name===s)||(n==="avg_norm"?e.push(new bc({name:s,isAutoGenerated:!0,onStatisticExpression:new q3({expression:`$feature.${t} / $feature.${r}`,returnType:i}),statisticType:"avg"})):e.push(new bc({name:s,isAutoGenerated:!0,onStatisticField:t,statisticType:n}))),s}const ATe=e=>{let t=class extends e{constructor(...n){super(...n),this.addHandles(me(()=>this.renderer,()=>{if(this.featureReduction){const i=this._normalizeFeatureReduction(this.featureReduction);this._set("featureReduction",i)}},ka))}set featureReduction(n){const i=this._normalizeFeatureReduction(n);this._set("featureReduction",i)}set renderer(n){}_withClusterVariable(n,i,r){const s=n.clone();return"visualVariables"in s&&(s.visualVariables||(s.visualVariables=[]),s.visualVariables.some(o=>o.type==="size")||s.visualVariables.push(new my({field:"cluster_count",stops:[new Y1({value:1}),new Y1({useMinValue:!0,size:i}),new Y1({useMaxValue:!0,size:r})]}))),s}_normalizeFeatureReduction(n){if(n?.type!=="cluster")return n;const i=n.clone(),r=[new bc({name:"cluster_count",alias:"cluster_count",isAutoGenerated:!0,statisticType:"count"})],s=(i.fields??[]).filter(p=>!p.isAutoGenerated),o=n.renderer&&!n.renderer.authoringInfo?.isAutoGenerated,{clusterMinSize:a,clusterMaxSize:l}=i;if(o){i.fields=[...r,...s];const p=this._withClusterVariable(i.renderer,a,l);return i.effectiveFeatureRenderer=p,i.effectiveClusterRenderer=p,i}if(n.symbol){if(i.fields=[...r,...s],i.renderer=null,!this.renderer)return i.effectiveFeatureRenderer=null,i.effectiveClusterRenderer=null,i;const p=e4(r,this.renderer),m=this._withClusterVariable(p,a,l),y="visualVariables"in m&&m.visualVariables?m.visualVariables:[],g=new Il({symbol:n.symbol,visualVariables:y});return i.fields=[...r,...s],i.effectiveFeatureRenderer=m,i.effectiveClusterRenderer=g,i}if(!this.renderer)return n;const c=e4(r,this.renderer);i.fields=[...r,...s],i.renderer=c;const h=this._withClusterVariable(c,a,l);return i.effectiveFeatureRenderer=h,i.effectiveClusterRenderer=h,i}};return u([d(bTe)],t.prototype,"featureReduction",null),t=u([k("esri.layers.mixins.FeatureReductionLayer")],t),t},t4={ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,KnowledgeGraphLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WCS:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},n4={ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,OpenStreetMap:!0,VectorTileLayer:!0,WCS:!0,WMS:!0,WebTiledLayer:!0},i4={ArcGISFeatureLayer:!0,SubtypeGroupTable:!0},PTe={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GroupLayer:!0,IntegratedMesh3DTilesLayer:!0,Object3DTilesLayer:!0,IntegratedMeshLayer:!0,KML:!0,LineOfSightLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,RasterDataLayer:!0,VectorTileLayer:!0,ViewshedLayer:!0,Voxel:!0,WCS:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/basemap":{ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WCS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-scene/tables":{ArcGISFeatureLayer:!0},"web-map/operational-layers":t4,"web-map/basemap":n4,"web-map/tables":i4,"link-chart/operational-layers":{...t4,LinkChartLayer:!0},"link-chart/basemap":n4,"link-chart/tables":i4,"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,BuildingSceneLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,MediaLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,SubtypeGroupLayer:!0,WCS:!0},"portal-item/tables":{ArcGISFeatureLayer:!0,SubtypeGroupTable:!0}},LTe=e=>{let t=class extends e{constructor(){super(...arguments),this.persistenceEnabled=!0,this.title=null}readId(n,i,r){return r?.portalItem?.type==="Group Layer"?void 0:n}writeListMode(n,i,r,s){(s&&s.layerContainerType==="ground"||n&&khe(this,r,{},s))&&(i[r]=n)}writeOperationalLayerType(n,i,r){n&&(i[r]=n)}writeTitle(n,i){i.title=n??"Layer"}readVisibilityTimeExtent(n){return n?Rl.fromArray(n):null}writeVisibilityTimeExtent(n,i,r,s){n&&s.layerContainerType!=="tables"&&(n.isEmpty?s?.messages&&s.messages.push(new B("layer:invalid-visibilityTimeExtent","visibilityTimeExtent cannot be empty")):i[r]=n.toArray())}read(n,i){i&&(i.layer=this),Ihe(this,n,r=>super.read(n,r),i)}write(n,i){if(!this.persistenceEnabled&&!i?.ignorePersistenceEnabled)return null;if(i?.origin){const o=`${i.origin}/${i.layerContainerType||"operational-layers"}`;let l=!!PTe[o]?.[this.operationalLayerType];if(this.operationalLayerType==="ArcGISTiledElevationServiceLayer"&&o==="web-scene/operational-layers"&&(l=!1),this.operationalLayerType==="ArcGISDimensionLayer"&&o==="web-map/operational-layers"&&(l=!1),!l)return i.messages?.push(new B("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${o}'`,{layer:this})),null}const r=super.write(n,{...i,layer:this}),s=!!i&&!!i.messages&&!!i.messages.filter(o=>o instanceof B&&o.name==="web-document-write:property-required").length;return X2(r?.url)?(i?.messages?.push(new B("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&s?null:r}beforeSave(){}};return u([d({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],t.prototype,"id",void 0),u([le("id",["id"])],t.prototype,"readId",null),u([d(UW)],t.prototype,"listMode",void 0),u([ge("listMode")],t.prototype,"writeListMode",null),u([d({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1},"web-scene":{name:"layerType",read:!1,write:{enabled:!0,ignoreOrigin:!0,layerContainerTypes:an,isRequired:!0}}}}})],t.prototype,"operationalLayerType",void 0),u([ge("operationalLayerType")],t.prototype,"writeOperationalLayerType",null),u([d(HM)],t.prototype,"opacity",void 0),u([d({type:Boolean,readOnly:!1})],t.prototype,"persistenceEnabled",void 0),u([d({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],t.prototype,"title",void 0),u([ge("title"),ge(["web-scene"],"title")],t.prototype,"writeTitle",null),u([d({type:Rl,json:{origins:{"web-scene":{write:{layerContainerTypes:an}}}}})],t.prototype,"visibilityTimeExtent",void 0),u([le("visibilityTimeExtent")],t.prototype,"readVisibilityTimeExtent",null),u([ge(["portal-item","web-map","web-scene"],"visibilityTimeExtent",{visibilityTimeExtent:{type:[[wt,H2]]}})],t.prototype,"writeVisibilityTimeExtent",null),u([d({type:Boolean,json:{name:"visibility",write:{layerContainerTypes:an}}})],t.prototype,"visible",void 0),t=u([k("esri.layers.mixins.OperationalLayer")],t),t};var Vk;const xw=new at({asc:"ascending",desc:"descending"});let yf=Vk=class extends te{constructor(e){super(e),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new Vk({field:this.field,valueExpression:this.valueExpression,order:this.order})}};u([d({type:String,json:{write:!0}})],yf.prototype,"field",void 0),u([d({type:String,json:{write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],yf.prototype,"valueExpression",void 0),u([d({type:xw.apiValues,json:{type:xw.jsonValues,read:xw.read,write:xw.write}})],yf.prototype,"order",void 0),yf=Vk=u([k("esri.layers.support.OrderByInfo")],yf);const lY=yf;function OTe(e,t,n){if(!e)return null;const i=e.find(s=>!!s.field);if(!i)return null;const r=new lY;return r.read(i,n),[r]}function RTe(e,t,n,i){const r=e.find(s=>!!s.field);r&&$i(n,[r.toJSON()],t)}const NTe={type:[lY],json:{origins:{"web-scene":{write:!1,read:!1}},name:"layerDefinition.orderBy",read:{reader:OTe},write:{writer:RTe}}},DTe=e=>{let t=class extends e{constructor(){super(...arguments),this.orderBy=null}};return u([d(NTe)],t.prototype,"orderBy",void 0),t=u([k("esri.layers.mixins.OrderedLayer")],t),t};let al=class extends Ce{constructor(t){super(t),this.portalItem=null}normalizeCtorArgs(t){return t?.portalItem&&t.path?{...t,path:r4(t.path,t.portalItem)}:t}set path(t){t!=null&&gs(t)?re.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",t)}_castPath(t){return r4(t,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(t="json",n){const i=this.cdnUrl;if(i==null)throw new B("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(i,{responseType:t,query:{token:this.portalItem.apiKey,_ts:n?.cacheBust?Date.now():null},signal:n?.signal})}async update(t,n){const{addOrUpdateResources:i}=await J(()=>import("./resourceUtils-DNp2lDwb.js"),__vite__mapDeps([179,3]));return await i(this.portalItem,[{resource:this,content:t,compress:n?.compress,access:n?.access}],"update",n),this}hasPath(){return this.path!=null}};function r4(e,t){return e==null?e:(e=e.replace(/^\/+/,""),t!=null&&gs(e)&&(e=SL(e,t.itemUrl)),e?.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}u([d()],al.prototype,"portalItem",void 0),u([d({type:String,value:null})],al.prototype,"path",null),u([pt("path")],al.prototype,"_castPath",null),u([d({type:String,readOnly:!0})],al.prototype,"url",null),u([d({type:String,readOnly:!0})],al.prototype,"cdnUrl",null),u([d({type:String,readOnly:!0})],al.prototype,"itemRelativeUrl",null),al=u([k("esri.portal.PortalItemResource")],al);const VTe=al;let Hg=class extends Ce{constructor(t){super(t),this.created=null,this.rating=null}};u([d({type:Date})],Hg.prototype,"created",void 0),u([d()],Hg.prototype,"rating",void 0),Hg=u([k("esri.portal.PortalRating")],Hg);const gT=Hg;var Cd;const FTe=new Set(["3DTiles Service","CSV","Feature Collection","Feature Service","Feed","GeoJson","Group Layer","Image Service","KML","Map Service","Media Layer","Scene Service","Stream Service","Vector Tile Service","WFS","WMS","WMTS"]),jTe=new Set(["KML","GeoJson","CSV"]);let Ke=Cd=class extends te.JSONSupportMixin(Ol){static from(e){return ob(Cd,e)}constructor(e){super(e),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.classification=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.isOrgItem=!1,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.sourceUrl=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}destroy(){this.portal=null}get displayName(){const e=this.type,t=this.typeKeywords||[];let n=e;return e==="Feature Service"||e==="Feature Collection"?n=t.includes("Table")?"Table":t.includes("Route Layer")?"Route Layer":t.includes("Markup")?"Markup":"Feature Layer":e==="Image Service"?n=t.includes("Elevation 3D Layer")?"Elevation Layer":t.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":e==="Scene Service"?n="Scene Layer":e==="Video Service"?n="Video Layer":e==="Scene Package"?n="Scene Layer Package":e==="Stream Service"?n="Feature Layer":e==="Geoprocessing Service"?n=t.includes("Web Tool")?"Tool":"Geoprocessing Service":e==="Geoenrichment Service"?n="GeoEnrichment Service":e==="Geocoding Service"?n="Locator":e==="Microsoft Powerpoint"?n="Microsoft PowerPoint":e==="GeoJson"?n="GeoJSON":e==="Globe Service"?n="Globe Layer":e==="Vector Tile Service"?n="Tile Layer":e==="netCDF"?n="NetCDF":e==="Map Service"?n=t.includes("Spatiotemporal")||!t.includes("Hosted Service")&&!t.includes("Tiled")||t.includes("Relational")?"Map Image Layer":"Tile Layer":e?.toLowerCase().includes("add in")?n=e.replaceAll(/(add in)/gi,"Add-In"):e==="datastore catalog service"?n="Big Data File Share":e==="Compact Tile Package"?n="Tile Package (tpkx)":e==="Raster function template"?n="Raster Function Template":e==="OGCFeatureServer"?n="OGC Feature Layer":e==="web mapping application"&&t.includes("configurableApp")?n="Instant App":e==="Insights Page"?n="Insights Report":e==="Excalibur Imagery Project"?n="Excalibur Project":e==="3DTiles Service"?n="3D tiles layer":e==="3DTiles Package"&&(n="3D tiles package"),n}readExtent(e){return e&&e.length?new Gt(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){const e=this.type?.toLowerCase()||"",t=this.typeKeywords||[],n="esri/images/portal/",i="16";let r,s=!1,o=!1,a=!1,l=!1,c=!1,h=!1,p=!1,m=!1;return e.indexOf("service")>0||e==="feature collection"||e==="kml"||e==="wms"||e==="wmts"||e==="wfs"?(s=t.includes("Hosted Service"),e==="feature service"||e==="feature collection"||e==="kml"||e==="wfs"?(o=t.includes("Table"),a=t.includes("Route Layer"),l=t.includes("Markup"),c=t.includes("Spatiotemporal"),h=t.includes("UtilityNetwork"),r=c&&o?"spatiotemporaltable":o?"table":a?"routelayer":l?"markup":c?"spatiotemporal":h?"utilitynetwork":s?"featureshosted":"features"):e==="map service"||e==="wms"||e==="wmts"?(c=t.includes("Spatiotemporal"),p=t.includes("Relational"),r=c||p?"mapimages":s||t.includes("Tiled")||e==="wmts"?"maptiles":"mapimages"):r=e==="scene service"?t.includes("Line")?"sceneweblayerline":t.includes("3DObject")?"sceneweblayermultipatch":t.includes("Point")?"sceneweblayerpoint":t.includes("IntegratedMesh")?"sceneweblayermesh":t.includes("PointCloud")?"sceneweblayerpointcloud":t.includes("Polygon")?"sceneweblayerpolygon":t.includes("Building")?"sceneweblayerbuilding":t.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":e==="image service"?t.includes("Elevation 3D Layer")?"elevationlayer":t.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":e==="stream service"?"streamlayer":e==="vector tile service"?"vectortile":e==="datastore catalog service"?"datastorecollection":e==="geocoding service"?"geocodeservice":e==="video service"?t.includes("Live Stream")?"livestreamvideolayer":"videolayer":e==="geoprocessing service"?t.includes("Web Tool")?"tool":"layers":e==="geodata service"?"geodataservice":e==="3dtiles service"?t.includes("3DObject")?"3dobjecttileslayer":t.includes("IntegratedMesh")?"integratedmeshtileslayer":"3dtileslayer":"layers"):e==="web map"||e==="cityengine web scene"?r="maps":e==="web scene"?r=t.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":e==="web mapping application"&&t.includes("configurableApp")?r="instantapps":e==="web mapping application"||e==="mobile application"||e==="application"||e==="operation view"||e==="desktop application"?r="apps":e==="map document"||e==="map package"||e==="published map"||e==="scene document"||e==="globe document"||e==="basemap package"||e==="mobile basemap package"||e==="mobile map package"||e==="project package"||e==="project template"||e==="pro map"||e==="layout"||e==="layer"&&t.includes("ArcGIS Pro")||e==="explorer map"&&t.indexOf("Explorer Document")?r="mapsgray":e==="service definition"||e==="shapefile"||e==="cad drawing"||e==="geojson"||e==="netcdf"||e==="administrative report"?r="datafiles":e==="360 vr experience"?r="360vr":e==="explorer add in"||e==="desktop add in"||e==="windows viewer add in"||e==="windows viewer configuration"?r="appsgray":e==="arcgis pro add in"||e==="arcgis pro configuration"?r="addindesktop":e==="pdf"?r="pdf":e==="microsoft word"?r="word":e==="microsoft excel"?r="excel":e==="microsoft powerpoint"?r="ppt":e==="rule package"||e==="file geodatabase"||e==="sqlite geodatabase"||e==="csv collection"||e==="kml collection"||e==="windows mobile package"||e==="map template"||e==="desktop application template"||e==="gml"||e==="arcpad package"||e==="code sample"||e==="document link"||e==="earth configuration"||e==="operations dashboard add in"||e==="rules package"||e==="workflow manager package"||e==="explorer map"&&t.includes("Explorer Mapping Application")||t.includes("Document")?r="datafilesgray":e==="network analysis service"||e==="geoprocessing service"||e==="geodata service"||e==="geometry service"||e==="geoprocessing package"||e==="locator package"||e==="geoprocessing sample"||e==="workflow manager service"?r="toolsgray":e==="layer"||e==="layer package"||e==="explorer layer"?r="layersgray":e==="analysis model"?r="analysismodel":e==="scene package"?r="scenepackage":e==="3dtiles package"?r="3dtileslayerpackage":e==="3dtiles service"?r="3dtileslayer":e==="mobile scene package"?r="mobilescenepackage":e==="tile package"||e==="compact tile package"?r="tilepackage":e==="task file"?r="taskfile":e==="report template"?r="report-template":e==="statistical data collection"?r="statisticaldatacollection":e==="insights workbook"?r="workbook":e==="insights model"?r="insightsmodel":e==="insights page"?r="insightspage":e==="insights theme"?r="insightstheme":e==="hub initiative"?r="hubinitiative":e==="hub page"?r="hubpage":e==="hub site application"?r="hubsite":e==="hub event"?r="hubevent":e==="hub project"?r="hubproject":e==="relational database connection"?r="relationaldatabaseconnection":e==="big data file share"?r="datastorecollection":e==="image collection"?r="imagecollection":e==="desktop style"?r="desktopstyle":e==="style"?r=t.includes("Dictionary")?"dictionarystyle":"style":e==="dashboard"?r="dashboard":e==="raster function template"?r="rasterprocessingtemplate":e==="vector tile package"?r="vectortilepackage":e==="ortho mapping project"?r="orthomappingproject":e==="ortho mapping template"?r="orthomappingtemplate":e==="solution"?r="solutions":e==="geopackage"?r="geopackage":e==="deep learning package"?r="deeplearningpackage":e==="real time analytic"?r="realtimeanalytics":e==="reality mapping project"?r="realitymappingproject":e==="big data analytic"?r="bigdataanalytics":e==="feed"?r="feed":e==="excalibur imagery project"?r="excaliburimageryproject":e==="notebook"?r="notebook":e==="storymap"?r="storymap":e==="survey123 add in"?r="survey123addin":e==="mission"?r="mission":e==="mission report"?r="missionreport":e==="mission template"?r="missiontemplate":e==="quickcapture project"?r="quickcaptureproject":e==="pro report"?r="proreport":e==="pro report template"?r="proreporttemplate":e==="urban model"?r="urbanmodel":e==="urban project"?r="urbanproject":e==="web experience"?r="experiencebuilder":e==="web experience template"?r="webexperiencetemplate":e==="experience builder widget"?r="experiencebuilderwidget":e==="experience builder widget package"?r="experiencebuilderwidgetpackage":e==="workflow"?r="workflow":e==="kernel gateway connection"?r="kernelgatewayconnection":e==="insights script"?r="insightsscript":e==="hub initiative template"?r="hubinitiativetemplate":e==="storymap theme"?r="storymaptheme":e==="knowledge graph"?r="knowledgegraph":e==="knowledge graph layer"?r="knowledgegraphlayer":e==="knowledge studio project"?r="knowledgestudio":e==="native application"?r="nativeapp":e==="native application installer"?r="nativeappinstaller":e==="web link chart"?r="linkchart":e==="knowledge graph web investigation"?r="investigation":e==="ogcfeatureserver"?r="features":e==="pro presentation"?r="propresentation":e==="pro project"?r="proproject":e==="insights workbook package"?r="insightsworkbookpackage":e==="apache parquet"?r="apacheparquet":e==="notebook code snippet library"?r="notebookcodesnippets":e==="suitability model"?r="suitabilitymodel":e==="esri classifier definition"?r="classifierdefinition":e==="esri classification schema"?r="classificationschema":e==="insights data engineering workbook"?r="dataengineeringworkbook":e==="insights data engineering model"?r="dataengineeringmodel":e==="deep learning studio project"?r="deeplearningproject":e==="discussion"?r="discussion":e==="allsource project"?r="allsourceproject":e==="api key"?r="apikey":e==="data pipeline"?r="datapipelines":e==="group layer"?(m=t.includes("Map"),r=m?"layergroup2d":"layergroup"):r=e==="media layer"?"onlinemedialayer":e==="form"?t.includes("Survey123")?"survey":"datafilesgray":e==="csv"?"csv":e==="image"?"image":"maps",r?nn(n+r+i+".png"):null}get isLayer(){return this.type!=null&&FTe.has(this.type)}get itemCdnUrl(){return CL(this.itemUrl)}get itemPageUrl(){const e=this.portal?.itemPageUrl;return e&&this.id?`${e}?id=${this.id}`:null}get itemUrl(){const e=this.portal?.restUrl;return e&&this.id?`${e}/content/items/${this.id}`:null}get thumbnailUrl(){const e=this.itemUrl,t=this.thumbnail;return e&&t?this.portal?.normalizeUrl(`${e}/info/${t}?f=json`)??null:null}get userItemUrl(){const e=this.portal?.restUrl;if(!e)return null;const t=this.owner||this.portal?.user?.username;return t?`${e}/content/users/${this.ownerFolder?`${t}/${this.ownerFolder}`:t}/items/${this.id}`:null}load(e){const t=this.portal??(this.portal=or.getDefault()),n=t.load(e).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?t.request(this.itemUrl,{signal:e!=null?e.signal:null,query:{token:this.apiKey}}):{}).then(i=>{this.sourceJSON=i,this.read(i)});return this.addResolvingPromise(n),Promise.resolve(this)}async addRating(e){const t={method:"post",query:{}},n=e instanceof gT?e.rating:e;return n==null||isNaN(n)||typeof e!="number"||(t.query.rating=n),this.portal?(await this.portal.request(this.itemUrl+"/addRating",t),new gT({rating:n,created:new Date})):null}clone(){const e={access:this.access,accessInformation:this.accessInformation,applicationProxies:j(this.applicationProxies),avgRating:this.avgRating,categories:j(this.categories),classification:j(this.classification),created:j(this.created),culture:this.culture,description:this.description,extent:j(this.extent),groupCategories:j(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:j(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:j(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:j(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:j(this.typeKeywords),url:this.url};this.loaded&&(e.loadStatus="loaded");const t=new Cd({sourceJSON:this.sourceJSON}).set(e);return t._set("isOrgItem",this.isOrgItem),t}createPostQuery(){const e=this.toJSON();for(const t of["tags","typeKeywords","categories"])e[t]=e[t]?.join(", ");for(const t of["extent","classification"]){const n=e[t];n&&(e[t]=JSON.stringify(n))}return e}async deleteRating(){await this.portal.request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(e="json",t){return this.portal.request(this.itemUrl+"/data",{responseType:e,...t,query:{token:this.apiKey}})}async fetchRating(e){const t=await this.portal.request(this.itemUrl+"/rating",{query:{token:this.apiKey},...e});return t.rating!=null?(t.created=new Date(t.created),new gT(t)):null}fetchRelatedItems(e,t){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...e,token:this.apiKey},...t},Cd)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}reload(){return this.portal.request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then(e=>(this.applicationProxies&&!Object.hasOwn(e,"appProxies")&&(this.applicationProxies=null),this.sourceJSON=e,this.read(e),this))}update(e){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const t=e?.data,n={method:"post"};n.query=this.createPostQuery();for(const i in n.query)n.query[i]===null&&(n.query[i]="");return n.query.clearEmptyFields=!0,t!=null&&(typeof t=="string"?n.query.text=t:typeof t=="object"&&(n.query.text=JSON.stringify(t))),this.portal.request(`${this.userItemUrl}/update`,n).then(()=>this.reload())}):Promise.reject(new B("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async copy(e){if(!this.id)throw new B("portal:item-does-not-exist","The item does not exist yet");await this.load();const{portal:t,itemUrl:n}=this;await t.signIn();const{copyResources:i,folder:r,tags:s,title:o}=e||{},a={method:"post",query:{copyPrivateResources:i==="all",folder:typeof r=="string"?r:r?.id,includeResources:!!i,tags:s?.join(","),title:o}},{itemId:l}=await t.request(`${n}/copy`,a);return new Cd({id:l,portal:t})}updateThumbnail(e){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const t=e.thumbnail,n=e.filename,i={method:"post"};if(typeof t=="string")sp(t)?i.query={data:t}:i.query={url:Us(t)},n!=null&&(i.query.filename=n);else{const r=new FormData;n!=null?r.append("file",t,n):r.append("file",t),i.body=r}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,i).then(()=>this.reload())}):Promise.reject(new B("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(e={},t){const{fetchResources:n}=await J(()=>import("./resourceUtils-DNp2lDwb.js"),__vite__mapDeps([179,3]));return n(this,e,t)}async addResource(e,t,n){const{addOrUpdateResources:i}=await J(()=>import("./resourceUtils-DNp2lDwb.js"),__vite__mapDeps([179,3]));return e.portalItem=this,await i(this,[{resource:e,content:t,compress:n?.compress,access:n?.access}],"add",n),e}async removeResource(e,t){const{removeResource:n}=await J(()=>import("./resourceUtils-DNp2lDwb.js"),__vite__mapDeps([179,3]));if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new B("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return n(this,e,t)}async removeAllResources(e){const{removeAllResources:t}=await J(()=>import("./resourceUtils-DNp2lDwb.js"),__vite__mapDeps([179,3]));return t(this,e)}resourceFromPath(e){return new VTe({portalItem:this,path:e})}toJSON(){const e=this.extent,t={accessInformation:this.accessInformation,categories:j(this.categories),classification:j(this.classification),created:this.created?.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:this.modified?.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:j(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:j(this.typeKeywords),url:this.url};return Sce(t)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new Cd({sourceJSON:e})}_getPostQuery(){const e=this.toJSON();for(const t in e)t==="tags"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="typeKeywords"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="extent"&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};u([d({type:["private","shared","org","public"]})],Ke.prototype,"access",void 0),u([d()],Ke.prototype,"accessInformation",void 0),u([d({type:String})],Ke.prototype,"apiKey",void 0),u([d({json:{read:{source:"appProxies"}}})],Ke.prototype,"applicationProxies",void 0),u([d()],Ke.prototype,"avgRating",void 0),u([d()],Ke.prototype,"categories",void 0),u([d()],Ke.prototype,"classification",void 0),u([d({type:Date})],Ke.prototype,"created",void 0),u([d()],Ke.prototype,"culture",void 0),u([d()],Ke.prototype,"description",void 0),u([d({readOnly:!0})],Ke.prototype,"displayName",null),u([d({type:Gt})],Ke.prototype,"extent",void 0),u([le("extent")],Ke.prototype,"readExtent",null),u([d()],Ke.prototype,"groupCategories",void 0),u([d({readOnly:!0})],Ke.prototype,"iconUrl",null),u([d()],Ke.prototype,"id",void 0),u([d({readOnly:!0})],Ke.prototype,"isLayer",null),u([d({type:Boolean,readOnly:!0})],Ke.prototype,"isOrgItem",void 0),u([d()],Ke.prototype,"itemControl",void 0),u([d({readOnly:!0})],Ke.prototype,"itemPageUrl",null),u([d({readOnly:!0})],Ke.prototype,"itemUrl",null),u([d()],Ke.prototype,"licenseInfo",void 0),u([d({type:Date})],Ke.prototype,"modified",void 0),u([d()],Ke.prototype,"name",void 0),u([d()],Ke.prototype,"numComments",void 0),u([d()],Ke.prototype,"numRatings",void 0),u([d()],Ke.prototype,"numViews",void 0),u([d()],Ke.prototype,"owner",void 0),u([d()],Ke.prototype,"ownerFolder",void 0),u([d({type:or})],Ke.prototype,"portal",void 0),u([d()],Ke.prototype,"screenshots",void 0),u([d()],Ke.prototype,"size",void 0),u([d()],Ke.prototype,"snippet",void 0),u([d()],Ke.prototype,"sourceJSON",void 0),u([d({type:String})],Ke.prototype,"sourceUrl",void 0),u([d({type:String})],Ke.prototype,"spatialReference",void 0),u([d()],Ke.prototype,"tags",void 0),u([d()],Ke.prototype,"thumbnail",void 0),u([d({readOnly:!0})],Ke.prototype,"thumbnailUrl",null),u([d()],Ke.prototype,"title",void 0),u([d()],Ke.prototype,"type",void 0),u([d()],Ke.prototype,"typeKeywords",void 0),u([d({type:String,json:{read(e,t){if(jTe.has(t.type)){const n=this.portal?.restUrl;e||=n&&this.id?`${n}/content/items/${this.id}/data`:null}return e}}})],Ke.prototype,"url",void 0),u([d({readOnly:!0})],Ke.prototype,"userItemUrl",null),Ke=Cd=u([k("esri.portal.PortalItem")],Ke);const Tv=Ke,uY=Object.freeze(Object.defineProperty({__proto__:null,default:Tv},Symbol.toStringTag,{value:"Module"})),e7e=Math.PI/180,t7e=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i,iu=_n.radius,co=_n.eccentricitySquared,zTe={a1:iu*co,a2:iu*co*iu*co,a3:iu*co*co/2,a4:iu*co*iu*co*2.5,a5:iu*co+iu*co*co/2,a6:1-co},n7e={4267:{a:63782064e-1,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:_n.radius,f:_n.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:dc.radius,f:dc.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:Sa.radius,f:Sa.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:Sa.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}};var G;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",e[e.WGS84=2]="WGS84",e[e.WEB_MERCATOR=3]="WEB_MERCATOR",e[e.WGS84_ECEF=4]="WGS84_ECEF",e[e.CGCS2000=5]="CGCS2000",e[e.SPHERICAL_MARS_PCPF=6]="SPHERICAL_MARS_PCPF",e[e.GCSMARS2000=7]="GCSMARS2000",e[e.SPHERICAL_MOON_PCPF=8]="SPHERICAL_MOON_PCPF",e[e.GCSMOON2000=9]="GCSMOON2000",e[e.LON_LAT=10]="LON_LAT",e[e.PLATE_CARREE=11]="PLATE_CARREE"})(G||(G={}));const BTe={[G.WGS84]:{[G.CGCS2000]:tn,[G.GCSMARS2000]:null,[G.GCSMOON2000]:null,[G.LON_LAT]:tn,[G.SPHERICAL_ECEF]:Iv,[G.SPHERICAL_MARS_PCPF]:null,[G.SPHERICAL_MOON_PCPF]:null,[G.UNKNOWN]:null,[G.WEB_MERCATOR]:nm,[G.PLATE_CARREE]:im,[G.WGS84]:tn,[G.WGS84_ECEF]:om},[G.CGCS2000]:{[G.CGCS2000]:tn,[G.GCSMARS2000]:null,[G.GCSMOON2000]:null,[G.LON_LAT]:tn,[G.SPHERICAL_ECEF]:Iv,[G.SPHERICAL_MARS_PCPF]:null,[G.SPHERICAL_MOON_PCPF]:null,[G.UNKNOWN]:null,[G.WEB_MERCATOR]:nm,[G.PLATE_CARREE]:im,[G.WGS84]:tn,[G.WGS84_ECEF]:om},[G.GCSMARS2000]:{[G.CGCS2000]:null,[G.GCSMARS2000]:tn,[G.GCSMOON2000]:null,[G.LON_LAT]:tn,[G.SPHERICAL_ECEF]:null,[G.SPHERICAL_MARS_PCPF]:a4,[G.SPHERICAL_MOON_PCPF]:null,[G.UNKNOWN]:null,[G.WEB_MERCATOR]:null,[G.PLATE_CARREE]:null,[G.WGS84]:null,[G.WGS84_ECEF]:null},[G.GCSMOON2000]:{[G.CGCS2000]:null,[G.GCSMARS2000]:null,[G.GCSMOON2000]:tn,[G.LON_LAT]:tn,[G.SPHERICAL_ECEF]:null,[G.SPHERICAL_MARS_PCPF]:null,[G.SPHERICAL_MOON_PCPF]:o4,[G.UNKNOWN]:null,[G.WEB_MERCATOR]:null,[G.PLATE_CARREE]:null,[G.WGS84]:null,[G.WGS84_ECEF]:null},[G.WEB_MERCATOR]:{[G.CGCS2000]:Ev,[G.GCSMARS2000]:null,[G.GCSMOON2000]:null,[G.LON_LAT]:Ev,[G.SPHERICAL_ECEF]:GTe,[G.SPHERICAL_MARS_PCPF]:null,[G.SPHERICAL_MOON_PCPF]:null,[G.UNKNOWN]:null,[G.WEB_MERCATOR]:tn,[G.PLATE_CARREE]:WTe,[G.WGS84]:Ev,[G.WGS84_ECEF]:HTe},[G.WGS84_ECEF]:{[G.CGCS2000]:am,[G.GCSMARS2000]:null,[G.GCSMOON2000]:null,[G.LON_LAT]:am,[G.SPHERICAL_ECEF]:nEe,[G.SPHERICAL_MARS_PCPF]:null,[G.SPHERICAL_MOON_PCPF]:null,[G.UNKNOWN]:null,[G.WEB_MERCATOR]:iEe,[G.PLATE_CARREE]:ZTe,[G.WGS84]:am,[G.WGS84_ECEF]:tn},[G.SPHERICAL_ECEF]:{[G.CGCS2000]:sm,[G.GCSMARS2000]:null,[G.GCSMOON2000]:null,[G.LON_LAT]:sm,[G.SPHERICAL_ECEF]:tn,[G.SPHERICAL_MARS_PCPF]:null,[G.SPHERICAL_MOON_PCPF]:null,[G.UNKNOWN]:null,[G.WEB_MERCATOR]:QTe,[G.PLATE_CARREE]:YTe,[G.WGS84]:sm,[G.WGS84_ECEF]:eEe},[G.SPHERICAL_MARS_PCPF]:{[G.CGCS2000]:null,[G.GCSMARS2000]:u4,[G.GCSMOON2000]:null,[G.LON_LAT]:u4,[G.SPHERICAL_ECEF]:null,[G.SPHERICAL_MARS_PCPF]:tn,[G.SPHERICAL_MOON_PCPF]:null,[G.UNKNOWN]:null,[G.WEB_MERCATOR]:null,[G.PLATE_CARREE]:null,[G.WGS84]:null,[G.WGS84_ECEF]:null},[G.SPHERICAL_MOON_PCPF]:{[G.CGCS2000]:null,[G.GCSMARS2000]:null,[G.GCSMOON2000]:l4,[G.LON_LAT]:l4,[G.SPHERICAL_ECEF]:null,[G.SPHERICAL_MARS_PCPF]:null,[G.SPHERICAL_MOON_PCPF]:tn,[G.UNKNOWN]:null,[G.WEB_MERCATOR]:null,[G.PLATE_CARREE]:null,[G.WGS84]:null,[G.WGS84_ECEF]:null},[G.UNKNOWN]:{[G.CGCS2000]:null,[G.GCSMARS2000]:null,[G.GCSMOON2000]:null,[G.LON_LAT]:null,[G.SPHERICAL_ECEF]:null,[G.SPHERICAL_MARS_PCPF]:null,[G.SPHERICAL_MOON_PCPF]:null,[G.UNKNOWN]:tn,[G.WEB_MERCATOR]:null,[G.PLATE_CARREE]:null,[G.WGS84]:null,[G.WGS84_ECEF]:null},[G.LON_LAT]:{[G.CGCS2000]:tn,[G.GCSMARS2000]:tn,[G.GCSMOON2000]:tn,[G.LON_LAT]:tn,[G.SPHERICAL_ECEF]:Iv,[G.SPHERICAL_MARS_PCPF]:a4,[G.SPHERICAL_MOON_PCPF]:o4,[G.UNKNOWN]:null,[G.WEB_MERCATOR]:nm,[G.PLATE_CARREE]:im,[G.WGS84]:tn,[G.WGS84_ECEF]:om},[G.PLATE_CARREE]:{[G.CGCS2000]:rm,[G.GCSMARS2000]:null,[G.GCSMOON2000]:null,[G.LON_LAT]:rm,[G.SPHERICAL_ECEF]:JTe,[G.SPHERICAL_MARS_PCPF]:null,[G.SPHERICAL_MOON_PCPF]:null,[G.UNKNOWN]:null,[G.WEB_MERCATOR]:KTe,[G.PLATE_CARREE]:tn,[G.WGS84]:rm,[G.WGS84_ECEF]:XTe}};function cY(e,t){return UTe(e,t)?.projector}function UTe(e,t){if(e==null||t==null)return null;if(za.source.spatialReference===e&&za.dest.spatialReference===t)return za;const n=s4(e,za.source),i=s4(t,za.dest);return n===G.UNKNOWN&&i===G.UNKNOWN?ui(e,t)?za.projector=tn:za.projector=null:za.projector=BTe[n][i],za}function s4(e,t){return e?t.spatialReference===e?t.spatialReferenceId:(t.spatialReference=e,"metersPerUnit"in t&&(t.metersPerUnit=no(e,1)),cS(e)?t.spatialReferenceId=G.SPHERICAL_ECEF:Oh(e)?t.spatialReferenceId=G.WGS84:Ea(e)?t.spatialReferenceId=G.WEB_MERCATOR:vye(e)?t.spatialReferenceId=G.PLATE_CARREE:e.wkt===Sye.wkt?t.spatialReferenceId=G.WGS84_ECEF:e.wkid===Lh.CGCS2000?t.spatialReferenceId=G.CGCS2000:e.wkt===PL.wkt?t.spatialReferenceId=G.SPHERICAL_MARS_PCPF:e.wkt===LL.wkt?t.spatialReferenceId=G.SPHERICAL_MOON_PCPF:TG(e)?t.spatialReferenceId=G.GCSMARS2000:EG(e)?t.spatialReferenceId=G.GCSMOON2000:t.spatialReferenceId=G.UNKNOWN):G.UNKNOWN}function tn(e,t,n,i){e!==n&&(n[i++]=e[t++],n[i++]=e[t++],n[i]=e[t])}function Ev(e,t,n,i){n[i]=Nm*(e[t]/wh),n[i+1]=Nm*(dY-2*Math.atan(Math.exp(-e[t+1]/wh))),n[i+2]=e[t+2]}function GTe(e,t,n,i){const r=e[t]/wh,s=dY-2*Math.atan(Math.exp(-e[t+1]/wh)),o=wh+e[t+2],a=Math.cos(s)*o;n[i]=Math.cos(r)*a,n[i+1]=Math.sin(r)*a,n[i+2]=Math.sin(s)*o}function HTe(e,t,n,i){Ev(e,t,n,i),om(n,i,n,i)}function qTe(e,t,n,i,r){const s=.4999999*Math.PI,o=ws(Rm*e[t+1],-s,s),a=Math.sin(o);n[i++]=Rm*e[t]*r.radius,n[i++]=r.halfSemiMajorAxis*Math.log((1+a)/(1-a)),n[i]=e[t+2]}function nm(e,t,n,i){qTe(e,t,n,i,_n)}function im(e,t,n,i){n[i]=e[t]*c4,n[i+1]=e[t+1]*c4,n[i+2]=e[t+2]}function rm(e,t,n,i){n[i]=e[t]*d4,n[i+1]=e[t+1]*d4,n[i+2]=e[t+2]}function WTe(e,t,n,i){Ev(e,t,n,i),im(n,i,n,i)}function ZTe(e,t,n,i){am(e,t,n,i),im(n,i,n,i)}function YTe(e,t,n,i){sm(e,t,n,i),im(n,i,n,i)}function JTe(e,t,n,i){rm(e,t,n,i),Iv(n,i,n,i)}function KTe(e,t,n,i){rm(e,t,n,i),nm(n,i,n,i)}function XTe(e,t,n,i){rm(e,t,n,i),om(n,i,n,i)}function X3(e,t,n,i,r){const s=r+e[t+2],o=Rm*e[t+1],a=Rm*e[t],l=Math.cos(o)*s;n[i]=Math.cos(a)*l,n[i+1]=Math.sin(a)*l,n[i+2]=Math.sin(o)*s}function o4(e,t,n,i){X3(e,t,n,i,dc.radius)}function a4(e,t,n,i){X3(e,t,n,i,Sa.radius)}function Iv(e,t,n,i){X3(e,t,n,i,_n.radius)}function Q3(e,t,n,i,r){const s=e[t],o=e[t+1],a=e[t+2],l=Math.sqrt(s*s+o*o+a*a),c=eve(a/(l===0?1:l)),h=Math.atan2(o,s);n[i++]=Nm*h,n[i++]=Nm*c,n[i]=l-r}function l4(e,t,n,i){Q3(e,t,n,i,dc.radius)}function u4(e,t,n,i){Q3(e,t,n,i,Sa.radius)}function sm(e,t,n,i){Q3(e,t,n,i,_n.radius)}function QTe(e,t,n,i){sm(e,t,n,i),nm(n,i,n,i)}function eEe(e,t,n,i){sm(e,t,n,i),om(n,i,n,i)}function tEe(e,t,n,i,r){const s=Rm*e[t],o=Rm*e[t+1],a=e[t+2],l=Math.sin(o),c=Math.cos(o),h=r.radius/Math.sqrt(1-r.eccentricitySquared*l*l);n[i++]=(h+a)*c*Math.cos(s),n[i++]=(h+a)*c*Math.sin(s),n[i++]=(h*(1-r.eccentricitySquared)+a)*l}function om(e,t,n,i){tEe(e,t,n,i,_n)}function am(e,t,n,i){const r=zTe,s=e[t],o=e[t+1],a=e[t+2];let l,c,h,p,m,y,g,v,b,w,S,x,E,$,I,A,M,L,O,P,R;l=Math.abs(a),c=s*s+o*o,h=Math.sqrt(c),p=c+a*a,m=Math.sqrt(p),P=Math.atan2(o,s),y=a*a/p,g=c/p,$=r.a2/m,I=r.a3-r.a4/m,g>.3?(v=l/m*(1+g*(r.a1+$+y*I)/m),O=Math.asin(v),w=v*v,b=Math.sqrt(1-w)):(b=h/m*(1-y*(r.a5-$-g*I)/m),O=Math.acos(b),w=1-b*b,v=Math.sqrt(w)),S=1-_n.eccentricitySquared*w,x=_n.radius/Math.sqrt(S),E=r.a6*x,$=h-x*b,I=l-E*v,M=b*$+v*I,A=b*I-v*$,L=A/(E/S+M),O+=L,R=M+A*L/2,a<0&&(O=-O),n[i++]=Nm*P,n[i++]=Nm*O,n[i]=R}function nEe(e,t,n,i){am(e,t,n,i),Iv(n,i,n,i)}function iEe(e,t,n,i){am(e,t,n,i),nm(n,i,n,i)}const za={source:{spatialReference:null,spatialReferenceId:G.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:G.UNKNOWN,metersPerUnit:1},projector:tn},Rm=sx(1),Nm=rH(1),dY=.5*Math.PI,wh=_n.radius,c4=wh*Math.PI/180,d4=180/(wh*Math.PI);function Mb(e,t,n,i,r,s,o=Math.floor(e.length/3)){const a=cY(t,r);if(a==null)return!1;if(a===tn){if(e===i&&n===s)return!0;const c=n+3*o;for(let h=n,p=s;h<c;h++,p++)i[p]=e[h];return!0}const l=n+3*o;for(let c=n,h=s;c<l;c+=3,h+=3)a(e,c,i,h);return!0}const i7e=Object.freeze(Object.defineProperty({__proto__:null,projectBuffer:Mb},Symbol.toStringTag,{value:"Module"}));function h4(e,t,n,i,r,s){return $w[0]=e,$w[1]=t,$w[2]=n,Mb($w,i,0,r,s,0)}const $w=Ac();let Tw=0,vT=class Fk{static fromGE(t){const n=new Fk;return n._wkt=t.wkt,n._wkid=t.wkid,n._isInverse=t.isInverse,n}constructor(t){this.uid=Tw++,t?(this._wkt=t.wkt!=null?t.wkt:null,this._wkid=t.wkid!=null?t.wkid:-1,this._isInverse=t.isInverse!=null&&t.isInverse===!0):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(t){this._wkt=t,this.uid=Tw++}get wkid(){return this._wkid}set wkid(t){this._wkid=t,this.uid=Tw++}get isInverse(){return this._isInverse}set isInverse(t){this._isInverse=t,this.uid=Tw++}getInverse(){const t=new Fk;return t._wkt=this.wkt,t._wkid=this._wkid,t._isInverse=!this.isInverse,t}},MS=class qg{static cacheKey(t,n){return[t.wkid?.toString()??"-1",t.wkt?.toString()??"",t.wkt2?.toString()??"",n.wkid?.toString()??"-1",n.wkt?.toString()??"",n.wkt2?.toString()??""].join()}static fromGE(t){const n=new qg;let i="";for(const r of t.steps){const s=vT.fromGE(r);n.steps.push(s),i+=s.uid.toString()+","}return n._cachedProjection={},n._gtlistentry=null,n._chain=i,n}constructor(t){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,t?.steps)for(const n of t.steps)n instanceof vT?this.steps.push(n):this.steps.push(new vT({wkid:n.wkid,wkt:n.wkt,isInverse:n.isInverse}))}getInverse(){const t=new qg;t.steps=[];for(let n=this.steps.length-1;n>=0;n--){const i=this.steps[n];t.steps.push(i.getInverse())}return t}getGTListEntry(){let t="";for(const n of this.steps)t+=n.uid.toString()+",";return t!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=t),this._gtlistentry}assignCachedGe(t,n,i){this._cachedProjection[qg.cacheKey(t,n)]=i}getCachedGeTransformation(t,n){let i="";for(const s of this.steps)i+=s.uid.toString()+",";i!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=i);const r=this._cachedProjection[qg.cacheKey(t,n)];return r===void 0?null:r}},Uo=null,wc=null,Cv=null,o_={};const eO=new ab;function Nc(){return!!Uo&&kL()}function hY(){return!!Nc()||(He(eO),_c(),!1)}function pY(e,t){return!e||!t||Pa(e,t)||hY()}function rEe(e,t){return!Pa(e,t)&&!Nc()}function _c(e){return Cv==null&&(Cv=Promise.all([vG(),J(()=>import("./geometryEngineBase-C-gsyNi-.js"),__vite__mapDeps([39,8])).then(t=>t.g),J(()=>import("./hydrated-D3kW-210.js"),__vite__mapDeps([180,3]))])),Cv.then(([,t,{hydratedAdapter:n}])=>{fn(e),wc=n,Uo=t.default,Uo._enableProjection(fye),eO.notify()})}function Dc(e,t,n=null,i=null){return Array.isArray(e)?e.length===0?[]:(Hve(e),jk(wc,e,e[0].spatialReference,t,n,i)):(Mm(e),jk(wc,[e],e.spatialReference,t,n,i)[0])}function jk(e,t,n,i,r=null,s=null){if(n==null||i==null)return t;if(Pa(n,i,r))return t.map(o=>a_(o,n,i));if(r==null&&cS(n))return t.map(o=>a_(o,n,et.WGS84)).map(o=>x0(o,i));if(r==null&&cS(i))return t.map(o=>x0(o,et.WGS84)).map(o=>a_(o,et.WGS84,i));if(r==null){const o=MS.cacheKey(n,i);o_[o]!==void 0?r=o_[o]:((r=mY(n,i,void 0))==null&&(r=new MS),o_[o]=r)}if(Uo==null||e==null)throw new jx;return s!=null?Uo._project(e,t,n,i,r,s):Uo._project(e,t,n,i,r)}function sEe(e,t){const n=fY([e],t);return n.pending!=null?{pending:n.pending,geometry:null}:n.geometries!=null?{pending:null,geometry:n.geometries[0]}:{pending:null,geometry:null}}function fY(e,t){if(!Nc()){for(const n of e)if(n!=null&&!ui(n.spatialReference,t)&&ps(n.spatialReference)&&ps(t)&&!Pa(n.spatialReference,t))return He(eO),{pending:_c(),geometries:null}}return{pending:null,geometries:e.map(n=>n==null?null:ui(n.spatialReference,t)?n:ps(n.spatialReference)&&ps(t)?x0(n,t):null)}}function mY(e,t,n=null){if(e==null||t==null)return null;if(Uo==null||wc==null)throw new jx;const i=Uo._getTransformation(wc,e,t,n,n?.spatialReference);return i!==null?MS.fromGE(i):null}function oEe(e,t,n=null){if(Uo==null||wc==null)throw new jx;const i=Uo._getTransformationBySuitability(wc,e,t,n,n?.spatialReference);if(i!==null){const r=[];for(const s of i)r.push(MS.fromGE(s));return r}return[]}let jx=class extends B{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}};function aEe(){Uo=null,wc=null,Cv=null,o_={}}const lEe={get loadPromise(){return Cv}};function x0(e,t){try{const n=Dc(e,t);if(n==null)return null;"xmin"in e&&"xmin"in n&&(n.zmin=e.zmin,n.zmax=e.zmax);const i=lW(n.type,e.spatialReference,t);return i?.(n),n}catch(n){if(!(n instanceof jx))throw n;return null}}async function uEe(e,t,n){const i=e.spatialReference;return i!=null&&t!=null&&await tO(i,t,null,n),x0(e,t)}function Pa(e,t,n){return!n&&(!!ui(e,t)||ps(e)&&ps(t)&&!!cY(e,t))}function cEe(e,t){if(ui(e,t))return!0;if(!ps(e)||!ps(t))return!1;const n=Oh(e)||Ea(e)||OD(e),i=Oh(t)||Ea(t)||OD(t);return n&&i}async function tO(e,t,n,i){if(Nc())return LN(i);if(Array.isArray(e)){for(const{source:r,dest:s,geographicTransformation:o}of e)if(r&&s&&!Pa(r,s,o))return _c(i)}else if(e&&t&&!Pa(e,t,n))return _c(i);return LN(i)}function a_(e,t,n){return e?"x"in e?yY(e,t,new nt,n,0):"xmin"in e?wY(e,t,new Gt,n,0):"rings"in e?bY(e,t,new Wo,n,0):"paths"in e?vY(e,t,new Fo,n,0):"points"in e?gY(e,t,new gx,n,0):null:null}function dEe(e,t,n=t.spatialReference,i=0){return n!=null&&e.spatialReference!=null&&yY(e,e.spatialReference,t,n,i)!=null}function yY(e,t,n,i,r){Yi[0]=e.x,Yi[1]=e.y;const s=e.z;return Yi[2]=s!==void 0?s:r,Mb(Yi,t,0,Yi,i,0)?(n.x=Yi[0],n.y=Yi[1],n.spatialReference=i,s!==void 0||pc(i)?(n.z=Yi[2],n.hasZ=!0):(n.z=void 0,n.hasZ=!1),e.m===void 0?(n.m=void 0,n.hasM=!1):(n.m=e.m,n.hasM=!0),n):null}function hEe(e,t,n=t.spatialReference,i=0){return e.spatialReference!=null&&n!=null&&gY(e,e.spatialReference,t,n,i)!=null}function gY(e,t,n,i,r){const{points:s,hasZ:o,hasM:a}=e,l=[],c=s.length,h=[];for(const m of s)h.push(m[0],m[1],o?m[2]:r);if(!Mb(h,t,0,h,i,0,c))return null;const p=o||pc(i);for(let m=0;m<c;++m){const y=3*m,g=h[y],v=h[y+1];p&&a?l.push([g,v,h[y+2],s[m][3]]):p?l.push([g,v,h[y+2]]):a?l.push([g,v,s[m][2]]):l.push([g,v])}return n.points=l,n.spatialReference=i,n.hasZ=o,n.hasM=a,n}function pEe(e,t,n=t.spatialReference,i=0){return e.spatialReference!=null&&n!=null&&vY(e,e.spatialReference,t,n,i)!=null}function vY(e,t,n,i,r){const{paths:s,hasZ:o,hasM:a}=e,l=[];if(!_Y(s,o??!1,a??!1,t,l,i,r))return null;const c=o||pc(i);return n.paths=l,n.spatialReference=i,n.hasZ=c,n.hasM=a,n}function fEe(e,t,n=t.spatialReference,i=0){return e.spatialReference!=null&&n!=null&&bY(e,e.spatialReference,t,n,i)!=null}function bY(e,t,n,i,r){const{rings:s,hasZ:o,hasM:a}=e,l=[];if(!_Y(s,o??!1,a??!1,t,l,i,r))return null;const c=o||pc(i);return n.rings=l,n.spatialReference=i,n.hasZ=c,n.hasM=a,n}function mEe(e,t,n=t.spatialReference,i=0){return e.spatialReference!=null&&n!=null&&wY(e,e.spatialReference,t,n,i)!=null}function wY(e,t,n,i,r){const{xmin:s,ymin:o,xmax:a,ymax:l,hasZ:c,hasM:h}=e,p=c?e.zmin:r;if(!h4(s,o,p,t,Yi,i))return null;const m=c||pc(i);n.xmin=Yi[0],n.ymin=Yi[1],m&&(n.zmin=Yi[2]);const y=c?e.zmax:r;return h4(a,l,y,t,Yi,i)?(n.xmax=Yi[0],n.ymax=Yi[1],m&&(n.zmax=Yi[2]),h&&(n.mmin=e.mmin,n.mmax=e.mmax),n.spatialReference=i,n):null}function _Y(e,t,n,i,r,s,o=0){const a=new Array;for(const h of e)for(const p of h)a.push(p[0],p[1],t?p[2]:o);if(!Mb(a,i,0,a,s,0))return!1;let l=0;r.length=0;const c=t||pc(s);for(const h of e){const p=new Array;for(const m of h)c&&n?p.push([a[l++],a[l++],a[l++],m[3]]):c?p.push([a[l++],a[l++],a[l++]]):n?(p.push([a[l++],a[l++],m[2]]),l++):(p.push([a[l++],a[l++]]),l++);r.push(p)}return!0}const Yi=Ac(),s7e=Object.freeze(Object.defineProperty({__proto__:null,canProjectWithoutEngine:Pa,getTransformation:mY,getTransformations:oEe,initializeProjection:tO,isEqualBaseGCS:cEe,isLoaded:Nc,isLoadedOrLoad:hY,isLoadedOrLoadFor:pY,load:_c,project:Dc,projectExtent:mEe,projectMany:jk,projectMultipoint:hEe,projectOrLoad:sEe,projectOrLoadMany:fY,projectPoint:dEe,projectPolygon:fEe,projectPolyline:pEe,projectWithZConversion:uEe,projectWithoutEngine:a_,requiresLoad:rEe,test:lEe,tryProjectWithZConversion:x0,unload:aEe},Symbol.toStringTag,{value:"Module"}));async function yEe(e){const t=e.spatialReference;if(t.isWGS84)return e.clone();if(t.isWebMercator)return Rf(e);const n=et.WGS84;return await tO(t,n),Dc(e,n)}function gEe(e,t){if(!SY(e,t)){const n=e.typeKeywords;n?n.push(t):e.typeKeywords=[t]}}function SY(e,t){return!!e.typeKeywords?.includes(t)}function o7e(e){return SY(e,bEe.HOSTED_SERVICE)}function vEe(e,t){const n=e.typeKeywords;if(n){const i=n.indexOf(t);i>-1&&n.splice(i,1)}}function a7e(e,t,n){n?gEe(e,t):vEe(e,t)}async function l7e(e){const t=e.clone().normalize();let n;if(t.length>1)for(const i of t)n?i.width>n.width&&(n=i):n=i;else n=t[0];return yEe(n)}const bEe={GROUP_LAYER_MAP:"Map",HOSTED_SERVICE:"Hosted Service",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",ORIENTED_IMAGERY_LAYER:"OrientedImageryLayer",SINGLE_LAYER:"Singlelayer",SUBTYPE_GROUP_LAYER:"SubtypeGroupLayer",SUBTYPE_GROUP_TABLE:"SubtypeGroupTable",TABLE:"Table",TILED_IMAGERY:"Tiled Imagery"};function wEe(e){const{portal:t,isOrgItem:n,itemControl:i}=e,r=t.user?.privileges;let s=!r||r.includes("features:user:edit"),o=!!n&&!!r?.includes("features:user:fullEdit");const a=i==="update"||i==="admin";return a?o=s=!0:o&&(s=!0),{features:{edit:s,fullEdit:o},content:{updateItem:a}}}const _Ee=e=>{let t=class extends e{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=Bt(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(n){n!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",n))}readPortalItem(n,i,r){if(i.itemId)return new Tv({id:i.itemId,portal:r?.portal})}writePortalItem(n,i){n?.id&&(i.itemId=n.id)}async loadFromPortal(n,i){if(this.portalItem?.id)try{const{load:r}=await J(()=>import("./layersLoader-C7KzGmOS.js"),__vite__mapDeps([181,22,23,21,182,3]));return fn(i),await r({instance:this,supportedTypes:n.supportedTypes,validateItem:n.validateItem,supportsData:n.supportsData,layerModuleTypeMap:n.layerModuleTypeMap,populateGroupLayer:n.populateGroupLayer},i)}catch(r){throw ur(r)||re.getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})
  ${r}`),r}}async finishLoadEditablePortalLayer(n){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(n).catch(i=>(ba(i),!0)))}async setUserPrivileges(n,i){if(!kt.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(i);if(this.url)try{const{features:{edit:r,fullEdit:s},content:{updateItem:o}}=await this._fetchUserPrivileges(n,i);this._set("userHasEditingPrivileges",r),this._set("userHasFullEditingPrivileges",s),this._set("userHasUpdateItemPrivileges",o)}catch(r){ba(r)}}async _fetchUserPrivileges(n,i){let r=this.portalItem;if(!n||!r||!r.loaded||r.sourceUrl)return this._fetchFallbackUserPrivileges(i);const s=!dt?.findCredential(this.url),o=n===r.id;if(o&&r.portal.user)return this._getUserPrivileges(r,s);let a,l;if(o)a=r.portal.url;else try{a=await C3(this.url,i)}catch(m){ba(m)}if(!a||!_me(a,r.portal.url))return this._fetchFallbackUserPrivileges(i);try{const m=i!=null?i.signal:null;l=await dt?.getCredential(`${a}/sharing`,{prompt:!1,signal:m})}catch(m){ba(m)}const c=!0,h=!1,p=!1;if(!l)return{features:{edit:c,fullEdit:h},content:{updateItem:p}};try{if(o?await r.reload():(r=new Tv({id:n,portal:{url:a}}),await r.load(i)),r.portal.user)return this._getUserPrivileges(r,s)}catch(m){ba(m)}return{features:{edit:c,fullEdit:h},content:{updateItem:p}}}_getUserPrivileges(n,i){const r=wEe(n);return i&&(r.features.edit=!0),r}async _fetchFallbackUserPrivileges(n){let i=!0;try{i=await this._fetchUserHasEditingPrivileges(n)}catch(r){ba(r)}return{features:{edit:i,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(n){const i=this.url?dt?.findCredential(this.url):null;if(!i)return!0;const r=Ew.credential===i?Ew.user:await this._fetchEditingUser(n);return Ew.credential=i,Ew.user=r,r?.privileges==null||r.privileges.includes("features:user:edit")}async _fetchEditingUser(n){const i=this.portalItem?.portal?.user;if(i)return i;const r=dt?.findServerInfo(this.url??"");if(!r?.owningSystemUrl)return null;const s=`${r.owningSystemUrl}/sharing/rest`,o=or.getDefault();if(o&&o.loaded&&jo(o.restUrl)===jo(s))return o.user;const a=`${s}/community/self`,l=n!=null?n.signal:null,c=await mx(Lt(a,{authMode:"no-prompt",query:{f:"json"},signal:l}));return c.ok?o3.fromJSON(c.value.data):null}read(n,i){i&&(i.layer=this),super.read(n,i)}write(n,i){const r=i?.portal,s=this.portalItem?.id&&(this.portalItem.portal||or.getDefault());return r&&s&&!nG(s.restUrl,r.restUrl)?(i.messages&&i.messages.push(new B("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(n,{...i,layer:this})}};return u([d({type:Tv})],t.prototype,"portalItem",null),u([le("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),u([ge("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),u([d({clonable:!1})],t.prototype,"resourceReferences",void 0),u([d({type:Boolean,readOnly:!0})],t.prototype,"userHasEditingPrivileges",void 0),u([d({type:Boolean,readOnly:!0})],t.prototype,"userHasFullEditingPrivileges",void 0),u([d({type:Boolean,readOnly:!0})],t.prototype,"userHasUpdateItemPrivileges",void 0),t=u([k("esri.layers.mixins.PortalLayer")],t),t},Ew={credential:null,user:null};let Wg=class extends Ce{constructor(){super(...arguments),this.updating=!1,this.status="unknown"}};u([d()],Wg.prototype,"updating",void 0),u([d()],Wg.prototype,"status",void 0),Wg=u([k("esri.layers.support.PublishingInfo")],Wg);const SEe=Wg,xEe=Symbol(),$Ee=e=>{var t;let n=class extends e{constructor(){super(...arguments),this[t]=!0}get publishingInfo(){if(this.destroyed)return null;const i=this._get("publishingInfo");if(i)return i;const r=new SEe;return this._checkPublishingStatus(r),r}_checkPublishingStatus(i){let o=0;const a=async c=>{let h;i.updating=!0;try{h=await this.fetchPublishingStatus()}catch{h="unavailable"}h!=="published"&&h!=="unavailable"||(i.status==="publishing"&&this.refresh(),l.remove()),i.status=h,i.updating=!1,l.removed||(o=setTimeout(a,c,c+125))},l={removed:!1,remove(){this.removed=!0,clearTimeout(o)}};this.when().catch(()=>l.remove()),a(250),this.addHandles(l)}};return t=xEe,u([d({readOnly:!0,clonable:!1})],n.prototype,"publishingInfo",null),n=u([k("esri.layers.mixins.PublishableLayer")],n),n},tc=new we,Mv=new WeakMap;function TEe(e){IEe(e)&&tc.push(new WeakRef(e))}function EEe(e){const t=tc.find(n=>n.deref()===e);t&&tc.remove(t)}function IEe(e){return e!=null&&typeof e=="object"&&"refreshInterval"in e&&"refresh"in e}function xY(e,t){return Number.isFinite(e)&&Number.isFinite(t)?t<=0?e:xY(t,e%t):0}let bT=0,Iw=0;function CEe(){const e=Date.now();let t=!1;for(const n of tc){const i=n.deref();i?i.refreshInterval&&e-(Mv.get(i)??0)+5>=6e4*i.refreshInterval&&(Mv.set(i,e),i.refresh(e)):t=!0}if(t)for(let n=tc.length-1;n>=0;n--)tc.at(n).deref()||tc.removeAt(n)}m9(()=>{const e=Date.now();let t=0;for(const n of tc){const i=n.deref();i&&(t=xY(Math.round(6e4*i.refreshInterval),t),i.refreshInterval?Mv.get(i)||Mv.set(i,e):Mv.delete(i))}if(t!==Iw){if(Iw=t,clearInterval(bT),Iw===0)return void(bT=0);bT=setInterval(CEe,Iw)}},ka);const p4=.1,MEe=e=>{let t=class extends e{constructor(...n){super(...n),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=B2(()=>this.hasDataChanged()),this.when().then(()=>{this.destroyed||TEe(this)},()=>{})}destroy(){EEe(this)}castRefreshInterval(n){return n>=p4?n:n<=0?0:p4}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(n=Date.now()){t0(this._debounceHasDataChanged()).then(i=>{i&&this._set("refreshTimestamp",n),this.emit("refresh",{dataChanged:i})},i=>{re.getLogger(this).error(i),this.emit("refresh",{dataChanged:!1,error:i})})}async hasDataChanged(){return!0}get test(){}};return u([d({type:Number,json:{write:!0,origins:{"web-scene":{write:{enabled:!0,layerContainerTypes:an}}}}})],t.prototype,"refreshInterval",void 0),u([pt("refreshInterval")],t.prototype,"castRefreshInterval",null),u([d({readOnly:!0})],t.prototype,"refreshTimestamp",void 0),u([d({readOnly:!0})],t.prototype,"refreshParameters",null),t=u([k("esri.layers.mixins.RefreshableLayer")],t),t},kEe=e=>{let t=class extends e{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const n={minScale:this.minScale,maxScale:this.maxScale},i=this.parent;i&&"effectiveScaleRange"in i&&AEe(n,i.effectiveScaleRange);const r=this._get("effectiveScaleRange");return r&&r.minScale===n.minScale&&r.maxScale===n.maxScale?r:n}};return u([d({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),u([d({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),u([d({readOnly:!0})],t.prototype,"effectiveScaleRange",null),t=u([k("esri.layers.mixins.ScaleRangeLayer")],t),t};function AEe(e,t){return e.minScale=e.minScale>0?t.minScale>0?Math.min(e.minScale,t.minScale):e.minScale:t.minScale,e.maxScale=e.maxScale>0?t.maxScale>0?Math.max(e.maxScale,t.maxScale):e.maxScale:t.maxScale,e}const $Y=Ii()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0});let Zg=class extends ut.ClonableMixin(te){constructor(t){super(t),this.unit="milliseconds",this.value=0}toMilliseconds(){return FH(this.value,this.unit,"milliseconds")}};u([Ve($Y,{nonNullable:!0})],Zg.prototype,"unit",void 0),u([d({type:Number,json:{write:!0},nonNullable:!0})],Zg.prototype,"value",void 0),Zg=u([k("esri.time.TimeInterval")],Zg);const $0=Zg;function f4(e,t){return $0.fromJSON({value:e,unit:t})}let ki=class extends ut.ClonableMixin(te){constructor(t){super(t),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeZone=null,this.trackIdField=null,this.useTime=!0,this.stops=null}readFullTimeExtent(t,n){return n.timeExtent&&Array.isArray(n.timeExtent)&&n.timeExtent.length===2?Rl.fromArray(n.timeExtent):null}writeFullTimeExtent(t,n){t?.start!=null&&t.end!=null?n.timeExtent=t.toArray():n.timeExtent=null}readInterval(t,n){return n.timeInterval&&n.timeIntervalUnits?f4(n.timeInterval,n.timeIntervalUnits):n.defaultTimeInterval&&n.defaultTimeIntervalUnits?f4(n.defaultTimeInterval,n.defaultTimeIntervalUnits):null}writeInterval(t,n){n.timeInterval=t?.toJSON().value??null,n.timeIntervalUnits=t?.toJSON().unit??null}};u([d({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],ki.prototype,"cumulative",void 0),u([d({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],ki.prototype,"endField",void 0),u([d({type:Rl,json:{write:{enabled:!0,allowNull:!0}}})],ki.prototype,"fullTimeExtent",void 0),u([le("fullTimeExtent",["timeExtent"])],ki.prototype,"readFullTimeExtent",null),u([ge("fullTimeExtent")],ki.prototype,"writeFullTimeExtent",null),u([d({type:Boolean,json:{write:!0}})],ki.prototype,"hasLiveData",void 0),u([d({type:$0,json:{write:{enabled:!0,allowNull:!0}}})],ki.prototype,"interval",void 0),u([le("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],ki.prototype,"readInterval",null),u([ge("interval")],ki.prototype,"writeInterval",null),u([d({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],ki.prototype,"startField",void 0),u([d(fS("timeReference",!0))],ki.prototype,"timeZone",void 0),u([d({type:String,json:{write:{enabled:!0,allowNull:!0}}})],ki.prototype,"trackIdField",void 0),u([d({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],ki.prototype,"useTime",void 0),u([d({type:[Date],json:{read:!1}})],ki.prototype,"stops",void 0),ki=u([k("esri.layers.support.TimeInfo")],ki);const TY=ki,PEe={type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation",layerContainerTypes:an}}},LEe=e=>{let t=class extends e{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(n,i){const r=i.timeInfo.exportOptions;if(!r)return null;const s=r.timeOffset,o=$Y.fromJSON(r.timeOffsetUnits);return s&&o?new $0({value:s,unit:o}):null}set timeInfo(n){FG(n,this.fieldsIndex),this._set("timeInfo",n)}};return u([d({type:Rl,json:{write:!1}})],t.prototype,"timeExtent",void 0),u([d({type:$0})],t.prototype,"timeOffset",void 0),u([le("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null),u([d({value:null,type:TY,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null),u([d(PEe)],t.prototype,"useViewTime",void 0),t=u([k("esri.layers.mixins.TemporalLayer")],t),t};let Md=class extends ut.ClonableMixin(te){constructor(t){super(t),this.labelingInfo=null,this.labelsVisible=!0,this.renderer=null,this.visible=!0}};u([d({type:[Ib],json:{write:!0}})],Md.prototype,"labelingInfo",void 0),u([d(kx)],Md.prototype,"labelsVisible",void 0),u([d({types:Cb,json:{write:!0}})],Md.prototype,"renderer",void 0),u([d({type:Boolean,json:{write:!0}})],Md.prototype,"visible",void 0),Md=u([k("esri.layers.support.TrackPartInfo")],Md);const lm=Md;let Nr=class extends ut.ClonableMixin(te){constructor(t){super(t),this.enabled=!0,this.fields=[],this.latestObservations=new lm({renderer:new Il({symbol:xS.clone()})}),this.maxDisplayDuration=null,this.maxDisplayObservationsPerTrack=0,this.popupEnabled=!0,this.popupTemplate=null,this.previousObservations=new lm({renderer:new Il({symbol:xS.clone()})}),this.trackLines=new lm({renderer:new Il({symbol:R3.clone()})}),this.timeField="startTimeField"}writeFields(t,n,i){const r=t.filter(s=>s.statisticType!=="avg_angle").map(s=>s.toJSON());$i(i,r,n)}};u([d({type:Boolean,json:{write:!0}})],Nr.prototype,"enabled",void 0),u([d({type:[bc],json:{write:!0}})],Nr.prototype,"fields",void 0),u([ge("fields")],Nr.prototype,"writeFields",null),u([d({type:lm,json:{write:!0}})],Nr.prototype,"latestObservations",void 0),u([d({type:$0,json:{write:!0}})],Nr.prototype,"maxDisplayDuration",void 0),u([d({type:Number,json:{write:!0}})],Nr.prototype,"maxDisplayObservationsPerTrack",void 0),u([d(Mx)],Nr.prototype,"popupEnabled",void 0),u([d({type:ly,json:{name:"popupInfo",write:!0}})],Nr.prototype,"popupTemplate",void 0),u([d({type:lm,json:{write:!0}})],Nr.prototype,"previousObservations",void 0),u([d({type:lm,json:{write:!0}})],Nr.prototype,"trackLines",void 0),u([d({type:["timeReceived","startTimeField","endTimeField"],json:{read:!0,write:!0}})],Nr.prototype,"timeField",void 0),Nr=u([k("esri.layers.support.TrackInfo")],Nr);const OEe=Nr,REe=e=>{let t=class extends e{constructor(){super(...arguments),this.trackInfo=null}};return u([d({type:OEe})],t.prototype,"trackInfo",void 0),t=u([k("esri.layers.mixins.TrackableLayer")],t),t},m4=new at({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let Iu=class extends ut.ClonableMixin(te){constructor(t){super(t),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}};u([d({json:{write:!0}})],Iu.prototype,"name",void 0),u([d({json:{write:!0}})],Iu.prototype,"description",void 0),u([d({json:{read:m4.read,write:m4.write}})],Iu.prototype,"drawingTool",void 0),u([d({json:{write:!0}})],Iu.prototype,"prototype",void 0),u([d({json:{write:!0}})],Iu.prototype,"thumbnail",void 0),Iu=u([k("esri.layers.support.FeatureTemplate")],Iu);const nO=Iu;let ll=class extends ut.ClonableMixin(te){constructor(t){super(t),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(t){const n={};for(const i of Object.keys(t))n[i]=hx(t[i]);return n}writeDomains(t,n){const i={};for(const r of Object.keys(t))t[r]&&(i[r]=t[r]?.toJSON());n.domains=i}};u([d({json:{write:!0}})],ll.prototype,"id",void 0),u([d({json:{write:!0}})],ll.prototype,"name",void 0),u([d({json:{write:!0}})],ll.prototype,"domains",void 0),u([le("domains")],ll.prototype,"readDomains",null),u([ge("domains")],ll.prototype,"writeDomains",null),u([d({type:[nO],json:{write:!0}})],ll.prototype,"templates",void 0),ll=u([k("esri.layers.support.FeatureType")],ll);const EY=ll;function NEe(){return{fields:{type:[w3],value:null,set:function(e){if(e&&H("big-integer-warning-enabled")){const t=e.filter(n=>n.type==="big-integer"||n.type==="oid"&&(n.length||0)>=8);if(t.length){const n=t.map(i=>`'${i.name}'`).join(", ");re.getLogger(this).warn("#fields",`Layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}') references big-integer field(s): ${n}, support for which is experimental. Only integers less than ${Number.MAX_SAFE_INTEGER} (Number.MAX_SAFE_INTEGER) are supported.`)}}this._set("fields",e)}},fieldsIndex:{readOnly:!0,get(){return OZ.fromLayer(this)}},outFields:{type:[String],json:{read:!1},set:function(e){this._userOutFields=e,this.notifyChange("outFields")},get:function(){const e=this._userOutFields;if(!e?.length)return null;if(e.includes("*"))return["*"];if(!this.fields)return e;for(const t of e)this.fieldsIndex?.has(t)||re.getLogger("esri.layers.support.fieldProperties").error("field-attributes-layer:invalid-field",`Invalid field ${t} found in outFields`,{layer:this,outFields:e});return nx(this.fieldsIndex,e)}}}}const wT=()=>re.getLogger("esri.layers.support.labelingInfo"),DEe=/\[([^[\]]+)\]/gi;function _T(e,t,n){return e?e.map(i=>{const r=new Ib;if(r.read(i,n),r.labelExpression){const s=t.fields||t.layerDefinition?.fields||this.fields;r.labelExpression=r.labelExpression.replaceAll(DEe,(o,a)=>`[${VEe(a,s)}]`)}return r}):null}function VEe(e,t){if(!t)return e;const n=e.toLowerCase();for(let i=0;i<t.length;i++){const r=t[i].name;if(r.toLowerCase()===n)return r}return e}const FEe={esriGeometryPoint:["above-right","above-center","above-left","center-center","center-left","center-right","below-center","below-left","below-right"],esriGeometryMultiPatch:["always-horizontal"],esriGeometryPolygon:["always-horizontal"],esriGeometryPolyline:["center-along","above-along","below-along"],esriGeometryMultipoint:null,esriGeometryEnvelope:null};function y7e(e,t){const n=[];for(const i of e){const r=i.labelPlacement,s=FEe[t];if(!i.symbol)return wT().warn("No ILabelClass symbol specified."),[];if(!s)return wT().error(new B("labeling:unsupported-geometry-type",`Unable to create labels for layer, geometry type '${t}' is not supported`)),[];if(s.includes(r))n.push(i);else{const o=s[0];r&&wT().warn(`Found invalid label placement type ${r} for ${t}. Defaulting to ${o}`);const a=i.clone();a.labelPlacement=o,n.push(a)}}return n}const jEe="relationships/",zEe="expression/";let pr=class extends Ce{constructor(t){super(t),this._featureUtils=null,this.effectivePopupTemplate=null}get _arcadeTask(){return this.expressionsUsedInTitle.length>0?this._get("_arcadeTask")||mb(()=>Ia()):null}get featureUtilsPromise(){return this._get("featureUtilsPromise")??J(()=>import("./featureUtils-DX3yWdOR.js"),__vite__mapDeps([183,3])).then(t=>this._featureUtils=t)}get calculatedExpressions(){const t=new we;if(!this.expressionsUsedInTitle.length)return t;if(!this._arcadeTask?.value){for(const n of this.expressionsUsedInTitle??[])t.push({name:n.name,invalid:!0});return t}for(const n of this.expressionsUsedInTitle)try{const i=this._arcadeTask.value.arcade.parseScript(n.expression,["$layer","$map","$datastore"]);if(i.isAsync){t.push({name:n.name,invalid:!0});break}t.push({name:n.name,syntax:i,invalid:!1,func:this._arcadeTask.value.arcade.compileScript(i,{vars:{$feature:"any"}})})}catch{t.push({name:n.name,invalid:!0});break}return t}get expressionsUsedInTitle(){let t=this.effectivePopupTemplate?.title??"";return typeof t!="string"?[]:(t=t.toLowerCase(),this.effectivePopupTemplate?.expressionInfos?.filter(n=>t.includes(`{expression/${n.name.toLowerCase()}}`))??[])}get fieldInfoMap(){return this._featureUtils?this._createFieldInfoMap(this._featureUtils.getAllFieldInfos(this.effectivePopupTemplate)):null}get hasBadExpressions(){return this.calculatedExpressions.some(t=>t.invalid===!0)}get requiredFields(){const t=new Set;if(this._arcadeTask?.value&&!this.hasBadExpressions)for(const i of this.calculatedExpressions?.toArray()??[])try{const r=this._arcadeTask.value.arcade.extractFieldLiterals(i.syntax);for(const s of r){const o=s.split("."),a=this.fieldsIndex.get(o.at(-1)??"");a&&t.add(a.name)}}catch{}const n=this._extractFieldNames(this.workingTitle);for(const i of n){const r=this.fieldsIndex.get(i);r&&t.add(r.name)}return t}get titleFromDisplayField(){let t="";return this.displayField&&(t=this.fieldsIndex.get(this.displayField)?.name??""),t||(t=this.fieldsIndex.get(this.objectIdField)?.name??""),t?`{${t}}`:""}get workingTitle(){const t=this.effectivePopupTemplate?this.effectivePopupTemplate.title:"";return t===""||t==null||this.hasBadExpressions||typeof t!="string"?this.titleFromDisplayField:t}async getTitle(t,n,i){try{const{attributes:r}=n,s=i?.timeZone??"system",[{substituteFieldsInLinksAndAttributes:o}]=await Promise.all([this.featureUtilsPromise,this._arcadeTask?.promise]);if(i.fetchMissingFields&&(n=await this._checkAndReQueryGraphic(t,n)),this.workingTitle&&this.fieldInfoMap){const a=this._createFormattedAttributes(t,n,s).global;return o({attributes:r,expressionAttributes:null,fieldInfoMap:this.fieldInfoMap,globalAttributes:a,layer:t,text:this.workingTitle})}return""}catch{}return""}async _checkAndReQueryGraphic(t,n){const i=n.getObjectId();if(i==null)return n;if(!Cge(this.requiredFields,n)){const r=t.createQuery();r.where="1=1",r.outFields=[...this.requiredFields],r.objectIds=[i];const s=await t.queryFeatures(r);if(s?.features.length===1)return s.features[0]}return n}_createFieldInfoMap(t){const n=new Map;if(!t)return n;for(const i of t){if(!i.fieldName)continue;const r=this.fieldsIndex.get(i.fieldName),s=r?.name??i.fieldName;i.fieldName=s,n.set(s.toLowerCase(),i)}return n}_createFormattedAttributes(t,n,i="system"){const r=this.effectivePopupTemplate?.fieldInfos??[],s={};if(!this._featureUtils)return{};if(!this.hasBadExpressions&&this.calculatedExpressions.length>0&&this._arcadeTask?.value){const a=this._arcadeTask.value.Feature.createFromGraphicLikeObject(n.geometry,n.attributes,t,null);for(const l of this.calculatedExpressions)try{s[`expression/${l.name}`]=l.func({vars:{$feature:a}})}catch{}}const o={...n.attributes,...s};return{global:this._featureUtils.formatAttributes({fieldInfos:r,attributes:o,graphic:n,timeZone:i,layer:t,fieldInfoMap:this.fieldInfoMap}),content:[]}}_extractFieldNames(t){return DL(t).filter(n=>!(n.indexOf(jEe)===0||n.indexOf(zEe)===0))}};u([d({readOnly:!0})],pr.prototype,"_arcadeTask",null),u([d()],pr.prototype,"_featureUtils",void 0),u([d({readOnly:!0})],pr.prototype,"featureUtilsPromise",null),u([d({readOnly:!0})],pr.prototype,"calculatedExpressions",null),u([d()],pr.prototype,"displayField",void 0),u([d()],pr.prototype,"effectivePopupTemplate",void 0),u([d()],pr.prototype,"expressionsUsedInTitle",null),u([d()],pr.prototype,"fieldsIndex",void 0),u([d()],pr.prototype,"fieldInfoMap",null),u([d()],pr.prototype,"fields",void 0),u([d()],pr.prototype,"objectIdField",void 0),u([d()],pr.prototype,"requiredFields",null),pr=u([k("esri.layers.support.TitleCreator")],pr);const BEe=pr,gf=[];function UEe(e,t){if(iS(e.url??""))return!0;const{wkid:n}=t;for(const i of gf){if((e.version??0)>=i[0])return!0;if(typeof i[1]=="function"&&(i[1]=i[1]()),i[1].has(n))return!1}return!0}gf.push([10.91,()=>{const e=new Set([9709,9716,9741,9761,9766]);for(let t=9712;t<=9713;t++)e.add(t);for(let t=9748;t<=9749;t++)e.add(t);for(let t=20904;t<=20932;t++)e.add(t);for(let t=21004;t<=21032;t++)e.add(t);for(let t=21207;t<=21264;t++)e.add(t);for(let t=21307;t<=21364;t++)e.add(t);for(let t=23301;t<=23333;t++)e.add(t);for(let t=102759;t<=102760;t++)e.add(t);for(let t=102934;t<=102955;t++)e.add(t);return e}]),gf.push([10.9,()=>{const e=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]);for(let t=9356;t<=9360;t++)e.add(t);for(let t=9404;t<=9407;t++)e.add(t);for(let t=9476;t<=9482;t++)e.add(t);for(let t=9487;t<=9494;t++)e.add(t);for(let t=9697;t<=9699;t++)e.add(t);return e}]),gf.push([10.81,()=>{const e=new Set([9265,9333,103598,103699]);for(let t=9248;t<=9254;t++)e.add(t);for(let t=9271;t<=9273;t++)e.add(t);for(let t=9284;t<=9285;t++)e.add(t);for(let t=21453;t<=21463;t++)e.add(t);return e}]),gf.push([10.8,()=>{const e=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(let t=8035;t<=8036;t++)e.add(t);for(let t=8455;t<=8456;t++)e.add(t);for(let t=8518;t<=8529;t++)e.add(t);for(let t=8533;t<=8536;t++)e.add(t);for(let t=8538;t<=8540;t++)e.add(t);for(let t=8677;t<=8679;t++)e.add(t);for(let t=8902;t<=8903;t++)e.add(t);for(let t=8907;t<=8910;t++)e.add(t);for(let t=8949;t<=8951;t++)e.add(t);for(let t=8972;t<=8987;t++)e.add(t);for(let t=9039;t<=9040;t++)e.add(t);for(let t=9068;t<=9069;t++)e.add(t);for(let t=9140;t<=9141;t++)e.add(t);for(let t=9148;t<=9150;t++)e.add(t);for(let t=9153;t<=9159;t++)e.add(t);for(let t=9205;t<=9218;t++)e.add(t);for(let t=9221;t<=9222;t++)e.add(t);for(let t=54098;t<=54101;t++)e.add(t);return e}]),gf.push([10.71,()=>{const e=new Set([6316]);for(let t=8351;t<=8353;t++)e.add(t);for(let t=9294;t<=9297;t++)e.add(t);for(let t=22619;t<=22621;t++)e.add(t);for(let t=103586;t<=103594;t++)e.add(t);return e}]);async function GEe(e,t,n){const i=e&&e.getAtOrigin&&e.getAtOrigin("renderer",t.origin);if(i&&i.type==="unique-value"&&i.styleOrigin){const r=await mx(i.populateFromStyle());if(fn(n),r.ok===!1){const s=r.error;t?.messages&&t.messages.push(new Js("renderer:style-reference",`Failed to create unique value renderer from style reference: ${s.message}`,{error:s,context:t})),e.clear("renderer",t?.origin)}}}function HEe({displayField:e,editFieldsInfo:t,fields:n,objectIdField:i,title:r},s){if(!n)return null;const o=YEe({editFieldsInfo:t,fields:n,objectIdField:i},s);if(!o.length)return null;const a=XEe({titleBase:r,fields:n,displayField:e}),l=KEe();return new ly({title:a,content:l,fieldInfos:o})}function v7e(e){const{title:t,graphic:n}=e??{},{attributes:i,sourceLayer:r}=n??{},s=r&&"displayField"in r?r.displayField:null,o=s?i?.[s]:null,a=o!=null?JSON.stringify(o):null,l=n?.getObjectId()?.toString();return t||a||l||""}const qEe=(e,t)=>t.visibleFieldNames?t.visibleFieldNames.has(e.name):age(e,t);function WEe({fields:e,ignoreFieldTypes:t,sortDisabled:n}){const i=e;return t&&(e=e.filter(r=>!t.includes(r.type))),e===i&&(e=e.slice()),n!==!0&&e.sort(ZEe),e}function ZEe(e,t){return e.type==="oid"?-1:t.type==="oid"?1:y4(e)?-1:y4(t)?1:(e.alias||e.name).toLocaleLowerCase().localeCompare((t.alias||t.name).toLocaleLowerCase())}function YEe(e,t){const n=t?.visibleFieldNames;return WEe({fields:e.fields??[],ignoreFieldTypes:t?.ignoreFieldTypes||QEe,sortDisabled:t?.sortDisabled}).map(i=>new zL({fieldName:i.name,isEditable:oge(i,e),label:i.alias,format:JEe(i),visible:qEe(i,{...e,visibleFieldNames:n})}))}function JEe(e){switch(e.type){case"small-integer":case"integer":case"single":return new g1({digitSeparator:!0,places:0});case"double":return new g1({digitSeparator:!0,places:2});case"string":return kge(e.name)?new g1({digitSeparator:!0,places:0}):void 0;default:return}}function KEe(){return[new Cm,new Im]}function XEe(e){const t=Kye(e),{titleBase:n}=e;return t?`${n}: {${t.trim()}}`:n??""}function y4(e){return(e.name&&e.name.toLowerCase())==="name"?!0:e.alias?.toLowerCase()==="name"}const QEe=["geometry","blob","raster","guid","xml"];var Ff;(function(e){e[e.SAVE=0]="SAVE",e[e.SAVE_AS=1]="SAVE_AS"})(Ff||(Ff={}));const Mi="FeatureLayer";function Cw(e,t){return new B("layer:unsupported",`Layer (${e.title}, ${e.id}) of type '${e.declaredClass}' ${t}`,{layer:e})}function g4(e){return e&&e instanceof we}const ST=NEe();function xT(e,t,n){const i=!!n?.writeLayerSchema;return{enabled:i,ignoreOrigin:i}}let Ae=class extends jxe(ATe(hSe($Ee(nSe(Y_e(O_e(DTe(LEe(REe(kEe(MEe(r1e(LTe(_Ee(_H(R_e(i1e(ut.ClonableMixin(YL))))))))))))))))))){constructor(...t){super(...t),this.attributeTableTemplate=null,this.charts=null,this.copyright=null,this.displayField=null,this.dynamicDataSource=null,this.fields=null,this.fieldsIndex=null,this.formTemplate=null,this.fullExtent=null,this.geometryType=null,this.hasM=void 0,this.hasZ=void 0,this.infoFor3D=null,this.isTable=!1,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.objectIdField=null,this.operationalLayerType="ArcGISFeatureLayer",this.outFields=null,this.path=null,this.popupEnabled=!0,this.popupTemplate=null,this.resourceInfo=null,this.screenSizePerspectiveEnabled=!0,this.spatialReference=et.WGS84,this.subtypeCode=null,this.supportedSourceTypes=new Set(["Feature Layer","Oriented Imagery Layer","Table","Catalog Layer"]),this.templates=null,this.timeInfo=null,this.title=null,this.sublayerTitleMode="item-title",this.type="feature",this.typeIdField=null,this.types=null,this.visible=!0,this._debouncedSaveOperations=B2(async(n,i,r)=>{const{save:s,saveAs:o}=await J(()=>import("./featureLayerUtils-D2KULkXN.js"),__vite__mapDeps([184,185,186,187,182,188,22,3]));switch(n){case Ff.SAVE:return s(this,i);case Ff.SAVE_AS:return o(this,r,i)}})}destroy(){this.source?.destroy()}normalizeCtorArgs(t,n){return typeof t=="string"?{url:t,...n}:t}load(t){const n=t!=null?t.signal:null;if(this.portalItem?.loaded&&this.source)return this.addResolvingPromise(this.createGraphicsSource(n).then(r=>this.initLayerProperties(r))),Promise.resolve(this);const i=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection","Scene Service"]},t).catch(ba).then(async()=>{if(this.url&&this.layerId==null&&/FeatureServer|MapServer\/*$/i.test(this.url)){const r=await this._fetchFirstValidLayerId(n);r!=null&&(this.layerId=r)}if(!this.url&&!this._hasMemorySource())throw new B("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return this.initLayerProperties(await this.createGraphicsSource(n))}).then(()=>axe(this,"load",t));return this.addResolvingPromise(i),Promise.resolve(this)}get _titleCreator(){const t=this._get("_titleCreator");return Bt(t),new BEe({fieldsIndex:this.fieldsIndex,objectIdField:this.objectIdField,fields:this.fields,displayField:this.displayField,effectivePopupTemplate:this.popupTemplate??this.defaultPopupTemplate})}readCapabilities(t,n){return n=n.layerDefinition||n,TZ(n,this.url)}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("dynamicDataSource"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("gdbVersion"),this.commitProperty("historicMoment"),this.commitProperty("returnZ"),this.commitProperty("capabilities"),this.commitProperty("returnM"),(this._get("createQueryVersion")??0)+1}get editingEnabled(){return!(this.loaded&&!this.capabilities?.operations.supportsEditing)&&(this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges)}set editingEnabled(t){this._overrideIfSome("editingEnabled",t)}readEditingEnabled(t,n){return this._readEditingEnabled(n,!1)}readEditingEnabledFromWebMap(t,n,i){return this._readEditingEnabled(n,!0,i)}writeEditingEnabled(t,n){this._writeEditingEnabled(t,n,!1)}writeEditingEnabledToWebMap(t,n,i,r){this._writeEditingEnabled(t,n,!0,r)}get effectiveEditingEnabled(){return cxe(this)}get featureTitleFields(){return[...this._titleCreator.requiredFields]}readIsTable(t,n){return(n=n?.layerDefinition??n).type==="Table"||!n.geometryType}writeIsTable(t,n,i,r){r?.writeLayerSchema&&$i(i,t?"Table":"Feature Layer",n)}readGlobalIdField(t,n){return fZ(n.layerDefinition||n)}readObjectIdField(t,n){return mZ(n.layerDefinition||n)}get parsedUrl(){const t=li(this.url);return t!=null&&(this.dynamicDataSource!=null?t.path=xm(t.path,"dynamicLayer"):this.layerId!=null&&(t.path=xm(t.path,this.layerId.toString()))),t}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(t){DD(t,this.fieldsIndex),this._set("renderer",t)}readRenderer(t,n,i){n=n.layerDefinition||n;const r=n.drawingInfo?.renderer;if(r){const s=S0(r,n,i)??void 0;return s||re.getLogger(this).error("Failed to create renderer",{rendererDefinition:n.drawingInfo.renderer,layer:this,context:i}),s}return U3(n,i)}set source(t){const n=this._get("source");n!==t&&(g4(n)&&this._resetMemorySource(n),g4(t)&&this._initMemorySource(t),this._set("source",t))}castSource(t){return t?Array.isArray(t)||t instanceof we?new gl({layer:this,items:t}):t:null}readSource(t,n){const i=uW.fromJSON(n.featureSet);return new gl({layer:this,items:i?.features??[]})}readTemplates(t,n){const i=n.editFieldsInfo,r=i?.creatorField,s=i?.editorField;return t=t?.map(o=>nO.fromJSON(o)),this._fixTemplates(t,r),this._fixTemplates(t,s),t}readTitle(t,n){const i=n.layerDefinition?.name??n.name,r=n.title||n.layerDefinition?.title;if(i){const s=this.portalItem?.title;if(this.sublayerTitleMode==="item-title")return this.url?Gme(this.url,i):i;let o=i;if(!o&&this.url){const a=oy(this.url);a!=null&&(o=a.title)}return o?(this.sublayerTitleMode==="item-title-and-service-name"&&s&&s!==o&&(o=s+" - "+o),ML(o)):void 0}if(this.sublayerTitleMode==="item-title"&&r)return r}readTitleFromWebMap(t,n){return n.title||n.layerDefinition?.name}readTypeIdField(t,n){let i=(n=n.layerDefinition||n).typeIdField;if(i&&n.fields){i=i.toLowerCase();const r=n.fields.find(s=>s.name.toLowerCase()===i);r&&(i=r.name)}return i}readTypes(t,n){t=(n=n.layerDefinition||n).types;const i=n.editFieldsInfo,r=i?.creatorField,s=i?.editorField;return t?.map(o=>(o=EY.fromJSON(o),this._fixTemplates(o.templates,r),this._fixTemplates(o.templates,s),o))}readVisible(t,n){return n.layerDefinition?.defaultVisibility!=null?!!n.layerDefinition.defaultVisibility:n.visibility!=null?!!n.visibility:void 0}async addAttachment(t,n){const i=await B2e(this,t,n,Mi);return this.lastEditsEventDate=new Date,i}async updateAttachment(t,n,i){const r=await U2e(this,t,n,i,Mi);return this.lastEditsEventDate=new Date,r}async applyEdits(t,n){return G2e(this,t,n)}async uploadAssets(t,n){return H2e(this,t,n)}on(t,n){return super.on(t,n)}createPopupTemplate(t){return HEe(this,t)}async createGraphicsSource(t){if(this._hasMemorySource()&&this.source)return this.source.load({signal:t});const{default:n}=await a9(J(()=>import("./FeatureLayerSource-BxhrFgMY.js"),__vite__mapDeps([189,69,76,190,191,72,121,71,122,192,177,3,55,48,193,194,83,81,82,17,18,16,19,195,15])),t);return new n({layer:this,supportedSourceTypes:this.supportedSourceTypes}).load({signal:t})}createQuery(){const t=txe(this);t.dynamicDataSource=this.dynamicDataSource;const n=this.subtypeCode!=null?`${this.subtypeField} = ${this.subtypeCode}`:null,i=G9(this.definitionExpression,n);return t.where=i||"1=1",t}async deleteAttachments(t,n){const i=await q2e(this,t,n,Mi);return this.lastEditsEventDate=new Date,i}async fetchRecomputedExtents(t){return W2e(this,t,Mi)}getFeatureTitle(t,n={timeZone:"system",fetchMissingFields:!1}){return this._titleCreator.getTitle(this,t,n)}getFeatureType(t){return vZ(this.types,this.typeIdField,t)}getFieldDomain(t,n){return ixe(this,t,n,this.getField(t)?.domain??null)}async queryAttachments(t,n){return Z2e(this,t,n,Mi)}async queryFeatures(t,n){const i=await this.load(),r=await i.source.queryFeatures(Dl.from(t)??i.createQuery(),n);if(r?.features)for(const s of r.features)s.layer=s.sourceLayer=i;return r}async queryObjectIds(t,n){return(await Y2e(this,t,n,Mi)).filter(qN)}async queryFeatureCount(t,n){return J2e(this,t,n,Mi)}async queryExtent(t,n){return K2e(this,t,n,Mi)}async queryRelatedFeatures(t,n){return X2e(this,t,n,Mi)}async queryRelatedFeaturesCount(t,n){return Q2e(this,t,n,Mi)}async queryTopFeatures(t,n){const{source:i,capabilities:r}=await this.load();if(!i.queryTopFeatures||!r?.query?.supportsTopFeaturesQuery)throw new B(Mi,"Layer source does not support queryTopFeatures capability");const s=await J(()=>import("./TopFeaturesQuery-_STOvB1s.js"),__vite__mapDeps([196,3])),o=await i.queryTopFeatures(s.default.from(t),n);if(o?.features)for(const a of o.features)a.layer=a.sourceLayer=this;return o}async queryAttributeBins(t,n){const{source:i,capabilities:r}=await this.load();if(!i.queryAttributeBins||!r?.operations?.supportsQueryBins)throw new B(Mi,"Layer source does not support queryAttributeBins capability");fxe(t,r,Mi);const s=await J(()=>import("./AttributeBinsQuery-BUtKfxqt.js"),__vite__mapDeps([197,45,40,50,3])),o=await i.queryAttributeBins(s.default.from(t),n);if(o.features)for(const a of o.features)a.layer=a.sourceLayer=this;return o}async queryTopObjectIds(t,n){const{source:i,capabilities:r}=await this.load();if(!i.queryTopObjectIds||!r?.query.supportsTopFeaturesQuery)throw new B(Mi,"Layer source does not support queryTopObjectIds capability");const s=await J(()=>import("./TopFeaturesQuery-_STOvB1s.js"),__vite__mapDeps([196,3]));return(await i.queryTopObjectIds(s.default.from(t),n)).filter(qN)}async queryTopFeaturesExtent(t,n){const{source:i,capabilities:r}=await this.load();if(!i.queryTopExtents||!r?.query?.supportsTopFeaturesQuery)throw new B(Mi,"Layer source does not support queryTopExtents capability");const s=await J(()=>import("./TopFeaturesQuery-_STOvB1s.js"),__vite__mapDeps([196,3]));return i.queryTopExtents(s.default.from(t),n)}async queryTopFeatureCount(t,n){const{source:i,capabilities:r}=await this.load();if(!i.queryTopCount||!r?.query?.supportsTopFeaturesQuery)throw new B(Mi,"Layer source does not support queryFeatureCount capability");const s=await J(()=>import("./TopFeaturesQuery-_STOvB1s.js"),__vite__mapDeps([196,3]));return i.queryTopCount(s.default.from(t),n)}read(t,n){const i=t.featureCollection;if((i||t.type==="Feature Collection")&&(this.resourceInfo=t),i){const r=i.layers;r&&r.length===1&&(super.read(r[0],n),i.showLegend!=null&&super.read({showLegend:i.showLegend},n))}super.read(t,n),n&&n.origin==="service"&&(this.revert(["objectIdField","fields","timeInfo","dateFieldsTimeZone"],"service"),this.spatialReference||this.revert(["spatialReference"],"service"))}write(t,n){n={...n,origin:n?.origin??void 0,writeLayerSchema:n?.writeLayerSchema??this._hasMemorySource()};const{origin:i,layerContainerType:r,messages:s}=n;if(this.dynamicDataSource)return s?.push(Cw(this,"using a dynamic data source cannot be written to web scenes, web maps and feature service items")),null;if(this.isTable){if((i==="web-map"||i==="web-scene")&&r!=="tables")return s?.push(Cw(this,`a table source can only be written to tables, not ${r}`)),null;if(this._hasMemorySource())return s?.push(Cw(this,"using an in-memory table source cannot be written to web scenes and web maps")),null}else if(this.loaded&&(i==="web-map"||i==="web-scene")&&r==="tables")return s?.push(Cw(this,"using a non-table source cannot be written to tables in web maps or web scenes")),null;return super.write(t,n)}clone(){if(this._hasMemorySource())throw new B(Mi,`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);return super.clone()}serviceSupportsSpatialReference(t){return!!this.loaded&&(this.source?.type==="memory"||UEe(this,t))}async save(t){return this._debouncedSaveOperations(Ff.SAVE,t)}async saveAs(t,n){return this._debouncedSaveOperations(Ff.SAVE_AS,n,t)}_readEditingEnabled(t,n,i){let r=t.layerDefinition?.capabilities;return r?this._hasEditingCapability(r):(r=t.capabilities,n&&i?.origin==="web-map"&&!this._hasMemorySource()&&r?this._hasEditingCapability(r):void 0)}_hasEditingCapability(t){return t.toLowerCase().split(",").map(n=>n.trim()).includes("editing")}_writeEditingEnabled(t,n,i,r){if(!t){const s=this.capabilities?.operations?.supportsSync?"Query,Sync":"Query";$i("layerDefinition.capabilities",s,n),i&&!r?.writeLayerSchema&&(n.capabilities=s)}}_fetchFirstValidLayerId(t){return Lt(this.url??"",{query:{f:"json",...this.customParameters,token:this.apiKey},responseType:"json",signal:t}).then(n=>{const i=n.data;if(i)return this.findFirstValidLayerId(i)})}async initLayerProperties(t){return this._set("source",t),t.sourceJSON&&(this.sourceJSON=t.sourceJSON,this.read(t.sourceJSON,{origin:"service",portalItem:this.portalItem,portal:this.portalItem?.portal,url:this.parsedUrl})),this._verifySource(),this._verifyFields(),DD(this.renderer,this.fieldsIndex),FG(this.timeInfo,this.fieldsIndex),this._hasMemorySource()&&this.geometryType==="mesh"&&(this.capabilities.query.supportsReturnMesh=!0),GEe(this,{origin:"service"})}async hasDataChanged(){return exe(this)}async fetchPublishingStatus(){const t=this.source;return t?.fetchPublishingStatus?t.fetchPublishingStatus():"unavailable"}_verifyFields(){const t=this.parsedUrl?.path??"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+t+")"),this.isTable||this._hasMemorySource()||t.search(/\/FeatureServer\//i)!==-1||this.fields?.some(n=>n.type==="geometry")||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+t+")")}_fixTemplates(t,n){t&&t.forEach(i=>{const r=i.prototype?.attributes;r&&n&&delete r[n]})}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new B("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url")}else if(!this.url)throw new B("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source")}_initMemorySource(t){t.forEach(n=>{n.layer=this,n.sourceLayer=this}),this.addHandles([t.on("after-add",n=>{n.item.layer=this,n.item.sourceLayer=this}),t.on("after-remove",n=>{n.item.layer=null,n.item.sourceLayer=null})],"fl-source")}_resetMemorySource(t){t.forEach(n=>{n.layer=null,n.sourceLayer=null}),this.removeHandles("fl-source")}_hasMemorySource(){return!(this.url||!this.source)}findFirstValidLayerId(t){return Array.isArray(t.layers)&&t.layers.length>0?t.layers[0].id:Array.isArray(t.tables)&&t.tables.length>0?t.tables[0].id:void 0}};u([d({clonable:!1,readOnly:!0})],Ae.prototype,"_titleCreator",null),u([d(ISe)],Ae.prototype,"attributeTableTemplate",void 0),u([le("service","capabilities")],Ae.prototype,"readCapabilities",null),u([d({json:{origins:{"web-scene":{write:!1}},write:!0}})],Ae.prototype,"charts",void 0),u([d({readOnly:!0})],Ae.prototype,"createQueryVersion",null),u([d({json:{read:{source:"layerDefinition.copyrightText"}}})],Ae.prototype,"copyright",void 0),u([d({json:{read:{source:"layerDefinition.displayField"}}})],Ae.prototype,"displayField",void 0),u([d({types:Qu,readOnly:!0})],Ae.prototype,"defaultSymbol",void 0),u([d({type:Oo})],Ae.prototype,"dynamicDataSource",void 0),u([d({type:Boolean})],Ae.prototype,"editingEnabled",null),u([le(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],Ae.prototype,"readEditingEnabled",null),u([le("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],Ae.prototype,"readEditingEnabledFromWebMap",null),u([ge(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],Ae.prototype,"writeEditingEnabled",null),u([ge("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],Ae.prototype,"writeEditingEnabledToWebMap",null),u([d({readOnly:!0})],Ae.prototype,"effectiveEditingEnabled",null),u([d({clonable:!1,readOnly:!0})],Ae.prototype,"featureTitleFields",null),u([d({...ST.fields,json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:xT}}}}})],Ae.prototype,"fields",void 0),u([d(ST.fieldsIndex)],Ae.prototype,"fieldsIndex",void 0),u([d({type:jve,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],Ae.prototype,"formTemplate",void 0),u([d({json:{read:{source:"layerDefinition.extent"}}})],Ae.prototype,"fullExtent",void 0),u([d({json:{origins:{"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:xT,writer(e,t,n){const i=e?mk.toJSON(e):null;i&&$i(n,i,t)}}}},read:{source:"layerDefinition.geometryType",reader:mk.read}}})],Ae.prototype,"geometryType",void 0),u([d({json:{read:{source:"layerDefinition.hasM"}}})],Ae.prototype,"hasM",void 0),u([d({json:{read:{source:"layerDefinition.hasZ"}}})],Ae.prototype,"hasZ",void 0),u([d($Se)],Ae.prototype,"id",void 0),u([d({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],Ae.prototype,"infoFor3D",void 0),u([d({json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],Ae.prototype,"isTable",void 0),u([le("service","isTable",["type","geometryType"]),le("isTable",["layerDefinition.type","layerDefinition.geometryType"])],Ae.prototype,"readIsTable",null),u([ge("web-map","isTable")],Ae.prototype,"writeIsTable",null),u([d(kx)],Ae.prototype,"labelsVisible",void 0),u([d({type:[Ib],json:{origins:{service:{name:"drawingInfo.labelingInfo",read:_T,write:!1},"web-scene":{name:"layerDefinition.drawingInfo.labelingInfo",read:_T,write:{enabled:!0,layerContainerTypes:an}}},name:"layerDefinition.drawingInfo.labelingInfo",read:_T,write:!0}})],Ae.prototype,"labelingInfo",void 0),u([d((()=>{const e=j(xSe);return e.json.origins["portal-item"]={write:{target:"layerDefinition.drawingInfo.transparency",writer(t,n,i){$i(i,bx(t),n)}}},e})())],Ae.prototype,"opacity",void 0),u([d(_Se)],Ae.prototype,"legendEnabled",void 0),u([d({type:["show","hide"],json:(()=>{const e=j(UW.json);return e.origins["portal-item"]={read:!1,write:!1},e})()})],Ae.prototype,"listMode",void 0),u([le("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],Ae.prototype,"readGlobalIdField",null),u([d({json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:xT}}}}})],Ae.prototype,"objectIdField",void 0),u([le("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],Ae.prototype,"readObjectIdField",null),u([d({type:["ArcGISFeatureLayer"],json:{write:{target:"layerType",ignoreOrigin:!0,layerContainerTypes:an}}})],Ae.prototype,"operationalLayerType",void 0),u([d(ST.outFields)],Ae.prototype,"outFields",void 0),u([d({readOnly:!0})],Ae.prototype,"parsedUrl",null),u([d({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],Ae.prototype,"path",void 0),u([d(Mx)],Ae.prototype,"popupEnabled",void 0),u([d({type:ly,json:{name:"popupInfo",write:!0}})],Ae.prototype,"popupTemplate",void 0),u([d({readOnly:!0})],Ae.prototype,"defaultPopupTemplate",null),u([d({types:Cb,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:hTe,name:"layerDefinition.drawingInfo.renderer",write:{layerContainerTypes:an,overridePolicy:(e,t,n)=>({ignoreOrigin:n?.writeLayerSchema})}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy:(e,t,n)=>({ignoreOrigin:n?.writeLayerSchema})}}})],Ae.prototype,"renderer",null),u([le("service","renderer",["drawingInfo.renderer","defaultSymbol"]),le("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],Ae.prototype,"readRenderer",null),u([d()],Ae.prototype,"resourceInfo",void 0),u([d((()=>{const e=j(bSe);return e.json.origins["portal-item"]={read:!1,write:!1},e})())],Ae.prototype,"screenSizePerspectiveEnabled",void 0),u([d({clonable:!1})],Ae.prototype,"source",null),u([pt("source")],Ae.prototype,"castSource",null),u([le("portal-item","source",["featureSet"]),le("web-map","source",["featureSet"])],Ae.prototype,"readSource",null),u([d({json:{read:{source:"layerDefinition.extent.spatialReference"}}})],Ae.prototype,"spatialReference",void 0),u([d({type:Number})],Ae.prototype,"subtypeCode",void 0),u([d({type:[nO]})],Ae.prototype,"templates",void 0),u([le("templates",["editFieldsInfo","creatorField","editorField","templates"])],Ae.prototype,"readTemplates",null),u([d({type:TY})],Ae.prototype,"timeInfo",void 0),u([d()],Ae.prototype,"title",void 0),u([le("service","title",["name"]),le("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],Ae.prototype,"readTitle",null),u([le("web-map","title",["layerDefinition.name","title"])],Ae.prototype,"readTitleFromWebMap",null),u([d({type:String})],Ae.prototype,"sublayerTitleMode",void 0),u([d({json:{read:!1}})],Ae.prototype,"type",void 0),u([d({type:String})],Ae.prototype,"typeIdField",void 0),u([le("service","typeIdField"),le("typeIdField",["layerDefinition.typeIdField"])],Ae.prototype,"readTypeIdField",null),u([d({type:[EY]})],Ae.prototype,"types",void 0),u([le("service","types",["types"]),le("types",["layerDefinition.types"])],Ae.prototype,"readTypes",null),u([d({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],Ae.prototype,"visible",void 0),u([le("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],Ae.prototype,"readVisible",null),Ae=u([k("esri.layers.FeatureLayer")],Ae);const Yg=Ae,w7e=Object.freeze(Object.defineProperty({__proto__:null,default:Yg},Symbol.toStringTag,{value:"Module"}));async function IY(e,t){return await e.load(),eIe(e,t)}async function eIe(e,t){const n=[],i=(...s)=>{for(const o of s)o!=null&&(Array.isArray(o)?i(...o):we.isCollection(o)?o.forEach(a=>i(a)):Ol.isLoadable(o)&&n.push(o))};t(i);let r=null;if(await f0e(n,async s=>{const o=await mx(tIe(s)?s.loadAll():s.load());o.ok!==!1||r||(r=o)}),r)throw r.error;return e}function tIe(e){return"loadAll"in e&&typeof e.loadAll=="function"}async function nIe(e){if(!e)return;const t=e.includes("-vector")?e.slice(0,e.indexOf("-vector")):e.includes("-3d")?e.slice(0,e.indexOf("-3d")):e,n=await b3("esri/t9n/basemaps");return n[e]||n[t]}const zk={satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return nn("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return nn("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return nn("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return nn("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return nn("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return nn("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get"dark-gray"(){return{...this["dark-gray-vector"],id:"dark-gray"}},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return nn("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get gray(){return{...this["gray-vector"],id:"gray"}},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return nn("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},get streets(){return{...this["streets-vector"],id:"streets"}},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return nn("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},get topo(){return{...this["topo-vector"],id:"topo"}},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return nn("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return nn("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return nn("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"topo-3d":{id:"topo-3d",is3d:!0,get thumbnailUrl(){return nn("esri/images/basemap/topo-3d.png")},baseMapLayers:[{id:"topo-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/1e7d1784d1ef4b79ba6764d0bd6c3150/resources/styles/root.json",layerType:"VectorTileLayer",title:"Topographic",visibility:!0,opacity:1},{id:"topo-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-3d":{id:"navigation-3d",is3d:!0,get thumbnailUrl(){return nn("esri/images/basemap/navigation-3d.jpg")},baseMapLayers:[{id:"navigation-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/ccc904ff872b4144b94934e55e32784b/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation",visibility:!0,opacity:1},{id:"navigation-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-3d":{id:"streets-3d",is3d:!0,get thumbnailUrl(){return nn("esri/images/basemap/streets-3d.png")},baseMapLayers:[{id:"streets-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/198298c4c64c4cb19de5b46aa00c198d/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"streets-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"streets-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"osm-3d":{id:"osm-3d",is3d:!0,get thumbnailUrl(){return nn("esri/images/basemap/osm-3d.png")},baseMapLayers:[{id:"osm-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/8628d259c9d14bdc848771c23c513940/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap",visibility:!0,opacity:1},{id:"osm-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"gray-3d":{id:"gray-3d",is3d:!0,get thumbnailUrl(){return nn("esri/images/basemap/gray-3d.png")},baseMapLayers:[{id:"gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/01a14b466345455ba4176d2e6390db92/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-dark-3d":{id:"navigation-dark-3d",itemId:"5a1365328b4943f09a54cf5fd1205707",is3d:!0,baseMapLayers:[{id:"navigation-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/451a1777ab3f4bf095fae24a117439d9/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation Dark"},{id:"navigation-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-dark-3d":{id:"streets-dark-3d",itemId:"8a4efa2c20484ec9b4557895e65736ff",is3d:!0,baseMapLayers:[{id:"streets-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/bc599b6d741a4ac084b7eea7bf8c5938/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Streets Night (for 3D)"},{id:"streets-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"streets-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"dark-gray-3d":{id:"dark-gray-3d",itemId:"a8b7322a5fe94002bb0f5e0eeb0c5c18",is3d:!0,baseMapLayers:[{id:"dark-gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/4178f71acb934fb89f169e7d667c20c6/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Dark Gray Canvas (for 3D)"},{id:"dark-gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"dark-gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]}};let ul=class extends Ce{constructor(t){super(t),this.apiKey=null,this.id=null,this.language=null,this.places=null,this.serviceUrl="https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2",this.worldview=null}get languageParameter(){const t=this.language;let n=t==="local"||t==="global"?t:rW(t??Gr())??"global";return n=n==="no"?"nb":n,n}};u([d()],ul.prototype,"apiKey",void 0),u([d()],ul.prototype,"id",void 0),u([d()],ul.prototype,"language",void 0),u([d()],ul.prototype,"places",void 0),u([d()],ul.prototype,"serviceUrl",void 0),u([d()],ul.prototype,"worldview",void 0),ul=u([k("esri.support.BasemapStyle")],ul);const iIe=ul,rIe=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wcs","wms","wmts"]),CY=new Set(["catalog","csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","knowledge-graph","map-image","map-notes","media","ogc-feature","oriented-imagery","route","stream","subtype-group","tile","unknown","unsupported","vector-tile","web-tile","wcs","wfs","wms","wmts"]),sIe=new Set([...CY,"link-chart"]);function oIe(e){switch(e.layerContainerType){case"basemap":return rIe;case"operational-layers":return e.origin==="link-chart"?sIe:CY;default:return null}}function aIe(e,t){if(t.restrictedWebMapWriting){const n=oIe(t);return n==null||n.has(e.type)&&!Ax(e)}return!0}function lIe(e,t){if(t)if(Ax(e)){const n=Y0("featureCollection.layers",t),i=n?.[0]?.layerDefinition;i&&v4(e,i)}else e.type!=="group"&&v4(e,t)}function v4(e,t){"maxScale"in e&&(t.maxScale=Z_(e.maxScale)??void 0),"minScale"in e&&(t.minScale=Z_(e.minScale)??void 0)}function uIe(e,t){if(lIe(e,t),t&&(t.id=e.id,"blendMode"in e&&(t.blendMode=e.blendMode,t.blendMode==="normal"&&delete t.blendMode),t.opacity=Z_(e.opacity)??void 0,t.title=e.title||"Layer",t.visibility=e.visible,"legendEnabled"in e&&e.type!=="wmts"))if(Ax(e)){const n=t.featureCollection;n&&(n.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}function b4(e,t,n){if(!e.persistenceEnabled)return null;if(!("write"in e)||!e.write)return n?.messages&&n.messages.push(new B("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted`,{layer:e})),null;if(Ax(e)&&!e.isTable)t=e.resourceInfo;else if(aIe(e,n)){const i={};return e.write(i,n)?i:null}return t!=null&&uIe(e,t=j(t)),t}var Jg;let cIe=0,ss=Jg=class extends te.JSONSupportMixin(Ol){constructor(e){super(e),this.id=null,this.portalItem=null,this.spatialReference=null,this.style=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+cIe++,this.baseLayers=new we,this.referenceLayers=new we;const t=i=>{i.parent&&i.parent!==this&&"remove"in i.parent&&i.parent.remove(i),i.parent=this,i.type==="elevation"&&re.getLogger(this).error(`Layer '${i.title}, id:${i.id}' of type '${i.type}' is not supported as a basemap layer and will therefore be ignored.`)},n=i=>{i.parent=null};this.addHandles([this.baseLayers.on("after-add",i=>t(i.item)),this.referenceLayers.on("after-add",i=>t(i.item)),this.baseLayers.on("after-remove",i=>n(i.item)),this.referenceLayers.on("after-remove",i=>n(i.item))])}initialize(){this.when().catch(e=>{re.getLogger(this).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.baseLayers.toArray();for(const n of e)n.destroy();const t=this.referenceLayers.toArray();for(const n of t)n.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),this.portalItem=Bt(this.portalItem)}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set baseLayers(e){this._set("baseLayers",Nl(e,this._get("baseLayers")))}_writeBaseLayers(e,t,n){const i=[];e&&(n={...n,layerContainerType:"basemap"},this.baseLayers.forEach(r=>{const s=b4(r,n.webmap?n.webmap.getLayerJSONFromResourceInfo(r):null,n);s!=null&&i.push(s)}),this.referenceLayers.forEach(r=>{const s=b4(r,n.webmap?n.webmap.getLayerJSONFromResourceInfo(r):null,n);s!=null&&(r.type!=="scene"&&(s.isReference=!0),i.push(s))})),t.baseMapLayers=i}set referenceLayers(e){this._set("referenceLayers",Nl(e,this._get("referenceLayers")))}writeTitle(e,t){t.title=e||"Basemap"}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return IY(this,e=>{e(this.baseLayers,this.referenceLayers)})}clone(){const e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map(t=>O_(t)?t.clone():t),referenceLayers:this.referenceLayers.map(t=>O_(t)?t.clone():t)};return this.loaded&&(e.loadStatus="loaded"),new Jg({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}write(e,t){return e=e||{},t?.origin||(t={origin:"web-map",...t}),super.write(e,t),!this.loaded&&this.resourceInfo?.data.baseMapLayers&&(e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(n=>{const i=j(n);return i.url&&Ta(i.url)&&(i.url=`https:${i.url}`),i.templateUrl&&Ta(i.templateUrl)&&(i.templateUrl=`https:${i.templateUrl}`),i})),e}async _loadFromSource(e){const{resourceInfo:t,portalItem:n,style:i}=this;fn(e);const r=[];if(t){const s=t.context?t.context.url:null;if(r.push(this._loadLayersFromJSON(t.data,s,e)),t.data.id&&!t.data.title){const o=t.data.id;r.push(nIe(o).then(a=>{a&&this.read({title:a},t.context)}))}}else n?r.push(this._loadFromItem(n,e)):i&&r.push(this._loadFromStylesService(i,e));await Promise.all(r)}async _loadLayersFromJSON(e,t,n){const i=this.resourceInfo?.context,r=this.portalItem?.portal||i?.portal||null,s=hIe[i?.origin||""]??"web-map",{populateOperationalLayers:o}=await J(async()=>{const{populateOperationalLayers:l}=await import("./layersCreator-C6nPcvlA.js");return{populateOperationalLayers:l}},__vite__mapDeps([198,23,22,21,24,20,3])),a=[];if(fn(n),e.baseMapLayers&&Array.isArray(e.baseMapLayers)){const l={context:{...i,origin:s,url:t,portal:r,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},c=m=>s==="web-scene"&&m.layerType==="ArcGISSceneServiceLayer"||m.isReference,h=o(this.baseLayers,e.baseMapLayers.filter(m=>!c(m)),l);a.push(h);const p=o(this.referenceLayers,e.baseMapLayers.filter(c),l);a.push(p)}await Promise.allSettled(a)}async _loadFromItem(e,t){const n=await e.load(t),i=await n.fetchData("json",t),r=li(e.itemUrl??"");return this._set("resourceInfo",{data:i.baseMap??{},context:{origin:dIe[e.type||""]??"web-map",portal:e.portal||or.getDefault(),url:r}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:i.spatialReference},this.resourceInfo.context),this.read({title:e.title,thumbnailUrl:e.thumbnailUrl},{origin:"portal-item",portal:e.portal||or.getDefault(),url:r}),this._loadLayersFromJSON(this.resourceInfo.data,r,t)}async _loadFromStylesService(e,t){const n=e.serviceUrl.endsWith("/webmaps")?e.serviceUrl.slice(0,-8):e.serviceUrl,i=`${n}/styles/${e.id}/self`,r=`${n}/webmaps/${e.id}`,[s,o]=await Promise.all([(await Lt(i,{query:{token:e.apiKey},signal:t?.signal})).data,(await Lt(r,{query:{language:e.languageParameter,places:e.places,worldview:e.worldview,token:e.apiKey},signal:t?.signal})).data]);this.thumbnailUrl??=s.thumbnailUrl;const a=li(r);if(this._set("resourceInfo",{data:o.baseMap??{},context:{origin:"web-map",url:a}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:o.spatialReference},this.resourceInfo.context),await this._loadLayersFromJSON(this.resourceInfo.data,a,t),e.apiKey)for(const l of[...this.baseLayers,...this.referenceLayers])"apiKey"in l&&(l.apiKey=e.apiKey)}static fromId(e){const t=zk[e];return t?t.itemId?new Jg({portalItem:{id:t.itemId,portal:{url:"https://www.arcgis.com"}}}):Jg.fromJSON(t,{origin:t.is3d?"web-scene":"web-map"}):null}};u([d({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(e,t,n,i){this._writeBaseLayers(e,t,i)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:we}},writer(e,t,n,i){this._writeBaseLayers(e,t,i)}}}}}})],ss.prototype,"baseLayers",null),u([d({type:String,json:{origins:{"web-scene":{write:!0}}}})],ss.prototype,"id",void 0),u([d({type:Tv})],ss.prototype,"portalItem",void 0),u([d()],ss.prototype,"referenceLayers",null),u([d({readOnly:!0})],ss.prototype,"resourceInfo",void 0),u([d({type:et})],ss.prototype,"spatialReference",void 0),u([d({type:iIe})],ss.prototype,"style",void 0),u([d()],ss.prototype,"thumbnailUrl",void 0),u([d({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],ss.prototype,"title",void 0),u([ge("title")],ss.prototype,"writeTitle",null),ss=Jg=u([k("esri.Basemap")],ss);const dIe={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},hIe={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"},kv=ss,pIe=Object.freeze(Object.defineProperty({__proto__:null,default:kv},Symbol.toStringTag,{value:"Module"}));var Bk;let l_=Bk=class extends te{constructor(e){super(e),this.type="none"}clone(){return new Bk({type:this.type})}};u([Ve({none:"none",stayAbove:"stay-above"}),d({json:{write:{isRequired:!0}}})],l_.prototype,"type",void 0),l_=Bk=u([k("esri.ground.NavigationConstraint")],l_);const fIe=Symbol("GroundInstance");var MY,Uk;let cl=Uk=class extends te.JSONSupportMixin(Ol){constructor(e){super(e),this[MY]=!0,this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new we;const t=i=>{i.parent&&i.parent!==this&&"remove"in i.parent&&i.parent.remove(i),i.parent=this,i.type!=="elevation"&&i.type!=="base-elevation"&&re.getLogger(this).error(`Layer '${i.title}, id:${i.id}' of type '${i.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)},n=i=>{i.parent=null};this.addHandles([this.layers.on("after-add",i=>t(i.item)),this.layers.on("after-remove",i=>n(i.item))])}initialize(){this.when().catch(e=>{ur(e)||re.getLogger(this).error("#load()","Failed to load ground",e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.layers.removeAll();for(const t of e)Bt(t);this.layers.destroy()}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}get layers(){return this._get("layers")}set layers(e){this._set("layers",Nl(e,this._get("layers")))}writeLayers(e,t,n,i){const r=[];e&&(i={...i,layerContainerType:"ground"},e.forEach(s=>{if("write"in s){const o={};gce(s)().write(o,i)&&r.push(o)}else i?.messages&&i.messages.push(new B("layer:unsupported",`Layers (${s.title}, ${s.id}) of type '${s.declaredClass}' cannot be persisted in the ground`,{layer:s}))})),t.layers=r}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return IY(this,e=>{e(this.layers)})}async queryElevation(e,t){await this.load({signal:t?.signal});const{ElevationQuery:n}=await J(()=>import("./ElevationQuery-v606_JgH.js"),__vite__mapDeps([199,3]));fn(t);const i=new n,r=this.layers.filter(w4).toArray();return i.queryAll(r,e,t)}async createElevationSampler(e,t){await this.load({signal:t?.signal});const{ElevationQuery:n}=await J(()=>import("./ElevationQuery-v606_JgH.js"),__vite__mapDeps([199,3]));fn(t);const i=new n,r=this.layers.filter(w4).toArray();return i.createSamplerAll(r,e,t)}clone(){const e={opacity:this.opacity,surfaceColor:j(this.surfaceColor),navigationConstraint:j(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(e.loadStatus="loaded"),new Uk({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}_loadFromSource(e){const t=this.resourceInfo;return t?this._loadLayersFromJSON(t.data,t.context,e):Promise.resolve()}async _loadLayersFromJSON(e,t,n){const i=t?.origin||"web-scene",r=t?.portal||null,s=t?.url||null,{populateOperationalLayers:o}=await J(async()=>{const{populateOperationalLayers:l}=await import("./layersCreator-C6nPcvlA.js");return{populateOperationalLayers:l}},__vite__mapDeps([198,23,22,21,24,20,3]));fn(n);const a=[];if(e.layers&&Array.isArray(e.layers)){const l={context:{origin:i,url:s,portal:r,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"};a.push(o(this.layers,e.layers,l))}await Promise.allSettled(a)}};function mIe(e){return e&&"createElevationSampler"in e}function w4(e){return e.type==="elevation"||mIe(e)}MY=fIe,u([d({json:{read:!1,write:{isRequired:!0}}})],cl.prototype,"layers",null),u([ge("layers")],cl.prototype,"writeLayers",null),u([d({readOnly:!0})],cl.prototype,"resourceInfo",void 0),u([d({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:wt,read:{reader:p0,source:"transparency"},write:{writer:(e,t)=>{t.transparency=bx(e)},target:"transparency"}}})],cl.prototype,"opacity",void 0),u([d({type:he,json:{type:[wt],write:(e,t)=>{t.surfaceColor=e.toJSON().slice(0,3)}}})],cl.prototype,"surfaceColor",void 0),u([d({type:l_,json:{write:!0}})],cl.prototype,"navigationConstraint",void 0),cl=Uk=u([k("esri.Ground")],cl);const kS=cl;let vf=class extends we{constructor(t){super(t),this.getCollections=null}initialize(){this.addHandles(m9(()=>this._refresh(),ka))}destroy(){this.getCollections=null}_refresh(){const t=this.getCollections!=null?this.getCollections():null;if(t==null)return void this.removeAll();let n=0;for(const i of t)i!=null&&(n=this._processCollection(n,i));this.splice(n,this.length)}_createNewInstance(t){return new we(t)}_processCollection(t,n){if(!n)return t;const i=this.itemFilterFunction??(r=>!!r);for(const r of n)if(r){if(i(r)){const s=this.indexOf(r,t);s>=0?s!==t&&this.reorder(r,t):this.add(r,t),++t}if(this.getChildrenFunction){const s=this.getChildrenFunction(r);if(Array.isArray(s))for(const o of s)t=this._processCollection(t,o);else t=this._processCollection(t,s)}}return t}};u([d()],vf.prototype,"getCollections",void 0),u([d()],vf.prototype,"getChildrenFunction",void 0),u([d()],vf.prototype,"itemFilterFunction",void 0),vf=u([k("esri.core.CollectionFlattener")],vf);const T0=vf,Mw=new WeakMap;function iO(e){return!e.destroyed&&(Mw.has(e)||e.addHandles([me(()=>{const t=e.parent;return!(!t||!("type"in t))&&(t.type==="catalog-dynamic-group"||iO(t))},t=>Mw.set(e,t),Fr),St(()=>Mw.delete(e))]),Mw.get(e))}function _4(e,t){const n=e.parent,i=e.layer;if(i?.type!=="map-image"||!i.sourceJSON||!n)return!1;const r=i.sourceJSON.layers;if(!r)return!1;const s=r.find(a=>e.id===a.id),o=t==="footprints"?"Feature Layer":"Catalog Dynamic Group Layer";return s?.type===o&&r.find(a=>a.id===n.id)?.type==="Catalog Layer"}function yIe(e){return typeof e=="object"&&e!=null&&"loaded"in e&&e.loaded===!0&&"type"in e}function gIe(e){return!(!yIe(e)||!OSe(e)?.operations?.supportsEditing||"editingEnabled"in e&&!NSe(e)||iO(e))}const $T=()=>re.getLogger("esri.support.basemapUtils");function vIe(){return{}}function bIe(e){for(const t in e){const n=e[t];Bt(n),delete e[t]}}function wIe(e,t){let n;if(typeof e=="string"){const i=e in zk,r=!i&&e.includes("/");if(!i&&!r){if(kt.apiKey)$T().warn(`Unable to find basemap definition for: ${e}. See available styles at https://developers.arcgis.com/rest/basemap-styles/`);else{const s=Object.entries(zk).filter(([o,a])=>a.classic||a.is3d).map(([o])=>`"${o}"`).sort().join(", ");$T().warn(`Unable to find basemap definition for: ${e}. Try one of these: ${s}`)}return null}t&&(n=t[e]),n||(n=i?kv.fromId(e):new kv({style:{id:e}}),t&&(t[e]=n))}else n=Jn(kv,e);return n?.destroyed&&($T().warn("The provided basemap is already destroyed",{basemap:n}),n=null),n}function _Ie(e){return new T0({getCollections:()=>[e.tables,e.layers],getChildrenFunction:t=>{const n=[];return"tables"in t&&n.push(t.tables),"layers"in t&&n.push(t.layers),n},itemFilterFunction:t=>{const n=t.parent;return!!n&&"tables"in n&&n.tables.includes(t)}})}function TT(e){for(const t of e.values())t?.destroy();e.clear()}const S4={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};function SIe(e){let t=null;if(typeof e=="string")if(e in S4){const n=S4[e];t=new kS({resourceInfo:{data:{layers:[n]}}})}else re.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${e}. Try "world-elevation"`);else t=Jn(kS,e);return t}function Gk(e,t,n){let i,r;if(e)for(let s=0,o=e.length;s<o;s++){if(i=e.at(s),i?.[t]===n)return i;if(i?.type==="group"&&(r=Gk(i.layers,t,n),r))return r}}const xIe=e=>{let t=class extends e{constructor(...n){super(...n),this.layers=new we;const i=o=>{o.parent&&"remove"in o.parent&&o.parent.remove(o)},r=o=>{o.parent=this,this.layerAdded(o),o.type!=="elevation"&&o.type!=="base-elevation"||re.getLogger(this).error(`Layer 'title:${o.title}, id:${o.id}' of type '${o.type}' is not supported as an operational layer and will therefore be ignored.`)},s=o=>{o.parent=null,this.layerRemoved(o)};this.addHandles([this.layers.on("before-add",o=>{if(o.item===this)return o.preventDefault(),void re.getLogger(this).error("#add()","Cannot add layer to itself.");i(o.item)}),this.layers.on("after-add",o=>r(o.item)),this.layers.on("after-remove",o=>s(o.item))])}destroy(){const n=this.layers.toArray();for(const i of n)i.destroy();this.layers.destroy()}set layers(n){this._set("layers",Nl(n,this._get("layers")))}add(n,i){const r=this.layers;if(i=r.getNextIndex(i),n instanceof YL){const s=n;s.parent===this?this.reorder(s,i):r.add(s,i)}else Na(n)?n.then(s=>{this.destroyed||this.add(s,i)}):re.getLogger(this).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(n,i){const r=this.layers;let s=r.getNextIndex(i);n.slice().forEach(o=>{o.parent!==this?(r.add(o,s),s+=1):this.reorder(o,s)})}findLayerById(n){return Gk(this.layers,"id",n)}findLayerByUid(n){return Gk(this.layers,"uid",n)}remove(n){return this.layers.remove(n)}removeMany(n){return this.layers.removeMany(n)}removeAll(){return this.layers.removeAll()}reorder(n,i){return this.layers.reorder(n,i)}layerAdded(n){}layerRemoved(n){}};return u([d()],t.prototype,"layers",null),t=u([k("esri.support.LayersMixin")],t),t},$Ie=new Set(["feature","subtype-group"]);function Hk(e,t,n){if(e)for(let i=0,r=e.length;i<r;i++){const s=e.at(i);if(s[t]===n)return s;if(s?.type==="group"){const o=Hk(s.tables,t,n);if(o)return o}}}const TIe=e=>{let t=class extends e{constructor(...n){super(...n),this.tables=new we,this.addHandles([this.tables.on("after-add",i=>{const r=i.item;r.parent&&r.parent!==this&&"tables"in r.parent&&r.parent.tables.remove(r),r.parent=this,$Ie.has(r.type)||re.getLogger(this).error(`Layer 'title:${r.title}, id:${r.id}' of type '${r.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",i=>{i.item.parent=null})])}destroy(){const n=this.tables.toArray();for(const i of n)i.destroy();this.tables.destroy()}set tables(n){this._set("tables",Nl(n,this._get("tables")))}findTableById(n){return Hk(this.tables,"id",n)}findTableByUid(n){return Hk(this.tables,"uid",n)}};return u([d()],t.prototype,"tables",null),t=u([k("esri.support.TablesMixin")],t),t};let Io=class extends TIe(xIe(Ks.EventedMixin(Ce))){constructor(t){super(t),this.allLayers=new T0({getCollections:()=>[this.basemap?.baseLayers,this.ground?.layers,this.layers,this.basemap?.referenceLayers],getChildrenFunction:n=>"layers"in n?n.layers:null}),this.allTables=_Ie(this),this.basemap=null,this.editableLayers=new T0({getCollections:()=>[this.allLayers],itemFilterFunction:gIe}),this.ground=new kS,this._basemapCache=vIe()}destroy(){bIe(this._basemapCache),this._basemapCache=null,this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),this.basemap=Bt(this.basemap),Bt(this.ground),this._set("ground",null)}castBasemap(t){return wIe(t,this._basemapCache)}castGround(t){return SIe(t)??this._get("ground")}findLayerById(t){return this.allLayers.find(n=>n.id===t)}findTableById(t){return this.allTables.find(n=>n.id===t)}};u([d({readOnly:!0,dependsOn:[]})],Io.prototype,"allLayers",void 0),u([d({readOnly:!0})],Io.prototype,"allTables",void 0),u([d({type:kv,json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],Io.prototype,"basemap",void 0),u([pt("basemap")],Io.prototype,"castBasemap",null),u([d({readOnly:!0})],Io.prototype,"editableLayers",void 0),u([d({type:kS,nonNullable:!0})],Io.prototype,"ground",void 0),u([pt("ground")],Io.prototype,"castGround",null),u([d()],Io.prototype,"undoRedo",void 0),Io=u([k("esri.Map")],Io);const kY=Io;let kd=class extends ut{constructor(t){super(t),this.row=0,this.column=0,this.rows=1,this.columns=1}equals(t){return t!=null&&this.row===t.row&&this.rows===t.rows&&this.column===t.column&&this.columns===t.columns}};u([d({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],kd.prototype,"row",void 0),u([d({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],kd.prototype,"column",void 0),u([d({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],kd.prototype,"rows",void 0),u([d({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],kd.prototype,"columns",void 0),kd=u([k("esri.CameraLayout")],kd);const AY=kd;let rO=class{constructor(t,n){this.min=t,this.max=n,this.range=n-t}normalize(t,n=0,i=!1){return x4(this.range,this.min,this.max,t,n,i)}clamp(t,n=0){return ws(t-n,this.min,this.max)+n}monotonic(t,n,i){return t<n?n:n+qk(this.range,t-n,i)}minimalMonotonic(t,n,i){return x4(this.range,t,t+this.range,n,i)}center(t,n,i){return n=this.monotonic(t,n,i),this.normalize((t+n)/2,i)}diff(t,n,i){return this.monotonic(t,n,i)-t}shortestSignedDiff(t,n){t=this.normalize(t);const i=(n=this.normalize(n))-t,r=n<t?this.minimalMonotonic(t,n)-t:n-this.minimalMonotonic(n,t);return Math.abs(i)<Math.abs(r)?i:r}contains(t,n,i){return n=this.minimalMonotonic(t,n),(i=this.minimalMonotonic(t,i))>t&&i<n}};function x4(e,t,n,i,r=0,s=!1){return(i-=r)<t?i+=qk(e,t-i):i>n&&(i-=qk(e,i-n)),s&&i===n&&(i=t),i+r}function qk(e,t,n=0){return Math.ceil((t-n)/e)*e+n}const E7e=new rO(0,2*Math.PI),I7e=new rO(-Math.PI,Math.PI),EIe=new rO(0,360);let oa=class extends ut.ClonableMixin(te){constructor(...t){super(...t),this.position=new nt([0,0,0]),this.heading=0,this.tilt=0,this.fov=55,this.layout=new AY}normalizeCtorArgs(t,n,i,r){if(t&&typeof t=="object"&&("x"in t||Array.isArray(t))){const s={position:t};return n!=null&&(s.heading=n),i!=null&&(s.tilt=i),r!=null&&(s.fov=r),s}return t}writePosition(t,n,i,r){const s=t.clone();s.x=vr(t.x||0),s.y=vr(t.y||0),s.z=t.hasZ?vr(t.z||0):t.z,n[i]=s.write({},r)}readPosition(t,n){const i=new nt;return i.read(t,n),i.x=vr(i.x||0),i.y=vr(i.y||0),i.z=i.hasZ?vr(i.z||0):i.z,i}equals(t){return t!=null&&this.tilt===t.tilt&&this.heading===t.heading&&this.fov===t.fov&&this.position.equals(t.position)&&this.layout.equals(t.layout)}};u([d({type:nt,json:{write:{isRequired:!0}}})],oa.prototype,"position",void 0),u([ge("position")],oa.prototype,"writePosition",null),u([le("position")],oa.prototype,"readPosition",null),u([d({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),pt(e=>EIe.normalize(vr(e)))],oa.prototype,"heading",void 0),u([d({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),pt(e=>ws(vr(e),-180,180))],oa.prototype,"tilt",void 0),u([d({type:Number,nonNullable:!0,json:{default:55,write:!0}}),pt(e=>ws(vr(e,55),1,170))],oa.prototype,"fov",void 0),u([d({type:AY,nonNullable:!0,json:{read:!1,write:!1}})],oa.prototype,"layout",void 0),oa=u([k("esri.Camera")],oa);const IIe=oa;var Wk;let Cu=Wk=class extends te{constructor(e){super(e),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(e){return(e%=360)<0&&(e+=360),e}clone(){return new Wk({rotation:this.rotation,scale:this.scale,targetGeometry:this.targetGeometry!=null?this.targetGeometry.clone():null,camera:this.camera!=null?this.camera.clone():null})}};u([d({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:ET}}}}})],Cu.prototype,"rotation",void 0),u([pt("rotation")],Cu.prototype,"castRotation",null),u([d({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:ET}}}}})],Cu.prototype,"scale",void 0),u([d({types:yb,json:{read:zh,write:!0,origins:{"web-scene":{read:zh,write:{overridePolicy:ET}}}}})],Cu.prototype,"targetGeometry",void 0),u([d({type:IIe,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}})],Cu.prototype,"camera",void 0),Cu=Wk=u([k("esri.Viewpoint")],Cu);const Zs=Cu;function ET(){return{enabled:!this.camera}}var Zk;let aa=Zk=class extends te{constructor(e){super(e),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new Zk({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}};u([d({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],aa.prototype,"cols",void 0),u([d({type:wt,json:{write:!0}})],aa.prototype,"level",void 0),u([d({type:String,json:{write:!0}})],aa.prototype,"levelValue",void 0),u([d({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],aa.prototype,"origin",void 0),u([d({type:Number,json:{write:!0}})],aa.prototype,"resolution",void 0),u([d({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],aa.prototype,"rows",void 0),u([d({type:Number,json:{write:!0}})],aa.prototype,"scale",void 0),aa=Zk=u([k("esri.layers.support.LOD")],aa);const Bu=aa;let CIe=class{constructor(t,n,i,r,s=void 0){this.id=t,this.level=n,this.row=i,this.col=r,this.extent=s}};var Mu;const $4=new at({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let Ai=Mu=class extends te{static create(e={}){const{resolutionFactor:t=1,scales:n,size:i=256,spatialReference:r=et.WebMercator,numLODs:s=24}=e;if(!ps(r)){const p=[];if(n)for(let m=0;m<n.length;m++){const y=n[m];p.push(new Bu({level:m,scale:y,resolution:y}))}else{let m=5e-4;for(let y=s-1;y>=0;y--)p.unshift(new Bu({level:y,scale:m,resolution:m})),m*=2}return new Mu({dpi:96,lods:p,origin:new nt(0,0,r),size:[i,i],spatialReference:r})}const o=xr(r),a=e.origin?new nt({x:e.origin.x,y:e.origin.y,spatialReference:r}):new nt(o?{x:o.origin[0],y:o.origin[1],spatialReference:r}:{x:0,y:0,spatialReference:r}),l=96,c=1/(no(r)*39.37*l),h=[];if(n)for(let p=0;p<n.length;p++){const m=n[p],y=m*c;h.push(new Bu({level:p,scale:m,resolution:y}))}else{let p=ay(r)?512/i*5916575275917094e-7:256/i*591657527591555e-6;const m=Math.ceil(s/t);h.push(new Bu({level:0,scale:p,resolution:p*c}));for(let y=1;y<m;y++){const g=p/2**t,v=g*c;h.push(new Bu({level:y,scale:g,resolution:v})),p=g}}return new Mu({dpi:l,lods:h,origin:a,size:[i,i],spatialReference:r})}constructor(e){super(e),this.dpi=96,this.format=null,this.origin=null,this.size=null,this.spatialReference=null}get isWrappable(){const{spatialReference:e,origin:t}=this;if(e&&t){const n=xr(e);return e.isWrappable&&!!n&&Math.abs(n.origin[0]-t.x)<=n.dx}return!1}readOrigin(e,t){return nt.fromJSON({spatialReference:t.spatialReference,...e})}set lods(e){let t=0,n=0;const i=[],r=this._levelToLOD={};e&&(t=-1/0,n=1/0,e.forEach(s=>{i.push(s.scale),t=s.scale>t?s.scale:t,n=s.scale<n?s.scale:n,r[s.level]=s})),this._set("scales",i),this._set("lods",e),this._initializeUpsampleLevels()}readSize(e,t){return[t.cols,t.rows]}writeSize(e,t){t.cols=e[0],t.rows=e[1]}zoomToScale(e){const t=this.scales;if(e<=0)return t[0];if(e>=t.length-1)return t[t.length-1];const n=Math.floor(e),i=n+1;return t[n]/(t[n]/t[i])**(e-n)}scaleToZoom(e){const t=this.scales,n=t.length-1;let i=0;for(;i<n;i++){const r=t[i],s=t[i+1];if(r<=e)return i;if(s===e)return i+1;if(r>e&&s<e)return i+Math.log(r/e)/Math.log(r/s)}return i}tileAt(e,t,n,i){const r=this.lodAt(e);if(!r)return null;let s,o;if(typeof t=="number")s=t,o=n;else if(ui(t.spatialReference,this.spatialReference))s=t.x,o=t.y,i=n;else{const c=px(t,this.spatialReference);if(c==null)return null;s=c.x,o=c.y,i=n}const a=r.resolution*this.size[0],l=r.resolution*this.size[1];return i||(i=new CIe(null,0,0,0,_r())),i.level=e,i.row=Math.floor((this.origin.y-o)/l+.001),i.col=Math.floor((s-this.origin.x)/a+.001),this.updateTileInfo(i),i}updateTileInfo(e,t=Mu.ExtrapolateOptions.NONE){let n=this.lodAt(e.level);if(!n&&t===Mu.ExtrapolateOptions.POWER_OF_TWO){const o=this.lods[this.lods.length-1];o.level<e.level&&(n=o)}if(!n)return;const i=e.level-n.level,r=n.resolution*this.size[0]/2**i,s=n.resolution*this.size[1]/2**i;e.id=`${e.level}/${e.row}/${e.col}`,e.extent||(e.extent=_r()),e.extent[0]=this.origin.x+e.col*r,e.extent[1]=this.origin.y-(e.row+1)*s,e.extent[2]=e.extent[0]+r,e.extent[3]=e.extent[1]+s}upsampleTile(e){const t=this._upsampleLevels[e.level];return!(!t||t.parentLevel===-1)&&(e.level=t.parentLevel,e.row=Math.floor(e.row/t.factor+.001),e.col=Math.floor(e.col/t.factor+.001),this.updateTileInfo(e),!0)}getTileBounds(e,t){const n=this.lodAt(t.level);if(n==null)return null;const{resolution:i}=n,r=i*this.size[0],s=i*this.size[1];return e[0]=this.origin.x+t.col*r,e[1]=this.origin.y-(t.row+1)*s,e[2]=e[0]+r,e[3]=e[1]+s,e}lodAt(e){return this._levelToLOD?.[e]??null}clone(){return Mu.fromJSON(this.write({}))}getCompatibleForVTL(e){if(this.size[0]!==this.size[1]||this.size[0]===256&&e===512)return null;const t=(this.size[0]===512&&e===256?-1:0)+(this.spatialReference.isGeographic?1:0);if(this.size[0]===e&&t===0)return this;const n=[],i=this.lods.length-t;for(let r=0;r<i;r++){const s=r+t,{scale:o,resolution:a}=s>=0?this.lods[s]:{scale:2*this.lods[0].scale,resolution:2*this.lods[0].resolution};n.push(new Bu({level:r,scale:o,resolution:a}))}return new Mu({size:[e,e],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:n})}_initializeUpsampleLevels(){const e=this.lods;this._upsampleLevels=[];let t=null;for(let n=0;n<e.length;n++){const i=e[n];this._upsampleLevels[i.level]={parentLevel:t?t.level:-1,factor:t?t.resolution/i.resolution:0},t=i}}};u([d({type:Number,json:{write:!0}})],Ai.prototype,"compressionQuality",void 0),u([d({type:Number,json:{write:!0}})],Ai.prototype,"dpi",void 0),u([d({type:String,json:{read:$4.read,write:$4.write,origins:{"web-scene":{read:!1,write:!1}}}})],Ai.prototype,"format",void 0),u([d({readOnly:!0})],Ai.prototype,"isWrappable",null),u([d({type:nt,json:{write:!0}})],Ai.prototype,"origin",void 0),u([le("origin")],Ai.prototype,"readOrigin",null),u([d({type:[Bu],value:null,json:{write:!0}})],Ai.prototype,"lods",null),u([d({readOnly:!0})],Ai.prototype,"scales",void 0),u([d({cast:e=>Array.isArray(e)?e:typeof e=="number"?[e,e]:[256,256]})],Ai.prototype,"size",void 0),u([le("size",["rows","cols"])],Ai.prototype,"readSize",null),u([ge("size",{cols:{type:wt},rows:{type:wt}})],Ai.prototype,"writeSize",null),u([d({type:et,json:{write:!0}})],Ai.prototype,"spatialReference",void 0),Ai=Mu=u([k("esri.layers.support.TileInfo")],Ai),function(e){var t;(t=e.ExtrapolateOptions||(e.ExtrapolateOptions={}))[t.NONE=0]="NONE",t[t.POWER_OF_TWO=1]="POWER_OF_TWO"}(Ai||(Ai={}));const MIe=Ai,u_={widthBreakpoint:{getValue(e){const t=e.viewSize[0],n=e.breakpoints,i=this.values;return t<=n.xsmall?i.xsmall:t<=n.small?i.small:t<=n.medium?i.medium:t<=n.large?i.large:i.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(e){const t=e.viewSize[1],n=e.breakpoints,i=this.values;return t<=n.xsmall?i.xsmall:t<=n.small?i.small:t<=n.medium?i.medium:t<=n.large?i.large:i.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(e){const t=e.viewSize,n=t[0],i=t[1],r=this.values;return i>=n?r.portrait:r.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},IT={xsmall:544,small:768,medium:992,large:1200};function kIe(e){const t=e;return t&&t.xsmall<t.small&&t.small<t.medium&&t.medium<t.large}function CT(e,t){return t?u_[e].valueToClassName[t].split(" "):[]}const AIe=e=>{let t=class extends e{constructor(...n){super(...n),this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=IT}initialize(){this.addHandles(me(()=>[this.breakpoints,this.size],()=>this._updateClassNames(),mt))}destroy(){this.destroyed||this._removeActiveClassNames()}set breakpoints(n){if(n!==this._get("breakpoints")){if(!kIe(n)){const i=JSON.stringify(IT,null,2);console.warn("provided breakpoints are not valid, using defaults:"+i),n=IT}this._set("breakpoints",{...n})}}_updateClassNames(){if(!this.container)return;const n=gr.acquire(),i=gr.acquire();let r,s=!1;for(r in u_){const o=this[r],a=u_[r].getValue({viewSize:this.size,breakpoints:this.breakpoints});o!==a&&(s=!0,this[r]=a,CT(r,o).forEach(l=>i.push(l)),CT(r,a).forEach(l=>n.push(l)))}s&&(this._applyClassNameChanges(n,i),gr.release(n),gr.release(i))}_applyClassNameChanges(n,i){const r=this.container;r&&(i.forEach(s=>r.classList.remove(s)),n.forEach(s=>r.classList.add(s)))}_removeActiveClassNames(){const n=this.container;if(!n)return;let i;for(i in u_)CT(i,this[i]).forEach(r=>n.classList.remove(r))}};return u([d()],t.prototype,"breakpoints",null),u([d()],t.prototype,"orientation",void 0),u([d()],t.prototype,"widthBreakpoint",void 0),u([d()],t.prototype,"heightBreakpoint",void 0),t=u([k("esri.views.BreakpointsOwner")],t),t};function sO(e){return typeof e=="string"?document.getElementById(e):e??null}function T4(e,t){for(;;){const n=e.firstChild;if(!n)break;t.appendChild(n)}}let _h=class extends Ce{constructor(){super(...arguments),this.updating=!1,this._handleId=0,this._scheduleHandleId=0,this._pendingPromises=new Set}destroy(){this.removeAll()}add(t,n,i={}){return this._installWatch(t,n,i,me)}addWhen(t,n,i={}){return this._installWatch(t,n,i,sr)}addOnCollectionChange(t,n,{initial:i=!1,final:r=!1}={}){const s=++this._handleId;return this.addHandles([Tr(t,"after-changes",this._createSyncUpdatingCallback(),ka),Tr(t,"change",n,{onListenerAdd:i?o=>n({added:o.toArray(),removed:[]}):void 0,onListenerRemove:r?o=>n({added:[],removed:o.toArray()}):void 0})],s),St(()=>this.removeHandles(s))}addPromise(t){if(t==null)return t;const n=++this._handleId;this.addHandles(St(()=>{this._pendingPromises.delete(t)&&(this._pendingPromises.size!==0||this.hasHandles(kw)||this._set("updating",!1))}),n),this._pendingPromises.add(t),this._set("updating",!0);const i=()=>this.removeHandles(n);return t.then(i,i),t}removeAll(){this._pendingPromises.clear(),this.removeAllHandles(),this._set("updating",!1)}_installWatch(t,n,i={},r){const s=++this._handleId;i.sync||this._installSyncUpdatingWatch(t,s);const o=r(t,n,i);return this.addHandles(o,s),St(()=>this.removeHandles(s))}_installSyncUpdatingWatch(t,n){const i=this._createSyncUpdatingCallback(),r=me(t,i,{sync:!0,equals:()=>!1});return this.addHandles(r,n),r}_createSyncUpdatingCallback(){return()=>{this.removeHandles(kw),++this._scheduleHandleId;const t=this._scheduleHandleId;this._get("updating")||this._set("updating",!0),this.addHandles(ib(()=>{t===this._scheduleHandleId&&(this._set("updating",this._pendingPromises.size>0),this.removeHandles(kw))}),kw)}}};u([d({readOnly:!0})],_h.prototype,"updating",void 0),_h=u([k("esri.core.support.UpdatingHandles")],_h);const kw=-42;/*!
 * @esri/arcgis-html-sanitizer - v4.1.0 - Tue Dec 03 2024 09:13:28 GMT-0500 (Eastern Standard Time)
 * Copyright (c) 2024 - Environmental Systems Research Institute, Inc.
 * Apache-2.0
 * 
 * js-xss
 * Copyright (c) 2012-2018 Zongmin Lei(雷宗民) <leizongmin@gmail.com>
 * http://ucdok.com
 * MIT License, see https://github.com/leizongmin/js-xss/blob/master/LICENSE for details
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var AS=function(){return AS=Object.assign||function(t){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},AS.apply(this,arguments)},Yk={exports:{}},xn={},Jk={exports:{}},dp={};function PY(){var e={};return e["align-content"]=!1,e["align-items"]=!1,e["align-self"]=!1,e["alignment-adjust"]=!1,e["alignment-baseline"]=!1,e.all=!1,e["anchor-point"]=!1,e.animation=!1,e["animation-delay"]=!1,e["animation-direction"]=!1,e["animation-duration"]=!1,e["animation-fill-mode"]=!1,e["animation-iteration-count"]=!1,e["animation-name"]=!1,e["animation-play-state"]=!1,e["animation-timing-function"]=!1,e.azimuth=!1,e["backface-visibility"]=!1,e.background=!0,e["background-attachment"]=!0,e["background-clip"]=!0,e["background-color"]=!0,e["background-image"]=!0,e["background-origin"]=!0,e["background-position"]=!0,e["background-repeat"]=!0,e["background-size"]=!0,e["baseline-shift"]=!1,e.binding=!1,e.bleed=!1,e["bookmark-label"]=!1,e["bookmark-level"]=!1,e["bookmark-state"]=!1,e.border=!0,e["border-bottom"]=!0,e["border-bottom-color"]=!0,e["border-bottom-left-radius"]=!0,e["border-bottom-right-radius"]=!0,e["border-bottom-style"]=!0,e["border-bottom-width"]=!0,e["border-collapse"]=!0,e["border-color"]=!0,e["border-image"]=!0,e["border-image-outset"]=!0,e["border-image-repeat"]=!0,e["border-image-slice"]=!0,e["border-image-source"]=!0,e["border-image-width"]=!0,e["border-left"]=!0,e["border-left-color"]=!0,e["border-left-style"]=!0,e["border-left-width"]=!0,e["border-radius"]=!0,e["border-right"]=!0,e["border-right-color"]=!0,e["border-right-style"]=!0,e["border-right-width"]=!0,e["border-spacing"]=!0,e["border-style"]=!0,e["border-top"]=!0,e["border-top-color"]=!0,e["border-top-left-radius"]=!0,e["border-top-right-radius"]=!0,e["border-top-style"]=!0,e["border-top-width"]=!0,e["border-width"]=!0,e.bottom=!1,e["box-decoration-break"]=!0,e["box-shadow"]=!0,e["box-sizing"]=!0,e["box-snap"]=!0,e["box-suppress"]=!0,e["break-after"]=!0,e["break-before"]=!0,e["break-inside"]=!0,e["caption-side"]=!1,e.chains=!1,e.clear=!0,e.clip=!1,e["clip-path"]=!1,e["clip-rule"]=!1,e.color=!0,e["color-interpolation-filters"]=!0,e["column-count"]=!1,e["column-fill"]=!1,e["column-gap"]=!1,e["column-rule"]=!1,e["column-rule-color"]=!1,e["column-rule-style"]=!1,e["column-rule-width"]=!1,e["column-span"]=!1,e["column-width"]=!1,e.columns=!1,e.contain=!1,e.content=!1,e["counter-increment"]=!1,e["counter-reset"]=!1,e["counter-set"]=!1,e.crop=!1,e.cue=!1,e["cue-after"]=!1,e["cue-before"]=!1,e.cursor=!1,e.direction=!1,e.display=!0,e["display-inside"]=!0,e["display-list"]=!0,e["display-outside"]=!0,e["dominant-baseline"]=!1,e.elevation=!1,e["empty-cells"]=!1,e.filter=!1,e.flex=!1,e["flex-basis"]=!1,e["flex-direction"]=!1,e["flex-flow"]=!1,e["flex-grow"]=!1,e["flex-shrink"]=!1,e["flex-wrap"]=!1,e.float=!1,e["float-offset"]=!1,e["flood-color"]=!1,e["flood-opacity"]=!1,e["flow-from"]=!1,e["flow-into"]=!1,e.font=!0,e["font-family"]=!0,e["font-feature-settings"]=!0,e["font-kerning"]=!0,e["font-language-override"]=!0,e["font-size"]=!0,e["font-size-adjust"]=!0,e["font-stretch"]=!0,e["font-style"]=!0,e["font-synthesis"]=!0,e["font-variant"]=!0,e["font-variant-alternates"]=!0,e["font-variant-caps"]=!0,e["font-variant-east-asian"]=!0,e["font-variant-ligatures"]=!0,e["font-variant-numeric"]=!0,e["font-variant-position"]=!0,e["font-weight"]=!0,e.grid=!1,e["grid-area"]=!1,e["grid-auto-columns"]=!1,e["grid-auto-flow"]=!1,e["grid-auto-rows"]=!1,e["grid-column"]=!1,e["grid-column-end"]=!1,e["grid-column-start"]=!1,e["grid-row"]=!1,e["grid-row-end"]=!1,e["grid-row-start"]=!1,e["grid-template"]=!1,e["grid-template-areas"]=!1,e["grid-template-columns"]=!1,e["grid-template-rows"]=!1,e["hanging-punctuation"]=!1,e.height=!0,e.hyphens=!1,e.icon=!1,e["image-orientation"]=!1,e["image-resolution"]=!1,e["ime-mode"]=!1,e["initial-letters"]=!1,e["inline-box-align"]=!1,e["justify-content"]=!1,e["justify-items"]=!1,e["justify-self"]=!1,e.left=!1,e["letter-spacing"]=!0,e["lighting-color"]=!0,e["line-box-contain"]=!1,e["line-break"]=!1,e["line-grid"]=!1,e["line-height"]=!1,e["line-snap"]=!1,e["line-stacking"]=!1,e["line-stacking-ruby"]=!1,e["line-stacking-shift"]=!1,e["line-stacking-strategy"]=!1,e["list-style"]=!0,e["list-style-image"]=!0,e["list-style-position"]=!0,e["list-style-type"]=!0,e.margin=!0,e["margin-bottom"]=!0,e["margin-left"]=!0,e["margin-right"]=!0,e["margin-top"]=!0,e["marker-offset"]=!1,e["marker-side"]=!1,e.marks=!1,e.mask=!1,e["mask-box"]=!1,e["mask-box-outset"]=!1,e["mask-box-repeat"]=!1,e["mask-box-slice"]=!1,e["mask-box-source"]=!1,e["mask-box-width"]=!1,e["mask-clip"]=!1,e["mask-image"]=!1,e["mask-origin"]=!1,e["mask-position"]=!1,e["mask-repeat"]=!1,e["mask-size"]=!1,e["mask-source-type"]=!1,e["mask-type"]=!1,e["max-height"]=!0,e["max-lines"]=!1,e["max-width"]=!0,e["min-height"]=!0,e["min-width"]=!0,e["move-to"]=!1,e["nav-down"]=!1,e["nav-index"]=!1,e["nav-left"]=!1,e["nav-right"]=!1,e["nav-up"]=!1,e["object-fit"]=!1,e["object-position"]=!1,e.opacity=!1,e.order=!1,e.orphans=!1,e.outline=!1,e["outline-color"]=!1,e["outline-offset"]=!1,e["outline-style"]=!1,e["outline-width"]=!1,e.overflow=!1,e["overflow-wrap"]=!1,e["overflow-x"]=!1,e["overflow-y"]=!1,e.padding=!0,e["padding-bottom"]=!0,e["padding-left"]=!0,e["padding-right"]=!0,e["padding-top"]=!0,e.page=!1,e["page-break-after"]=!1,e["page-break-before"]=!1,e["page-break-inside"]=!1,e["page-policy"]=!1,e.pause=!1,e["pause-after"]=!1,e["pause-before"]=!1,e.perspective=!1,e["perspective-origin"]=!1,e.pitch=!1,e["pitch-range"]=!1,e["play-during"]=!1,e.position=!1,e["presentation-level"]=!1,e.quotes=!1,e["region-fragment"]=!1,e.resize=!1,e.rest=!1,e["rest-after"]=!1,e["rest-before"]=!1,e.richness=!1,e.right=!1,e.rotation=!1,e["rotation-point"]=!1,e["ruby-align"]=!1,e["ruby-merge"]=!1,e["ruby-position"]=!1,e["shape-image-threshold"]=!1,e["shape-outside"]=!1,e["shape-margin"]=!1,e.size=!1,e.speak=!1,e["speak-as"]=!1,e["speak-header"]=!1,e["speak-numeral"]=!1,e["speak-punctuation"]=!1,e["speech-rate"]=!1,e.stress=!1,e["string-set"]=!1,e["tab-size"]=!1,e["table-layout"]=!1,e["text-align"]=!0,e["text-align-last"]=!0,e["text-combine-upright"]=!0,e["text-decoration"]=!0,e["text-decoration-color"]=!0,e["text-decoration-line"]=!0,e["text-decoration-skip"]=!0,e["text-decoration-style"]=!0,e["text-emphasis"]=!0,e["text-emphasis-color"]=!0,e["text-emphasis-position"]=!0,e["text-emphasis-style"]=!0,e["text-height"]=!0,e["text-indent"]=!0,e["text-justify"]=!0,e["text-orientation"]=!0,e["text-overflow"]=!0,e["text-shadow"]=!0,e["text-space-collapse"]=!0,e["text-transform"]=!0,e["text-underline-position"]=!0,e["text-wrap"]=!0,e.top=!1,e.transform=!1,e["transform-origin"]=!1,e["transform-style"]=!1,e.transition=!1,e["transition-delay"]=!1,e["transition-duration"]=!1,e["transition-property"]=!1,e["transition-timing-function"]=!1,e["unicode-bidi"]=!1,e["vertical-align"]=!1,e.visibility=!1,e["voice-balance"]=!1,e["voice-duration"]=!1,e["voice-family"]=!1,e["voice-pitch"]=!1,e["voice-range"]=!1,e["voice-rate"]=!1,e["voice-stress"]=!1,e["voice-volume"]=!1,e.volume=!1,e["white-space"]=!1,e.widows=!1,e.width=!0,e["will-change"]=!1,e["word-break"]=!0,e["word-spacing"]=!0,e["word-wrap"]=!0,e["wrap-flow"]=!1,e["wrap-through"]=!1,e["writing-mode"]=!1,e["z-index"]=!1,e}function PIe(e,t,n){}function LIe(e,t,n){}var OIe=/javascript\s*\:/img;function RIe(e,t){return OIe.test(t)?"":t}dp.whiteList=PY();dp.getDefaultWhiteList=PY;dp.onAttr=PIe;dp.onIgnoreAttr=LIe;dp.safeAttrValue=RIe;var NIe={indexOf:function(e,t){var n,i;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var i,r;if(Array.prototype.forEach)return e.forEach(t,n);for(i=0,r=e.length;i<r;i++)t.call(n,e[i],i,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}},Ry=NIe;function DIe(e,t){e=Ry.trimRight(e),e[e.length-1]!==";"&&(e+=";");var n=e.length,i=!1,r=0,s=0,o="";function a(){if(!i){var h=Ry.trim(e.slice(r,s)),p=h.indexOf(":");if(p!==-1){var m=Ry.trim(h.slice(0,p)),y=Ry.trim(h.slice(p+1));if(m){var g=t(r,o.length,m,y,h);g&&(o+=g+"; ")}}}r=s+1}for(;s<n;s++){var l=e[s];if(l==="/"&&e[s+1]==="*"){var c=e.indexOf("*/",s+2);if(c===-1)break;s=c+1,r=s+1,i=!1}else l==="("?i=!0:l===")"?i=!1:l===";"?i||a():l===`
`&&a()}return Ry.trim(o)}var VIe=DIe,Aw=dp,FIe=VIe;function E4(e){return e==null}function jIe(e){var t={};for(var n in e)t[n]=e[n];return t}function LY(e){e=jIe(e||{}),e.whiteList=e.whiteList||Aw.whiteList,e.onAttr=e.onAttr||Aw.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||Aw.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||Aw.safeAttrValue,this.options=e}LY.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,n=t.options,i=n.whiteList,r=n.onAttr,s=n.onIgnoreAttr,o=n.safeAttrValue,a=FIe(e,function(l,c,h,p,m){var y=i[h],g=!1;if(y===!0?g=y:typeof y=="function"?g=y(p):y instanceof RegExp&&(g=y.test(p)),g!==!0&&(g=!1),p=o(h,p),!!p){var v={position:c,sourcePosition:l,source:m,isWhite:g};if(g){var b=r(h,p,v);return E4(b)?h+":"+p:b}else{var b=s(h,p,v);if(!E4(b))return b}}});return a};var zIe=LY;(function(e,t){var n=dp,i=zIe;function r(o,a){var l=new i(a);return l.process(o)}t=e.exports=r,t.FilterCSS=i;for(var s in n)t[s]=n[s]})(Jk,Jk.exports);var oO=Jk.exports,aO={indexOf:function(e,t){var n,i;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var i,r;if(Array.prototype.forEach)return e.forEach(t,n);for(i=0,r=e.length;i<r;i++)t.call(n,e[i],i,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/,n=t.exec(e);return n?n.index:-1}},BIe=oO.FilterCSS,UIe=oO.getDefaultWhiteList,PS=aO;function OY(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var RY=new BIe;function GIe(e,t,n){}function HIe(e,t,n){}function qIe(e,t,n){}function WIe(e,t,n){}function NY(e){return e.replace(YIe,"&lt;").replace(JIe,"&gt;")}function ZIe(e,t,n,i){if(n=BY(n),t==="href"||t==="src"){if(n=PS.trim(n),n==="#")return"#";if(!(n.substr(0,7)==="http://"||n.substr(0,8)==="https://"||n.substr(0,7)==="mailto:"||n.substr(0,4)==="tel:"||n.substr(0,11)==="data:image/"||n.substr(0,6)==="ftp://"||n.substr(0,2)==="./"||n.substr(0,3)==="../"||n[0]==="#"||n[0]==="/"))return""}else if(t==="background"){if(Pw.lastIndex=0,Pw.test(n))return""}else if(t==="style"){if(I4.lastIndex=0,I4.test(n)||(C4.lastIndex=0,C4.test(n)&&(Pw.lastIndex=0,Pw.test(n))))return"";i!==!1&&(i=i||RY,n=i.process(n))}return n=UY(n),n}var YIe=/</g,JIe=/>/g,KIe=/"/g,XIe=/&quot;/g,QIe=/&#([a-zA-Z0-9]*);?/gim,eCe=/&colon;?/gim,tCe=/&newline;?/gim,Pw=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,I4=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,C4=/u\s*r\s*l\s*\(.*/gi;function DY(e){return e.replace(KIe,"&quot;")}function VY(e){return e.replace(XIe,'"')}function FY(e){return e.replace(QIe,function(n,i){return i[0]==="x"||i[0]==="X"?String.fromCharCode(parseInt(i.substr(1),16)):String.fromCharCode(parseInt(i,10))})}function jY(e){return e.replace(eCe,":").replace(tCe," ")}function zY(e){for(var t="",n=0,i=e.length;n<i;n++)t+=e.charCodeAt(n)<32?" ":e.charAt(n);return PS.trim(t)}function BY(e){return e=VY(e),e=FY(e),e=jY(e),e=zY(e),e}function UY(e){return e=DY(e),e=NY(e),e}function nCe(){return""}function iCe(e,t){typeof t!="function"&&(t=function(){});var n=!Array.isArray(e);function i(o){return n?!0:PS.indexOf(e,o)!==-1}var r=[],s=!1;return{onIgnoreTag:function(o,a,l){if(i(o))if(l.isClosing){var c="[/removed]",h=l.position+c.length;return r.push([s!==!1?s:l.position,h]),s=!1,c}else return s||(s=l.position),"[removed]";else return t(o,a,l)},remove:function(o){var a="",l=0;return PS.forEach(r,function(c){a+=o.slice(l,c[0]),l=c[1]}),a+=o.slice(l),a}}}function rCe(e){for(var t="",n=0;n<e.length;){var i=e.indexOf("<!--",n);if(i===-1){t+=e.slice(n);break}t+=e.slice(n,i);var r=e.indexOf("-->",i);if(r===-1)break;n=r+3}return t}function sCe(e){var t=e.split("");return t=t.filter(function(n){var i=n.charCodeAt(0);return i===127?!1:i<=31?i===10||i===13:!0}),t.join("")}xn.whiteList=OY();xn.getDefaultWhiteList=OY;xn.onTag=GIe;xn.onIgnoreTag=HIe;xn.onTagAttr=qIe;xn.onIgnoreTagAttr=WIe;xn.safeAttrValue=ZIe;xn.escapeHtml=NY;xn.escapeQuote=DY;xn.unescapeQuote=VY;xn.escapeHtmlEntities=FY;xn.escapeDangerHtml5Entities=jY;xn.clearNonPrintableCharacter=zY;xn.friendlyAttrValue=BY;xn.escapeAttrValue=UY;xn.onIgnoreTagStripAll=nCe;xn.StripTagBody=iCe;xn.stripCommentTag=rCe;xn.stripBlankChar=sCe;xn.cssFilter=RY;xn.getDefaultCSSWhiteList=UIe;var zx={},Uu=aO;function oCe(e){var t=Uu.spaceIndex(e),n;return t===-1?n=e.slice(1,-1):n=e.slice(1,t+1),n=Uu.trim(n).toLowerCase(),n.slice(0,1)==="/"&&(n=n.slice(1)),n.slice(-1)==="/"&&(n=n.slice(0,-1)),n}function aCe(e){return e.slice(0,2)==="</"}function lCe(e,t,n){var i="",r=0,s=!1,o=!1,a=0,l=e.length,c="",h="";e:for(a=0;a<l;a++){var p=e.charAt(a);if(s===!1){if(p==="<"){s=a;continue}}else if(o===!1){if(p==="<"){i+=n(e.slice(r,a)),s=a,r=a;continue}if(p===">"){i+=n(e.slice(r,s)),h=e.slice(s,a+1),c=oCe(h),i+=t(s,i.length,c,h,aCe(h)),r=a+1,s=!1;continue}if(p==='"'||p==="'")for(var m=1,y=e.charAt(a-m);y.trim()===""||y==="=";){if(y==="="){o=p;continue e}y=e.charAt(a-++m)}}else if(p===o){o=!1;continue}}return r<e.length&&(i+=n(e.substr(r))),i}var uCe=/[^a-zA-Z0-9\\_:.-]/gim;function cCe(e,t){var n=0,i=0,r=[],s=!1,o=e.length;function a(m,y){if(m=Uu.trim(m),m=m.replace(uCe,"").toLowerCase(),!(m.length<1)){var g=t(m,y||"");g&&r.push(g)}}for(var l=0;l<o;l++){var c=e.charAt(l),h,p;if(s===!1&&c==="="){s=e.slice(n,l),n=l+1,i=e.charAt(n)==='"'||e.charAt(n)==="'"?n:hCe(e,l+1);continue}if(s!==!1&&l===i){if(p=e.indexOf(c,l+1),p===-1)break;h=Uu.trim(e.slice(i+1,p)),a(s,h),s=!1,l=p,n=l+1;continue}if(/\s|\n|\t/.test(c))if(e=e.replace(/\s|\n|\t/g," "),s===!1)if(p=dCe(e,l),p===-1){h=Uu.trim(e.slice(n,l)),a(h),s=!1,n=l+1;continue}else{l=p-1;continue}else if(p=pCe(e,l-1),p===-1){h=Uu.trim(e.slice(n,l)),h=M4(h),a(s,h),s=!1,n=l+1;continue}else continue}return n<e.length&&(s===!1?a(e.slice(n)):a(s,M4(Uu.trim(e.slice(n))))),Uu.trim(r.join(" "))}function dCe(e,t){for(;t<e.length;t++){var n=e[t];if(n!==" ")return n==="="?t:-1}}function hCe(e,t){for(;t<e.length;t++){var n=e[t];if(n!==" ")return n==="'"||n==='"'?t:-1}}function pCe(e,t){for(;t>0;t--){var n=e[t];if(n!==" ")return n==="="?t:-1}}function fCe(e){return e[0]==='"'&&e[e.length-1]==='"'||e[0]==="'"&&e[e.length-1]==="'"}function M4(e){return fCe(e)?e.substr(1,e.length-2):e}zx.parseTag=lCe;zx.parseAttr=cCe;var mCe=oO.FilterCSS,Po=xn,GY=zx,yCe=GY.parseTag,gCe=GY.parseAttr,c_=aO;function Lw(e){return e==null}function vCe(e){var t=c_.spaceIndex(e);if(t===-1)return{html:"",closing:e[e.length-2]==="/"};e=c_.trim(e.slice(t+1,-1));var n=e[e.length-1]==="/";return n&&(e=c_.trim(e.slice(0,-1))),{html:e,closing:n}}function bCe(e){var t={};for(var n in e)t[n]=e[n];return t}function wCe(e){var t={};for(var n in e)Array.isArray(e[n])?t[n.toLowerCase()]=e[n].map(function(i){return i.toLowerCase()}):t[n.toLowerCase()]=e[n];return t}function HY(e){e=bCe(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=Po.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=wCe(e.whiteList||e.allowList):e.whiteList=Po.whiteList,e.onTag=e.onTag||Po.onTag,e.onTagAttr=e.onTagAttr||Po.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||Po.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||Po.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||Po.safeAttrValue,e.escapeHtml=e.escapeHtml||Po.escapeHtml,this.options=e,e.css===!1?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new mCe(e.css))}HY.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,n=t.options,i=n.whiteList,r=n.onTag,s=n.onIgnoreTag,o=n.onTagAttr,a=n.onIgnoreTagAttr,l=n.safeAttrValue,c=n.escapeHtml,h=t.cssFilter;n.stripBlankChar&&(e=Po.stripBlankChar(e)),n.allowCommentTag||(e=Po.stripCommentTag(e));var p=!1;n.stripIgnoreTagBody&&(p=Po.StripTagBody(n.stripIgnoreTagBody,s),s=p.onIgnoreTag);var m=yCe(e,function(y,g,v,b,w){var S={sourcePosition:y,position:g,isClosing:w,isWhite:Object.prototype.hasOwnProperty.call(i,v)},x=r(v,b,S);if(!Lw(x))return x;if(S.isWhite){if(S.isClosing)return"</"+v+">";var E=vCe(b),$=i[v],I=gCe(E.html,function(A,M){var L=c_.indexOf($,A)!==-1,O=o(v,A,M,L);return Lw(O)?L?(M=l(v,A,M,h),M?A+'="'+M+'"':A):(O=a(v,A,M,L),Lw(O)?void 0:O):O});return b="<"+v,I&&(b+=" "+I),E.closing&&(b+=" /"),b+=">",b}else return x=s(v,b,S),Lw(x)?c(b):x},c);return p&&(m=p.remove(m)),m};var _Ce=HY;(function(e,t){var n=xn,i=zx,r=_Ce;function s(a,l){var c=new r(l);return c.process(a)}t=e.exports=s,t.filterXSS=s,t.FilterXSS=r,function(){for(var a in n)t[a]=n[a];for(var l in i)t[l]=i[l]}();function o(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}o()&&(self.filterXSS=e.exports)})(Yk,Yk.exports);var Ep=Yk.exports,SCe=function(e){if(typeof e!="object"||e===null||Object.prototype.toString.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},xCe=function(){function e(t,n){var i=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],article:["style"],aside:["style"],audio:["autoplay","controls","loop","muted","preload"],b:[],blockquote:["style"],br:[],code:["style"],dd:["style"],del:["style"],details:["open","style"],div:["align","aria-hidden","aria-label","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],footer:["style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],header:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],main:["style"],mark:["style"],nav:["style"],ol:[],p:["style"],pre:["style"],section:["style"],source:["media","src","type"],span:["aria-hidden","aria-label","style"],strong:[],sub:["style"],summary:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],time:["style"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.arcgisCSSWhiteList=AS(AS({},Ep.getDefaultCSSWhiteList()),{"align-items":!0,"align-self":!0,flex:!0,"flex-basis":!0,"flex-direction":!0,"flex-flow":!0,"flex-grow":!0,"flex-shrink":!0,"flex-wrap":!0,float:!0,gap:!0,grid:!0,"grid-area":!0,"grid-auto-columns":!0,"grid-auto-flow":!0,"grid-auto-rows":!0,"grid-column":!0,"grid-column-end":!0,"grid-column-start":!0,"grid-row":!0,"grid-row-end":!0,"grid-row-start":!0,"grid-template":!0,"grid-template-areas":!0,"grid-template-columns":!0,"grid-template-rows":!0,"justify-content":!0,"justify-items":!0,"justify-self":!0,"line-height":!0,overflow:!0}),this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(s,o,a,l){return s==="a"&&o==="href"||(s==="img"||s==="source")&&o==="src"?i.sanitizeUrl(a):Ep.safeAttrValue(s,o,a,l)}},this._entityMap={"&":"&#x38;","<":"&#x3C;",">":"&#x3E;",'"':"&#x22;","'":"&#x27;","/":"&#x2F;"};var r;t&&!n?r=t:t&&n?(r=Object.create(this.arcgisFilterOptions),r.css={whiteList:this.arcgisCSSWhiteList},Object.keys(t).forEach(function(s){if(s==="whiteList")r.whiteList=i._extendObjectOfArrays([i.arcgisWhiteList,t.whiteList||{}]);else if(s==="css"){var o=t.css.whiteList;o!=null&&t.css instanceof Object&&Object.keys(o).forEach(function(a){return r.css.whiteList[a]=o[a]})}else r[s]=t[s]})):(r=Object.create(this.arcgisFilterOptions),r.whiteList=this.arcgisWhiteList,r.css={whiteList:this.arcgisCSSWhiteList}),this.xssFilterOptions=r,this._xssFilter=new Ep.FilterXSS(r)}return e.prototype.sanitize=function(t,n){switch(n===void 0&&(n={}),typeof t){case"number":return isNaN(t)||!isFinite(t)?null:t;case"boolean":return t;case"string":return this._xssFilter.process(t);case"object":return this._iterateOverObject(t,n);default:return n.allowUndefined&&typeof t>"u"?void 0:null}},e.prototype.sanitizeUrl=function(t,n){var i=(n??{}).isProtocolRequired,r=i===void 0?!0:i,s=this._trim(t.substring(0,t.indexOf(":"))),o=t==="/",a=/^#/.test(t),l=s&&this.allowedProtocols.indexOf(s.toLowerCase())>-1;return o||a||l?Ep.escapeAttrValue(t):!s&&!r?Ep.escapeAttrValue("https://".concat(t)):""},e.prototype.sanitizeHTMLAttribute=function(t,n,i,r){return typeof this.xssFilterOptions.safeAttrValue=="function"?this.xssFilterOptions.safeAttrValue(t,n,i,r):Ep.safeAttrValue(t,n,i,r)},e.prototype.validate=function(t,n){n===void 0&&(n={});var i=this.sanitize(t,n);return{isValid:t===i,sanitized:i}},e.prototype.encodeHTML=function(t){var n=this;return String(t).replace(/[&<>"'\/]/g,function(i){return n._entityMap[i]})},e.prototype.encodeAttrValue=function(t){var n=/^[a-zA-Z0-9]$/;return String(t).replace(/[\x00-\xFF]/g,function(i,r){return n.test(i)?i:"&#x".concat(Number(t.charCodeAt(r)).toString(16),";")})},e.prototype._extendObjectOfArrays=function(t){var n={};return t.forEach(function(i){Object.keys(i).forEach(function(r){Array.isArray(i[r])&&Array.isArray(n[r])?n[r]=n[r].concat(i[r]):n[r]=i[r]})}),n},e.prototype._iterateOverObject=function(t,n){var i=this;n===void 0&&(n={});try{var r=!1,s=void 0;if(Array.isArray(t))s=t.reduce(function(a,l){var c=i.validate(l,n);return c.isValid?a.concat([l]):(r=!0,a.concat([c.sanitized]))},[]);else if(SCe(t)){var o=Object.keys(t);s=o.reduce(function(a,l){var c=t[l],h=i.validate(c,n);return h.isValid?a[l]=c:(r=!0,a[l]=h.sanitized),a},{})}else return n.allowUndefined&&typeof t>"u"?void 0:null;return r?s:t}catch{return null}},e.prototype._trim=function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},e}();const Bx=new Map;function qY(){Bx.clear()}function $Ce(e){return Bx.get(e)}function TCe(e,t){Bx.set(e,t)}function MT(e){Bx.delete(e)}function jf(...e){const t=gr.acquire();for(let i=0;i<e.length;i++){const r=e[i],s=typeof r;if(s==="string")t.push(r);else if(Array.isArray(r))t.push.apply(t,r);else if(s==="object")for(const o in r)r[o]&&t.push(o)}const n=t.join(" ");return gr.release(t),n}(()=>{const e=new Map,t=new ResizeObserver(i=>{qY();for(const r of i)e.get(r.target)?.(r)}),n=(i,r,s)=>(e.set(i,r),t.observe(i,s),St(()=>{t.unobserve(i),e.delete(i)}));return(i,r,s)=>{let o=null;return X0([me(()=>typeof i=="function"?i():i,a=>{o?.remove(),a&&(o=n(a,r,s))},Fr),St(()=>o?.remove())])}})();function Ux(e){const t=e?.closest("[dir]");return t!==null&&t instanceof HTMLElement&&t.dir==="rtl"||document.dir==="rtl"}function A7e(e){const t="data-node-ref";this[e.getAttribute(t)]=null}function P7e(e){const t="data-node-ref";this[e.getAttribute(t)]=e}const ECe=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"],ICe=ECe.reduce((e,t)=>(e[t]=[],e),{}),CCe=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],WY=new xCe({whiteList:ICe,onTagAttr:(e,t,n)=>{const i=`${t}="${n}"`;if(CCe.includes(t))return i},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function MCe(e){return e==="Enter"||e===" "}async function Av(e,t){await vde(nb(t));const n=typeof e=="function"?e():e;n&&("setFocus"in n&&typeof n.setFocus=="function"?await n.setFocus():n instanceof HTMLElement&&n.focus())}const ZY="http://www.w3.org/",Gx=`${ZY}2000/svg`,YY=`${ZY}1999/xlink`;let k4=[],lO=(e,t)=>{let n={};return Object.keys(e).forEach(i=>{n[i]=e[i]}),t&&Object.keys(t).forEach(i=>{n[i]=t[i]}),n},uO=(e,t)=>e.vnodeSelector===t.vnodeSelector&&(e.properties&&t.properties?e.properties.key===t.properties.key&&e.properties.bind===t.properties.bind:!e.properties&&!t.properties),JY=e=>{if(typeof e!="string")throw new Error("Style values must be strings")},kCe=(e,t,n)=>{if(t.vnodeSelector!==""){for(let i=n;i<e.length;i++)if(uO(e[i],t))return i}return-1},kT=(e,t,n,i)=>{let r=e[t];if(r.vnodeSelector==="")return;let s=r.properties;if(!(s&&(s.key===void 0?s.bind:s.key))){for(let o=0;o<e.length;o++)if(o!==t){let a=e[o];if(uO(a,r))throw new Error(`${n.vnodeSelector} had a ${r.vnodeSelector} child ${i==="added"?i:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}}},ACe=e=>{if(e.properties){let t=e.properties.enterAnimation;t&&t(e.domNode,e.properties)}},Kk=[],Xk=!1,KY=e=>{(e.children||[]).forEach(KY),e.properties&&e.properties.afterRemoved&&e.properties.afterRemoved.apply(e.properties.bind||e.properties,[e.domNode])},A4=()=>{Xk=!1,Kk.forEach(KY),Kk.length=0},P4=e=>{Kk.push(e),Xk||(Xk=!0,typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(A4,{timeout:16}):setTimeout(A4,16))},L4=e=>{let t=e.domNode;if(e.properties){let n=e.properties.exitAnimation;if(n)return t.style.pointerEvents="none",void n(t,()=>{t.parentNode&&(t.parentNode.removeChild(t),P4(e))},e.properties)}t.parentNode&&(t.parentNode.removeChild(t),P4(e))},PCe=(e,t,n)=>{if(!t)return;let i=n.eventHandlerInterceptor,r=Object.keys(t),s=r.length;for(let o=0;o<s;o++){let a=r[o],l=t[a];if(a==="className")throw new Error('Property "className" is not supported, use "class".');if(a==="class")eA(e,l,!0);else if(a==="classes"){let c=Object.keys(l),h=c.length;for(let p=0;p<h;p++){let m=c[p];l[m]&&e.classList.add(m)}}else if(a==="styles"){let c=Object.keys(l),h=c.length;for(let p=0;p<h;p++){let m=c[p],y=l[m];y&&(JY(y),n.styleApplyer(e,m,y))}}else if(a!=="key"&&l!=null){let c=typeof l;c==="function"?(a.lastIndexOf("on",0)===0&&(i&&(l=i(a,l,e,t)),a==="oninput"&&function(){let h=l;l=function(p){h.apply(this,[p]),p.target["oninput-value"]=p.target.value}}()),e[a]=l):n.namespace===Gx?a==="href"?e.setAttributeNS(YY,a,l):e.setAttribute(a,l):c==="string"&&a!=="value"?a==="innerHTML"?e[a]=WY.sanitize(l):Qk(e)&&a in e?e[a]=l:e.setAttribute(a,l):e[a]=l}}};function Qk(e){if(!(e instanceof Element&&e.tagName.includes("-")))return!1;const t=window.customElements.get(e.tagName.toLowerCase());return!!t&&e instanceof t}let LS,LCe=(e,t,n)=>{if(t)for(let i of t)Pv(i,e,void 0,n)},XY=(e,t,n)=>{LCe(e,t.children,n),t.text&&(e.textContent=t.text),PCe(e,t.properties,n),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[e,n,t.vnodeSelector,t.properties,t.children])},Pv=(e,t,n,i)=>{let r,s=0,o=e.vnodeSelector,a=t.ownerDocument;if(o==="")r=e.domNode=a.createTextNode(e.text),n!==void 0?t.insertBefore(r,n):t.appendChild(r);else{for(let l=0;l<=o.length;++l){let c=o.charAt(l);if(l===o.length||c==="."||c==="#"){let h=o.charAt(s-1),p=o.slice(s,l);h==="."?r.classList.add(p):h==="#"?r.id=p:(p==="svg"&&(i=lO(i,{namespace:Gx})),i.namespace!==void 0?r=e.domNode=a.createElementNS(i.namespace,p):(r=e.domNode=e.domNode||a.createElement(p),p==="input"&&e.properties&&e.properties.type!==void 0&&r.setAttribute("type",e.properties.type)),n!==void 0?t.insertBefore(r,n):r.parentNode!==t&&t.appendChild(r)),s=l+1}}XY(r,e,i)}},eA=(e,t,n)=>{t&&t.split(" ").forEach(i=>{i&&e.classList.toggle(i,n)})},OCe=(e,t,n,i)=>{if(!n)return;let r=!1,s=Object.keys(n),o=s.length;for(let a=0;a<o;a++){let l=s[a],c=n[l],h=t[l];if(l==="class")h!==c&&(eA(e,h,!1),eA(e,c,!0));else if(l==="classes"){let p=e.classList,m=Object.keys(c),y=m.length;for(let g=0;g<y;g++){let v=m[g],b=!!c[v];b!==!!h[v]&&(r=!0,b?p.add(v):p.remove(v))}}else if(l==="styles"){let p=Object.keys(c),m=p.length;for(let y=0;y<m;y++){let g=p[y],v=c[g];v!==h[g]&&(r=!0,v?(JY(v),i.styleApplyer(e,g,v)):i.styleApplyer(e,g,""))}}else if(c||typeof h!="string"||(c=""),l!=="value"||Qk(e)){if(c!==h){let p=typeof c;p==="function"&&i.eventHandlerInterceptor||(i.namespace===Gx?l==="href"?e.setAttributeNS(YY,l,c):e.setAttribute(l,c):p==="string"?l==="innerHTML"?e[l]=WY.sanitize(c):l==="role"&&c===""?e.removeAttribute(l):Qk(e)&&l in e?e[l]=c:e.setAttribute(l,c):e[l]!==c&&(e[l]=c),r=!0)}}else{let p=e[l];p!==c&&(e["oninput-value"]?p===e["oninput-value"]:c!==h)&&(e[l]=c,e["oninput-value"]=void 0),c!==h&&(r=!0)}}return r},RCe=(e,t,n,i,r)=>{if(n===i)return!1;i=i||k4;let s,o=(n=n||k4).length,a=i.length,l=0,c=0,h=!1;for(;c<a;){let p=l<o?n[l]:void 0,m=i[c];if(p!==void 0&&uO(p,m))h=LS(p,m,r)||h,l++;else{let y=kCe(n,m,l+1);if(y>=0){for(s=l;s<y;s++)L4(n[s]),kT(n,s,e,"removed");h=LS(n[y],m,r)||h,l=y+1}else Pv(m,t,l<o?n[l].domNode:void 0,r),ACe(m),kT(i,c,e,"added")}c++}if(o>l)for(s=l;s<o;s++)L4(n[s]),kT(n,s,e,"removed");return h};LS=(e,t,n)=>{let i=e.domNode,r=!1;if(e===t)return!1;let s=!1;if(t.vnodeSelector===""){if(t.text!==e.text){let o=i.ownerDocument.createTextNode(t.text);return i.parentNode.replaceChild(o,i),t.domNode=o,r=!0,r}t.domNode=i}else t.vnodeSelector.lastIndexOf("svg",0)===0&&(n=lO(n,{namespace:Gx})),e.text!==t.text&&(s=!0,t.text===void 0?i.removeChild(i.firstChild):i.textContent=t.text),t.domNode=i,s=RCe(t,i,e.children,t.children,n)||s,s=OCe(i,e.properties,t.properties,n)||s,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[i,n,t.vnodeSelector,t.properties,t.children]);return s&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(i,t.properties,e.properties),r};let Ow=(e,t)=>({getLastRender:()=>e,update:n=>{if(e.vnodeSelector!==n.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let i=e;e=n,LS(i,n,t)},domNode:e.domNode});const NCe={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,n)=>{t.charAt(0)==="-"?e.style.setProperty(t,n):e.style[t]=n}};let Kg=e=>lO(NCe,e),nc={append:(e,t,n)=>(n=Kg(n),Pv(t,e,void 0,n),Ow(t,n)),insertBefore:(e,t,n)=>(n=Kg(n),Pv(t,e.parentNode,e,n),Ow(t,n)),merge:(e,t,n)=>(n=Kg(n),t.domNode=e,XY(e,t,n),Ow(t,n)),replace:(e,t,n)=>(n=Kg(n),Pv(t,e.parentNode,e,n),e.parentNode.removeChild(e),Ow(t,n))},QY,DCe=(e,t)=>{let n=[];for(;e&&e!==t;)n.push(e),e=e.parentNode;return n};QY=Array.prototype.find?(e,t)=>e.find(t):(e,t)=>e.filter(t)[0];let VCe=(e,t)=>{let n=e;return t.forEach(i=>{n=n&&n.children?QY(n.children,r=>r.domNode===i):void 0}),n},FCe=(e,t,n)=>{let i=function(r){n("domEvent",r);let s=t(),o=DCe(r.currentTarget,s.domNode);o.reverse();let a,l=VCe(s.getLastRender(),o);return e.scheduleRender(),l&&(a=l.properties[`on${r.type}`].apply(l.properties.bind||this,arguments)),n("domEventProcessed",r),a};return(r,s,o,a)=>i},OS=e=>{let t,n,i=Kg(e),r=i.performanceLogger,s=!0,o=!1,a=[],l=[],c=(p,m,y)=>{let g,v=()=>g;i.eventHandlerInterceptor=FCe(t,v,r),g=p(m,y(),i),a.push(g),l.push(y)},h=()=>{if(n=void 0,s){s=!1,r("renderStart",void 0);for(let p=0;p<a.length;p++){let m=l[p]();r("rendered",void 0),a[p].update(m),r("patched",void 0)}r("renderDone",void 0),s=!0}};return t={renderNow:h,scheduleRender:()=>{n||o||(n=requestAnimationFrame(h))},stop:()=>{n&&(cancelAnimationFrame(n),n=void 0),o=!0},resume:()=>{o=!1,s=!0,t.scheduleRender()},append:(p,m)=>{c(nc.append,p,m)},insertBefore:(p,m)=>{c(nc.insertBefore,p,m)},merge:(p,m)=>{c(nc.merge,p,m)},replace:(p,m)=>{c(nc.replace,p,m)},detach:p=>{for(let m=0;m<l.length;m++)if(l[m]===p)return l.splice(m,1),a.splice(m,1)[0];throw new Error("renderFunction was not found")}},t},ku=class extends Ce{constructor(){super(...arguments),this.items=new we,this._watchUpdatingTracking=new _h,this._callbacks=new Map,this._projector=OS(),this._hiddenProjector=OS()}get needsRender(){return this.items.length>0}get updating(){return this._watchUpdatingTracking?.updating??!1}initialize(){const t=document.createElement("div");t.className="esri-overlay-surface",this._set("surface",t),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),t.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange(()=>this.items,n=>{for(const i of n.added){const r=()=>i.render();this._callbacks.set(i,r),this._projector.append(this.surface,r)}for(const i of n.removed){const r=this._projector.detach(this._callbacks.get(i));this.surface.removeChild(r.domNode),this._callbacks.delete(i)}})}addItem(t){this.items.add(t)}removeItem(t){this.items.remove(t)}destroy(){this.items.removeAll(),this._callbacks.forEach(t=>this._projector.detach(t)),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(t){const n=this._hiddenSurface,i=this._hiddenProjector;let r;const s=()=>(r=t.render(),r);i.append(n,s),i.renderNow();const o={left:0,top:0,right:0,bottom:0};if(r?.domNode){const a=r.domNode.getBoundingClientRect();o.left=a.left,o.top=a.top,o.right=a.right,o.bottom=a.bottom}for(i.detach(s);n.firstChild;)n.removeChild(n.firstChild);return o}overlaps(t,n){const i=this.computeBoundingRect(t),r=this.computeBoundingRect(n);return Math.max(i.left,r.left)<=Math.min(i.right,r.right)&&Math.max(i.top,r.top)<=Math.min(i.bottom,r.bottom)}get hasVisibleItems(){return this.items.some(t=>t.visible)}async prepare(){await document.fonts.load(this._fontString()).catch(()=>{})}renderCanvas(t,n){const i=!!n?.disableDecorations;if(!this.items.some(s=>s.visible&&!(i&&s.isDecoration)))return;const r=t.getContext("2d");r.save(),r.font=this._fontString(),this.items.forEach(s=>{i&&s.isDecoration||(r.save(),s.renderCanvas(r),r.restore())}),r.restore()}_fontString(){return`10px ${getComputedStyle(this.surface).fontFamily}`}};u([d({readOnly:!0})],ku.prototype,"surface",void 0),u([d({readOnly:!0})],ku.prototype,"items",void 0),u([d({readOnly:!0})],ku.prototype,"needsRender",null),u([d({readOnly:!0})],ku.prototype,"_watchUpdatingTracking",void 0),u([d({readOnly:!0})],ku.prototype,"updating",null),ku=u([k("esri.views.overlay.ViewOverlay")],ku);const O4=ku,AT=[0,0];function jCe(e){const t=(e.ownerDocument||window.document).defaultView,n=e.getBoundingClientRect();return AT[0]=n.left+(t?.pageXOffset??0),AT[1]=n.top+(t?.pageYOffset??0),AT}function R4(e){e&&(e.textContent="",e.parentNode&&e.parentNode.removeChild(e))}function zCe(e){const t=document.createElement("div");return e.appendChild(t),t}const Ip=16,Ny=750,BCe=512,UCe=2,GCe=e=>{let t=class extends e{constructor(...n){super(...n),this._freqInfo={freq:Ip,time:Ny},this._overlayRenderTaskHandle=null,this.height=0,this.messagesCommon=null,this.overlay=null,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.ui=null,this.userContent=null,this.width=0,this.widthBreakpoint=null,this.addHandles([me(()=>this.cursor,i=>{const{surface:r}=this;r&&r.setAttribute("data-cursor",i)}),me(()=>this.navigating,i=>{const{surface:r}=this;r&&r.setAttribute("data-navigating",i.toString())})])}initialize(){this.addHandles([me(()=>this.ui,(n,i)=>this._handleUIChange(n,i),mt),this.on("focus",()=>this.notifyChange("focused")),this.on("blur",()=>this.notifyChange("focused"))])}destroy(){this.destroyed||(this.ui?.destroy(),this.container=null)}get container(){return this._get("container")??null}set container(n){const i=this._get("container"),r=sO(n);if(r||typeof n!="string"||re.getLogger(this).error("#container",`element with id '${n}' not found`),i===r)return;if(this._stopMeasuring(),i&&(i.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay&&(this.overlay.destroy(),this._set("overlay",null)),this.root&&(R4(this.root),this._set("root",null)),this.userContent&&(T4(this.userContent,i),R4(this.userContent),this._set("userContent",null))),!r)return this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),void this._set("container",null);r.classList.add("esri-view");const s=document.createElement("div");s.className="esri-view-user-storage",T4(r,s),r.appendChild(s),this._set("userContent",s);const o=document.createElement("div");o.className="esri-view-root",r.insertBefore(o,r.firstChild),this._set("root",o);const a=document.createElement("div");a.className="esri-view-surface",a.setAttribute("role","application"),a.tabIndex=0,o.appendChild(a),this._set("surface",a);const l=new O4;o.appendChild(l.surface),this._set("overlay",l),this.addHandles(me(()=>l.needsRender,c=>{c&&!this._overlayRenderTaskHandle?this._overlayRenderTaskHandle=wm({render:()=>this.overlay?.render()}):this._overlayRenderTaskHandle=on(this._overlayRenderTaskHandle)})),this.forceDOMReadyCycle(),this._set("container",r),this._startMeasuring()}get focused(){const n=document.activeElement===this.surface;return document.hasFocus()&&n}get size(){return[this.width,this.height]}blur(){this.surface?.blur()}focus(){this.surface?.focus()}pageToContainer(n,i,r){const s=this.position;return n-=s?s[0]:0,i-=s?s[1]:0,r?(r[0]=n,r[1]=i):r=[n,i],r}containerToPage(n,i,r){const s=this.position;return n+=s?s[0]:0,i+=s?s[1]:0,r?(r[0]=n,r[1]=i):r=[n,i],r}_handleUIChange(n,i){this.removeHandles("ui"),i&&i!==n&&i.destroy(),n&&(n.view=this,this.addHandles(me(()=>this.root,r=>{n.container=r?zCe(r):null},mt),"ui")),this._set("ui",n)}_stopMeasuring(){this.removeHandles("measuring"),this._get("resizing")&&this._set("resizing",!1)}_startMeasuring(){const n=this._freqInfo;n.freq=Ip,n.time=Ny;const i=wm({prepare:o=>{const a=this._measure(),l=this._freqInfo;if(l.time+=o.deltaTime,a&&(l.freq=Ip,this._get("resizing")||this._set("resizing",!0)),l.time<l.freq)return;l.time=0;const c=this._position();l.freq=c||a?Ip:Math.min(Ny,l.freq*UCe),!a&&l.freq>=BCe&&(i.pause(),this._get("resizing")&&this._set("resizing",!1))}}),r=new ResizeObserver(o=>{n.freq=Ip,n.time=Ny,i.resume()});this.container!=null&&r.observe(this.container);const s=St(()=>r.disconnect());this.addHandles([tb(window,"resize",()=>{n.freq=Ip,n.time=Ny,i.resume()}),s,i],"measuring"),this._measure(),this._position()}_measure(){const n=this.container,i=n?n.clientWidth:0,r=n?n.clientHeight:0;if(i===0||r===0)return this.suspended||this._set("suspended",!0),!1;const s=this.width,o=this.height;return i===s&&r===o?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",i),this._set("height",r),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:s,oldHeight:o,width:i,height:r}),!0)}_position(){const n=this.container,i=this.position,r=n&&jCe(n);return!!r&&(!i||r[0]!==i[0]||r[1]!==i[1])&&(this._set("position",[r[0],r[1]]),!0)}forceDOMReadyCycle(){}};return u([d()],t.prototype,"container",null),u([d({readOnly:!0})],t.prototype,"focused",null),u([d({readOnly:!0})],t.prototype,"height",void 0),u([d()],t.prototype,"messagesCommon",void 0),u([d({type:O4})],t.prototype,"overlay",void 0),u([d({readOnly:!0})],t.prototype,"position",void 0),u([d({readOnly:!0})],t.prototype,"resizing",void 0),u([d({readOnly:!0})],t.prototype,"root",void 0),u([d({value:null,readOnly:!0})],t.prototype,"size",null),u([d({readOnly:!0})],t.prototype,"surface",void 0),u([d({readOnly:!0})],t.prototype,"suspended",void 0),u([d({nonNullable:!0})],t.prototype,"ui",void 0),u([d({readOnly:!0})],t.prototype,"userContent",void 0),u([d({readOnly:!0})],t.prototype,"width",void 0),u([d()],t.prototype,"widthBreakpoint",void 0),t=u([k("esri.views.DOMContainer")],t),t},HCe=H("mac")?"Meta":"Control",qCe=new Set(["Alt","Control","Meta","Shift","Ctrl","Primary"]),WCe=e=>qCe.has(e);let ZCe=class{constructor(t,n=[]){this.eventType=t,this.keyModifiers=n}matches(t){if(t.type!==this.eventType)return!1;if(this.keyModifiers.length===0)return!0;const n=t.modifiers;for(const i of this.keyModifiers)if(!n.has(i))return!1;return!0}},di=class{constructor(t){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=t}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const t in this._incoming){const n=this._incoming[t];for(const i of n)this._incomingEventMatches.push(i.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(t=>t.eventType)),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(t){this._manager||(t.setEventCallback(n=>this._handleEvent(n)),t.setUninstallCallback(()=>this._onUninstall()),this._manager=t)}onUninstall(){}registerIncoming(t,n,i){let r;typeof n=="function"?(i=n,r=[]):r=n||[];const s=typeof t=="string"?new ZCe(t,r):t,o=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},a=h=>{const p=this._incoming[h.match.eventType];if(p){const m=p.indexOf(h);p.splice(m,1),o(),this._manager&&this._manager.updateDependencies()}},l=new YCe(s,i,{onPause:a,onRemove:a,onResume:h=>{const p=this._incoming[h.match.eventType];p&&!p.includes(h)&&(p.push(h),o(),this._manager&&this._manager.updateDependencies())}});let c=this._incoming[s.eventType];return c||(c=[],this._incoming[s.eventType]=c),c.push(l),o(),this._manager&&this._manager.updateDependencies(),l}registerOutgoing(t){if(this._outgoing[t])throw new Error("There is already a callback registered for this outgoing InputEvent: "+t);const n=new JCe(t,{onEmit:(i,r,s,o)=>{this._manager?.emit(i.eventType,r,s,o)},onRemove:i=>{delete this._outgoing[i.eventType],this._manager?.updateDependencies()}});return this._outgoing[t]=n,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),n}startCapturingPointer(t){this._manager?.setPointerCapture(t,!0)}stopCapturingPointer(t){this._manager?.setPointerCapture(t,!1)}refreshHasPendingInputs(){this._manager?.refreshHasPendingInputs()}_onUninstall(){this._manager&&(this.onUninstall(),this._manager=null)}_handleEvent(t){const n=this._incoming[t.type];if(n){for(const i of n)if(i.match.matches(t)&&(i.callback?.(t),t.shouldStopPropagation()))break}}},YCe=class{constructor(t,n,i){this.match=t,this._callback=n,this._handler=i}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}},JCe=class{constructor(t,n){this.eventType=t,this._removed=!1,this._handler=n}emit(t,n,i){this._removed||this._handler.onEmit(this,t,n,i)}remove(){this._removed=!0,this._handler.onRemove(this)}},KCe=class extends di{constructor(t){super(!0),this._onChange=t,this._value="mouse",this._x=null,this._y=null,this.registerIncoming("pointer-move",n=>this._update(n.data))}_update(t){const n=t.native.pointerType==="touch"?"touch":"mouse",{x:i,y:r}=t;n===this._value&&this._x===i&&this._y===r||(this._value=n,this._x=i,this._y=r,this._onChange(n,i,r))}},XCe=class{constructor(t,n){this._observable=new ab,this._value=t,this._equalityFunction=n}get value(){return He(this._observable),this._value}set value(t){this._equalityFunction(t,this._value)||(this._value=t,this._observable.notify())}mutate(t){t(this._value),this._observable.notify()}};function Dm(e,t=jU){return new XCe(e,t)}let QCe=class extends di{get multiTouchActive(){return this._multiTouchActive.value}constructor(){super(!0),this._activeTouchPointerIds=new Set,this._multiTouchActive=Dm(!1),this._onPointerAdd=({data:t})=>{t.pointerType==="touch"&&(this._activeTouchPointerIds.add(t.native.pointerId),this._update())},this._onPointerRemove=({data:t})=>{t.pointerType==="touch"&&(this._activeTouchPointerIds.delete(t.native.pointerId),this._update())},this.registerIncoming("pointer-down",this._onPointerAdd),this.registerIncoming("pointer-up",this._onPointerRemove),this.registerIncoming("pointer-capture-lost",this._onPointerRemove),this.registerIncoming("pointer-cancel",this._onPointerRemove)}_update(){this._multiTouchActive.value=this._activeTouchPointerIds.size>1}},eMe=class{constructor(t,n){this._owner=n,this._properties={},this._afterDispatchHandle=null;for(const i in t){const r=t[i],s=new r9(r,void 0,void 0,2,2);this._properties[i]={pool:s,acquired:[]}}this._afterDispatchHandle=Ade(()=>this._release())}destroy(){this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),this._afterDispatchHandle=null);for(const t in this._properties){const n=this._properties[t];for(const i of n.acquired)NN(i)||n.pool.release(i);n.pool.destroy(),n.pool=null,n.acquired=null}this._properties=null,this._owner=null}get(t){const n=this._owner._get(t),i=this._properties[t];let r=i.pool.acquire();for(i.acquired.push(r);r===n;)i.acquired.push(r),r=i.pool.acquire();return r}_release(){for(const t in this._properties){const n=this._properties[t];let i=0;for(const r of n.acquired)NN(r)?n.acquired[i++]=r:n.pool.release(r);n.acquired.length=i}}},Os=class extends Ce{constructor(t){super(t),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._handlersPriority=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=HCe,this._latestPointerType="mouse",this._propertiesPool=new eMe({latestPointerLocation:iMe},this),this.latestPointerLocation=null,this._paused=!1,this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const t=Object.keys(this._nameToGroup);for(const n of t)this.uninstallHandlers(n);this.eventSource.destroy(),this._currentPropagation=null,this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some(t=>t.handler.hasPendingInputs)}get latestPointerType(){return this._latestPointerType}get multiTouchActive(){return this._multiTouchHandler.multiTouchActive}get updating(){return this.hasPendingInputs||this._paused}installHandlers(t,n,i=oc.INTERNAL){if(this._nameToGroup[t]||n.length===0)return;const r={name:t,handlers:n.map(s=>({handler:s,active:!0,removed:!1,priorityIndex:0,groupPriority:i,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[t]=r;for(let s=r.handlers.length-1;s>=0;s--){const o=r.handlers[s];this._handlers.push(o),o.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(a,l,c,h,p)=>{this._emitInputEvent(o.priorityIndex+1,a,l,c,p,h)},setPointerCapture:(a,l)=>{this._setPointerCapture(r,o,a,l)},setEventCallback:a=>{o.eventCallback=a},setUninstallCallback:a=>{o.uninstallCallback=a},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}uninstallHandlers(t){const n=this._nameToGroup[t];n?(n.handlers.forEach(i=>{i.removed=!0,i.uninstallCallback?.()}),delete this._nameToGroup[t],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):re.getLogger(this).error("There is no InputHandler group registered under the name `"+t+"`")}hasHandlers(t){return this._nameToGroup[t]!==void 0}isModifierKeyDown(t){return this._activeKeyModifiers.has(t)}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;const t=new Set,n=new Set;this._handlersPriority=[];for(let i=this._handlers.length-1;i>=0;i--){const r=this._handlers[i];r.priorityIndex=i,this._handlersPriority.push(r)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let i=this._handlersPriority.length-1;i>=0;i--){const r=this._handlersPriority[i];r.priorityIndex=i;let s=r.handler.hasSideEffects;if(!s){for(const o of r.handler.outgoingEventTypes)if(t.has(o)){s=!0;break}}if(s)for(const o of r.handler.incomingEventMatches){t.add(o.eventType);for(const a of o.keyModifiers)WCe(a)||n.add(a)}r.active=s}this._sourceEvents=t,this._keyModifiers=n,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointer(t,n,i){this._latestPointerType=t;const r=this._get("latestPointerLocation");if(r==null||r.x!==n||r.y!==i){const s=this._propertiesPool.get("latestPointerLocation");s.x=n,s.y=i,this._set("latestPointerLocation",s)}}_onEventReceived(t,n){if(t==="pointer-capture-lost"){const s=n;this._pointerCaptures.delete(s.native.pointerId)}this._updateKeyModifiers(t,n);const i=this.test.timestamp!=null?this.test.timestamp:n.native?n.native.timestamp:void 0,r=n.native?n.native.cancelable:void 0;this._emitInputEventFromSource(t,n,i,r)}_updateKeyModifiers(t,n){if(!n)return;let i=!1;const r=()=>{i||(this._activeKeyModifiers=new Set(this._activeKeyModifiers),i=!0)},s=(a,l)=>{l&&!this._activeKeyModifiers.has(a)?(r(),this._activeKeyModifiers.add(a)):!l&&this._activeKeyModifiers.has(a)&&(r(),this._activeKeyModifiers.delete(a))};if(t==="key-down"||t==="key-up"){const a=n.key;this._keyModifiers.has(a)&&s(a,t==="key-down")}const o=n.native;s("Alt",!!o?.altKey),s("Control",!!o?.ctrlKey),s("Ctrl",!!o?.ctrlKey),s("Shift",!!o?.shiftKey),s("Meta",!!o?.metaKey),s("Primary",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerHandler=new KCe((t,n,i)=>this._setLatestPointer(t,n,i)),this._multiTouchHandler=new QCe,this.installHandlers("input-manager-logic",[this._latestPointerHandler,this._multiTouchHandler],oc.ALWAYS),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,oc.INTERNAL)}_setPointerCapture(t,n,i,r){const s=t.name+"-"+n.priorityIndex,o=this._pointerCaptures.get(i.pointerId)||new Set;this._pointerCaptures.set(i.pointerId,o),r?(o.add(s),o.size===1&&this.eventSource&&this.eventSource.setPointerCapture(i,!0)):o.has(s)&&(o.delete(s),o.size===0&&(this._pointerCaptures.delete(i.pointerId),this.eventSource&&this.eventSource.setPointerCapture(i,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(t=>!t.removed),this.updateDependencies()}_emitInputEventFromSource(t,n,i,r){this._emitInputEvent(0,t,n,i,r)}_emitInputEvent(t,n,i,r,s,o){const a=r!==void 0?r:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),l=s!==void 0&&s,c={event:new tMe(n,i,a,o||this._activeKeyModifiers,l),priorityIndex:t};this._currentPropagation?this._currentPropagation.events.push(c):this._doNewPropagation(c)}_doNewPropagation(t){this._currentPropagation={events:new bS,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:t.event.timestamp},this._currentPropagation.events.push(t),this._continuePropagation()}_continuePropagation(){this._paused=!1;const t=this._currentPropagation;if(t){for(;t.events.length>0;){const{event:n,priorityIndex:i}=t.events.pop(),r=n.data?.eventId;if(!(r!=null&&this._stoppedPropagationEventIds.has(r)))for(t.currentHandler=this._handlersPriority[i];t.currentHandler;){if(t.currentHandler.removed)t.needsHandlerGarbageCollect=!0;else{if(t.currentHandler.active&&!n.shouldStopPropagation()&&t.currentHandler.eventCallback?.(n),n.shouldStopPropagation()){r!=null&&this._stoppedPropagationEventIds.add(r);break}if(n.shouldPausePropagation(()=>this._continuePropagation()))return void this._pausePropagation({event:n,priorityIndex:t.currentHandler.priorityIndex+1})}t.currentHandler=this._handlersPriority[t.currentHandler.priorityIndex+1]}}t.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(t){const n=new bS;n.push(t);const i=this._currentPropagation;if(i){for(;i.events.length;)n.push(i.events.pop());i.events=n,i.currentHandler=null,this._paused=!0}}_compareHandlerPriority(t,n){if(t.handler.hasSideEffects!==n.handler.hasSideEffects)return t.handler.hasSideEffects?1:-1;if(t.groupPriority!==n.groupPriority)return t.groupPriority>n.groupPriority?-1:1;for(const i of t.handler.incomingEventMatches)for(const r of n.handler.incomingEventMatches){if(i.eventType!==r.eventType)continue;const s=i.keyModifiers.filter(o=>r.keyModifiers.includes(o));if(s.length===i.keyModifiers.length!=(s.length===r.keyModifiers.length))return i.keyModifiers.length>r.keyModifiers.length?-1:1}return t.priorityIndex>n.priorityIndex?-1:1}_sortHandlersPriority(t){const n=[];for(const i of t){let r=0;for(;r<n.length&&this._compareHandlerPriority(i,n[r])>=0;)r++;n.splice(r,0,i)}return n}get debug(){const t=n=>{const i=this._setPointerCapture;this._setPointerCapture=()=>{},n(),this._setPointerCapture=i};return{injectEvent:(n,i)=>{t(()=>this._onEventReceived(n,i))},disablePointerCapture:t}}};u([d({readOnly:!0})],Os.prototype,"hasPendingInputs",null),u([d({constructOnly:!0})],Os.prototype,"eventSource",void 0),u([d({constructOnly:!0})],Os.prototype,"recognizers",void 0),u([d()],Os.prototype,"_latestPointerType",void 0),u([d()],Os.prototype,"latestPointerType",null),u([d()],Os.prototype,"multiTouchActive",null),u([d({readOnly:!0})],Os.prototype,"latestPointerLocation",void 0),u([d()],Os.prototype,"_paused",void 0),u([d({readOnly:!0})],Os.prototype,"updating",null),Os=u([k("esri.views.input.InputManager")],Os);let tMe=class{constructor(t,n,i,r,s){this.type=t,this.data=n,this.timestamp=i,this.modifiers=r,this.cancelable=s,this._propagationState=Gu.NONE,this._resumeCallback=null}stopPropagation(){this._propagationState|=Gu.STOPPED}shouldStopPropagation(){return!!(this._propagationState&Gu.STOPPED)}async(t){this._propagationState|=Gu.PAUSED;const n=(i,r)=>{this._propagationState&=~Gu.PAUSED;const s=this._resumeCallback;if(this._resumeCallback=null,s&&s(),r)throw i;return i};return(typeof t=="function"?t():t).then(i=>n(i,!1),i=>n(i,!0))}shouldPausePropagation(t){return!!(this._propagationState&Gu.PAUSED)&&(this._resumeCallback=t,!0)}preventDefault(){this.data.native.preventDefault()}};var Gu;(function(e){e[e.NONE=0]="NONE",e[e.STOPPED=1]="STOPPED",e[e.PAUSED=2]="PAUSED"})(Gu||(Gu={}));const oc={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3};let nMe=class{};const iMe=nMe;function ru(e){return e!=null&&"open"in e&&"declaredClass"in e}function N4(e){return e!=null&&"declaredClass"in e&&"dockOptions"in e}const rMe=e=>{let t=class extends e{constructor(){super(...arguments),this._popupSetupTask=null,this.popup={},this.popupEnabled=!0}initialize(){this.addHandles([me(()=>[this.ui,this.popup],([n,i],r)=>{const s="popup",o="manual";if(r){const[a,l]=r;a&&ru(l)&&(l.view=null,N4(l)&&a.remove(l,s))}n&&ru(i)&&(i.view=this,N4(i)&&n.add(i,{key:s,position:o,internal:!0}))},mt),this.on("click",n=>{this.popup&&this.popupEnabled&&(n.pointerType!=="mouse"||n.button===0)&&(ru(this.popup)?this.popup.viewModel.handleViewClick(n):n.async(async()=>{await this.setupPopup(),ru(this.popup)&&!this.destroyed&&this.ready&&this.popupEnabled&&this.popup.viewModel.handleViewClick(n)}))},oc.WIDGET)]),yx(()=>this.ready&&this.popupEnabled&&!this.updating).then(()=>{J(()=>import("./Popup-wlYEmAnY.js").then(n=>n.P),__vite__mapDeps([200,201,30,202,203,183,3,195,83,81,82,17,18,16,19,13,2,204,205,206]))})}destroy(){this.destroyed||this.closePopup()}async openPopup(n){if(ru(this.popup))return this.popup.open(n);try{if(await this.setupPopup(),!this.popup)return void re.getLogger(this).error(new B("view:null-popup","Popup is null and can't be opened"));this.popup.open(n)}catch{}}closePopup(){this._popupSetupTask?.abort(),ru(this.popup)&&this.popup.close()}async fetchPopupFeatures(n,i){return await this.when(),this._popupHitsToFeatures(await this._getPopupHits(n,i),i)}async setupPopup(){if(this._popupSetupTask?.abort(),this.popup&&!ru(this.popup))return this._popupSetupTask=mb(async n=>{const{default:i}=await J(()=>import("./Popup-wlYEmAnY.js").then(s=>s.P),__vite__mapDeps([200,201,30,202,203,183,3,195,83,81,82,17,18,16,19,13,2,204,205,206]));if(fn(n),!this.popup||ru(this.popup))return;const r=this.popup;delete r.open,delete r.close,this.popup=new i(r)}),this._popupSetupTask.promise}async _popupHitsToFeatures({location:n,hits:i},r){const s=[],o=[];let a=!1;const l=lde(r,H("popup-view-fetch-timeout")??oMe),c=m=>{const y=new sMe(m);return o.push(y),s.push(y.promise),y},h=m=>{const y=o.at(-1);return y&&y.layerView===m&&!a?y:c(m)};for(const m of i)"graphic"in m?(h(m.layerView).graphics.push(m.graphic),a=!1):(s.push(m.layerView.fetchPopupFeaturesAtLocation(m.mapPoint,l)),a=!0);o.map(m=>m.resolve(l));const p=ade(s).then(m=>m.filter(y=>!!y).flat());return{pendingFeatures:s,allGraphicsPromise:p,location:n}}async _getPopupHits(n,i){const{hits:r,location:s}=await this.popupHitTest(n);fn(i);const o=[];for(const a of r)if("graphic"in a){if(this._isValidPopupGraphic(a.graphic,i)){const l=this._isValidPopupGraphicsLayerView(a.layerView)?a.layerView:void 0;o.push({graphic:a.graphic,layerView:l})}}else this._isValidPopupLocationLayerView(a.layerView)&&o.push({mapPoint:a.mapPoint,layerView:a.layerView});return{hits:o,location:s}}_isValidPopupGraphic(n,i){return n&&!!n.getEffectivePopupTemplate(i?.defaultPopupTemplateEnabled)}_isValidPopupGraphicsLayerView(n){return!n||(!("layer"in n)||!n.suspended)&&"fetchPopupFeaturesFromGraphics"in n}_isValidPopupLocationLayerView(n){return(!("layer"in n)||!n.suspended)&&"fetchPopupFeaturesAtLocation"in n}};return u([d()],t.prototype,"popup",void 0),u([d()],t.prototype,"popupEnabled",void 0),t=u([k("esri.views.PopupView")],t),t};let sMe=class{constructor(t){this.layerView=t,this._resolver=bs(),this.graphics=[]}get promise(){return this._resolver.promise}resolve(t){const{layerView:n,graphics:i,_resolver:r}=this;if(!n)return r.resolve(i),r.promise;let s;return n.fetchPopupFeaturesFromGraphics(i,t).catch(o=>(s=o,null)).then(o=>{o?r.resolve(o):r.reject(s)}),r.promise}};const oMe=5e3;let Lv=class extends we{constructor(t){super(t),this.addHandles([this.on("before-add",n=>{n.item==null&&n.preventDefault()}),this.on("after-add",n=>this._own(n.item)),this.on("after-remove",n=>this._release(n.item))])}get owner(){return this._get("owner")}set owner(t){t!==this._get("owner")&&(this._releaseAll(),this._set("owner",t),this._ownAll())}_ownAll(){for(const t of this.items)this._own(t)}_releaseAll(){for(const t of this.items)this._release(t)}_createNewInstance(t){return this.itemType?new(we.ofType(this.itemType.Type))(t):new we(t)}};function D4(e,t){return{type:e,cast:dq,set(n){const i=Nl(n,this._get(t),e);i.owner=this,this._set(t,i)}}}u([d()],Lv.prototype,"owner",null),Lv=u([k("esri.core.support.OwningCollection")],Lv);let RS=class extends Lv{constructor(t){super(t),this.addHandles(this.on("before-add",n=>{n.item!=null&&n.item.parent===this.owner&&(re.getLogger(this).warn("Analysis inside the collection must be unique. Not adding this element again."),n.preventDefault())}))}_own(t){t.parent=this.owner}_release(t){t.parent=null}};RS=u([k("esri.support.AnalysesCollection")],RS);let Ov=class extends Lv{_own(t){t.layer&&"remove"in t.layer&&t.layer!==this.owner&&t.layer.remove(t),t.layer=this.owner}_release(t){t.layer===this.owner&&(t.layer=null)}};u([oL({Type:gc,ensureType:Jn(gc)})],Ov.prototype,"itemType",void 0),Ov=u([k("esri.support.GraphicsCollection")],Ov);let Au=class extends Ce{constructor(t){super(t),this.view=null,this.baseLayerViews=new we,this.referenceLayerViews=new we,this._loadingHandle=me(()=>this.view?.map?.basemap,n=>{n&&n.load().catch(()=>{})},mt)}destroy(){this._set("view",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null);for(const t of this.baseLayerViews)t.destroy();this.baseLayerViews.length=0;for(const t of this.referenceLayerViews)t.destroy();this.referenceLayerViews.length=0}get suspended(){return this.view?.suspended??!0}get updating(){return this.view?.suspended?!1:!!this.view?.map?.basemap?.loaded&&(this.baseLayerViews.some(n=>n.updating)||this.referenceLayerViews.some(n=>n.updating))}};u([d({constructOnly:!0})],Au.prototype,"view",void 0),u([d({readOnly:!0})],Au.prototype,"baseLayerViews",void 0),u([d({readOnly:!0})],Au.prototype,"referenceLayerViews",void 0),u([d({readOnly:!0})],Au.prototype,"suspended",null),u([d({type:Boolean,readOnly:!0})],Au.prototype,"updating",null),Au=u([k("esri.views.BasemapView")],Au);const aMe=Au;function lMe(e){return"tryRecycleWith"in e}function uMe(e){return e!=null&&typeof e=="object"&&"layerViews"in e}let cMe=class{constructor(t,n,i){this.layer=t,this.view=n,this.layerViewImporter=i,this._controller=new AbortController,this._deferred=bs(),this._started=!1,this.done=!1,this.promise=this._deferred.promise,Ws(this._controller.signal,()=>{const r=new B("cancelled:layerview-create","layerview creation cancelled",{layer:t});this._deferred.reject(r)})}tryRecycle(t){if(!this.done||!this.layerView||!lMe(this.layerView))return null;const n=this.layer.type,i=this._controller.signal;for(let r=0;r<t.length;r++){const s=t[r];if(s.type!==n)continue;const o=this.layerView.tryRecycleWith(s,{signal:i});if(o){t.splice(r,1),this.layer=s;const a=this.layerView,l=a.view;return this.promise=Promise.race([o.then(()=>(fn(this._controller.signal),s.emit("layerview-destroy",{view:l,layerView:a}),l.emit("layerview-destroy",{view:l,layerView:a}),s.emit("layerview-create",{view:l,layerView:a}),l.emit("layerview-create",{view:l,layerView:a}),a)),new Promise((c,h)=>Ws(this._controller.signal,()=>h(Ut())))]),this.promise}}return null}destroy(){this._controller.abort();const{layerView:t}=this;if(t){const{layer:n,view:i}=this;n.emit("layerview-destroy",{view:i,layerView:t}),i.emit("layerview-destroy",{layer:n,layerView:t})}this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null,this._map=null}async start(){if(this._started)return;this._started=!0;const{_controller:{signal:t},layer:n,view:i}=this;this._map=i.map;try{let r,s;if(await n.load({signal:t}),n.prefetchResources&&await n.prefetchResources({signal:t}),hMe(n))r=await n.createLayerView(i,{signal:t});else{if(!this.layerViewImporter.hasLayerViewModule(n))throw new B("layer:view-not-supported","No layerview implementation was found");const l=await this.layerViewImporter.importLayerView(n);fn(t),r="default"in l?new l.default({layer:n,view:i}):new l({layer:n,view:i})}const o=()=>{s=on(s),r.destroyed||r.destroy(),r.layer=null,r.parent=null,r.view=null,this.done=!0};s=Ws(t,o),fn(t);try{await r.when()}catch(l){throw o(),l}if(!this._map?.allLayers?.includes(n))return o(),void this._deferred.reject(new B("view:no-layerview-for-layer","The layer has been removed from the map",{layer:n}));this.layerView=r,n.emit("layerview-create",{view:i,layerView:r}),i.emit("layerview-create",{layer:n,layerView:r}),this.done=!0,this._deferred.resolve(r)}catch(r){n.emit("layerview-create-error",{view:i,error:r}),i.emit("layerview-create-error",{layer:n,error:r}),this.done=!0,this._deferred.reject(new B("layerview:create-error","layerview creation failed",{layer:n,error:r}))}}},Rs=class extends Ce{constructor(t){super(t),this._layerLayerViewInfoMap=new Map,this._recyclingInfoMap=new Map,this._watchUpdatingTracking=new _h,this.supportsGround=!0,this._preloadLayerViewModules=()=>{const n=this.view.map?.allLayers;if(n)for(const i of n)this.layerViewImporter.hasLayerViewModule(i)&&this.layerViewImporter.importLayerView(i)},this._reschedule=()=>this.destroyed?Promise.reject():(this._workPromise==null&&(this._workPromise=bs(),this._workPromise.promise.catch(()=>{})),this.removeHandles("reschedule"),this.addHandles(ib(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{if(this.destroyed)return;const n=this.view.map;if(this._map!==n&&(this.clear(),this._map=n),this._workPromise==null)return void this.notifyChange("updating");this.removeHandles("reschedule"),this.removeHandles("collection-change");const i=new Set,r=[],s=this.view.ready,o=l=>{if(l!=null){for(const c of l)if(c){i.add(c);const h=this._layerLayerViewInfoMap.get(c);h&&s?h.start():h||this._recyclingInfoMap.has(c)||r.push(c),"layers"in c&&c.layers&&o(c.layers)}}};for(const l of this._rootCollectionNames)o(wr(this,l));for(const[l,c]of this._layerLayerViewInfoMap)if(!i.has(l)){this._layerLayerViewInfoMap.delete(c.layer);const h=c.tryRecycle(r);h?(this.notifyChange("updating"),this._recyclingInfoMap.set(c.layer,c),h.then(()=>{this.notifyChange("updating"),this._recyclingInfoMap.delete(c.layer),this._layerLayerViewInfoMap.set(c.layer,c),this._reschedule()}).catch(()=>{this.notifyChange("updating"),this._recyclingInfoMap.delete(c.layer),c.destroy(),this._reschedule()})):c.destroy()}for(const[l,c]of this._recyclingInfoMap)i.has(l)||(this.notifyChange("updating"),this._recyclingInfoMap.delete(c.layer),c.destroy());for(const l of r)this._createLayerView(l);this._refreshCollections();const a=[n?.ground?.layers,n?.basemap?.baseLayers,n?.basemap?.referenceLayers,n?.layers].filter(l=>!!l);i.forEach(l=>"layers"in l&&a.push(l.layers)),this.addHandles(a.map(l=>this._watchUpdatingTracking.addOnCollectionChange(()=>l,this._reschedule)),"collection-change"),this._workPromise.resolve(),this._workPromise=null}}initialize(){this.addHandles([Tr(()=>this.view?.map?.allLayers,"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),me(()=>{const t=this.view,n=t?.map;return[n?.basemap,n?.ground,n?.layers,t?.ready]},()=>this._reschedule(),Fr)]),this._preloadLayerViewModules(),this._reschedule()}destroy(){this.clear(),TT(this._recyclingInfoMap),TT(this._layerLayerViewInfoMap),this._watchUpdatingTracking.destroy(),this._map=null,this._workPromise!=null&&(this._workPromise.reject(Ut()),this._workPromise=null)}get _layersToLayerViews(){const t=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];return this.supportsGround&&t.push(["view.map.ground.layers","view.groundView.layerViews"]),new Map(t)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return this._workPromise!=null||this._watchUpdatingTracking.updating||Vde(this._layerLayerViewInfoMap,t=>!t.done)||this._recyclingInfoMap.size>0}get updatingRemaining(){let t=0;for(const n of this._layerLayerViewInfoMap.values())n.done||++t;return t}clear(){this.destroyed||(TT(this._layerLayerViewInfoMap),this._refreshCollections())}async whenLayerView(t){if(await this._reschedule(),!this._layerLayerViewInfoMap.has(t)){if(this._recyclingInfoMap.has(t))return this._recyclingInfoMap.get(t).promise;throw new B("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:t})}return this._layerLayerViewInfoMap.get(t).promise}isCreatingLayerViewsForLayer(t,n){this.commitProperty("updatingRemaining");const i=this._layerLayerViewInfoMap.get(t);if(!i?.done)return!0;const r=i.layerView;return!(!r||!n||r.parent===n)||!!(i.done&&r&&"layers"in t&&t.layers?.length)&&t.layers.some(s=>this.isCreatingLayerViewsForLayer(s,r))}_refreshCollections(){for(const[t,n]of this._layersToLayerViews)this._populateLayerViewsOwners(wr(this,t),wr(this,n),this.view);this.notifyChange("updating"),this.notifyChange("updatingRemaining")}_populateLayerViewsOwners(t,n,i){if(!t||!n)return void(n&&n.removeAll());let r=0;for(const s of t){const o=this._layerLayerViewInfoMap.get(s);if(!o?.layerView)continue;const a=o.layerView;a.layer=s,a.parent=i,n.at(r)!==a&&n.splice(r,0,a),"layers"in s&&uMe(a)&&this._populateLayerViewsOwners(s.layers,a.layerViews,a),r+=1}r<n.length&&n.splice(r,n.length)}_createLayerView(t){t.load().catch(()=>{}),this.layerViewImporter.hasLayerViewModule(t)&&this.layerViewImporter.importLayerView(t);const n=new cMe(t,this.view,this.layerViewImporter);n.promise.then(()=>this._refreshCollections(),i=>{i&&(ur(i)||i.name==="cancelled:layerview-create")||re.getLogger(this).error(`Failed to create layerview for layer title:'${t.title??"no title"}', id:'${t.id??"no id"}' of type '${t.type}'.`,{layer:t,error:i}),this._refreshCollections()}),this._layerLayerViewInfoMap.set(t,n),this.view.ready&&n.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}};u([d()],Rs.prototype,"_workPromise",void 0),u([d({readOnly:!0})],Rs.prototype,"_watchUpdatingTracking",void 0),u([d({readOnly:!0})],Rs.prototype,"_layersToLayerViews",null),u([d({readOnly:!0})],Rs.prototype,"_rootCollectionNames",null),u([d()],Rs.prototype,"layerViewImporter",void 0),u([d()],Rs.prototype,"supportsGround",void 0),u([d({readOnly:!0})],Rs.prototype,"updating",null),u([d({readOnly:!0})],Rs.prototype,"updatingRemaining",null),u([d({constructOnly:!0})],Rs.prototype,"view",void 0),Rs=u([k("esri.views.LayerViewManager")],Rs);const dMe=Rs;function hMe(e){return e.createLayerView!==YL.prototype.createLayerView}let os=class extends Ce{constructor(t){super(t),this.factor=1.5,this.offset=Si(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0}get version(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}};u([d({type:Number})],os.prototype,"factor",void 0),u([d({nonNullable:!0})],os.prototype,"offset",void 0),u([d()],os.prototype,"position",void 0),u([d({type:Number,range:{min:0}})],os.prototype,"size",void 0),u([d()],os.prototype,"maskUrl",void 0),u([d()],os.prototype,"maskEnabled",void 0),u([d()],os.prototype,"overlayUrl",void 0),u([d()],os.prototype,"overlayEnabled",void 0),u([d({readOnly:!0})],os.prototype,"version",null),u([d({type:Boolean})],os.prototype,"visible",void 0),os=u([k("esri.views.Magnifier")],os);const eJ=os;let um=class{constructor(t){this._observable=new ab,this._map=new Map(t)}get size(){return He(this._observable),this._map.size}clear(){this._map.size>0&&(this._map.clear(),this._observable.notify())}delete(t){const n=this._map.delete(t);return n&&this._observable.notify(),n}entries(){return He(this._observable),this._map.entries()}forEach(t,n){He(this._observable),this._map.forEach((i,r)=>t.call(n,i,r,this),n)}get(t){return He(this._observable),this._map.get(t)}has(t){return He(this._observable),this._map.has(t)}keys(){return He(this._observable),this._map.keys()}set(t,n){return this._map.set(t,n),this._observable.notify(),this}values(){return He(this._observable),this._map.values()}[Symbol.iterator](){return He(this._observable),this._map[Symbol.iterator]()}[Symbol.dispose](){this._observable.destroy()}get[Symbol.toStringTag](){return this._map[Symbol.toStringTag]}};function Rw(e){return!!(e!=null&&typeof e=="object"&&"createQuery"in e&&e.createQuery&&"on"in e&&e.on)}let la=class extends Ks.EventedAccessor{constructor(t){super(t),this._selectionMap=new um,this._sources=new we,this._trashCan=[],this._layerEditHandles=new we,this._vizTaskId=0,this.showHighlight=!0,this.highlightName="default"}initialize(){this.addHandles([me(()=>[this.view,this.showHighlight],()=>this._refreshVisualization()),Tr(()=>this.sources,"change",n=>{const i=this._selectionMap;for(const r of n.removed)i.delete(r);this._refreshListeners(),this._refreshVisualization()},{onListenerAdd:()=>this._refreshListeners()})]);const t=new we;this.view.when().then(()=>{this.view.map&&(this.view.map.allLayers.flatten(n=>"sublayers"in n&&n.sublayers?n.sublayers:null).forEach(n=>{(Rw(n)&&!LSe(n)||wd(n))&&t.add(n)}),this.sources=t)})}destroy(){this._layerEditHandles.drain(on)}get selections(){return Array.from(this._selectionMap.entries()).map(t=>{const[n,i]=t;return{layer:n,selection:[...i.selection]}})}get count(){let t=0;for(const n of this._selectionMap.values())t+=n.selection.length;return t}get hasSelection(){return this.count>0}get sources(){return this._sources}set sources(t){Nl(t,this._sources)}async getSelectedFeatures(t,n={},i="layerView"){const{view:r,selections:s}=this,o=(t!==void 0?s.filter(a=>t.includes(a.layer)):s).filter(a=>a.selection.length>0).map(async a=>{const{layer:l,selection:c}=a,h=wd(l)?l.parent:l;if(h==null||!F4(h))return null;if(i==="layer")return j4(h,c,n);if(V4(h))return null;const p=await r.whenLayerView(h).catch(()=>null);return p?j4(p,c,n):null});return(await Promise.all(o)).filter(a=>a!=null)}updateSelection(t){const n=new Map;for(const[s,o]of this._selectionMap)n.set(s,[...o.selection]);let i=!1;const r=t.current.concat(t.added);for(const s of r){const o=s.sourceLayer,a=s.getObjectId();if(this.sources.includes(o)&&(Rw(o)||wd(o))&&a!==null){const l=rb(n,o,()=>[]);l.includes(a)||(l.push(a),i=!0)}}for(const s of t.removed){const o=s.sourceLayer,a=s.getObjectId();if(this.sources.includes(o)&&(Rw(o)||wd(o))&&a!==null){const l=n.get(o),c=l?.indexOf(a);c!==void 0&&c>=0&&(l?.splice(c,1),i=!0)}}if(i){const{_selectionMap:s,_trashCan:o}=this,a=[];for(const[l,c]of n){const h=s.get(l);h!==void 0&&o.push(h),s.set(l,{selection:c}),a.push({layer:l,selection:c,...gN(h!==void 0?h.selection:[],c)})}this._onSelectionChange(a)}}setSelection(t,n){this._setSelection(t,n)}getSelection(t){return this._selectionMap.get(t)?.selection}appendToSelection(t,n){const i=this._selectionMap.get(t),r=i!==void 0?[...i.selection]:[];for(const s of n)r.includes(s)||r.push(s);this._setSelection(t,r)}removeFromSelection(t,n){const i=this._selectionMap.get(t);if(!i)return;const r=[];for(const s of i.selection)n.includes(s)||r.push(s);this._setSelection(t,r)}toggleInSelection(t,n){const i=this._selectionMap.get(t);if(!i||i.selection.length===0)return void this._setSelection(t,n);const r=new Set(i.selection),s=new Set(n),o=xde(r,s);this._setSelection(t,Array.from(o))}clear(){const t=this._selectionMap.values();this._trashCan.push(...t);const n=[];for(const[i,r]of this._selectionMap.entries())n.push({layer:i,added:[],removed:[...r.selection],selection:[]});this._selectionMap.clear(),this._onSelectionChange(n)}_onSelectionChange(t){this._refreshVisualization(),this.emit("selection-change",{view:this.view,changes:t})}_refreshVisualization(){if(this.view==null||this.sources==null)return;for(this._vizTaskId++;this._trashCan.length>0;)this._trashCan.pop()?.highlightHandle?.remove();const{sources:t,view:n,_selectionMap:i,showHighlight:r}=this,s=this._vizTaskId;for(const o of t){const a=i.get(o),l=wd(o)?o.parent:o;if(l!=null&&F4(l)){if(V4(l))continue;n.whenLayerView(l).then(c=>{a?.highlightHandle?.remove(),a!=null&&r&&s===this._vizTaskId&&"highlight"in c&&typeof c.highlight=="function"&&a.selection.length>0&&(a.highlightHandle=c.highlight(a.selection,this.highlightName))}).catch(()=>{a?.highlightHandle?.remove()})}}}_refreshListeners(){this._layerEditHandles.drain(on);for(const t of this.sources){const n=wd(t)?t.parent:t;if(n!=null&&Rw(n)){const i=n.on("edits",r=>{this._handleEditChanges(r,t)});this._layerEditHandles.push(i)}}}_handleEditChanges(t,n){if(t.deletedFeatures!==void 0&&t.deletedFeatures.length>0&&this._selectionMap.has(n)){const i=t.deletedFeatures.filter(r=>r.error==null).map(r=>r.objectId).filter(Ji);this.removeFromSelection(n,i)}}_setSelection(t,n){if(!this.sources.includes(t))throw new Error(`Cannot set selection on layer ${t.title} because it is not in 'sources'`);const i=this._selectionMap.get(t);if(i===void 0||!fMe(i,{selection:n})){i!==void 0&&this._trashCan.push(i),this._selectionMap.set(t,{selection:[...n]});const r={layer:t,selection:[...n],...gN(i!==void 0?i.selection:[],n)};this._onSelectionChange([r])}}};u([d({readOnly:!0,nonNullable:!0})],la.prototype,"selections",null),u([d({readOnly:!0,nonNullable:!0})],la.prototype,"count",null),u([d({constructOnly:!0,nonNullable:!0})],la.prototype,"view",void 0),u([d({readOnly:!0,nonNullable:!0})],la.prototype,"hasSelection",null),u([d()],la.prototype,"showHighlight",void 0),u([d()],la.prototype,"sources",null),u([d()],la.prototype,"highlightName",void 0),la=u([k("esri.views.SelectionManager")],la);const V4=e=>wd(e)?e.parent?.isTable===!0:e.isTable,pMe=e=>e.layer!==void 0,F4=e=>e?.when!==void 0,fMe=(e,t)=>{if(e==null&&t==null)return!0;if(e!=null&&t==null||e==null&&t!=null)return!1;if(e!=null&&t!=null&&e.selection!=null&&t.selection!=null){const n=[...e.selection],i=[...t.selection];if(n.length!==i.length)return!1;n.sort(),i.sort();for(let r=0;r<n.length;r++)if(n[r]!==i[r])return!1}return!0},j4=async(e,t,n={})=>{let i;if(pMe(e)){const r=e;i=r===void 0?null:await r.queryFeatures(new Dl({...n,objectIds:t})).then(s=>({data:s,layer:e.layer}))}else{const r=e;i=r===void 0?null:await r.queryFeatures(new Dl({...n,objectIds:t})).then(s=>({data:s,layer:r}))}return i},mMe=la;let Xg=class extends ut.ClonableMixin(Ce){constructor(t){super(t),this.accentColor=new he([255,127,0]),this.textColor=new he([255,255,255])}};u([d({type:he,nonNullable:!0})],Xg.prototype,"accentColor",void 0),u([d({type:he,nonNullable:!0})],Xg.prototype,"textColor",void 0),Xg=u([k("esri.views.Theme")],Xg);const tA=Xg;var z4;(function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right"})(z4||(z4={}));const tJ=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],nJ={};function iJ(e){return!!nJ[e]}function yMe(e){for(const t of e)if(!iJ(t))return!1;return!0}tJ.forEach(e=>{nJ[e]=!0});let rJ=class{constructor(t){this._handlers=new Map,this._counter=0,this._handlerCounts=new Map,this.view=t,this.inputManager=null}connect(t){t&&this.disconnect(),this.inputManager=t,this._handlers.forEach(({handler:n,priority:i},r)=>this.inputManager?.installHandlers(r,[n],i))}disconnect(){this.inputManager&&this._handlers.forEach((t,n)=>this.inputManager?.uninstallHandlers(n)),this.inputManager=null}destroy(){this.disconnect(),this._handlers.clear(),this.view=null}on(t,n,i,r){const s=Array.isArray(t)?t:t.split(",");if(!yMe(s))return s.some(iJ)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;let o,a;Array.isArray(n)?a=n:(o=n,a=[]),typeof i=="function"?o=i:r=i,r=r??oc.DEFAULT;const l=this._createUniqueGroupName(),c=new gMe(this.view,s,a,o);this._handlers.set(l,{handler:c,priority:r});for(const h of s){const p=this._handlerCounts.get(h)||0;this._handlerCounts.set(h,p+1)}return this.inputManager&&this.inputManager.installHandlers(l,[c],r),St(()=>this._removeHandler(l,s))}hasHandler(t){return!!this._handlerCounts.get(t)}_removeHandler(t,n){if(this._handlers.has(t)){this._handlers.delete(t);for(const i of n){const r=this._handlerCounts.get(i);r===void 0||(r===1?this._handlerCounts.delete(i):this._handlerCounts.set(i,r-1))}}this.inputManager&&this.inputManager.uninstallHandlers(t)}_createUniqueGroupName(){return this._counter+=1,`viewEvents_${this._counter}`}},gMe=class extends di{constructor(t,n,i,r){super(!0),this._latestDragStart=void 0,this.view=t;for(const s of n)switch(s){case"click":this.registerIncoming("click",i,o=>r(wMe(t,o)));break;case"double-click":this.registerIncoming("double-click",i,o=>r(_Me(t,o)));break;case"immediate-click":this.registerIncoming("immediate-click",i,o=>r(SMe(t,o)));break;case"immediate-double-click":this.registerIncoming("immediate-double-click",i,o=>r(xMe(t,o)));break;case"hold":this.registerIncoming("hold",i,o=>r($Me(t,o)));break;case"drag":this.registerIncoming("drag",i,o=>{const a=this._wrapDrag(o);a&&r(a)});break;case"key-down":this.registerIncoming("key-down",i,o=>r(TMe(o)));break;case"key-up":this.registerIncoming("key-up",i,o=>r(EMe(o)));break;case"pointer-down":this.registerIncoming("pointer-down",i,o=>r(Dy(o,"pointer-down")));break;case"pointer-move":this.registerIncoming("pointer-move",i,o=>r(Dy(o,"pointer-move")));break;case"pointer-up":this.registerIncoming("pointer-up",i,o=>r(Dy(o,"pointer-up")));break;case"pointer-drag":this.registerIncoming("pointer-drag",i,o=>r(IMe(o)));break;case"mouse-wheel":this.registerIncoming("mouse-wheel",i,o=>r(CMe(o)));break;case"pointer-enter":this.registerIncoming("pointer-enter",i,o=>r(Dy(o,"pointer-enter")));break;case"pointer-leave":this.registerIncoming("pointer-leave",i,o=>r(Dy(o,"pointer-leave")));break;case"gamepad":this.registerIncoming("gamepad",i,o=>{r(MMe(o))});break;case"focus":this.registerIncoming("focus",i,o=>{r(vMe(o))});break;case"blur":this.registerIncoming("blur",i,o=>{r(bMe(o))})}}_wrapDrag(t){const n=t.data,{x:i,y:r}=n.center,{action:s,pointerType:o,button:a}=n;if(s==="start"&&(this._latestDragStart=n),!this._latestDragStart)return;const l=n.pointer.native,c=n.buttons,{cancelable:h,timestamp:p}=t,m={x:this._latestDragStart.center.x,y:this._latestDragStart.center.y};return s==="end"&&(this._latestDragStart=void 0),{type:"drag",action:s,x:i,y:r,origin:m,pointerType:o,button:a,buttons:c,radius:n.radius,angle:rH(n.angle),native:l,timestamp:p,cancelable:h,stopPropagation:()=>t.stopPropagation(),async:y=>t.async(y),preventDefault:()=>t.preventDefault()}}};function vMe(e){return{type:"focus",timestamp:e.timestamp,native:e.data.native,cancelable:e.cancelable,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}function bMe(e){return{type:"blur",timestamp:e.timestamp,native:e.data.native,cancelable:e.cancelable,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}function wMe(e,t){const{pointerType:n,button:i,buttons:r,x:s,y:o,native:a,eventId:l}=t.data,{cancelable:c,timestamp:h}=t;return{type:"click",pointerType:n,button:i,buttons:r,x:s,y:o,native:a,timestamp:h,screenPoint:Si(s,o),mapPoint:kb(e,s,o),eventId:l,cancelable:c,stopPropagation:()=>t.stopPropagation(),async:p=>t.async(p),preventDefault:()=>t.preventDefault()}}function _Me(e,t){const{pointerType:n,button:i,buttons:r,x:s,y:o,native:a,eventId:l}=t.data,{cancelable:c,timestamp:h}=t;return{type:"double-click",pointerType:n,button:i,buttons:r,x:s,y:o,native:a,timestamp:h,mapPoint:kb(e,s,o),eventId:l,cancelable:c,stopPropagation:()=>t.stopPropagation(),async:p=>t.async(p),preventDefault:()=>t.preventDefault()}}function SMe(e,t){const{pointerType:n,button:i,buttons:r,x:s,y:o,native:a,eventId:l}=t.data,c=a.pointerId,{cancelable:h,timestamp:p}=t;return{type:"immediate-click",pointerId:c,pointerType:n,button:i,buttons:r,x:s,y:o,native:a,timestamp:p,mapPoint:kb(e,s,o),eventId:l,cancelable:h,stopPropagation:()=>t.stopPropagation(),async:m=>t.async(m),preventDefault:()=>t.preventDefault()}}function xMe(e,t){const{pointerType:n,button:i,buttons:r,x:s,y:o,native:a,eventId:l}=t.data,c=a.pointerId,{cancelable:h,timestamp:p}=t;return{type:"immediate-double-click",pointerId:c,pointerType:n,button:i,buttons:r,x:s,y:o,native:a,timestamp:p,mapPoint:kb(e,s,o),eventId:l,cancelable:h,stopPropagation:()=>t.stopPropagation(),async:m=>t.async(m),preventDefault:()=>t.preventDefault()}}function $Me(e,t){const{pointerType:n,button:i,buttons:r,x:s,y:o,native:a}=t.data,{cancelable:l,timestamp:c}=t;return{type:"hold",pointerType:n,button:i,buttons:r,x:s,y:o,native:a,timestamp:c,mapPoint:kb(e,s,o),cancelable:l,stopPropagation:()=>t.stopPropagation(),async:h=>t.async(h),preventDefault:()=>t.preventDefault()}}function kb(e,t,n){return e.toMap(Si(t,n),{exclude:[]})}function TMe(e){const{key:t,repeat:n,native:i}=e.data,{cancelable:r,timestamp:s}=e;return{type:"key-down",key:t,repeat:n,native:i,timestamp:s,cancelable:r,stopPropagation:()=>e.stopPropagation(),async:o=>e.async(o),preventDefault:()=>e.preventDefault()}}function EMe(e){const{key:t,native:n}=e.data,{cancelable:i,timestamp:r}=e;return{type:"key-up",key:t,native:n,timestamp:r,cancelable:i,stopPropagation:()=>e.stopPropagation(),async:s=>e.async(s),preventDefault:()=>e.preventDefault()}}function Dy(e,t){const{x:n,y:i,button:r,buttons:s,native:o,eventId:a}=e.data,l=o.pointerId,c=o.pointerType,{cancelable:h,timestamp:p}=e;return{type:t,x:n,y:i,pointerId:l,pointerType:c,button:r,buttons:s,native:o,timestamp:p,eventId:a,cancelable:h,stopPropagation:()=>e.stopPropagation(),async:m=>e.async(m),preventDefault:()=>e.preventDefault()}}function IMe(e){const{x:t,y:n,buttons:i,native:r,eventId:s}=e.data.currentEvent,{button:o}=e.data.startEvent,a=e.data.startEvent.native.pointerId,l=e.data.startEvent.native.pointerType,c=e.data.action,h={x:e.data.startEvent.x,y:e.data.startEvent.y},{cancelable:p,timestamp:m}=e;return{type:"pointer-drag",x:t,y:n,pointerId:a,pointerType:l,button:o,buttons:i,action:c,origin:h,native:r,timestamp:m,eventId:s,cancelable:p,stopPropagation:()=>e.stopPropagation(),async:y=>e.async(y),preventDefault:()=>e.preventDefault()}}function CMe(e){const{cancelable:t,data:n,timestamp:i}=e,{x:r,y:s,deltaY:o,native:a}=n;return{type:"mouse-wheel",x:r,y:s,deltaY:o,native:a,timestamp:i,cancelable:t,stopPropagation:()=>e.stopPropagation(),async:l=>e.async(l),preventDefault:()=>e.preventDefault()}}function MMe(e){const{action:t,state:n,device:i}=e.data,{cancelable:r,timestamp:s}=e,{buttons:o,axes:a}=n;return{type:"gamepad",device:i,timestamp:s,action:t,buttons:o,axes:a,cancelable:r,stopPropagation:()=>e.stopPropagation(),async:l=>e.async(l),preventDefault:()=>e.preventDefault()}}var E0,B4,U4;(function(e){e[e.USER=0]="USER",e[e.MANAGER=1]="MANAGER"})(E0||(E0={})),function(e){e[e.None=0]="None",e[e.Unfocused=1]="Unfocused",e[e.Focused=2]="Focused",e[e.Unselected=4]="Unselected",e[e.Selected=8]="Selected",e[e.All=15]="All"}(B4||(B4={})),function(e){e[e.None=0]="None",e[e.Custom1=16]="Custom1",e[e.Custom2=32]="Custom2",e[e.Custom3=64]="Custom3",e[e.Custom4=128]="Custom4",e[e.Custom5=256]="Custom5",e[e.Custom6=512]="Custom6",e[e.Custom7=1024]="Custom7",e[e.Custom8=2048]="Custom8",e[e.Custom9=4096]="Custom9",e[e.Custom10=8192]="Custom10",e[e.Custom11=16384]="Custom11",e[e.Custom12=32768]="Custom12",e[e.All=65520]="All"}(U4||(U4={}));function kMe(e){return[e.on("before-add",t=>{const n=t.item;if(n==null||e.includes(n))return re.getLogger("esri.views.interactive.interactiveToolUtils").warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void t.preventDefault();n.onAdd()}),e.on("after-remove",t=>{const n=t.item;n.active&&(n.view.activeTool=null),n.destroy()})]}function nA(e){return e.visible&&e.getEditableFlag!=null&&e.getEditableFlag(E0.USER)&&e.getEditableFlag(E0.MANAGER)}function ua(e){return Si(e.x,e.y)}function sJ(e,t){const n=(e instanceof HTMLElement?e:e.surface)?.getBoundingClientRect();return n?Si(t.clientX-n.left,t.clientY-n.top):Si(0,0)}function oJ(e,t){return t instanceof Event?sJ(e,t):ua(t)}function aJ(e){if(e instanceof Event)return!0;if(typeof e=="object"&&"type"in e)switch(e.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;default:return!1}return!1}let AMe=class{constructor(){this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._externallyDragging=!1,this._revertToNullActiveTool=!1,this._cursor=null}get cursor(){return this._cursor}hasFocusedManipulators(){return this._grabbedManipulators.size>0||this._draggedManipulators.size>0}handleInputEvent(t,n){const i=()=>t.stopPropagation();switch(t.type){case"pointer-move":H4(t.pointerType)&&this._pointerLocations.set(t.pointerId,{x:t.x,y:t.y,pointerType:t.pointerType});break;case"drag":this._grabbedManipulators.size>0?this._stopDrag=!0:t.action==="start"?this._externallyDragging=!0:t.action==="end"&&(this._externallyDragging=!1),this._stopDrag&&(i(),t.action==="end"&&(this._stopDrag=!1));break;case"pointer-down":{if(!q4(t))break;const r=ua(t),s=Cp(r,t.pointerType,n.forEachTool);if(s==null)break;const o=s.manipulator,a=s.tool;o==null||a==null||!o.interactive||o.grabbable&&o.grabbableForEvent(t)||!o.grabbing||o.dragging||this._releaseManipulatorBeforeDragging(o,t,n),o!=null&&a!=null&&o.interactive&&o.grabbable&&o.grabbableForEvent(t)&&!o.grabbing&&(this._grabbedManipulators.set(t.pointerId,{manipulator:o,tool:a,start:r,pointerType:t.pointerType}),this._grabbedManipulators.size===1&&n.activeTool==null&&(this._revertToNullActiveTool=!0,n.setActiveTool(s.tool)),o.grabbing=!0,o.events.emit("grab-changed",{action:"start",pointerType:t.pointerType,screenPoint:r}),i());break}case"pointer-up":this._draggedManipulators.has(t.pointerId)||this._handlePointerEnd(t,n);break;case"pointer-drag":{if(!q4(t))break;const r=this._grabbedManipulators.get(t.pointerId),s=r?.manipulator,o=r?.tool;if(s==null||o==null)break;const a=ua(t);a.x=ws(a.x,0,n.view.width),a.y=ws(a.y,0,n.view.height);const l=r.start,c=this._draggedManipulators.get(t.pointerId);switch(t.action){case"start":case"update":t.action!=="update"&&this._grabbedManipulators.size!==1||(s.dragging=!0,c?s.events.emit("drag",{action:"update",start:l,screenPoint:a}):s.events.emit("drag",{action:"start",start:l,screenPoint:a,pointerType:t.pointerType}),this._draggedManipulators.set(t.pointerId,{tool:o,manipulator:s,start:l}));break;case"end":s.dragging=!1,c&&s.events.emit("drag",{action:"end",start:l,screenPoint:a}),this._draggedManipulators.delete(t.pointerId),this._handlePointerEnd(t,n)}i();break}case"immediate-click":{const r=ua(t),s=Cp(r,t.pointerType,n.forEachTool);if(PMe(t)||n.forEachTool(c=>{if((s==null||s.tool!==c||c.automaticManipulatorSelection)&&c.manipulators){let h=!1;c.manipulators.forEach(({manipulator:p})=>{p.selected&&(p.selected=!1,h=!0)}),h&&c.onManipulatorSelectionChanged&&c.onManipulatorSelectionChanged()}}),s==null)break;const{manipulator:o,tool:a}=s;if(!o.interactive)break;o.selectable&&a.automaticManipulatorSelection&&(o.selected=!o.selected,a.onManipulatorSelectionChanged&&a.onManipulatorSelectionChanged());const l=t.native.shiftKey;o.events.emit("immediate-click",{screenPoint:r,button:t.button,pointerType:t.pointerType,shiftKey:l,stopPropagation:i}),PT(o,i);break}case"click":{const r=ua(t),s=Cp(r,t.pointerType,n.forEachTool),o=s?.manipulator;if(o==null||!o.interactive)break;const a=t.native.shiftKey;o.events.emit(t.type,{screenPoint:r,button:t.button,pointerType:t.pointerType,shiftKey:a}),i();break}case"double-click":{const r=ua(t),s=Cp(r,t.pointerType,n.forEachTool),o=s!=null?s.manipulator:null;if(o==null||!o.interactive)break;const a=t.native.shiftKey;o.events.emit("double-click",{screenPoint:r,button:t.button,pointerType:t.pointerType,shiftKey:a,stopPropagation:i}),PT(o,i);break}case"immediate-double-click":{const r=ua(t),s=Cp(r,t.pointerType,n.forEachTool),o=s!=null?s.manipulator:null;if(o==null||!o.interactive)break;const a=t.native.shiftKey;o.events.emit("immediate-double-click",{screenPoint:r,button:t.button,pointerType:t.pointerType,shiftKey:a,stopPropagation:i}),t.pointerType==="mouse"&&PT(o,i);break}}this._onFocusChange(n.forEachTool)}_releaseManipulatorBeforeDragging(t,n,i){t.grabbing=!1,t.events.emit("grab-changed",{action:"end",pointerType:n.pointerType,screenPoint:ua(n)}),this._grabbedManipulators.forEach(({manipulator:r},s)=>{r===t&&this._grabbedManipulators.delete(s)}),this._afterManipulatorRelease(i.setActiveTool)}_handlePointerEnd(t,n){const i=this._grabbedManipulators.get(t.pointerId)?.manipulator;i!=null&&i.grabbing&&(i.grabbing=!1,i.events.emit("grab-changed",{action:"end",pointerType:t.pointerType,screenPoint:ua(t)}),this._grabbedManipulators.delete(t.pointerId),this._afterManipulatorRelease(n.setActiveTool))}_onFocusChange(t){this._updateCursor(),this._updateFocusedManipulatorTools(t)}_updateCursor(){this._grabbedManipulators.size>0?this._cursor=G4(this._grabbedManipulators)||"grabbing":this._hoveredManipulators.size>0?this._cursor=G4(this._hoveredManipulators)||"pointer":this._cursor=null}_updateFocusedManipulatorTools(t){const n=new Set,i=new Set;this._grabbedManipulators.forEach(({tool:r})=>{n.add(r)}),this._hoveredManipulators.forEach(({tool:r})=>{i.add(r)}),t(r=>{r.hasGrabbedManipulators=n.has(r),r.hasHoveredManipulators=i.has(r);const s=this._grabbedManipulators.values(),o=yce(s,({tool:a})=>a===r);r.firstGrabbedManipulator=o!=null?o.manipulator:null})}clearPointers(t,{forEachTool:n,setActiveTool:i},r=!0,s){const o=(a,l)=>a===t&&(s==null||s===l);this._grabbedManipulators.forEach(({tool:a,manipulator:l,pointerType:c},h)=>{o(a,l)&&(this._grabbedManipulators.delete(h),l.grabbing=!1,l.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:c}))}),this._draggedManipulators.forEach(({tool:a,manipulator:l},c)=>{o(a,l)&&(this._draggedManipulators.delete(c),l.dragging=!1,l.events.emit("drag",{action:"cancel"}))}),r&&this._hoveredManipulators.forEach(({tool:a,manipulator:l},c)=>{o(a,l)&&(this._hoveredManipulators.delete(c),l.hovering=!1)}),this._afterManipulatorRelease(i),this._onFocusChange(n)}updateHoveredStateFromKnownPointers(t){this._pointerLocations.forEach((n,i)=>{this._updateHoveredStateForPointerAtScreenPosition(Si(n.x,n.y),i,n.pointerType,t)})}handleHoverEvent(t,n){const i=t.type;i!=="pointer-up"&&i!=="immediate-click"&&i!=="pointer-move"||!H4(t.pointerType)||(i!=="pointer-up"&&this._externallyDragging?this._clearHoveredManipulatorStates(t.pointerId):this._updateHoveredStateForPointerAtScreenPosition(ua(t),t.pointerId,t.pointerType,n))}_updateHoveredStateForPointerAtScreenPosition(t,n,i,r){let s=Cp(t,i,r);const o=this._hoveredManipulators.get(n)?.manipulator;s==null||s.manipulator.interactive||(s=null),s!=null&&o===s.manipulator||(o!=null&&(o.hovering=!1),s!=null?(s.manipulator.hovering=!0,this._hoveredManipulators.set(n,s)):this._hoveredManipulators.delete(n),this._onFocusChange(r))}_afterManipulatorRelease(t){this._grabbedManipulators.size===0&&this._revertToNullActiveTool&&(t(null),this._revertToNullActiveTool=!1)}_clearHoveredManipulatorStates(t){this._hoveredManipulators.forEach(({manipulator:n},i)=>{t===i&&(this._hoveredManipulators.delete(t),n.hovering=!1)})}};function G4(e){for(const{manipulator:t}of e.values())if(t!=null&&t.interactive){if(t.grabbing&&t.grabCursor)return t.grabCursor;if(t.cursor)return t.cursor}return null}function Cp(e,t,n){let i=null;return n(r=>{if(r.manipulators==null||!nA(r))return!1;const s=r.manipulators.intersect(e,t);return s!=null&&(i={tool:r,manipulator:s},!0)}),i}function H4(e){return e==="mouse"}function q4(e){return e.pointerType!=="mouse"||e.button===0}function PMe(e){return!!e.native.shiftKey}function PT(e,t){e?.consumesClicks&&t()}const W4="attached",LT="tools",LMe=1e3;let ca=class extends Ce{constructor(t){super(t),this._updatingHandles=new _h,this._clock=Qm,this._manipulatorState=new AMe,this.tools=new we,this.cursor=null,this._interacting=!1,this._interactingTimeout=LMe,this._interactingTimeoutHandle=null,this._forEachTool=n=>{for(const i of this.tools.items)if(n(i))return}}initialize(){this.addHandles([this.view.on(tJ,t=>{this._handleInputEvent(t)},oc.TOOL),...kMe(this.tools),this.tools.on("before-add",({item:t})=>{this._updateToolEditableFlag(t)}),this.tools.on("before-remove",({item:t})=>{this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs),this._updateCursor()}),this.tools.on("change",()=>{this._refreshToolWatchers()})])}destroy(){this.activeTool=null,this.tools.drain(t=>t.destroy()),this._clearInteractingTimeout(),this._interacting=!1,this._updatingHandles.destroy()}get _manipulatorStateEventArgs(){return{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:t=>{this.activeTool=t},view:this.view}}set activeTool(t){if(t!=null&&!this.view.ready)return void re.getLogger(this).error("Cannot set active tool while view is not ready.");if(t===this.activeTool)return;const n=this.activeTool;this._set("activeTool",t),n?.deactivate(),t?.activate(),this._removeIncompleteTools(t);for(const i of this.tools){this._updateToolEditableFlag(i);const r=nA(i);this.activeTool!=null&&r||this._manipulatorState.clearPointers(i,this._manipulatorStateEventArgs,!r)}this._updateCursor()}get updating(){return this._updatingHandles.updating||this.tools.some(t=>t.updating)}get interacting(){return this._interacting}_clearInteractingTimeout(){this._interactingTimeoutHandle=on(this._interactingTimeoutHandle)}_startInteractingTimeout(){this._clearInteractingTimeout(),this._interactingTimeoutHandle=this._clock.setTimeout(()=>this._interacting=!1,this._interactingTimeout)}attach(){this.view.type==="3d"?this.addHandles([me(()=>{const{state:t}=this.view;return"camera"in t&&t.camera},()=>this._forEachManipulator(t=>t.onViewChange())),this.view.elevationProvider?.on("elevation-change",t=>this._forEachManipulator(n=>n.onElevationChange(t)))],W4):this.addHandles(me(()=>this.view.extent,()=>this._forEachManipulator(t=>t.onViewChange())))}detach(){this.activeTool=null,this.tools.removeAll(),this.removeHandles(W4),this._clearInteractingTimeout(),this._interacting=!1}_forEachManipulator(t){this._forEachTool(n=>{n.manipulators&&n.manipulators.forEach(({manipulator:i})=>t(i,n))})}_handleInputEvent(t){let n=!1;const i={...t,stopPropagation:()=>{n=!0,t.stopPropagation()}};this.activeTool!=null?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(i):this._forEachTool(r=>{!n&&r.visible&&r.handleInputEvent(i)}),!n&&t.type==="key-down"&&t.key==="Escape"&&this.activeTool&&(t.stopPropagation(),this.activeTool=null),this._manipulatorState.handleInputEvent(i,this._manipulatorStateEventArgs),n||this.activeTool==null||this.activeTool.handleInputEventAfter(i),this._manipulatorState.handleHoverEvent(i,this._forEachTool),this._updateCursor(),t.type==="pointer-move"&&(this._manipulatorState.hasFocusedManipulators()||this.activeTool)&&(this._interacting=!0,this._startInteractingTimeout())}_refreshToolWatchers(){this.removeHandles(LT),this._forEachTool(t=>{if(t instanceof Ce){const n=me(()=>[t.cursor,t.visible,t.editable],()=>{nA(t)||this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs),this._updateCursor()});this.addHandles(n,LT)}t.manipulators&&this.addHandles([t.manipulators.on("after-remove",n=>{this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs,!0,n.item.manipulator)}),t.manipulators.on("change",()=>{this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()})],LT)}),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}_updateToolEditableFlag(t){t.setEditableFlag?.(E0.MANAGER,this.activeTool==null||t===this.activeTool)}_updateCursor(){let t=this._manipulatorState.cursor;t==null&&this._forEachTool(n=>!(n.cursor==null||!n.visible)&&(t=n.cursor,!0)),this._get("cursor")!==t&&this._set("cursor",t)}_removeIncompleteTools(t){this.tools.filter(n=>(t==null||n!==t)&&!n.created&&n.removeIncompleteOnCancel).forEach(n=>{this.tools.remove(n)})}get test(){}};u([d({constructOnly:!0,nonNullable:!0})],ca.prototype,"view",void 0),u([d({value:null})],ca.prototype,"activeTool",null),u([d({readOnly:!0,type:we})],ca.prototype,"tools",void 0),u([d({readOnly:!0})],ca.prototype,"cursor",void 0),u([d({readOnly:!0})],ca.prototype,"updating",null),u([d()],ca.prototype,"_interacting",void 0),u([d({readOnly:!0})],ca.prototype,"interacting",null),ca=u([k("esri.views.ToolViewManager")],ca);const OMe=new he("cyan"),RMe=1,NMe=.25,DMe=new he("black"),VMe=.4,FMe=.2,oGe=.25,lJ="default",jMe="temporary",zMe=new he("yellow");var iA;let as=iA=class extends Ce{constructor(e){super(e),this.name=lJ,this.color=OMe.clone(),this.haloColor=null,this.haloOpacity=RMe,this.fillOpacity=NMe,this.shadowColor=DMe.clone(),this.shadowOpacity=VMe,this.shadowDifference=FMe,this.haloWidth=2.1,this.haloBlur=.8/this.haloWidth}equals(e){return this.color.equals(e.color)&&(this.haloColor||this.color).equals(e.haloColor||e.color)&&this.haloOpacity===e.haloOpacity&&this.fillOpacity===e.fillOpacity&&this.haloWidth===e.haloWidth&&this.haloBlur===e.haloBlur&&this.shadowColor.equals(e.shadowColor)&&this.shadowOpacity===e.shadowOpacity&&this.shadowDifference===e.shadowDifference}clone(){return new iA({...this,color:this.color.clone(),haloColor:this.haloColor?.clone(),shadowColor:this.shadowColor?.clone()})}assignFrom(e){this.color=e.color.clone(),this.haloColor=e.haloColor?.clone(),this.haloOpacity=e.haloOpacity,this.fillOpacity=e.fillOpacity,this.shadowColor=e.shadowColor.clone(),this.shadowDifference=e.shadowDifference,this.shadowOpacity=e.shadowOpacity,this.haloBlur=e.haloBlur,this.haloWidth=e.haloWidth}};u([d({type:String,constructOnly:!0,nonNullable:!0})],as.prototype,"name",void 0),u([d({type:he,nonNullable:!0})],as.prototype,"color",void 0),u([d({type:he})],as.prototype,"haloColor",void 0),u([d({nonNullable:!0})],as.prototype,"haloOpacity",void 0),u([d({nonNullable:!0})],as.prototype,"fillOpacity",void 0),u([d({type:he,nonNullable:!0})],as.prototype,"shadowColor",void 0),u([d({nonNullable:!0})],as.prototype,"shadowOpacity",void 0),u([d({nonNullable:!0})],as.prototype,"shadowDifference",void 0),u([d({nonNullable:!0})],as.prototype,"haloWidth",void 0),u([d({nonNullable:!0})],as.prototype,"haloBlur",void 0),as=iA=u([k("esri.views.support.HighlightOptions")],as);const ac=as;function BMe(){return new(we.ofType(ac))([new ac({name:lJ}),new ac({name:jMe,color:zMe})])}let bf=class extends Ce{constructor(t){super(),this.nativeIndex=null,this._detectedDeviceType="unknown",t.mapping==="standard"?this._detectedDeviceType="standard":UMe.test(t.id)?this._detectedDeviceType="spacemouse":this._detectedDeviceType="unknown",this.nativeIndex=t.index}get native(){const t=navigator.getGamepads?navigator.getGamepads():[];return this.nativeIndex!=null&&this.nativeIndex<t.length?t[this.nativeIndex]:null}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return GMe[this.deviceType]}};u([d({nonNullable:!0,readOnly:!0})],bf.prototype,"nativeIndex",void 0),u([d({type:String,readOnly:!0})],bf.prototype,"deviceType",null),u([d({type:Number,readOnly:!0})],bf.prototype,"axisThreshold",null),bf=u([k("esri.views.input.gamepad.GamepadInputDevice")],bf);const cO=bf,UMe=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),GMe={standard:.15,spacemouse:.025,unknown:0};let Qg=class extends Ce{constructor(...t){super(...t),this.devices=new we,this.enabledFocusMode="document"}};u([d({type:we.ofType(cO),readOnly:!0})],Qg.prototype,"devices",void 0),u([d({type:["document","view","none"]})],Qg.prototype,"enabledFocusMode",void 0),Qg=u([k("esri.views.input.gamepad.GamepadSettings")],Qg);const HMe=Qg;let d_=class extends Ce{constructor(){super(...arguments),this.gamepad=new HMe}};u([d({readOnly:!0})],d_.prototype,"gamepad",void 0),d_=u([k("esri.views.input.Input")],d_);const qMe=d_,uJ=()=>kt.respectPrefersReducedMotion&&window.matchMedia("(prefers-reduced-motion: reduce)").matches,OT=()=>d({type:["pan","rotate","zoom","none"],nonNullable:!0});let Ad=class extends Ce{constructor(t){super(t),this.dragPrimary="pan",this.dragSecondary="rotate",this.dragTertiary="zoom",this.mouseWheel="zoom"}};u([OT()],Ad.prototype,"dragPrimary",void 0),u([OT()],Ad.prototype,"dragSecondary",void 0),u([OT()],Ad.prototype,"dragTertiary",void 0),u([d({type:["zoom","none"],nonNullable:!0})],Ad.prototype,"mouseWheel",void 0),Ad=u([k("esri.views.navigation.NavigationActionMap")],Ad);const dO=Ad;let Pu=class extends Ce{constructor(t){super(t),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1}};u([d({type:Boolean,nonNullable:!0})],Pu.prototype,"enabled",void 0),u([d({type:cO})],Pu.prototype,"device",void 0),u([d({type:["pan","zoom"],nonNullable:!0})],Pu.prototype,"mode",void 0),u([d({type:["forward-down","forward-up"],nonNullable:!0})],Pu.prototype,"tiltDirection",void 0),u([d({type:Number,nonNullable:!0})],Pu.prototype,"velocityFactor",void 0),Pu=u([k("esri.views.navigation.gamepad.GamepadSettings")],Pu);const cJ=Pu;let Lu=class extends Ce{constructor(t){super(t),this.actionMap=new dO,this.browserTouchPanEnabled=!0,this.gamepad=new cJ,this.momentumEnabled=!0}get effectiveMomentumEnabled(){return this.momentumEnabled&&!uJ()}get mouseWheelZoomEnabled(){return this.actionMap.mouseWheel==="zoom"}set mouseWheelZoomEnabled(t){fce(re.getLogger(this),"mouseWheelZoomEnabled",{replacement:"actionMap.mouseWheel",version:"4.32",warnOnce:!0}),this.actionMap.mouseWheel=t?"zoom":"none"}};u([d({type:dO,nonNullable:!0})],Lu.prototype,"actionMap",void 0),u([d({type:Boolean})],Lu.prototype,"browserTouchPanEnabled",void 0),u([d({type:cJ,nonNullable:!0})],Lu.prototype,"gamepad",void 0),u([d({type:Boolean})],Lu.prototype,"momentumEnabled",void 0),u([d({type:Boolean})],Lu.prototype,"mouseWheelZoomEnabled",null),Lu=u([k("esri.views.navigation.Navigation")],Lu);const Hx=Lu;function pGe(e,t,n){const i=dJ(e),r=t,s=WMe(i,r,n);if(i){const o=Tb.deriveUnitFromSR(i,e.spatialReference).heightUnit;if(!n&&o!==i.heightUnit){const a=new B("layerview:unmatched-height-unit",`The vertical units of the layer must match the horizontal units (${o})`,{horizontalUnit:o});return new B("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:i,error:a})}}if(!ZMe(e)||s===Vr.Unsupported)return new B("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:i});switch(s){case Vr.Units:{const o=i?.heightUnit||"unknown",a=r?.heightUnit||"unknown",l=new B("layerview:incompatible-height-unit",`The vertical units of the layer (${o}) must match the vertical units of the scene (${a})`,{layerUnit:o,sceneUnit:a});return new B("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:i,sceneHeightModelInfo:r,error:l})}case Vr.HeightModel:{const o=i?.heightModel||"unknown",a=r?.heightModel||"unknown",l=new B("layerview:incompatible-height-model",`The height model of the layer (${o}) must match the height model of the scene (${a})`,{layerHeightModel:o,sceneHeightModel:a});return new B("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:i,sceneHeightModelInfo:r,error:l})}case Vr.CRS:{const o=i?.vertCRS||"unknown",a=r?.vertCRS||"unknown",l=new B("layerview:incompatible-vertical-datum",`The vertical datum of the layer (${o}) must match the vertical datum of the scene (${a})`,{layerDatum:o,sceneDatum:a});return new B("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:i,sceneHeightModelInfo:r,error:l})}}return null}function WMe(e,t,n){if(!Z4(e)||!Z4(t))return Vr.Unsupported;if(e==null||t==null)return Vr.Ok;if(!n&&e.heightUnit!==t.heightUnit)return Vr.Units;if(e.heightModel!==t.heightModel)return Vr.HeightModel;switch(e.heightModel){case"gravity-related-height":return Vr.Ok;case"ellipsoidal":return e.vertCRS===t.vertCRS?Vr.Ok:Vr.CRS;default:return Vr.Unsupported}}var Vr;function Z4(e){return e==null||e.heightModel!=null&&e.heightUnit!=null}function ZMe(e){return"heightModelInfo"in e&&e.heightModelInfo!=null||e.spatialReference!=null||!fJ(e)}function dJ(e){if(e.type==="integrated-mesh-3dtiles")return null;const t=e.url?oy(e.url):void 0;return!(e.spatialReference?.vcsWkid==null&&t!=null&&t.serverType==="ImageServer")&&hJ(e)&&e.heightModelInfo?e.heightModelInfo:fJ(e)?Tb.deriveUnitFromSR(JMe,e.spatialReference):null}function hJ(e){return"heightModelInfo"in e}function pJ(e){if(e.type==="unknown"||!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"oriented-imagery":case"wfs":case"knowledge-graph-sublayer":return!0;default:return!1}}function fJ(e){return pJ(e)?!!(e.capabilities&&e.capabilities.data&&e.capabilities.data.supportsZ):mJ(e)}function YMe(e){return e.layers!=null||mJ(e)||pJ(e)||hJ(e)}function mJ(e){switch(e.type){case"building-scene":case"elevation":case"integrated-mesh":case"integrated-mesh-3dtiles":case"point-cloud":case"scene":case"voxel":return!0;case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"catalog":case"catalog-footprint":case"catalog-dynamic-group":case"csv":case"dimension":case"geojson":case"feature":case"subtype-group":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"knowledge-graph":case"link-chart":case"knowledge-graph-sublayer":case"line-of-sight":case"map-image":case"map-notes":case"media":case"ogc-feature":case"open-street-map":case"oriented-imagery":case"parquet":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"video":case"viewshed":case"wcs":case"web-tile":case"wfs":case"wms":case"wmts":case null:return!1}return!1}(function(e){e[e.Ok=0]="Ok",e[e.Units=1]="Units",e[e.HeightModel=2]="HeightModel",e[e.CRS=3]="CRS",e[e.Unsupported=4]="Unsupported"})(Vr||(Vr={}));const JMe=new Tb({heightModel:"gravity-related-height"});var NS;(function(e){e[e.Global=1]="Global",e[e.Local=2]="Local"})(NS||(NS={}));let rA,RT=null;async function KMe(e){RT||(RT=J(()=>import("./geometryServiceUtils-MGT8mhzk.js"),__vite__mapDeps([207,208,3])).then(t=>rA=t)),await RT,fn(e)}async function yJ(e,t,n,i){if(!e)return null;const r=e.spatialReference;return Nc()||Pa(r,t)?Dc(e,t):rA?rA.projectGeometry(e,t,n,i):(await Promise.race([KMe(i),_c(i)]),yJ(e,t,n,i))}let Vt=class extends Ce{constructor(t){super(t),this.required={extent:!1,heightModelInfo:!1,tileInfo:!1},this.defaultSpatialReference=null,this.userSpatialReference=null,this.sourcePreloadCount=10,this.priorityCollection=null,this.requiresExtentInSpatialReference=!0,this.suspended=!1,this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._projectExtentTask.task=bm(this._projectExtentTask.task)),this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return this.userSpatialReference??this._spatialReferenceTask.spatialReference}get extent(){return this._extentTask.extent}get heightModelInfo(){return this._heightModelInfoTask.heightModelInfo}get vcsWkid(){return this._heightModelInfoTask.vcsWkid}get latestVcsWkid(){return this._heightModelInfoTask.latestVcsWkid}get viewingMode(){return this.userSpatialReference==null||this.userSpatialReference.equals(this._spatialReferenceTask.spatialReference)?this._spatialReferenceTask.viewingMode:null}get tileInfo(){return this._tileInfoTask.tileInfo}get mapCollections(){const t=this.map?.(),n=[];return this.priorityCollection!=null&&n.push(this.priorityCollection),n.push({parent:t?.basemap,layers:t?.basemap?.baseLayers},{layers:t?.layers},{parent:t?.ground,layers:t?.ground?.layers},{parent:t?.basemap,layers:t?.basemap?.referenceLayers}),n}get _spatialReferenceTask(){if(this.suspended)return this._get("_spatialReferenceTask")??{updating:!1};let t;if(this._collectLayers(this.mapCollections,i=>{const r=this._getSupportedSpatialReferences(i);if(r.length>0){const s=this._narrowDownSpatialReferenceCandidates(t,r);s!=null&&(t=s)}return t?.length===1})&&t?.length!==1)return{updating:!0};const n=this._pickSpatialReferenceCandidate(t);return{spatialReference:n?.spatialReference??null,viewingMode:n?.viewingMode??null,updating:!1}}get _tileInfoTask(){if(!this.required.tileInfo)return this._get("_tileInfoTask")??{updating:!1};const t=this.map?.(),n=this.spatialReference;if(!n)return{updating:this._spatialReferenceTask.updating};let i;const r=this._collectLayers([{parent:t?.basemap,layers:t?.basemap?.baseLayers},{layers:t?.layers}],s=>!(!("tileInfo"in s)||!s.tileInfo?.spatialReference.equals(n))&&(i=s,!0),s=>"tileInfo"in s);return i?{tileInfo:i.tileInfo,updating:!1}:{updating:r}}get _heightModelInfoTask(){if(!this.required.heightModelInfo||this.suspended&&this._get("_heightModelInfoTask")?.heightModelInfo)return this._get("_heightModelInfoTask")??{updating:!1};let t={};const n=this._collectLayers(this.mapCollections,i=>{const r=dJ(i);return!!r&&(t={heightModelInfo:r,vcsWkid:i.spatialReference?.vcsWkid,latestVcsWkid:i.spatialReference?.latestVcsWkid},!0)},i=>YMe(i));return{...t,updating:n}}get _extentCandidatesTask(){if(this.suspended||!this.required.extent)return this._get("_extentCandidatesTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const t=[],n=this._collectLayers(this.mapCollections,i=>{const r="fullExtents"in i&&i.fullExtents||(i.fullExtent!=null?[i.fullExtent]:[]),s=this.requiresExtentInSpatialReference?null:r[0],o=r.find(a=>a.spatialReference.equals(this.spatialReference))??s;if(o)return t.push({extent:o,layer:i}),!0;if(this._getSupportedSpatialReferences(i).length>0)for(const a of r)t.push({extent:a,layer:i});return!1});return{candidates:t,updating:n}}get _extentTask(){const{candidates:t,updating:n}=this._extentCandidatesTask;if(n)return{updating:n};if(t==null||t.length===0)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const i=this._pickExtentCandidate(t),r=this.spatialReference;return i.extent.equals(this._projectExtentTask.input)&&r.equals(this._projectExtentTask.spatialReference)?{extent:this._projectExtentTask.output,updating:this._projectExtentTask.task!=null&&!this._projectExtentTask.task.finished}:(this._projectExtentTask.task!=null&&(this._projectExtentTask.task=bm(this._projectExtentTask.task)),this._projectExtentTask={input:i.extent.clone(),output:null,spatialReference:r.clone(),task:mb(async s=>{try{const o=await yJ(i.extent,r,"portalItem"in i.layer?i.layer.portalItem:void 0,s);this._projectExtentTask={...this._projectExtentTask,task:null,output:o}}catch{if(vs(s))return;this._projectExtentTask={...this._projectExtentTask,task:null}}})},{updating:!0})}_narrowDownSpatialReferenceCandidates(t,n){if(t==null)return n;const i=new Array;for(const r of t)for(const s of n){if(!r.spatialReference.equals(s.spatialReference))continue;const o=QMe(r.viewingMode,s.viewingMode);if(o!==!1){i.push({spatialReference:r.spatialReference,viewingMode:o});break}}return i.length>0?i:null}_pickSpatialReferenceCandidate(t){const n=this.defaultSpatialReference;return t==null||t.length<1?n?{spatialReference:n,viewingMode:null}:null:(n!=null&&t.length>1&&t.some(({spatialReference:i})=>i.equals(n))&&(t=t.filter(({spatialReference:i})=>i.equals(n))),t.length>1&&t.some(({viewingMode:i})=>i!==NS.Local)&&(t=t.filter(({viewingMode:i})=>i!==NS.Local)),t[0])}_getSupportedSpatialReferences(t){const n="supportedSpatialReferences"in t&&t.supportedSpatialReferences||(t.spatialReference?[t.spatialReference]:[]);if(n.length===0)return[];const i=[];for(const r of n){const s=this.getSpatialReferenceSupport(r,t);if(s!=null){const o=s.constraints??[{spatialReference:r,viewingMode:null}];for(const{spatialReference:a,viewingMode:l}of o)this.requiresExtentInSpatialReference&&this.userSpatialReference!=null&&!a.equals(this.userSpatialReference)||i.push({spatialReference:a,viewingMode:l})}}return i}_pickExtentCandidate(t){const n=this.spatialReference;return t.find(({extent:i})=>n.equals(i.spatialReference))||t[0]}_collectLayers(t,n,i=()=>!0){switch(this._loadMaybe(this.map?.())){case"loading":return!0;case"failed":return!1}const r=new XMe(i,n);for(const s of t)if(this._collectCollection(s,r),r.done||r.preloading===this.sourcePreloadCount)break;return r.updating}_collectCollection(t,n){if(t.layers){switch(this._loadMaybe(t.parent)){case"loading":return n.updating=!0,void++n.preloading;case"failed":return}for(const i of t.layers)if(n.layerFilter(i)){switch(this._loadMaybe(i)){case"failed":continue;case"loading":n.updating=!0,++n.preloading;break;case"loaded":if(n.updating||(n.done=n.pushLayer(i)),n.done||n.preloading===this.sourcePreloadCount)break;"layers"in i&&this._collectCollection({layers:i.layers},n)}if(n.done||n.preloading===this.sourcePreloadCount)break}}}_loadMaybe(t){return t&&"loadStatus"in t&&t.loadStatus!=null?t.loadStatus==="not-loaded"?(t.load().catch(n=>{ur(n)}),"loading"):t.loadStatus:"loaded"}};u([d()],Vt.prototype,"required",void 0),u([d({constructOnly:!0})],Vt.prototype,"map",void 0),u([d({constructOnly:!0})],Vt.prototype,"getSpatialReferenceSupport",void 0),u([d()],Vt.prototype,"defaultSpatialReference",void 0),u([d()],Vt.prototype,"userSpatialReference",void 0),u([d()],Vt.prototype,"sourcePreloadCount",void 0),u([d()],Vt.prototype,"priorityCollection",void 0),u([d()],Vt.prototype,"requiresExtentInSpatialReference",void 0),u([d()],Vt.prototype,"suspended",void 0),u([d({readOnly:!0})],Vt.prototype,"ready",null),u([d({readOnly:!0})],Vt.prototype,"heightModelInfoReady",null),u([d({readOnly:!0})],Vt.prototype,"spatialReference",null),u([d({readOnly:!0})],Vt.prototype,"extent",null),u([d({readOnly:!0})],Vt.prototype,"heightModelInfo",null),u([d({readOnly:!0})],Vt.prototype,"vcsWkid",null),u([d({readOnly:!0})],Vt.prototype,"latestVcsWkid",null),u([d({readOnly:!0})],Vt.prototype,"viewingMode",null),u([d({readOnly:!0})],Vt.prototype,"tileInfo",null),u([d({readOnly:!0})],Vt.prototype,"mapCollections",null),u([d({readOnly:!0})],Vt.prototype,"_spatialReferenceTask",null),u([d({readOnly:!0})],Vt.prototype,"_tileInfoTask",null),u([d({readOnly:!0})],Vt.prototype,"_heightModelInfoTask",null),u([d({readOnly:!0})],Vt.prototype,"_extentCandidatesTask",null),u([d()],Vt.prototype,"_extentTask",null),u([d()],Vt.prototype,"_projectExtentTask",void 0),Vt=u([k("esri.views.support.DefaultsFromMap")],Vt);let XMe=class{constructor(t,n){this.layerFilter=t,this.pushLayer=n,this.preloading=-1,this.updating=!1,this.done=!1}};function QMe(e,t){return e!=null?t!=null?e===t&&e:e:t}let wf=class extends Ce{constructor(t){super(t),this.featureTitleFields=!1,this.utilityNetworkFields=!1,this.globalIdField=!1}};u([d()],wf.prototype,"featureTitleFields",void 0),u([d()],wf.prototype,"utilityNetworkFields",void 0),u([d()],wf.prototype,"globalIdField",void 0),wf=u([k("esri.views.support.RequiredFieldsOptions")],wf);const eke=wf;var ev;let Le=ev=class extends Ks.EventedMixin(pb.EsriPromiseMixin(Ce)){constructor(e){super(e),this._userSpatialReference=null,this._cursor=null,this.handles=new Xm,this.updatingHandles=new _h,this.allLayerViews=new T0({getCollections:()=>[this.basemapView?.baseLayerViews,this.groundView?.layerViews,this.layerViews,this.basemapView?.referenceLayerViews],getChildrenFunction:nke}),this.groundView=null,this.basemapView=null,this.displayFilterEnabled=!0,this.fatalError=null,this.graphics=new Ov,this.analyses=new RS,this.typeSpecificPreconditionsReady=!0,this.layerViews=new we,this.magnifier=new eJ,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this._readyStateWaitingTask=null,this.supportsGround=!0,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this.input=new qMe,this.navigation=new Hx,this.layerViewManager=null,this.analysisViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new rJ(this),this.persistableViewModels=new we,this.requiredFieldsOptions=new eke,this._isValid=!1,this._readyCycleForced=!1,this._lockedSpatialReference=null,this._userTimeZone=null,this._lockedTimeZone=null,this._userTimeExtent=null,this._lockedTimeExtent=null,this.theme=null,this.handles.add(me(()=>this.preconditionsReady,t=>{const n=this.ready;if(t?(this._lockedSpatialReference=this.spatialReference,this._lockedTimeZone=this.timeZone,this._lockedTimeExtent=this.timeExtent,ev.views.add(this)):(this._lockedSpatialReference=null,ev.views.remove(this)),this.notifyChange("spatialReference"),!t&&n)this.toolViewManager?.detach(),this.analysisViewManager!=null&&this.analysisViewManager.detach(),this.layerViewManager?.clear(),this._teardown();else if(t&&!n){try{this._startup()}catch(i){return void queueMicrotask(()=>{this.fatalError=new B("startup-error",null,i)})}this.analysisViewManager!=null&&this.analysisViewManager.attach(),this.toolViewManager.attach()}},ka))}initialize(){this.addResolvingPromise(Promise.all([this.loadAsyncDependencies(),this.validate()]).then(()=>(this._isValid=!0,yx(()=>this.ready)))),this.basemapView=new aMe({view:this}),this.layerViewManager=new dMe({view:this,layerViewImporter:{importLayerView:e=>this.importLayerView(e),hasLayerViewModule:e=>this.hasLayerViewModule(e)},supportsGround:this.supportsGround}),this.toolViewManager=new ca({view:this}),this.selectionManager=new mMe({view:this}),this.addHandles([sr(()=>this.readyState==="map-content-error"&&!this.spatialReference,()=>{re.getLogger(this).warn("#spatialReference","no spatial reference could be derived from the currently added map layers")}),me(()=>this.initialExtentRequired,e=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:e},Fr),me(()=>this.ready,e=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=e,this.defaultsFromMap.userSpatialReference=e?this.spatialReference:this._userSpatialReference)},ka),me(()=>this._userSpatialReference,e=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=e)},Fr)])}destroy(){this.destroyed||(ev.views.remove(this),this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=Bt(this.graphics),this.analyses=Bt(this.analyses),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),Bt(this.analysisViewManager),this.toolViewManager=Bt(this.toolViewManager),this.layerViewManager=Bt(this.layerViewManager),this.selectionManager=Bt(this.selectionManager),this.basemapView=Bt(this.basemapView),this.groundView?.destroy(),this.layerViews?.forEach(e=>e.destroy()),this.layerViews.length=0,this.invalidate(),this._emitter.clear(),this.handles.destroy(),this.map=Bt(this.map),this.updatingHandles.destroy())}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){return re.getLogger(this).error("#toMap()","Not implemented on this instance of View"),null}get activeTool(){return this.toolViewManager?.activeTool}set activeTool(e){this.toolViewManager&&(this.toolViewManager.activeTool=e)}get animation(){return this._get("animation")}set animation(e){this._set("animation",e)}get center(){return null}get defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new Vt({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:(e,t)=>this.getSpatialReferenceSupport(e,t),...this.defaultsFromMapSettings})}get extent(){return this._get("extent")}set extent(e){this._set("extent",e)}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get highlights(){return this._get("highlights")??BMe()}set highlights(e){this._set("highlights",Nl(e,this._get("highlights"),we.ofType(ac)))}get interacting(){return this.navigating}get navigating(){return!1}get preconditionsReady(){return!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||Ol.isLoadable(this.map)&&!this.map.loaded||this.width===0||this.height===0||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._lockedSpatialReference&&!this.defaultsFromMap?.ready||!this.typeSpecificPreconditionsReady)}get resolution(){return 0}set map(e){e!==this._get("map")&&(e?.destroyed&&(re.getLogger(this).warn("#map","The provided map is already destroyed",{map:e}),e=null),Ol.isLoadable(e)&&e.load().catch(()=>{}),this.constructed&&!this.destroyed&&(this.forceReadyCycle(),this._lockedSpatialReference=null),this._set("map",e))}get readyState(){if(this.destroyed)return this._get("readyState");if(!this.map)return"missing-map";if("container"in this&&!this.container)return"missing-container";if(this.fatalError)return"rendering-error";if((this.defaultsFromMap?.ready??!1)&&!this.spatialReference){const e=!("loaded"in this.map)||this.map.loaded,t=this.map.ground.loaded,n=this.map.basemap?.loaded??!0;return e&&n&&t&&!this.map?.allLayers.length?"empty-map":(this._readyStateWaitingTask||(this._readyStateWaitingTask=mb(i=>l9(H("view-readyState-waiting-delay"),null,i)),this.addHandles(this._readyStateWaitingTask),this.addHandles(this._readyStateWaitingTask,"ready-state-task")),this._readyStateWaitingTask?.finished?"map-content-error":"loading")}return this._readyStateWaitingTask=bm(this._readyStateWaitingTask),this.removeHandles("ready-state-task"),this.ready?"ready":"loading"}get spatialReference(){const e=this._userSpatialReference||this._lockedSpatialReference||this.getDefaultSpatialReference()||null;if(e&&this.defaultsFromMap?.required?.heightModelInfo){const t=e.clone();return t.vcsWkid=this.defaultsFromMap.vcsWkid,t.latestVcsWkid=this.defaultsFromMap.latestVcsWkid,t}return e}set spatialReference(e){const t=!ui(e,this._get("spatialReference"));this._set("_userSpatialReference",e),t&&(this._set("spatialReference",e),this._spatialReferenceChanged(e))}_spatialReferenceChanged(e){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get timeExtent(){return this._userTimeExtent??this._lockedTimeExtent??this.getDefaultTimeExtent()??null}set timeExtent(e){this._userTimeExtent=e}get timeZone(){return this._userTimeZone??this._lockedTimeZone??this.getDefaultTimeZone()??Ca}set timeZone(e){this._userTimeZone=e,Gge(e)||re.getLogger(this).warn("#timeZone",`the parsed value '${e}' may not be a valid IANA time zone`)}get tools(){return this.toolViewManager?.tools}get initialExtent(){return this.defaultsFromMap?.extent}get cursor(){return this.toolViewManager?.cursor??this._cursor??"default"}set cursor(e){this._cursor=e,this.notifyChange("cursor")}get size(){return[this.width,this.height]}get effectiveTheme(){return this.theme??new tA}whenLayerView(e){return this.layerViewManager?.whenLayerView(e)??Promise.reject()}getDefaultSpatialReference(){return this.defaultsFromMap?.spatialReference}getDefaultHeightModelInfo(){return(this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)??this.defaultsFromMap?.heightModelInfo??null}getDefaultTimeZone(){return null}getDefaultTimeExtent(){return null}importLayerView(e){throw new B("importLayerView() not implemented")}hasLayerViewModule(e){return!1}async validate(){}async loadAsyncDependencies(){}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{constraints:null}}_validateSpatialReference(e){return this.getSpatialReferenceSupport(e)!=null}when(e,t){return this.isResolved()&&!this.ready&&re.getLogger(this).warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() => view.ready).then(...) instead."),super.when(e,t)}forceReadyCycle(){this.ready&&(sr(()=>this.destroyed||this.preconditionsReady===!1,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)}addAndActivateTool(e){this.toolViewManager.tools.add(e),this.activeTool=e}tryFatalErrorRecovery(){this.fatalError=null}};Le.views=new we,u([d()],Le.prototype,"_userSpatialReference",void 0),u([d()],Le.prototype,"activeTool",null),u([d({readOnly:!0})],Le.prototype,"allLayerViews",void 0),u([d()],Le.prototype,"groundView",void 0),u([d()],Le.prototype,"animation",null),u([d()],Le.prototype,"basemapView",void 0),u([d()],Le.prototype,"center",null),u([d()],Le.prototype,"defaultsFromMapSettings",null),u([d()],Le.prototype,"defaultsFromMap",null),u([d()],Le.prototype,"displayFilterEnabled",void 0),u([d()],Le.prototype,"fatalError",void 0),u([d({type:Gt})],Le.prototype,"extent",null),u([d(D4(Ov,"graphics"))],Le.prototype,"graphics",void 0),u([d(D4(RS,"analyses"))],Le.prototype,"analyses",void 0),u([d({readOnly:!0,type:Tb})],Le.prototype,"heightModelInfo",null),u([d({type:we.ofType(ac)})],Le.prototype,"highlights",null),u([d({readOnly:!0})],Le.prototype,"interacting",null),u([d({readOnly:!0})],Le.prototype,"navigating",null),u([d({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_lockedSpatialReference","defaultsFromMap.ready","typeSpecificPreconditionsReady"]})],Le.prototype,"preconditionsReady",null),u([d({readOnly:!0})],Le.prototype,"typeSpecificPreconditionsReady",void 0),u([d({type:we,readOnly:!0})],Le.prototype,"layerViews",void 0),u([d()],Le.prototype,"resolution",null),u([d({type:eJ})],Le.prototype,"magnifier",void 0),u([d({value:null,type:kY})],Le.prototype,"map",null),u([d()],Le.prototype,"padding",void 0),u([d({readOnly:!0})],Le.prototype,"ready",void 0),u([d()],Le.prototype,"_readyStateWaitingTask",void 0),u([d({readOnly:!0})],Le.prototype,"readyState",null),u([d({type:et})],Le.prototype,"spatialReference",null),u([d()],Le.prototype,"stationary",null),u([d({readOnly:!0})],Le.prototype,"supportsGround",void 0),u([d({type:Rl})],Le.prototype,"timeExtent",null),u([d({type:String,nonNullable:!0})],Le.prototype,"timeZone",null),u([d()],Le.prototype,"tools",null),u([d()],Le.prototype,"toolViewManager",void 0),u([d({readOnly:!0})],Le.prototype,"type",void 0),u([d({type:Number})],Le.prototype,"scale",void 0),u([d({readOnly:!0})],Le.prototype,"updating",void 0),u([d({readOnly:!0})],Le.prototype,"initialExtentRequired",void 0),u([d({readOnly:!0})],Le.prototype,"initialExtent",null),u([d()],Le.prototype,"cursor",null),u([d({readOnly:!0})],Le.prototype,"input",void 0),u([d({type:Hx,nonNullable:!0})],Le.prototype,"navigation",void 0),u([d()],Le.prototype,"layerViewManager",void 0),u([d()],Le.prototype,"analysisViewManager",void 0),u([d()],Le.prototype,"selectionManager",void 0),u([d()],Le.prototype,"width",void 0),u([d()],Le.prototype,"height",void 0),u([d({readOnly:!0})],Le.prototype,"resizing",void 0),u([d({value:null,readOnly:!0})],Le.prototype,"size",null),u([d({readOnly:!0})],Le.prototype,"suspended",void 0),u([d({readOnly:!0})],Le.prototype,"viewEvents",void 0),u([d({readOnly:!0})],Le.prototype,"persistableViewModels",void 0),u([d()],Le.prototype,"_isValid",void 0),u([d()],Le.prototype,"_readyCycleForced",void 0),u([d()],Le.prototype,"_lockedSpatialReference",void 0),u([d()],Le.prototype,"_userTimeZone",void 0),u([d()],Le.prototype,"_lockedTimeZone",void 0),u([d()],Le.prototype,"_userTimeExtent",void 0),u([d()],Le.prototype,"_lockedTimeExtent",void 0),u([d({type:tA})],Le.prototype,"theme",void 0),u([d({readOnly:!0,type:tA})],Le.prototype,"effectiveTheme",null),Le=ev=u([k("esri.views.View")],Le);const NT=globalThis.$arcgis;NT&&!NT.views&&Object.defineProperty(NT,"views",{configurable:!1,enumerable:!0,writable:!1,value:Le.views});const tke=Le;function nke(e){return e.layerViews}function cm(e,t){return e[0]=t[0],e[1]=t[1],e}function bi(e,t,n){return e[0]=t,e[1]=n,e}function gJ(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function I0(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function vJ(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}function bJ(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}function ike(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function rke(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function ske(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function oke(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}function ake(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function Ab(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function lke(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e}function qx(e,t){const n=t[0]-e[0],i=t[1]-e[1];return Math.sqrt(n*n+i*i)}function DS(e,t){const n=t[0]-e[0],i=t[1]-e[1];return n*n+i*i}function VS(e){const t=e[0],n=e[1];return Math.sqrt(t*t+n*n)}function wJ(e){const t=e[0],n=e[1];return t*t+n*n}function _J(e,t){return e[0]=-t[0],e[1]=-t[1],e}function uke(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function sA(e,t){const n=t[0],i=t[1];let r=n*n+i*i;return r>0&&(r=1/Math.sqrt(r),e[0]=t[0]*r,e[1]=t[1]*r),e}function SJ(e,t){return e[0]*t[0]+e[1]*t[1]}function xJ(e,t,n){const i=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=i,e}function cke(e,t,n,i){const r=t[0],s=t[1];return e[0]=r+i*(n[0]-r),e[1]=s+i*(n[1]-s),e}function dke(e,t=1){const n=2*$x()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e}function hke(e,t,n){const i=t[0],r=t[1];return e[0]=n[0]*i+n[2]*r,e[1]=n[1]*i+n[3]*r,e}function wa(e,t,n){const i=t[0],r=t[1];return e[0]=n[0]*i+n[2]*r+n[4],e[1]=n[1]*i+n[3]*r+n[5],e}function pke(e,t,n){const i=t[0],r=t[1];return e[0]=n[0]*i+n[3]*r+n[6],e[1]=n[1]*i+n[4]*r+n[7],e}function fke(e,t,n){const i=t[0],r=t[1];return e[0]=n[0]*i+n[4]*r+n[12],e[1]=n[1]*i+n[5]*r+n[13],e}function mke(e,t,n,i){const r=t[0]-n[0],s=t[1]-n[1],o=Math.sin(i),a=Math.cos(i);return e[0]=r*a-s*o+n[0],e[1]=r*o+s*a+n[1],e}function yke(e,t){const n=e[0],i=e[1],r=t[0],s=t[1];let o=n*n+i*i;o>0&&(o=1/Math.sqrt(o));let a=r*r+s*s;a>0&&(a=1/Math.sqrt(a));const l=(n*r+i*s)*o*a;return l>1?0:l<-1?Math.PI:Math.acos(l)}function gke(e){return"vec2("+e[0]+", "+e[1]+")"}function vke(e,t){return e[0]===t[0]&&e[1]===t[1]}function bke(e,t){const n=e[0],i=e[1],r=t[0],s=t[1],o=Er();return Math.abs(n-r)<=o*Math.max(1,Math.abs(n),Math.abs(r))&&Math.abs(i-s)<=o*Math.max(1,Math.abs(i),Math.abs(s))}function wke(e,t,n,i,r){let s=t[0]-n[0],o=t[1]-n[1];const a=(i[0]*s+i[1]*o)*(r-1);return s=i[0]*a,o=i[1]*a,e[0]=t[0]+s,e[1]=t[1]+o,e}const _ke=VS,hO=I0,Ske=vJ,xke=bJ,$ke=qx,Tke=DS,Eke=wJ;Object.freeze(Object.defineProperty({__proto__:null,add:gJ,angle:yke,ceil:ike,copy:cm,cross:xJ,dist:$ke,distance:qx,div:xke,divide:bJ,dot:SJ,equals:bke,exactEquals:vke,floor:rke,inverse:uke,len:_ke,length:VS,lerp:cke,max:oke,min:ske,mul:Ske,multiply:vJ,negate:_J,normalize:sA,projectAndScale:wke,random:dke,rotate:mke,round:ake,scale:Ab,scaleAndAdd:lke,set:bi,sqrDist:Tke,sqrLen:Eke,squaredDistance:DS,squaredLength:wJ,str:gke,sub:hO,subtract:I0,transformMat2:hke,transformMat2d:wa,transformMat3:pke,transformMat4:fke},Symbol.toStringTag,{value:"Module"}));function bn(){return[0,0]}function Ike(e){return[e[0],e[1]]}function Pb(e,t){return[e,t]}function Cke(e,t){return[e,t]}function Mke(e,t=bn()){const n=Math.min(2,e.length);for(let i=0;i<n;++i)t[i]=e[i];return t}function kke(e,t){return new Float64Array(e,t,2)}function $J(){return bn()}function TJ(){return Pb(1,1)}function EJ(){return Pb(1,0)}function IJ(){return Pb(0,1)}const Ake=$J(),Pke=TJ(),Lke=EJ(),Oke=IJ();Object.freeze(Object.defineProperty({__proto__:null,ONES:Pke,UNIT_X:Lke,UNIT_Y:Oke,ZEROS:Ake,clone:Ike,create:bn,createView:kke,freeze:Cke,fromArray:Mke,fromValues:Pb,ones:TJ,unitX:EJ,unitY:IJ,zeros:$J},Symbol.toStringTag,{value:"Module"}));function Rke(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Wx(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function Nke(e,t,n,i,r,s,o){return e[0]=t,e[1]=n,e[2]=i,e[3]=r,e[4]=s,e[5]=o,e}function pO(e,t){const n=t[0],i=t[1],r=t[2],s=t[3],o=t[4],a=t[5];let l=n*s-i*r;return l?(l=1/l,e[0]=s*l,e[1]=-i*l,e[2]=-r*l,e[3]=n*l,e[4]=(r*a-s*o)*l,e[5]=(i*o-n*a)*l,e):null}function Dke(e){return e[0]*e[3]-e[1]*e[2]}function Qd(e,t,n){const i=t[0],r=t[1],s=t[2],o=t[3],a=t[4],l=t[5],c=n[0],h=n[1],p=n[2],m=n[3],y=n[4],g=n[5];return e[0]=i*c+s*h,e[1]=r*c+o*h,e[2]=i*p+s*m,e[3]=r*p+o*m,e[4]=i*y+s*g+a,e[5]=r*y+o*g+l,e}function Lb(e,t,n){const i=t[0],r=t[1],s=t[2],o=t[3],a=t[4],l=t[5],c=Math.sin(n),h=Math.cos(n);return e[0]=i*h+s*c,e[1]=r*h+o*c,e[2]=i*-c+s*h,e[3]=r*-c+o*h,e[4]=a,e[5]=l,e}function Zx(e,t,n){const i=t[0],r=t[1],s=t[2],o=t[3],a=t[4],l=t[5],c=n[0],h=n[1];return e[0]=i*c,e[1]=r*c,e[2]=s*h,e[3]=o*h,e[4]=a,e[5]=l,e}function Vm(e,t,n){const i=t[0],r=t[1],s=t[2],o=t[3],a=t[4],l=t[5],c=n[0],h=n[1];return e[0]=i,e[1]=r,e[2]=s,e[3]=o,e[4]=i*c+s*h+a,e[5]=r*c+o*h+l,e}function CJ(e,t){const n=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=n,e[2]=-n,e[3]=i,e[4]=0,e[5]=0,e}function MJ(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function fO(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function Vke(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"}function Fke(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+1)}function jke(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e}function kJ(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e}function zke(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e}function Bke(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e[2]=t[2]+n[2]*i,e[3]=t[3]+n[3]*i,e[4]=t[4]+n[4]*i,e[5]=t[5]+n[5]*i,e}function Uke(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function Gke(e,t){const n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=t[0],c=t[1],h=t[2],p=t[3],m=t[4],y=t[5],g=Er();return Math.abs(n-l)<=g*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(i-c)<=g*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(r-h)<=g*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(s-p)<=g*Math.max(1,Math.abs(s),Math.abs(p))&&Math.abs(o-m)<=g*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(a-y)<=g*Math.max(1,Math.abs(a),Math.abs(y))}const Hke=Qd,qke=kJ;Object.freeze(Object.defineProperty({__proto__:null,add:jke,copy:Rke,determinant:Dke,equals:Gke,exactEquals:Uke,frob:Fke,fromRotation:CJ,fromScaling:MJ,fromTranslation:fO,identity:Wx,invert:pO,mul:Hke,multiply:Qd,multiplyScalar:zke,multiplyScalarAndAdd:Bke,rotate:Lb,scale:Zx,set:Nke,str:Vke,sub:qke,subtract:kJ,translate:Vm},Symbol.toStringTag,{value:"Module"}));function Cl(){return[1,0,0,1,0,0]}function Wke(e){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function Zke(e,t,n,i,r,s){return[e,t,n,i,r,s]}function Yke(e,t){return new Float64Array(e,t,6)}const Jke=Cl();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:Jke,clone:Wke,create:Cl,createView:Yke,fromValues:Zke},Symbol.toStringTag,{value:"Module"}));const Nw={102100:{maxX:20037508342788905e-9,minX:-20037508342788905e-9,plus180Line:new Fo({paths:[[[20037508342788905e-9,-20037508342788905e-9],[20037508342788905e-9,20037508342788905e-9]]],spatialReference:et.WebMercator}),minus180Line:new Fo({paths:[[[-20037508342788905e-9,-20037508342788905e-9],[-20037508342788905e-9,20037508342788905e-9]]],spatialReference:et.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new Fo({paths:[[[180,-180],[180,180]]],spatialReference:et.WGS84}),minus180Line:new Fo({paths:[[[-180,-180],[-180,180]]],spatialReference:et.WGS84})}};function uh(e,t){return Math.ceil((e-t)/(2*t))}function AJ(e,t){const n=Rv(e);for(const i of n)for(const r of i)r[0]+=t;return e}function Rv(e){return vh(e)?e.rings:e.paths}function gGe(e,t){return t?{...t,query:{...e??{},...t.query}}:{query:e}}function Kke(e){return typeof e=="string"?li(e):j(e)}function Xke(e,t,n){const i={};for(const r in e){if(r==="declaredClass")continue;const s=e[r];if(s!=null&&typeof s!="function")if(Array.isArray(s))i[r]=s.map(o=>Xke(o));else if(typeof s=="object")if(s.toJSON){const o=s.toJSON(n?.[r]);i[r]=t?o:JSON.stringify(o)}else i[r]=t?s:JSON.stringify(s);else i[r]=s}return i}async function Qke(e,t,n,i){const r=Kke(e),s=t[0].spatialReference,o={...i,responseType:"json",query:{...r.query,f:"json",sr:$G(s),target:JSON.stringify({geometryType:s3(t[0]),geometries:t}),cutter:JSON.stringify(n)}},a=await Lt(r.path+"/cut",o),{cutIndexes:l,geometries:c=[]}=a.data;return{cutIndexes:l,geometries:c.map(h=>{const p=zh(h);return p.spatialReference=s,p})}}function eAe(e){return{geometryType:s3(e[0]),geometries:e.map(t=>t.toJSON())}}function tAe(e,t,n){const i=tbe(t);return e.map(r=>{const s=i.fromJSON(r);return s.spatialReference=n,s})}async function nAe(e,t,n){const i=typeof e=="string"?li(e):e,r=t[0].spatialReference,s=s3(t[0]),o={...n,query:{...i.query,f:"json",sr:$G(r),geometries:JSON.stringify(eAe(t))}},{data:a}=await Lt(i.path+"/simplify",o);return tAe(a.geometries,s,r)}const PJ=()=>re.getLogger("esri.geometry.support.normalizeUtils");function iAe(e){return e.type==="polygon"}function rAe(e){return e[0].type==="polygon"}function sAe(e){return e[0].type==="polyline"}function Y4(e){const t=[];let n=0,i=0;for(let r=0;r<e.length;r++){const s=e[r];let o=null;for(let a=0;a<s.length;a++)o=s[a],t.push(o),a===0?(n=o[0],i=n):(n=Math.min(n,o[0]),i=Math.max(i,o[0]));o&&t.push([(n+i)/2,0])}return t}function oAe(e,t){if(!(e instanceof Fo||e instanceof Wo)){const r="straightLineDensify: the input geometry is neither polyline nor polygon";throw PJ().error(r),new B(r)}const n=Rv(e),i=[];for(const r of n){const s=[];i.push(s),s.push([r[0][0],r[0][1]]);for(let o=0;o<r.length-1;o++){const a=r[o][0],l=r[o][1],c=r[o+1][0],h=r[o+1][1],p=Math.sqrt((c-a)*(c-a)+(h-l)*(h-l)),m=(h-l)/p,y=(c-a)/p,g=p/t;if(g>1){for(let S=1;S<=g-1;S++){const x=S*t,E=y*x+a,$=m*x+l;s.push([E,$])}const v=(p+Math.floor(g-1)*t)/2,b=y*v+a,w=m*v+l;s.push([b,w])}s.push([c,h])}}return iAe(e)?new Wo({rings:i,spatialReference:e.spatialReference}):new Fo({paths:i,spatialReference:e.spatialReference})}function J4(e,t,n){if(t){const i=oAe(e,1e6);e=Rf(i,!0)}return n&&(e=AJ(e,n)),e}function K4(e,t,n){if(Array.isArray(e)){const i=e[0];if(i>t){const r=uh(i,t);e[0]=i+r*(-2*t)}else if(i<n){const r=uh(i,n);e[0]=i+r*(-2*n)}}else{const i=e.x;if(i>t){const r=uh(i,t);e=e.clone().offset(r*(-2*t),0)}else if(i<n){const r=uh(i,n);e=e.clone().offset(r*(-2*n),0)}}return e}function aAe(e,t){let n=-1;for(let i=0;i<t.cutIndexes.length;i++){const r=t.cutIndexes[i],s=t.geometries[i],o=Rv(s);for(let a=0;a<o.length;a++){const l=o[a];l.some(c=>{if(c[0]<180)return!0;{let h=0;for(let m=0;m<l.length;m++){const y=l[m][0];h=y>h?y:h}h=Number(h.toFixed(9));const p=-360*uh(h,180);for(let m=0;m<l.length;m++){const y=s.getPoint(a,m);s.setPoint(a,m,y.clone().offset(p,0))}return!0}})}if(r===n){if(rAe(e))for(const a of Rv(s))e[r]=e[r].addRing(a);else if(sAe(e))for(const a of Rv(s))e[r]=e[r].addPath(a)}else n=r,e[r]=s}return e}async function lAe(e,t,n){if(!Array.isArray(e))return lAe([e],t);t&&typeof t!="string"&&PJ().warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");const i=typeof t=="string"?t:t?.url??kt.geometryServiceUrl;let r,s,o,a,l,c,h,p,m=0;const y=[],g=[];for(const E of e)if(E!=null)if(r||(r=E.spatialReference,s=xr(r),o=r.isWebMercator,c=o?102100:4326,a=Nw[c].maxX,l=Nw[c].minX,h=Nw[c].plus180Line,p=Nw[c].minus180Line),s)if(E.type==="mesh")g.push(E);else if(E.type==="point")g.push(K4(E.clone(),a,l));else if(E.type==="multipoint"){const $=E.clone();$.points=$.points.map(I=>K4(I,a,l)),g.push($)}else if(E.type==="extent"){const $=E.clone()._normalize(!1,!1,s);g.push($.rings?new Wo($):$)}else if(E.extent){const $=E.extent,I=uh($.xmin,l)*(2*a);let A=I===0?E.clone():AJ(E.clone(),I);$.offset(I,0);let{xmin:M,xmax:L}=$;M=Number(M.toFixed(9)),L=Number(L.toFixed(9)),$.intersects(h)&&L!==a?(m=L>m?L:m,A=J4(A,o),y.push(A),g.push("cut")):$.intersects(p)&&M!==l?(m=L*(2*a)>m?L*(2*a):m,A=J4(A,o,360),y.push(A),g.push("cut")):g.push(A)}else g.push(E.clone());else g.push(E);else g.push(E);let v=uh(m,a),b=-90;const w=v,S=new Fo;for(;v>0;){const E=360*v-180;S.addPath([[E,b],[E,-1*b]]),b*=-1,v--}if(y.length>0&&w>0){const E=aAe(y,await Qke(i,y,S,n)),$=[],I=[];for(let L=0;L<g.length;L++){const O=g[L];if(O!=="cut")I.push(O);else{const P=E.shift(),R=e[L];R!=null&&R.type==="polygon"&&R.rings&&R.rings.length>1&&P.rings.length>=R.rings.length?($.push(P),I.push("simplify")):I.push(o?gh(P):P)}}if(!$.length)return I;const A=await nAe(i,$,n),M=[];for(let L=0;L<I.length;L++){const O=I[L];O!=="simplify"?M.push(O):M.push(o?gh(A.shift()):A.shift())}return M}const x=[];for(let E=0;E<g.length;E++){const $=g[E];if($!=="cut")x.push($);else{const I=y.shift();x.push(o===!0?gh(I):I)}}return x}function uAe(e){if(!e)return null;const t=e.extent;if(!t)return null;const n=e.spatialReference&&xr(e.spatialReference);if(!n)return t;const[i,r]=n.valid,s=2*r,{width:o}=t;let a,{xmin:l,xmax:c}=t;if([l,c]=[c,l],e.type==="extent"||o===0||o<=r||o>s||l<i||c>r)return t;switch(e.type){case"polygon":if(!(e.rings.length>1))return t;a=Y4(e.rings);break;case"polyline":if(!(e.paths.length>1))return t;a=Y4(e.paths);break;case"multipoint":a=e.points}const h=t.clone();for(let p=0;p<a.length;p++){let m=a[p][0];m<0?(m+=r,c=Math.max(m,c)):(m-=r,l=Math.min(m,l))}return h.xmin=l,h.xmax=c,h.width<o?(h.xmin-=r,h.xmax-=r,h):t}function mO(e,t,n){const i=xr(n);if(i==null)return e;const[r,s]=i.valid,o=2*s;let a=0,l=0;t>s?a=Math.ceil(Math.abs(t-s)/o):t<r&&(a=-Math.ceil(Math.abs(t-r)/o)),e>s?l=Math.ceil(Math.abs(e-s)/o):e<r&&(l=-Math.ceil(Math.abs(e-r)/o));let c=e+(a-l)*o;const h=c-t;return h>s?c-=o:h<r&&(c+=o),c}function vGe(e,t){const n=xr(t);if(n){const[i,r]=n.valid,s=r-i;if(e<i)for(;e<i;)e+=s;if(e>r)for(;e>r;)e-=s}return e}const LJ=96,OJ=39.37,cAe=180/Math.PI;function RJ(e){return e.wkid?e:e.spatialReference||et.WGS84}function yO(e,t){return t.type?bi(e,t.x,t.y):cm(e,t)}function NJ(e){return no(e)}function Yx(e,t,n=0){let i=e.width,r=e.height;if(n!==0){const a=sx(n),l=Math.abs(Math.cos(a)),c=Math.abs(Math.sin(a));i=e.width*l+e.height*c,r=e.width*c+e.height*l}const s=Math.max(1,t[0]),o=Math.max(1,t[1]);return Math.max(i/s,r/o)*vAe(e.spatialReference)}async function tv(e,t,n,i){let r,s;if(!e||Array.isArray(e)&&!e.length)return null;if(we.isCollection(e)&&(e=e.toArray()),Array.isArray(e)&&e.length&&typeof e[0]=="object"){const a=e.every(h=>"attributes"in h),l=e.some(h=>!h.geometry);let c=e;if(a&&l&&t&&t.allLayerViews){const h=new Map;for(const g of e){const v=g.layer,b=h.get(v)||[],w=g.attributes[v.objectIdField];w!=null&&b.push(w),h.set(v,b)}const p=[];h.forEach((g,v)=>{const b=t.allLayerViews?.find(w=>w.layer.id===v.id);if(b&&"queryFeatures"in b){const w=v.createQuery();w.objectIds=g,w.returnGeometry=!0,p.push(b.queryFeatures(w))}});const m=await Promise.all(p),y=[];for(const g of m)if(g&&g.features&&g.features.length)for(const v of g.features)v.geometry!=null&&y.push(v.geometry);c=y}for(const h of c)i=await tv(h,t,n,i);return i}if(Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number")r=new nt(e);else if(e instanceof Hl)r=e;else if("geometry"in e){if(e.geometry)r=e.geometry;else if(e.layer){const a=e.layer,l=t.allLayerViews?.find(c=>c.layer.id===a.id);if(l&&"queryFeatures"in l){const c=a.createQuery();c.objectIds=[e.attributes[a.objectIdField]],c.returnGeometry=!0,r=(await l.queryFeatures(c))?.features?.[0]?.geometry}}}if(r==null)return null;switch(r.type){case"point":s=new Gt({xmin:r.x,ymin:r.y,xmax:r.x,ymax:r.y,spatialReference:r.spatialReference});break;case"extent":case"multipoint":case"polygon":case"polyline":s=uAe(r);break;default:s=r.extent}if(!s)return null;Nc()||Pa(s.spatialReference,n)||await _c();const o=Dc(s,n);if(!o)return null;if(i){const a=o.center,l=a.clone();l.x=mO(a.x,i.center.x,n),l.x!==a.x&&o.centerAt(l),i=i.union(o)}else i=o;return i}function dAe(e){if(e&&(!Array.isArray(e)||typeof e[0]!="number")&&(typeof e=="object"||Array.isArray(e)&&typeof e[0]=="object")){if("layer"in e&&e.layer?.minScale!=null&&e.layer.maxScale!=null){const t=e.layer;return{min:t.minScale,max:t.maxScale}}if(Array.isArray(e)&&e.length&&e.every(t=>"layer"in t)){let t=0,n=0;for(const i of e){const r=i.layer;r?.minScale&&r.maxScale&&(t=r.minScale<t?r.minScale:t,n=r.maxScale>n?r.maxScale:n)}return t&&n?{min:t,max:n}:null}}}function X4(e,t){const n=RJ(e);return ui(n,t)||n.imageCoordinateSystem||t.imageCoordinateSystem?e:Dc(e,t)}async function hAe(e,t){if(!e||!t)return new Zs({targetGeometry:new nt,scale:0,rotation:0});let n=t.spatialReference;const{constraints:i,padding:r,viewpoint:s,size:o}=t,a=[r?o[0]-r.left-r.right:o[0],r?o[1]-r.top-r.bottom:o[1]];let l=null;e instanceof Zs?l=e:e.viewpoint?l=e.viewpoint:e.target&&e.target.declaredClass==="esri.Viewpoint"&&(l=e.target);let c=null;l?.targetGeometry?c=l.targetGeometry:e instanceof Gt?c=e:e instanceof Hl?c=await tv(e,t,n):e&&(c=await tv(e.center,t,n)||await tv(e.target,t,n)||await tv(e,t,n)),!c&&s?.targetGeometry?c=s.targetGeometry:!c&&t.extent&&(c=t.extent),n||(n=RJ(t.spatialReference||t.extent||c)),Nc()||ui(c.spatialReference,n)||Pa(c.spatialReference,n)||await _c();const h=X4(c,n),p="center"in h?h.center:h;t.pickClosestTarget!==!1&&p.type==="point"&&s.targetGeometry?.type==="point"&&(p.x=mO(p.x,s.targetGeometry.x,p.spatialReference));let m=0;l?m=l.rotation:e.hasOwnProperty("rotation")?m=e.rotation:s&&(m=s.rotation);let y=0;y=l?.targetGeometry!=null&&l.targetGeometry.type==="point"?l.scale:"scale"in e&&e.scale?e.scale:"zoom"in e&&e.zoom!==-1&&i&&i.effectiveLODs?i.zoomToScale(e.zoom):Array.isArray(c)||c.type==="point"||c.type==="extent"&&c.width===0&&c.height===0?s.scale:Yx(X4(c.extent,n),a,m);const g=dAe(e.target??e);g&&(g.min&&g.min<y?y=g.min:g.max&&g.max>y&&(y=g.max));let v=new Zs({targetGeometry:p,scale:y,rotation:m});return i&&(v=i.fit(v),i.constrainByGeometry(v),i.rotationEnabled||(v.rotation=s.rotation)),v}function tr(e,t){const n=e.targetGeometry,i=t.targetGeometry;return n.x=i.x,n.y=i.y,n.spatialReference=i.spatialReference,e.scale=t.scale,e.rotation=t.rotation,e}function pAe(e,t,n){return n?bi(e,.5*(t[0]-n.right+n.left),.5*(t[1]-n.bottom+n.top)):Ab(e,t,.5)}const fAe=function(){const e=bn();return function(t,n,i){const r=n.targetGeometry;yO(e,r);const s=.5*gy(n);return t.xmin=e[0]-s*i[0],t.ymin=e[1]-s*i[1],t.xmax=e[0]+s*i[0],t.ymax=e[1]+s*i[1],t.spatialReference=r.spatialReference,t}}();function mAe(e,t,n,i,r){return oA(e,t,n.center),e.scale=Yx(n,i),r?.constraints?.constrain(e),e}function yAe(e,t,n,i){return bO(e,t,n,i),pO(e,e)}const DJ=function(){const e=bn();return function(t,n,i){return hO(t,bAe(t,n),pAe(e,n,i))}}(),gAe=function(){const e=Cl(),t=bn();return function(n,i,r,s){const o=gy(i),a=gO(i);return bi(t,o,o),MJ(e,t),Lb(e,e,a),Vm(e,e,DJ(t,r,s)),Vm(e,e,[0,s.top-s.bottom]),bi(n,e[4],e[5])}}();function gy(e){return e.scale*VJ(e.targetGeometry?.spatialReference)}function VJ(e){return ps(e)?1/(NJ(e)*OJ*LJ):1}function gO(e){return S3(e.rotation)||0}function vAe(e){return ps(e)?NJ(e)*OJ*LJ:1}function bAe(e,t){return Ab(e,t,.5)}const vO=function(){const e=bn(),t=bn(),n=bn();return function(i,r,s,o,a,l){return _J(e,r),Ab(t,s,.5*l),bi(n,1/o*l,-1/o*l),fO(i,t),a&&Lb(i,i,a),Zx(i,i,n),Vm(i,i,e),i}}(),bO=function(){const e=bn();return function(t,n,i,r){const s=gy(n),o=gO(n);return yO(e,n.targetGeometry),vO(t,e,i,s,o,r)}}(),wAe=function(){const e=bn();return function(t,n,i,r){const s=gy(n);return yO(e,n.targetGeometry),vO(t,e,i,s,0,r)}}();function FJ(e){const t=xr(e);return t?t.valid[1]-t.valid[0]:0}function _Ae(e,t){return Math.round(FJ(e)/t)}const SAe=function(){const e=bn(),t=bn(),n=[0,0,0];return function(i,r,s){I0(e,i,r),sA(e,e),I0(t,i,s),sA(t,t),xJ(n,e,t);let o=Math.acos(SJ(e,t)/(VS(e)*VS(t)))*cAe;return n[2]<0&&(o=-o),isNaN(o)&&(o=0),o}}(),xAe=function(){const e=bn();return function(t,n,i,r){const s=t.targetGeometry;return tr(t,n),gAe(e,n,i,r),s.x+=e[0],s.y+=e[1],t}}(),oA=function(e,t,n){tr(e,t);const i=e.targetGeometry;return i.x=n.x,i.y=n.y,i.spatialReference=n.spatialReference,e},$Ae=function(){const e=bn();return function(t,n,i,r,s){s||(s="center"),hO(e,i,r),Ab(e,e,.5);const o=e[0],a=e[1];switch(s){case"center":bi(e,0,0);break;case"left":bi(e,-o,0);break;case"top":bi(e,0,a);break;case"right":bi(e,o,0);break;case"bottom":bi(e,0,-a);break;case"top-left":bi(e,-o,a);break;case"bottom-left":bi(e,-o,-a);break;case"top-right":bi(e,o,a);break;case"bottom-right":bi(e,o,-a)}return Jx(t,n,e),t}}();function bGe(e,t,n){return tr(e,t),e.rotation+=n,e}function TAe(e,t,n){return tr(e,t),e.rotation=n,e}const EAe=function(){const e=bn();return function(t,n,i,r,s){return tr(t,n),isNaN(i)||i===0||(zJ(e,r,n,s),t.scale=n.scale*i,BJ(e,e,t,s),Jx(t,t,bi(e,e[0]-r[0],r[1]-e[1]))),t}}();function Q4(e,t,n){return tr(e,t),e.scale=n,e}const jJ=function(){const e=bn();return function(t,n,i,r,s,o){return tr(t,n),isNaN(i)||i===0||(zJ(e,s,n,o),t.scale=n.scale*i,t.rotation+=r,BJ(e,e,t,o),Jx(t,t,bi(e,e[0]-s[0],s[1]-e[1]))),t}}(),wGe=function(){const e=bn(),t=bn();return function(n,i,r,s,o,a,l){return DJ(t,a,l),gJ(e,o,t),s?jJ(n,i,r,s,e,a):EAe(n,i,r,e,a)}}(),zJ=function(){const e=Cl();return function(t,n,i,r){return wa(t,n,yAe(e,i,r,1))}}(),BJ=function(){const e=Cl();return function(t,n,i,r){return wa(t,n,bO(e,i,r,1))}}(),Jx=function(){const e=bn(),t=Cl();return function(n,i,r){tr(n,i);const s=gy(i),o=n.targetGeometry;return CJ(t,gO(i)),Zx(t,t,Pb(s,s)),wa(e,r,t),o.x+=e[0],o.y+=e[1],n}}();function FS(){const e=new Float32Array(6);return e[0]=1,e[3]=1,e}function IAe(e){const t=new Float32Array(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function CAe(e,t,n,i,r,s){const o=new Float32Array(6);return o[0]=e,o[1]=t,o[2]=n,o[3]=i,o[4]=r,o[5]=s,o}function MAe(e,t){return new Float32Array(e,t,6)}function UJ(e,t,n,i){const r=t[i],s=t[i+1];e[i]=n[0]*r+n[2]*s+n[4],e[i+1]=n[1]*r+n[3]*s+n[5]}function kAe(e,t,n,i=0,r=0,s=2){const o=r||t.length/s;for(let a=i;a<o;a++)UJ(e,t,n,a*s)}Object.freeze(Object.defineProperty({__proto__:null,clone:IAe,create:FS,createView:MAe,fromValues:CAe,transform:UJ,transformMany:kAe},Symbol.toStringTag,{value:"Module"}));function AAe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function PAe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function GJ(e,t,n,i,r,s,o,a,l,c){return e[0]=t,e[1]=n,e[2]=i,e[3]=r,e[4]=s,e[5]=o,e[6]=a,e[7]=l,e[8]=c,e}function HJ(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function LAe(e,t){if(e===t){const n=t[1],i=t[2],r=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=i,e[7]=r}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function OAe(e,t){const n=t[0],i=t[1],r=t[2],s=t[3],o=t[4],a=t[5],l=t[6],c=t[7],h=t[8],p=h*o-a*c,m=-h*s+a*l,y=c*s-o*l;let g=n*p+i*m+r*y;return g?(g=1/g,e[0]=p*g,e[1]=(-h*i+r*c)*g,e[2]=(a*i-r*o)*g,e[3]=m*g,e[4]=(h*n-r*l)*g,e[5]=(-a*n+r*s)*g,e[6]=y*g,e[7]=(-c*n+i*l)*g,e[8]=(o*n-i*s)*g,e):null}function RAe(e,t){const n=t[0],i=t[1],r=t[2],s=t[3],o=t[4],a=t[5],l=t[6],c=t[7],h=t[8];return e[0]=o*h-a*c,e[1]=r*c-i*h,e[2]=i*a-r*o,e[3]=a*l-s*h,e[4]=n*h-r*l,e[5]=r*s-n*a,e[6]=s*c-o*l,e[7]=i*l-n*c,e[8]=n*o-i*s,e}function NAe(e){const t=e[0],n=e[1],i=e[2],r=e[3],s=e[4],o=e[5],a=e[6],l=e[7],c=e[8];return t*(c*s-o*l)+n*(-c*r+o*a)+i*(l*r-s*a)}function wO(e,t,n){const i=t[0],r=t[1],s=t[2],o=t[3],a=t[4],l=t[5],c=t[6],h=t[7],p=t[8],m=n[0],y=n[1],g=n[2],v=n[3],b=n[4],w=n[5],S=n[6],x=n[7],E=n[8];return e[0]=m*i+y*o+g*c,e[1]=m*r+y*a+g*h,e[2]=m*s+y*l+g*p,e[3]=v*i+b*o+w*c,e[4]=v*r+b*a+w*h,e[5]=v*s+b*l+w*p,e[6]=S*i+x*o+E*c,e[7]=S*r+x*a+E*h,e[8]=S*s+x*l+E*p,e}function aA(e,t,n){const i=t[0],r=t[1],s=t[2],o=t[3],a=t[4],l=t[5],c=t[6],h=t[7],p=t[8],m=n[0],y=n[1];return e[0]=i,e[1]=r,e[2]=s,e[3]=o,e[4]=a,e[5]=l,e[6]=m*i+y*o+c,e[7]=m*r+y*a+h,e[8]=m*s+y*l+p,e}function qJ(e,t,n){const i=t[0],r=t[1],s=t[2],o=t[3],a=t[4],l=t[5],c=t[6],h=t[7],p=t[8],m=Math.sin(n),y=Math.cos(n);return e[0]=y*i+m*o,e[1]=y*r+m*a,e[2]=y*s+m*l,e[3]=y*o-m*i,e[4]=y*a-m*r,e[5]=y*l-m*s,e[6]=c,e[7]=h,e[8]=p,e}function DAe(e,t,n){const i=n[0],r=n[1],s=n[2];return e[0]=i*t[0],e[1]=i*t[1],e[2]=i*t[2],e[3]=r*t[3],e[4]=r*t[4],e[5]=r*t[5],e[6]=s*t[6],e[7]=s*t[7],e[8]=s*t[8],e}function VAe(e,t,n){const i=n[0],r=n[1];return e[0]=i*t[0],e[1]=i*t[1],e[2]=i*t[2],e[3]=r*t[3],e[4]=r*t[4],e[5]=r*t[5],e}function FAe(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function jAe(e,t){const n=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=n,e[2]=0,e[3]=-n,e[4]=i,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function zAe(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function BAe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function UAe(e,t){const n=t[0],i=t[1],r=t[2],s=t[3],o=n+n,a=i+i,l=r+r,c=n*o,h=i*o,p=i*a,m=r*o,y=r*a,g=r*l,v=s*o,b=s*a,w=s*l;return e[0]=1-p-g,e[3]=h-w,e[6]=m+b,e[1]=h+w,e[4]=1-c-g,e[7]=y-v,e[2]=m-b,e[5]=y+v,e[8]=1-c-p,e}function GAe(e,t){const n=t[0],i=t[1],r=t[2],s=t[4],o=t[5],a=t[6],l=t[8],c=t[9],h=t[10],p=h*o-a*c,m=-h*s+a*l,y=c*s-o*l,g=n*p+i*m+r*y;if(!g)return null;const v=1/g;return e[0]=p*v,e[1]=(-h*i+r*c)*v,e[2]=(a*i-r*o)*v,e[3]=m*v,e[4]=(h*n-r*l)*v,e[5]=(-a*n+r*s)*v,e[6]=y*v,e[7]=(-c*n+i*l)*v,e[8]=(o*n-i*s)*v,e}function HAe(e,t){const n=t[0],i=t[1],r=t[2],s=t[3],o=t[4],a=t[5],l=t[6],c=t[7],h=t[8],p=t[9],m=t[10],y=t[11],g=t[12],v=t[13],b=t[14],w=t[15],S=n*a-i*o,x=n*l-r*o,E=n*c-s*o,$=i*l-r*a,I=i*c-s*a,A=r*c-s*l,M=h*v-p*g,L=h*b-m*g,O=h*w-y*g,P=p*b-m*v,R=p*w-y*v,V=m*w-y*b;let U=S*V-x*R+E*P+$*O-I*L+A*M;return U?(U=1/U,e[0]=(a*V-l*R+c*P)*U,e[1]=(l*O-o*V-c*L)*U,e[2]=(o*R-a*O+c*M)*U,e[3]=(r*R-i*V-s*P)*U,e[4]=(n*V-r*O+s*L)*U,e[5]=(i*O-n*R-s*M)*U,e[6]=(v*A-b*I+w*$)*U,e[7]=(b*E-g*A-w*x)*U,e[8]=(g*I-v*E+w*S)*U,e):null}function qAe(e,t,n){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/n,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function WAe(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function ZAe(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2)}function YAe(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e}function WJ(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e}function JAe(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e}function KAe(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e[2]=t[2]+n[2]*i,e[3]=t[3]+n[3]*i,e[4]=t[4]+n[4]*i,e[5]=t[5]+n[5]*i,e[6]=t[6]+n[6]*i,e[7]=t[7]+n[7]*i,e[8]=t[8]+n[8]*i,e}function XAe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function QAe(e,t){const n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],h=e[8],p=t[0],m=t[1],y=t[2],g=t[3],v=t[4],b=t[5],w=t[6],S=t[7],x=t[8],E=Er();return Math.abs(n-p)<=E*Math.max(1,Math.abs(n),Math.abs(p))&&Math.abs(i-m)<=E*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(r-y)<=E*Math.max(1,Math.abs(r),Math.abs(y))&&Math.abs(s-g)<=E*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(o-v)<=E*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(a-b)<=E*Math.max(1,Math.abs(a),Math.abs(b))&&Math.abs(l-w)<=E*Math.max(1,Math.abs(l),Math.abs(w))&&Math.abs(c-S)<=E*Math.max(1,Math.abs(c),Math.abs(S))&&Math.abs(h-x)<=E*Math.max(1,Math.abs(h),Math.abs(x))}function ePe(e){const t=Er(),n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],h=e[8];return Math.abs(1-(n*n+s*s+l*l))<=t&&Math.abs(1-(i*i+o*o+c*c))<=t&&Math.abs(1-(r*r+a*a+h*h))<=t}const tPe=wO,nPe=WJ;Object.freeze(Object.defineProperty({__proto__:null,add:YAe,adjoint:RAe,copy:PAe,determinant:NAe,equals:QAe,exactEquals:XAe,frob:ZAe,fromMat2d:BAe,fromMat4:AAe,fromQuat:UAe,fromRotation:jAe,fromScaling:zAe,fromTranslation:FAe,identity:HJ,invert:OAe,isOrthoNormal:ePe,mul:tPe,multiply:wO,multiplyScalar:JAe,multiplyScalarAndAdd:KAe,normalFromMat4:HAe,normalFromMat4Legacy:GAe,projection:qAe,rotate:qJ,scale:DAe,scaleByVec2:VAe,set:GJ,str:WAe,sub:nPe,subtract:WJ,translate:aA,transpose:LAe},Symbol.toStringTag,{value:"Module"}));function h_(){const e=new Float32Array(9);return e[0]=1,e[4]=1,e[8]=1,e}function iPe(e){const t=new Float32Array(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function rPe(e,t,n,i,r,s,o,a,l){const c=new Float32Array(9);return c[0]=e,c[1]=t,c[2]=n,c[3]=i,c[4]=r,c[5]=s,c[6]=o,c[7]=a,c[8]=l,c}function sPe(e,t){return new Float32Array(e,t,9)}Object.freeze(Object.defineProperty({__proto__:null,clone:iPe,create:h_,createView:sPe,fromValues:rPe},Symbol.toStringTag,{value:"Module"}));function ZJ(){return new Float32Array(2)}function oPe(e){const t=new Float32Array(2);return t[0]=e[0],t[1]=e[1],t}function Fm(e,t){const n=new Float32Array(2);return n[0]=e,n[1]=t,n}function aPe(e,t){return new Float32Array(e,t,2)}function YJ(){return ZJ()}function JJ(){return Fm(1,1)}function KJ(){return Fm(1,0)}function XJ(){return Fm(0,1)}const lPe=YJ(),uPe=JJ(),cPe=KJ(),dPe=XJ();Object.freeze(Object.defineProperty({__proto__:null,ONES:uPe,UNIT_X:cPe,UNIT_Y:dPe,ZEROS:lPe,clone:oPe,create:ZJ,createView:aPe,fromValues:Fm,ones:JJ,unitX:KJ,unitY:XJ,zeros:YJ},Symbol.toStringTag,{value:"Module"}));function hPe(e){return e instanceof Float32Array&&e.length>=2}function pPe(e){return Array.isArray(e)&&e.length>=2}function DT(e){return hPe(e)||pPe(e)}var lA;const Ba=[0,0];let dl=lA=class extends te{constructor(e){super(e),this._viewpoint2D={center:bn(),rotation:0,scale:0,spatialReference:void 0},this.center=[0,0],this.extent=new Gt,this.id=0,this.inverseTransform=Cl(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=Cl(),this.transformNoRotation=Cl(),this.displayMat3=h_(),this.displayViewMat3=h_(),this.viewMat3=h_(),this.viewMat2d=FS(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(e){this._set("pixelRatio",e),this._update()}set size(e){this._set("size",e),this._update()}set viewpoint(e){if(e){const t=this._viewpoint2D,n=e.targetGeometry;t.center[0]=n.x,t.center[1]=n.y,t.rotation=e.rotation,t.scale=e.scale,t.spatialReference=n.spatialReference}this._update()}get visibleArea(){const[e,t]=this.size;return[this.toMap([0,0],0,0),this.toMap([0,0],0,t),this.toMap([0,0],e,t),this.toMap([0,0],e,0)]}copy(e){const t=this.size,n=this.viewpoint;return n&&t?(this.viewpoint=tr(n,e.viewpoint),this._set("size",cm(t,e.size))):(this.viewpoint=e.viewpoint.clone(),this._set("size",[e.size[0],e.size[1]])),this._set("pixelRatio",e.pixelRatio),this}clone(){return new lA({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(e,t,n){return DT(t)?wa(e,t,this.inverseTransform):(Ba[0]=t,Ba[1]=n,wa(e,Ba,this.inverseTransform))}toScreen(e,t,n){return DT(t)?wa(e,t,this.transform):(Ba[0]=t,Ba[1]=n,wa(e,Ba,this.transform))}toScreenNoRotation(e,t,n){return DT(t)?wa(e,t,this.transformNoRotation):(Ba[0]=t,Ba[1]=n,wa(e,Ba,this.transformNoRotation))}wrapMapCoordinate(e,t){cm(e,t);const[n]=t,[i]=this.center,{extent:r,spatialReference:s}=this;let{xmin:o,xmax:a}=r;if(s.isWrappable){const l=FJ(s)/2;o=Math.max(o,i-l),a=Math.min(a,i+l)}return(n<o||n>a)&&(e[0]=mO(n,i,s)),e}getScreenTransform(e,t){const{center:n}=this._viewpoint2D,i=this._get("pixelRatio")||1,r=this._get("size");return vO(e,n,r,t,0,i),e}_update(){const{center:e,spatialReference:t,scale:n,rotation:i}=this._viewpoint2D,r=this._get("pixelRatio")||1,s=this._get("size"),o=new Zs({targetGeometry:new nt(e[0],e[1],t),scale:n,rotation:i});if(this._set("viewpoint",o),!s||!t||!n)return;this.resolution=gy(o),this.rotation=i,this.scale=n,this.spatialReference=t,cm(this.center,e);const a=s[0]!==0?2/s[0]:0,l=s[1]!==0?-2/s[1]:0;GJ(this.displayMat3,a,0,0,0,l,0,-1,1,1);const c=HJ(this.viewMat3),h=Fm(s[0]/2,s[1]/2),p=Fm(-s[0]/2,-s[1]/2),m=S3(i);aA(c,c,h),qJ(c,c,m),aA(c,c,p),wO(this.displayViewMat3,this.displayMat3,c);const y=fO(this.viewMat2d,h);return Lb(y,y,m),Vm(y,y,p),fAe(this.extent,o,s),bO(this.transform,o,s,r),pO(this.inverseTransform,this.transform),wAe(this.transformNoRotation,o,s,r),this.worldScreenWidth=_Ae(this.spatialReference,this.resolution),this._set("id",this.id+1),this.notifyChange("visibleArea"),this}};u([d({readOnly:!0})],dl.prototype,"id",void 0),u([d({value:1,json:{write:!0}})],dl.prototype,"pixelRatio",null),u([d({json:{write:!0}})],dl.prototype,"size",null),u([d()],dl.prototype,"spatialReference",void 0),u([d({type:Zs,json:{write:!0}})],dl.prototype,"viewpoint",null),u([d({readOnly:!0})],dl.prototype,"visibleArea",null),dl=lA=u([k("esri.views.2d.ViewState")],dl);const e6=dl;var uA,cA;let xl=uA=class extends Ce{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}clone(){return new uA({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}};u([d()],xl.prototype,"left",void 0),u([d()],xl.prototype,"top",void 0),u([d()],xl.prototype,"right",void 0),u([d()],xl.prototype,"bottom",void 0),xl=uA=u([k("esri.views.2d.PaddedViewState.Padding")],xl);let _f=cA=class extends e6{constructor(...e){super(...e),this.paddedViewState=new e6,this._updateContent=(()=>{const t=bn();return()=>{const n=this._get("size"),i=this._get("padding");if(!n||!i)return;const r=this.paddedViewState;bi(t,i.left+i.right,i.top+i.bottom),I0(t,n,t),cm(r.size,t);const s=r.viewpoint;s&&(this.viewpoint=s)}})(),this.addHandles(me(()=>[this.size,this.padding],()=>this._updateContent(),ka)),this.padding=new xl,this.size=[0,0]}set padding(e){this._set("padding",e||new xl)}set viewpoint(e){if(e){this.paddedViewState.viewpoint=e;let t=e;const n=this._get("padding");n&&(t=xAe(e.clone(),e,this._get("size"),n));const{targetGeometry:i,rotation:r,scale:s}=t,{x:o,y:a,spatialReference:l}=i,c=this._viewpoint2D;c.center[0]=o,c.center[1]=a,c.rotation=r,c.scale=s,c.spatialReference=l,this._update()}}clone(){return new cA({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}};u([d()],_f.prototype,"paddedViewState",void 0),u([d({type:xl})],_f.prototype,"padding",null),u([d()],_f.prototype,"viewpoint",null),_f=cA=u([k("esri.views.2d.PaddedViewState")],_f);const _O=_f;var Li;(function(e){e[e.ANIMATING=0]="ANIMATING",e[e.INTERACTING=1]="INTERACTING",e[e.IDLE=2]="IDLE"})(Li||(Li={}));const QJ=Symbol("Yield");let fPe=class{constructor(){this._tasks=new Array,this._runningTasks=Dm(0)}get length(){return this._tasks.length}get running(){return this._runningTasks.value>0}destroy(){this.cancelAll()}runTask(t){if(this.length===0)return QJ;for(;!t.done&&this._process(t);)t.madeProgress()}push(t,n,i){return++this._runningTasks.value,new Promise((r,s)=>this._tasks.push(new t6(r,s,t,n,i))).finally(()=>--this._runningTasks.value)}unshift(t,n,i){return++this._runningTasks.value,new Promise((r,s)=>this._tasks.unshift(new t6(r,s,t,n,i))).finally(()=>--this._runningTasks.value)}_process(t){if(this._tasks.length===0)return!1;const n=this._tasks.shift();try{const i=vs(n.signal);if(i&&!n.abortCallback)n.reject(Ut());else{const r=i?n.abortCallback?.(Ut()):n.callback(t);Na(r)?r.then(n.resolve,n.reject):n.resolve(r)}}catch(i){n.reject(i)}return!0}cancelAll(){const t=Ut();for(const n of this._tasks)if(n.abortCallback){const i=n.abortCallback(t);n.resolve(i)}else n.reject(t);this._tasks.length=0}},t6=class{constructor(t,n,i,r=void 0,s=void 0){this.resolve=t,this.reject=n,this.callback=i,this.signal=r,this.abortCallback=s}},nv=class extends Ce{constructor(){super(...arguments),this.SCHEDULER_LOG_SLOW_TASKS=!1,this.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1}};u([d()],nv.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0),u([d()],nv.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0),nv=u([k("esri.views.support.debugFlags")],nv);const mPe=new nv;function yPe(){return new jS.Scheduler}var rt;(function(e){e.RESOURCE_CONTROLLER_IMMEDIATE="immediate",e.RESOURCE_CONTROLLER="schedule",e.SLIDE="slide",e.STREAM_DATA_LOADER="stream loader",e.ELEVATION_QUERY="elevation query",e.TERRAIN_SURFACE="terrain",e.SURFACE_GEOMETRY_UPDATES="surface geometry updates",e.LOD_RENDERER="LoD renderer",e.GRAPHICS_CORE="Graphics3D",e.I3S_CONTROLLER="I3S",e.POINT_CLOUD_LAYER="point cloud",e.FEATURE_TILE_FETCHER="feature fetcher",e.OVERLAY="overlay",e.STAGE="stage",e.GRAPHICS_DECONFLICTOR="graphics deconflictor",e.FILTER_VISIBILITY="Graphics3D filter visibility",e.SCALE_VISIBILITY="Graphics3D scale visibility",e.FRUSTUM_VISIBILITY="Graphics3D frustum visibility",e.POINT_OF_INTEREST_FREQUENT="POI frequent",e.POINT_OF_INTEREST_INFREQUENT="POI infrequent",e.LABELER="labeler",e.FEATURE_QUERY_ENGINE="feature query",e.FEATURE_TILE_TREE="feature tile tree",e.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree",e.ELEVATION_ALIGNMENT="elevation alignment",e.ELEVATION_ALIGNMENT_SCENE="elevation alignment scene",e.TEXT_TEXTURE_ATLAS="text texture atlas",e.TEXTURE_UNLOAD="texture unload",e.LINE_OF_SIGHT_TOOL="line of sight tool",e.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool",e.ELEVATION_PROFILE="elevation profile",e.SNAPPING="snapping",e.SHADOW_ACCUMULATOR="shadow accumulator",e.CLOUDS_GENERATOR="clouds generator",e.MAPVIEW_FETCH_QUEUE="mapview fetch queue",e.MAPVIEW_LAYERVIEW_UPDATE="mapview layerview update",e.MAPVIEW_VECTOR_TILE_PARSING_QUEUE="mapview vector tile parsing queue",e[e.NONE=0]="NONE",e[e.TEST_PRIO=1]="TEST_PRIO"})(rt||(rt={}));const js=0,n6=new Map([[rt.RESOURCE_CONTROLLER_IMMEDIATE,js],[rt.RESOURCE_CONTROLLER,4],[rt.SLIDE,js],[rt.STREAM_DATA_LOADER,js],[rt.ELEVATION_QUERY,js],[rt.TERRAIN_SURFACE,1],[rt.SURFACE_GEOMETRY_UPDATES,1],[rt.LOD_RENDERER,2],[rt.GRAPHICS_CORE,2],[rt.I3S_CONTROLLER,2],[rt.POINT_CLOUD_LAYER,2],[rt.FEATURE_TILE_FETCHER,2],[rt.CLOUDS_GENERATOR,2],[rt.OVERLAY,4],[rt.STAGE,4],[rt.GRAPHICS_DECONFLICTOR,4],[rt.FILTER_VISIBILITY,4],[rt.SCALE_VISIBILITY,4],[rt.FRUSTUM_VISIBILITY,4],[rt.POINT_OF_INTEREST_FREQUENT,6],[rt.POINT_OF_INTEREST_INFREQUENT,30],[rt.LABELER,8],[rt.FEATURE_QUERY_ENGINE,8],[rt.FEATURE_TILE_TREE,16],[rt.FEATURE_TILE_TREE_ACTIVE,js],[rt.ELEVATION_ALIGNMENT,12],[rt.ELEVATION_ALIGNMENT_SCENE,14],[rt.TEXT_TEXTURE_ATLAS,12],[rt.TEXTURE_UNLOAD,12],[rt.LINE_OF_SIGHT_TOOL,16],[rt.LINE_OF_SIGHT_TOOL_INTERACTIVE,js],[rt.SNAPPING,js],[rt.SHADOW_ACCUMULATOR,30],[rt.MAPVIEW_FETCH_QUEUE,js],[rt.MAPVIEW_LAYERVIEW_UPDATE,2],[rt.MAPVIEW_VECTOR_TILE_PARSING_QUEUE,js]]);function i6(e){return n6.has(e)?n6.get(e):typeof e=="number"?e:1}const gPe=6.5,r6=1,vPe=30,bPe=1e3/30,wPe=100,s6=.9;var jS,Hc;(function(e){class t{get updating(){return this._updating.value}_updatingChanged(){this._updating.value=this._tasks.some(s=>s.needsUpdate)}constructor(){this._updating=Dm(!0),this._microTaskQueued=!1,this._frameNumber=0,this.performanceInfo={total:new hv("total"),tasks:new Map},this._frameTaskTimes=new Map,this._budget=new i,this._state=Li.INTERACTING,this._tasks=new mh,this._runQueue=new mh,this._load=0,this._idleStateCallbacks=new mh,this._idleUpdatesStartFired=!1,this._forceTask=!1,this._debug=!1,this._debugHandle=me(()=>mPe.SCHEDULER_LOG_SLOW_TASKS,s=>this._debug=s,mt);for(const s of Object.keys(rt))this.performanceInfo.tasks.set(rt[s],new hv(rt[s]))}destroy(){this._tasks.toArray().forEach(s=>s.remove()),this._tasks.clear(),on(this._debugHandle),this._microTaskQueued=!1,this._updatingChanged()}taskRunningChanged(s){this._updatingChanged(),s&&this._budget.remaining>0&&!this._microTaskQueued&&(this._microTaskQueued=!0,queueMicrotask(()=>{this._microTaskQueued&&(this._microTaskQueued=!1,this._budget.remaining>0&&this._schedule()&&this._runFrame())}))}registerTask(s,o){const a=new n(this,s,o);return this._tasks.push(a),this._updatingChanged(),this.performanceInfo.tasks.has(s)||this.performanceInfo.tasks.set(s,new hv(s)),a}registerIdleStateCallbacks(s,o){const a={idleBegin:s,idleEnd:o};this._idleStateCallbacks.push(a),this.state===Li.IDLE&&this._idleUpdatesStartFired&&a.idleBegin();const l=this;return{remove:()=>this._removeIdleStateCallbacks(a),set idleBegin(c){l._idleUpdatesStartFired&&(a.idleEnd(),l._state===Li.IDLE&&c()),a.idleBegin=c},set idleEnd(c){a.idleEnd=c}}}get load(){return this._load}set state(s){this._state!==s&&(this._state=s,this.state!==Li.IDLE&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll(o=>o.idleEnd())))}get state(){return this._state}frame(s){this._startFrameTaskTimes();const o=this._updateBudget(s);if(o){const a=this._budget.now();this._runFrame(),this._recordFrameTaskTimes(this._budget.now()-a)}else this._recordFrameTaskTimes(0);return o}_updateBudget(s){this._test&&(this._test.usedBudget=0),++this._frameNumber;let o=gPe,a=s.frameDuration,l=r6;switch(this.state){case Li.IDLE:o=0,a=Math.max(wPe,s.frameDuration),l=vPe;break;case Li.INTERACTING:a=Math.max(bPe,s.frameDuration);case Li.ANIMATING:}return a=a-s.elapsedFrameTime-o,this.state!==Li.IDLE&&a<r6&&!this._forceTask?(this._forceTask=!0,!1):(a=Math.max(a,l),this._budget.reset(a,this.state),this._updateLoad(),this._schedule())}_runFrame(){switch(this._forceTask=!1,this._microTaskQueued=!1,this.state){case Li.IDLE:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll(s=>s.idleBegin())),this._runIdle();break;case Li.INTERACTING:this._runInteracting();break;default:this._runAnimating()}this._test&&(this._test.usedBudget=this._budget.elapsed)}stopFrame(){this._budget.reset(0,this._state),this._budget.madeProgress()}_removeIdleStateCallbacks(s){this._idleUpdatesStartFired&&s.idleEnd(),this._idleStateCallbacks.removeUnordered(s)}removeTask(s){this._tasks.removeUnordered(s),this._runQueue.removeUnordered(s),this._updatingChanged()}_updateTask(s){this._tasks.forAll(o=>{o.name===s&&o.setPriority(s)})}_getState(s){if(this._runQueue.some(a=>a.name===s))return Hc.SCHEDULED;let o=Hc.IDLE;return this._tasks.forAll(a=>{a.name===s&&a.needsUpdate&&(a.schedulePriority<=1?o=Hc.READY:o!==Hc.READY&&(o=Hc.WAITING))}),o}_getRuntime(s){let o=0;return this._tasks.forAll(a=>{a.name===s&&(o+=a.runtime)}),o}_resetRuntimes(){this._tasks.forAll(s=>s.runtime=0)}_getRunning(){const s=new Map;if(this._tasks.forAll(a=>{a.needsUpdate&&s.set(a.name,(s.get(a.name)||0)+1)}),s.size===0)return null;let o="";return s.forEach((a,l)=>{o+=a>1?` ${a}x ${l}`:` ${l}`}),o}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){const s=this._tasks.reduce((o,a)=>a.needsUpdate?++o:o,0);this._load=this._load*s6+s*(1-s6)}_schedule(){for(this._runQueue.filterInPlace(s=>!!s.needsUpdate||(s.schedulePriority=s.basePriority,!1)),this._tasks.forAll(s=>{s.basePriority===js&&s.needsUpdate&&!this._runQueue.includes(s)&&s.blockFrame!==this._frameNumber&&this._runQueue.unshift(s)});this._runQueue.length===0;){let s=!1,o=0;if(this._tasks.forAll(a=>{a.needsUpdate&&a.schedulePriority!==0&&a.basePriority!==js&&a.blockFrame!==this._frameNumber&&(s=!0,o=Math.max(o,a.basePriority),a.schedulePriority===1?(a.schedulePriority=0,this._runQueue.push(a)):--a.schedulePriority)}),!s)return this._updatingChanged(),!1}return this._updatingChanged(),!0}_run(){do for(;this._runQueue.length>0;){const s=this._budget.now(),o=this._runQueue.pop();this._budget.resetProgress();try{o.task.runTask(this._budget)===QJ&&(o.blockFrame=this._frameNumber)}catch(l){re.getLogger("esri.views.support.Scheduler").error(`Exception in task "${o.name}"`,l),o.blockFrame=this._frameNumber}!this._budget.hasProgressed&&o.blockFrame!==this._frameNumber&&o.needsUpdate&&(o.name,rt.I3S_CONTROLLER,o.blockFrame=this._frameNumber),o.schedulePriority=o.basePriority;const a=this._budget.now()-s;if(o.runtime+=a,this._frameTaskTimes.set(o.priority,this._frameTaskTimes.get(o.priority)+a),this._budget.remaining<=0)return void this._updatingChanged()}while(this._schedule());this._updatingChanged()}_startFrameTaskTimes(){for(const s of Object.keys(rt))this._frameTaskTimes.set(rt[s],0)}_recordFrameTaskTimes(s){this._frameTaskTimes.forEach((o,a)=>this.performanceInfo.tasks.get(a).push(o)),this.performanceInfo.total.push(s)}get test(){return this._test}}e.Scheduler=t;class n{get task(){return this._task.value}get updating(){return this._queue.running}constructor(s,o,a){this._scheduler=s,this.name=o,this.blockFrame=0,this.runtime=0,this._queue=new fPe,this._handles=new Xm,this._basePriority=i6(o),this.schedulePriority=this._basePriority,this._task=Dm(a??this._queue),this._handles.add(sr(()=>this.task.running,l=>s.taskRunningChanged(l)))}remove(){this.processQueue(eK),this._scheduler.removeTask(this),this.schedule=o6.schedule,this.reschedule=o6.reschedule,this._handles.destroy()}get basePriority(){return this._basePriority}setPriority(s){if(this.name===s)return;this.name=s;const o=i6(s);this._basePriority!==js&&this.schedulePriority===0||(this.schedulePriority=o),this._basePriority=o}get priority(){return this.name}set priority(s){this.setPriority(s)}get needsUpdate(){return this.updating||this.task.running}schedule(s,o,a){return this._queue.push(s,o,a)}reschedule(s,o,a){return this._queue.unshift(s,o,a)}processQueue(s){return this._queue.runTask(s)}}class i{constructor(){this._begin=typeof performance<"u"?performance.now():0,this._budget=0,this._state=Li.IDLE,this._done=!1,this._progressed=!1,this._enabled=!0}run(s){return!this.done&&(s()===!0&&this.madeProgress(),!0)}get done(){return this._done}get budget(){return this._budget}madeProgress(){return this._progressed=!0,this._done=this.elapsed>=this._budget&&this._enabled,this._done}get state(){return this._state}get enabled(){return this._enabled}set enabled(s){this._enabled=s}reset(s,o){this._begin=this.now(),this._budget=s,this._state=o,this.resetProgress()}get remaining(){return Math.max(this._budget-this.elapsed,0)}now(){return performance.now()}get elapsed(){return this.now()-this._begin}resetProgress(){this._progressed=!1,this._done=!1}get hasProgressed(){return this._progressed}}e.Budget=i})(jS||(jS={})),function(e){e.SCHEDULED="s",e.READY="r",e.WAITING="w",e.IDLE="i"}(Hc||(Hc={}));const eK=(()=>{const e=new jS.Budget;return e.enabled=!1,e})();let _Pe=class{remove(){}processQueue(){}schedule(t,n,i){try{if(vs(n)){const r=Ut();return i?Promise.resolve(i(r)):Promise.reject(r)}return XE(t(eK))}catch(r){return Promise.reject(r)}}reschedule(t,n,i){return this.schedule(t,n,i)}};const o6=new _Pe;let SPe=class{constructor(t){this.view=t,this._stationaryHandle=null,this._frameTaskHandle=null,this._updateParameters=null,this._updateRequested=!1,this._scheduler=yPe(),this._schedulerHandle=sr(()=>this._scheduler.updating,()=>this.requestFrame()),this.stationary=!0,this.prepare=()=>{this._updateParameters&&(this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions,this._updateParameters.targetState.copy(this.view.state),this.view.animation?.target==null||Na(this.view.animation.target)||(this._updateParameters.targetState.viewpoint=this.view.animation.target))},this.update=n=>{if(this._updateRequested=!1,this.view?.destroyed)return;const{allLayerViews:i,graphicsView:r,labelManager:s,state:{id:o}}=this.view;i?.forEach(this._updateLayerView,this),s!=null&&(s.lastUpdateId!==o&&(s.viewChange(),s.lastUpdateId=o),s.updateRequested&&s.processUpdate(this._updateParameters)),r!=null&&(r.lastUpdateId!==o&&(r.viewChange(),r.lastUpdateId=o),r.updateRequested&&r.processUpdate(this._updateParameters)),this.view.graphicsTileStore?.setViewState(this._updateParameters.state),this.view.animation?this._scheduler.state=Li.ANIMATING:this.view.interacting?this._scheduler.state=Li.INTERACTING:this._scheduler.state=Li.IDLE,this._scheduler.frame(n)||this._updateRequested||this._scheduler.state!==Li.IDLE||this._frameTaskHandle?.pause()}}destroy(){this.stop(),this._schedulerHandle.remove(),this._scheduler.destroy()}get scheduler(){return this._scheduler}start(){if(this._frameTaskHandle)return;const t=this.view;this.stationary=t.stationary,this._updateParameters={state:t.state,targetState:new _O,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:t.renderingOptions},this._stationaryHandle=me(()=>t.stationary,n=>{this.stationary=n,this.requestFrame()}),this._frameTaskHandle=wm(this),this.requestUpdate()}stop(){this._frameTaskHandle&&(this._updateRequested=!1,this._stationaryHandle?.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(t){if(!t.attached)return void this.requestUpdate();const n=this.view.state,i=t.lastUpdateId;i!=null&&(this.stationary||t.moving)||(t.moving=!0),i!==n.id&&t.viewChange(),this.stationary&&t.moving&&(t.moving=!1,t.moveEnd()),t.lastUpdateId=n.id,t.updateRequested&&t.processUpdate(this._updateParameters),"layerViews"in t&&t.layerViews?.forEach(this._updateLayerView,this)}},Ou=class extends pb{constructor(t){super(t),this.state="running",this.target=null,this._resolver=null}initialize(){this._resolver=bs(),this.addResolvingPromise(this._resolver.promise)}get done(){return this.state==="finished"||this.state==="stopped"}stop(){this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","stopped"),this._resolver?.reject(new B("ViewAnimation stopped")))}finish(){this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","finished"),this._resolver?.resolve())}update(t,n){n||(n=Na(t)?"waiting-for-target":"running"),this._set("target",t),this._set("state",n)}};u([d({readOnly:!0})],Ou.prototype,"done",null),u([d({readOnly:!0,type:String})],Ou.prototype,"state",void 0),u([d()],Ou.prototype,"target",void 0),Ou=u([k("esri.views.ViewAnimation")],Ou),function(e){e.State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"}}(Ou||(Ou={}));const dA=Ou;let p_=class extends Ce{constructor(t){super(t),this._gotoTask=null}destroy(){this._gotoTask=null}async goTo(t,n){if(!t)return void re.getLogger(this).error("#goTo()","target cannot be null or undefined");const i=new dA;this.view.animation=i,await yx(()=>this.view.ready,n);const r={...n,animate:n?.animate??!uJ(),animationMode:n?.animationMode??"auto"},{extent:s,spatialReference:o,size:a,viewpoint:l,constraints:c,padding:h,allLayerViews:p}=this.view,m=hAe(t,{extent:s,spatialReference:o,size:a,viewpoint:l,constraints:c,padding:h,allLayerViews:p,pickClosestTarget:n?.pickClosestTarget??!0});return i?.update(m),this._gotoTask={},r.animate?this._gotoAnimated(m,r):this._gotoImmediate(m,r)}_gotoImmediate(t,n){const i=this._gotoTask,r=this.view.animation,s=t.then(o=>{if(fn(n),i!==this._gotoTask)throw new B("view:goto-interrupted","Goto was interrupted");this.view.viewpoint=r.target=o,r.finish()});return this._cancellableGoTo(i,r,s,n)}_gotoAnimated(t,n){const i=this._gotoTask,r=this.view.animation;if(!r)return Promise.resolve();const s=t.then(o=>{if(fn(n),i!==this._gotoTask)throw new B("view:goto-interrupted","Goto was interrupted");return r.update(o),this.view.animationManager.animate(r,this.view.viewpoint,n),r.when().then(()=>{},()=>{})});return this._cancellableGoTo(i,r,s,n)}_cancellableGoTo(t,n,i,r){const s=()=>t===this._gotoTask;return a9(i,r).finally(()=>{s()&&(n.done||n.stop())})}};u([d({constructOnly:!0})],p_.prototype,"view",void 0),p_=u([k("esri.views.2d.GoToManager")],p_);function xPe(e,t){const{spatialReference:n}=t,i=[t.x,t.y];let r,s,o,a;const l=[0,0],c=$Pe(e);for(let m=0;m<c.length;m++){const y=c[m];for(let g=0;g<y.length-1;g++){x0e(l,i,y,g);const v=qx(i,l);(r==null||v<r)&&(r=v,s=[...l],o=m,a=g)}}if(r==null||!s||o==null||a==null)throw new B("nearest-coordinate:failed","Failed to find the nearest coordinate");const[h,p]=s;return{coordinate:new nt({x:h,y:p,spatialReference:n}),distance:r}}function $Pe(e){switch(e.type){case"extent":return[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]];case"polygon":return e.rings;case"polyline":return e.paths}}var hA;let eh=hA=class extends Cc.NumericIdentifiableMixin(Ce){constructor(e){super(e),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){if(this.geometry==null||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return Dc(this.geometry,this.spatialReference)}catch(e){return re.getLogger(this).error("#constraints.geometry","could not project the geometry to the view's spatial reference",{geometry:this.geometry,spatialReference:this.spatialReference,error:e}),null}return this.geometry}constrain(e,t){if(this.normalizedGeometry==null)return e;const n=e.targetGeometry;if(this.normalizedGeometry.type==="extent"?fb(this.normalizedGeometry,n):WL(this.normalizedGeometry,n))return e;const{coordinate:i}=xPe(this.normalizedGeometry,n);return i&&(e.targetGeometry=i),e}clone(){return new hA({geometry:this.geometry?.clone(),spatialReference:this.spatialReference?.clone()})}};u([d({constructOnly:!0})],eh.prototype,"geometry",void 0),u([d({readOnly:!0})],eh.prototype,"normalizedGeometry",null),u([d({constructOnly:!0})],eh.prototype,"spatialReference",void 0),eh=hA=u([k("esri.views.2d.constraints.GeometryConstraint")],eh);var pA;let iv=pA=class extends Cc.NumericIdentifiableMixin(Ce){constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(e,t){return this.enabled&&t&&(this.rotationEnabled||(e.rotation=t.rotation)),e}clone(){return new pA({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};u([d()],iv.prototype,"enabled",void 0),u([d()],iv.prototype,"rotationEnabled",void 0),iv=pA=u([k("esri.views.2d.constraints.RotationConstraint")],iv);const tK=iv;var fA;let Dr=fA=class extends Cc.NumericIdentifiableMixin(Ce){constructor(e){super(e),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){let e,{lods:t,minScale:n,maxScale:i,minZoom:r,maxZoom:s}=this,o=-1,a=-1,l=!1,c=!1;if(n!==0&&i!==0&&n<i&&([n,i]=[i,n]),!t?.length)return this._set("effectiveMinScale",n),void this._set("effectiveMaxScale",i);t=t.map(h=>h.clone()),t.sort((h,p)=>p.scale-h.scale),t.forEach((h,p)=>h.level=p);for(const h of t)!l&&n>0&&n>=h.scale&&(o=h.level,l=!0),!c&&i>0&&i>=h.scale&&(a=e?e.level:-1,c=!0),e=h;r===-1&&(r=n===0?0:o),s===-1&&(s=i===0?t.length-1:a),r=Math.max(r,0),r=Math.min(r,t.length-1),s=Math.max(s,0),s=Math.min(s,t.length-1),r>s&&([r,s]=[s,r]),n=t[r].scale,i=t[s].scale,t.splice(0,r),t.splice(s-r+1,t.length),t.forEach((h,p)=>{this._lodByScale[h.scale]=h,this._scales[p]=h.scale}),this._set("effectiveLODs",t),this._set("effectiveMinZoom",r),this._set("effectiveMaxZoom",s),this._set("effectiveMinScale",n),this._set("effectiveMaxScale",i)}constrain(e,t){if(t&&e.scale===t.scale)return e;const n=this.effectiveMinScale,i=this.effectiveMaxScale,r=e.targetGeometry,s=t&&t.targetGeometry,o=i!==0&&e.scale<i,a=n!==0&&e.scale>n;if(o||a){const l=a?n:i;if(t&&s){const c=(l-t.scale)/(e.scale-t.scale);r.x=s.x+(r.x-s.x)*c,r.y=s.y+(r.y-s.y)*c}e.scale=l}return this.snapToZoom&&this.effectiveLODs&&(e.scale=this._getClosestScale(e.scale)),e}fit(e){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(e,null);const t=this.scaleToZoom(e.scale),n=Math.abs(t-Math.floor(t));return e.scale=this.zoomToScale(n>.99?Math.round(t):Math.floor(t)),e}zoomToScale(e){if(!this.effectiveLODs)return 0;e-=this.effectiveMinZoom,e=Math.max(0,e);const t=this._scales;if(e<=0)return t[0];if(e>=t.length)return t[t.length-1];const n=Math.floor(e),i=Math.ceil(e);return t[n]+(e-n)*(t[i]-t[n])}scaleToZoom(e){if(!this.effectiveLODs)return-1;const t=this._scales;let n,i;if(e>=t[0])return this.effectiveMinZoom;if(e<=t[t.length-1])return this.effectiveMaxZoom;for(let r=0;r<t.length-1;r++){if(n=t[r],i=t[r+1],i===e)return r+this.effectiveMinZoom+1;if(n>e&&i<e)return r+this.effectiveMinZoom+1-(e-i)/(n-i)}return-1}snapToClosestScale(e){if(!this.effectiveLODs)return e;const t=this.scaleToZoom(e);return this.zoomToScale(Math.round(t))}snapToNextScale(e,t=.5){if(!this.effectiveLODs)return e*t;const n=Math.round(this.scaleToZoom(e));return this.zoomToScale(n+1)}snapToPreviousScale(e,t=2){if(!this.effectiveLODs)return e*t;const n=Math.round(this.scaleToZoom(e));return this.zoomToScale(n-1)}clone(){return new fA({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(e){return this._lodByScale[e]||(e=this._scales.reduce((t,n)=>Math.abs(n-e)<=Math.abs(t-e)?n:t,this._scales[0])),this._lodByScale[e].scale}};u([d({readOnly:!0})],Dr.prototype,"effectiveLODs",void 0),u([d({readOnly:!0})],Dr.prototype,"effectiveMinZoom",void 0),u([d({readOnly:!0})],Dr.prototype,"effectiveMaxZoom",void 0),u([d({readOnly:!0})],Dr.prototype,"effectiveMinScale",void 0),u([d({readOnly:!0})],Dr.prototype,"effectiveMaxScale",void 0),u([d()],Dr.prototype,"lods",void 0),u([d()],Dr.prototype,"minZoom",void 0),u([d()],Dr.prototype,"maxZoom",void 0),u([d()],Dr.prototype,"minScale",void 0),u([d()],Dr.prototype,"maxScale",void 0),u([d()],Dr.prototype,"snapToZoom",void 0),Dr=fA=u([k("esri.views.2d.constraints.ZoomConstraint")],Dr);const nK=Dr,TPe={base:null,key:"type",typeMap:{extent:Gt,polygon:Wo}};let In=class extends Ce{constructor(t){super(t),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0,this.customConstraints=new we}destroy(){this.view=null}get effectiveLODs(){return this._zoom.effectiveLODs}get effectiveMinScale(){return this._zoom.effectiveMinScale}get effectiveMaxScale(){return this._zoom.effectiveMaxScale}get effectiveMinZoom(){return this._zoom.effectiveMinZoom}get effectiveMaxZoom(){return this._zoom.effectiveMaxZoom}set geometry(t){t?this._set("geometry",t):this._set("geometry",null)}get version(){return`${this._zoom?.uid}/${this._rotation?.uid}/${this._geometry?.uid}`}get _geometry(){const t=this._get("_geometry");return t&&this.geometry===t.geometry&&this.view?.constraintsInfo.spatialReference===t.spatialReference?t:new eh({geometry:this.geometry,spatialReference:this.view?.constraintsInfo.spatialReference})}get _rotation(){return new tK({rotationEnabled:this.rotationEnabled})}get _zoom(){const t=this._get("_zoom"),n=this.lods||this.view?.constraintsInfo.lods,i=this.minZoom,r=this.maxZoom,s=this.minScale,o=this.maxScale,a=this.snapToZoom;return t&&t.lods===n&&t.minZoom===i&&t.maxZoom===r&&t.minScale===s&&t.maxScale===o&&t.snapToZoom===a?t:new nK({lods:n,minZoom:i,maxZoom:r,minScale:s,maxScale:o,snapToZoom:a})}canZoomInTo(t){const n=this.effectiveMaxScale;return n===0||t>=n}canZoomOutTo(t){const n=this.effectiveMinScale;return n===0||t<=n}constrain(t,n){return this._zoom.constrain(t,n),this._rotation.constrain(t,n),this._geometry.constrain(t,n),this.customConstraints.forEach(i=>i.constrain(t,n)),t}constrainByGeometry(t){return this._geometry.constrain(t),this.customConstraints.forEach(n=>n.applyPanConstraint?.(t)),t}fit(t){return this._zoom.fit(t)}zoomToScale(t){return this._zoom.zoomToScale(t)}scaleToZoom(t){return this._zoom.scaleToZoom(t)}snapScale(t){return this._zoom.snapToClosestScale(t)}snapToNextScale(t){return this._zoom.snapToNextScale(t)}snapToPreviousScale(t){return this._zoom.snapToPreviousScale(t)}};u([d({readOnly:!0})],In.prototype,"effectiveLODs",null),u([d({readOnly:!0})],In.prototype,"effectiveMinScale",null),u([d({readOnly:!0})],In.prototype,"effectiveMaxScale",null),u([d({readOnly:!0})],In.prototype,"effectiveMinZoom",null),u([d({readOnly:!0})],In.prototype,"effectiveMaxZoom",null),u([d({types:TPe,value:null})],In.prototype,"geometry",null),u([d({type:[Bu]})],In.prototype,"lods",void 0),u([d()],In.prototype,"minScale",void 0),u([d()],In.prototype,"maxScale",void 0),u([d()],In.prototype,"minZoom",void 0),u([d()],In.prototype,"maxZoom",void 0),u([d()],In.prototype,"rotationEnabled",void 0),u([d()],In.prototype,"snapToZoom",void 0),u([d({type:we})],In.prototype,"customConstraints",void 0),u([d()],In.prototype,"view",void 0),u([d({readOnly:!0})],In.prototype,"version",null),u([d({type:eh,readOnly:!0})],In.prototype,"_geometry",null),u([d({type:tK})],In.prototype,"_rotation",null),u([d({readOnly:!0,type:nK})],In.prototype,"_zoom",null),In=u([k("esri.views.2d.MapViewConstraints")],In);const a6=In;let Wi=class extends Ce{constructor(t){super(t),this.constraints=null,this.ready=!1,this.resizeAlign="center",this.addHandles([me(()=>this.constraints?.version,n=>{this.constraints&&n&&this.ready&&(this.state.viewpoint=this.constraints.fit(this.state.paddedViewState.viewpoint))},ka)])}get center(){if(!this.ready)return this._get("center");const{center:t,spatialReference:n}=this.state.paddedViewState;return this.state.commitProperty("id"),new nt({x:t[0],y:t[1],spatialReference:n})}set center(t){if(t==null)return;if(!this.ready)return void this._set("center",t);let n;try{n=this._project(t,this.state.spatialReference)}catch(r){return void re.getLogger(this).error(new B("mapview:invalid-center","could not project the value in the view's spatial reference",{input:t,error:r}))}const i=this.viewpoint;oA(i,i,n),this.viewpoint=i}get extent(){return this.ready?(this.state.commitProperty("id"),this.state.paddedViewState.extent.clone()):this._get("extent")}set extent(t){if(t==null)return;if(!t.width||!t.height)return void re.getLogger(this).error(new B("mapview:invalid-extent","invalid extent size"));if(!this.ready)return this._set("extent",t),this._set("center",void 0),this._set("viewpoint",void 0),this._set("scale",void 0),void this._set("zoom",void 0);let n;try{n=this._project(t,this.state.spatialReference)}catch(r){return void re.getLogger(this).error(new B("mapview:invalid-extent","could not project the value in the view's spatial reference",{error:r}))}const i=this.viewpoint;mAe(i,i,n,this.state.size,{constraints:this.constraints}),this.viewpoint=i}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(t){this.ready?(this.state.padding=t,this._set("padding",this.state.padding)):this._set("padding",t)}get resolution(){return this.ready?(this.state.commitProperty("id"),this.state.resolution):0}get rotation(){return this.ready?(this.state.commitProperty("id"),this.state.rotation):this._get("rotation")}set rotation(t){if(isNaN(t))return;if(!this.ready)return void this._set("rotation",t);const n=this.viewpoint;TAe(n,n,t),this.viewpoint=n}get scale(){return this.ready?(this.state.commitProperty("id"),this.state.scale):this._get("scale")}set scale(t){if(!t||isNaN(t))return;if(!this.ready){this._set("scale",t),this._set("zoom",void 0);const i=this._get("extent");return void(i&&(this._set("extent",void 0),this._set("center",i.center)))}const n=this.viewpoint;Q4(n,n,t),this.viewpoint=n}get viewpoint(){return this.ready?this.state.paddedViewState.viewpoint.clone():this._get("viewpoint")}set viewpoint(t){if(t==null)return;if(!this.ready)return this._set("viewpoint",t),this._set("extent",void 0),this._set("center",void 0),this._set("zoom",void 0),void this._set("scale",void 0);let n,i;try{n=this._project(t,this.state.spatialReference),!t.scale||isNaN(t.scale)?i=new B("mapview:invalid-viewpoint",`invalid scale value of ${t.scale}`):t.targetGeometry==null&&(i=new B("mapview:invalid-viewpoint","geometry not defined"))}catch(s){i=new B("mapview:invalid-viewpoint","could not project the value in the view's spatial reference",{error:s})}if(i)return void re.getLogger(this).error(i);this._scaleBeforeChangingSpatialReference=null;const r=new Zs({targetGeometry:new nt,scale:0,rotation:0});tr(r,n),this.constraints?.constrain(r,this.state.paddedViewState.viewpoint),this.state.viewpoint=r,this._set("viewpoint",r)}get visibleArea(){return this.ready?this.state.visibleArea:null}get zoom(){return this.ready?this.constraints?.scaleToZoom(this.scale)??-1:this._get("zoom")}set zoom(t){if(!(t>=0))return;if(!this.ready){this._set("zoom",t),this._set("scale",void 0);const r=this._get("extent");return void(r&&(this._set("extent",void 0),this._set("center",r.center)))}const n=this.constraints?.zoomToScale(t)??0;if(!n)return void this._set("zoom",-1);const i=this.viewpoint;Q4(i,i,n),this.viewpoint=i,this._set("zoom",this.constraints?.scaleToZoom(this.scale)??-1)}getUserStartupOptions(t){if(!t[0]&&!t[1])return{center:void 0,rotation:void 0,scale:void 0};const{padding:n,constraints:i}=this,r=this._get("center"),s=this._get("extent"),o=this._get("scale"),a=this._get("rotation"),l=this._get("viewpoint"),c=this._get("zoom"),h=c!=null&&i!=null&&i.zoomToScale(c)||void 0;let p,m,y;const g=l?.rotation,v=l?.targetGeometry;v?.type==="extent"?p=v:v?.type==="point"&&(m=v,y=l?.scale);const b=s??p;return{center:r??m??b?.center,rotation:a??g,scale:(o??h??y??(b&&Yx(b,[t[0]-n.left-n.right,t[1]-n.top-n.bottom])))||void 0}}startup(t,n,i,r){const s=t.targetGeometry;try{this._project(t,i)}catch(o){re.getLogger(this).warn(new Js("mapview:startup-projection-error","projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.",{center:s.toJSON(),spatialReference:i,error:o})),t.targetGeometry=r||new nt({x:0,y:0,spatialReference:i})}this.constraints?.fit(t),this._set("state",new _O({padding:this.padding,size:n,viewpoint:t})),this._set("ready",!0)}teardown(){this._set("ready",!1);const{center:[t,n],spatialReference:i,rotation:r,scale:s}=this.state.paddedViewState,o=new nt({x:t,y:n,spatialReference:i});this._set("viewpoint",null),this._set("extent",null),this._set("center",o),this._set("zoom",-1),this._set("rotation",r),this._set("scale",s),this._set("state",null)}changeSpatialReference(t){const n=this.state.paddedViewState.clone();if(this._scaleBeforeChangingSpatialReference==null)this._scaleBeforeChangingSpatialReference=n.scale;else{const l=n.viewpoint.clone();l.scale=this._scaleBeforeChangingSpatialReference,n.viewpoint=l}const i=n.clone(),[r,s]=n.center;let o=null;try{o=this._project(new nt({x:r,y:s,spatialReference:n.spatialReference}),t)}catch(l){kL()||re.getLogger(this).warn(new Js("mapview:spatial-reference-change","could not project the view's center to the new spatial reference",{center:o?.toJSON(),spatialReference:t,error:l}))}o||(o=new nt({x:0,y:0,spatialReference:t}));const a=oA(new Zs({targetGeometry:new nt,scale:0,rotation:0}),n.viewpoint,o);i.viewpoint=a;try{const c=[n.size[0]/2,n.size[1]/2],h=[c[0]+20,c[1]],p=n.toMap([0,0],h),{x:m,y}=this._project(new nt({x:p[0],y:p[1],spatialReference:n.spatialReference}),t);p[0]=m,p[1]=y,i.toScreen(p,p);const g=SAe(c,p,h),v=Math.hypot(p[0]-c[0],p[1]-c[1])/20;!Number.isFinite(v)||Math.abs(v)>4?(a.rotation=0,a.targetGeometry=new nt({x:0,y:0,spatialReference:t})):(a.scale*=v,a.scale>H("mapview-srswitch-adjust-rotation-scale-threshold")?a.rotation=0:a.rotation+=Number.isFinite(g)?g:0)}catch{}this._get("constraints")?.constrain(a,void 0),this._get("state").viewpoint=a}resize(t,n){if(!this.ready)return;const i=this.state;let r=this.state.paddedViewState.viewpoint;const s=this.state.paddedViewState.size.slice();i.size=[t,n],$Ae(r,r,s,this.state.paddedViewState.size,this.resizeAlign),r=this.constraints?.constrain(r,void 0)??r,this.state.viewpoint=r}toMap(t){if(!this.ready)return null;const n=[0,0],[i,r]=this.state.toMap(n,[t.x,t.y]),s=this.state.spatialReference;return new nt({x:i,y:r,spatialReference:s})}toScreen(t,n){if(!this.ready)return null;const i=this._project(t,this.state.spatialReference),r=[i.x,i.y];return n?.pickClosestTarget===!1||this.state.paddedViewState.wrapMapCoordinate(r,r),this.state.toScreen(r,r),Si(r[0],r[1])}_project(t,n){const i=t?.targetGeometry||t;if(!n)return t;if(!i)return null;if(n.imageCoordinateSystem||i.spatialReference?.imageCoordinateSystem||ui(n,i.spatialReference))return t;const r=Dc(i,n);if(!r)throw new B("mapview:projection-not-possible","projecting input geometry to target spatial reference returned a null value",{geometry:i,spatialReference:n});return EPe(t)?(t.targetGeometry=r,t):r}};function EPe(e){return e?.declaredClass==="esri.Viewpoint"}u([d({type:nt})],Wi.prototype,"center",null),u([d()],Wi.prototype,"constraints",void 0),u([d({type:Gt})],Wi.prototype,"extent",null),u([d({value:{top:0,right:0,bottom:0,left:0},cast:e=>({top:0,right:0,bottom:0,left:0,...e})})],Wi.prototype,"padding",null),u([d()],Wi.prototype,"ready",void 0),u([d()],Wi.prototype,"resizeAlign",void 0),u([d({readOnly:!0})],Wi.prototype,"resolution",null),u([d({type:Number})],Wi.prototype,"rotation",null),u([d({type:Number})],Wi.prototype,"scale",null),u([d({readOnly:!0})],Wi.prototype,"state",void 0),u([d({type:Zs})],Wi.prototype,"viewpoint",null),u([d({readOnly:!0})],Wi.prototype,"visibleArea",null),u([d()],Wi.prototype,"zoom",null),Wi=u([k("esri.views.2d.ViewStateManager")],Wi);function iK(e,t){switch(t){case"primary":return e.pointerType==="touch"||e.button===0;case"secondary":return e.pointerType!=="touch"&&e.button===2;case"tertiary":return e.pointerType!=="touch"&&e.button===1}}function rK(e,t){return t.some(n=>iK(e,n))}function l6(e,{dragPrimary:t,dragSecondary:n,dragTertiary:i}){return[{key:"primary",value:t},{key:"secondary",value:n},{key:"tertiary",value:i}].filter(r=>r.value===e).map(r=>r.key)}let u6=class extends di{constructor(t,n){super(!0),this._view=t,this.registerIncoming("double-click",n,i=>this._handleDoubleClick(i,n))}_handleDoubleClick(t,n){iK(t.data,"primary")&&(t.stopPropagation(),n?this._view.mapViewNavigation.zoomOut([t.data.x,t.data.y]):this._view.mapViewNavigation.zoomIn([t.data.x,t.data.y]))}},IPe=class extends di{constructor(t,n,i){super(!0),this.view=t,this.pointerType=n,this.registerIncoming("double-tap-drag",i,r=>this._handleDoubleTapDrag(r))}_handleDoubleTapDrag(t){const{data:n}=t,{pointerType:i}=n;if(i!==this.pointerType)return;t.stopPropagation();const{action:r,delta:s}=n,{view:o}=this,{mapViewNavigation:a}=o;switch(r){case"begin":{const{scale:l}=o;this._startScale=l,this._currentScale=l,this._previousDelta=s,a.begin();break}case"update":{if(this._previousDelta.y===s.y)return;this._previousDelta=s;const l=1.015**s.y,c=this._startScale*l,h=c/this._currentScale;a.setViewpointImmediate(h),this._currentScale=c;break}case"end":{const{constraints:l}=o,{effectiveLODs:c,snapToZoom:h}=l;if(!h||!c)return void a.end();const p=l.snapScale(this._currentScale),m=(s.y>0?Math.max(p,l.snapToPreviousScale(this._startScale)):Math.min(p,l.snapToNextScale(this._startScale)))/this._currentScale;a.zoom(m).then(()=>{a.end()});break}}}},Kx=class{constructor(t){this._callbacks=t,this._currentCount=0,this._callbacks.condition||(this._callbacks.condition=()=>!0)}handle(t){const n=t.data,i=n.pointers.size;switch(n.action){case"start":this._currentCount=i,this._emitStart(t);break;case"added":this._emitEnd(this._previousEvent),this._currentCount=i,this._emitStart(t);break;case"update":this._emitUpdate(t);break;case"removed":this._startEvent&&this._emitEnd(this._previousEvent),this._currentCount=i,this._emitStart(t);break;case"end":this._emitEnd(t),this._currentCount=0}this._previousEvent=t}_emitStart(t){this._startEvent=t,this._callbacks.condition?.(this._currentCount,t)&&this._callbacks.start(this._currentCount,t,this._startEvent)}_emitUpdate(t){this._callbacks.condition?.(this._currentCount,t)&&this._callbacks.update(this._currentCount,t,this._startEvent)}_emitEnd(t){this._callbacks.condition?.(this._currentCount,t)&&this._callbacks.end(this._currentCount,t,this._startEvent),this._startEvent=null}},CPe=class extends di{constructor(t,n,i){super(!0),this.view=t,this.pointerActions=n,this.registerIncoming("drag",i,r=>this._handleDrag(r)),this.registerIncoming("pointer-down",()=>this.stopMomentumNavigation())}onInstall(t){super.onInstall(t),this._dragEventSeparator=new Kx({start:(n,i)=>{this.view.mapViewNavigation.pan.begin(this.view,i.data),i.stopPropagation()},update:(n,i)=>{this.view.mapViewNavigation.pan.update(this.view,i.data),i.stopPropagation()},end:(n,i)=>{this.view.mapViewNavigation.pan.end(this.view,i.data),i.stopPropagation()},condition:(n,i)=>n===1&&rK(i.data,this.pointerActions)})}_handleDrag(t){const n=this.view.mapViewNavigation;n.pinch.zoomMomentum||n.pinch.rotateMomentum?this.stopMomentumNavigation():this._dragEventSeparator.handle(t)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}},MPe=class extends di{constructor(t,n,i){super(!0),this._view=t,this.pointerActions=n;const r=this._view.mapViewNavigation;this._dragEventSeparator=new Kx({start:(s,o)=>{r.rotate.begin(this._view,o.data),o.stopPropagation()},update:(s,o)=>{r.rotate.update(this._view,o.data),o.stopPropagation()},end:(s,o)=>{r.rotate.end(),o.stopPropagation()},condition:(s,o)=>s===1&&rK(o.data,this.pointerActions)}),this.registerIncoming("drag",i,s=>this._dragEventSeparator.handle(s))}};function sK(e){const t=e[0],n=e[1],i=e[2];return Math.sqrt(t*t+n*n+i*i)}function kPe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function APe(e,t,n,i){return e[0]=t,e[1]=n,e[2]=i,e}function PPe(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function oK(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function aK(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function lK(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}function LPe(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function OPe(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function RPe(e,t){return e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e}function NPe(e,t){return e[0]=Math.sign(t[0]),e[1]=Math.sign(t[1]),e[2]=Math.sign(t[2]),e}function DPe(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}function VPe(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}function FPe(e,t=0,n=1){return e[0]=Math.min(Math.max(e[0],t),n),e[1]=Math.min(Math.max(e[1],t),n),e[2]=Math.min(Math.max(e[2],t),n),e}function jPe(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function uK(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function zPe(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e[2]=t[2]+n[2]*i,e}function cK(e,t){const n=t[0]-e[0],i=t[1]-e[1],r=t[2]-e[2];return Math.sqrt(n*n+i*i+r*r)}function dK(e,t){const n=t[0]-e[0],i=t[1]-e[1],r=t[2]-e[2];return n*n+i*i+r*r}function hK(e){const t=e[0],n=e[1],i=e[2];return t*t+n*n+i*i}function BPe(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function UPe(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function mA(e,t){const n=t[0],i=t[1],r=t[2];let s=n*n+i*i+r*r;return s>0&&(s=1/Math.sqrt(s),e[0]=t[0]*s,e[1]=t[1]*s,e[2]=t[2]*s),e}function pK(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function GPe(e,t,n){const i=t[0],r=t[1],s=t[2],o=n[0],a=n[1],l=n[2];return e[0]=r*l-s*a,e[1]=s*o-i*l,e[2]=i*a-r*o,e}function HPe(e,t,n){const i=t[0],r=t[1],s=t[2],o=n[0],a=n[1],l=n[2],c=r*l-s*a,h=s*o-i*l,p=i*a-r*o,m=Math.sqrt(c*c+h*h+p*p);return e[0]=c/m,e[1]=h/m,e[2]=p/m,e}function qPe(e,t,n,i){const r=t[0],s=t[1],o=t[2];return e[0]=r+i*(n[0]-r),e[1]=s+i*(n[1]-s),e[2]=o+i*(n[2]-o),e}function WPe(e,t,n,i,r,s){const o=s*s,a=o*(2*s-3)+1,l=o*(s-2)+s,c=o*(s-1),h=o*(3-2*s);return e[0]=t[0]*a+n[0]*l+i[0]*c+r[0]*h,e[1]=t[1]*a+n[1]*l+i[1]*c+r[1]*h,e[2]=t[2]*a+n[2]*l+i[2]*c+r[2]*h,e}function ZPe(e,t,n,i,r,s){const o=1-s,a=o*o,l=s*s,c=a*o,h=3*s*a,p=3*l*o,m=l*s;return e[0]=t[0]*c+n[0]*h+i[0]*p+r[0]*m,e[1]=t[1]*c+n[1]*h+i[1]*p+r[1]*m,e[2]=t[2]*c+n[2]*h+i[2]*p+r[2]*m,e}function YPe(e,t=1){const n=$x,i=2*n()*Math.PI,r=2*n()-1,s=Math.sqrt(1-r*r)*t;return e[0]=Math.cos(i)*s,e[1]=Math.sin(i)*s,e[2]=r*t,e}function JPe(e,t,n){const i=t[0],r=t[1],s=t[2];return e[0]=n[0]*i+n[4]*r+n[8]*s+n[12],e[1]=n[1]*i+n[5]*r+n[9]*s+n[13],e[2]=n[2]*i+n[6]*r+n[10]*s+n[14],e}function KPe(e,t,n){const i=t[0],r=t[1],s=t[2];return e[0]=i*n[0]+r*n[3]+s*n[6],e[1]=i*n[1]+r*n[4]+s*n[7],e[2]=i*n[2]+r*n[5]+s*n[8],e}function XPe(e,t,n){const i=n[0],r=n[1],s=n[2],o=n[3],a=t[0],l=t[1],c=t[2],h=r*c-s*l,p=s*a-i*c,m=i*l-r*a,y=r*m-s*p,g=s*h-i*m,v=i*p-r*h,b=2*o;return e[0]=a+h*b+2*y,e[1]=l+p*b+2*g,e[2]=c+m*b+2*v,e}function QPe(e,t,n,i){const r=[],s=[];return r[0]=t[0]-n[0],r[1]=t[1]-n[1],r[2]=t[2]-n[2],s[0]=r[0],s[1]=r[1]*Math.cos(i)-r[2]*Math.sin(i),s[2]=r[1]*Math.sin(i)+r[2]*Math.cos(i),e[0]=s[0]+n[0],e[1]=s[1]+n[1],e[2]=s[2]+n[2],e}function eLe(e,t,n,i){const r=[],s=[];return r[0]=t[0]-n[0],r[1]=t[1]-n[1],r[2]=t[2]-n[2],s[0]=r[2]*Math.sin(i)+r[0]*Math.cos(i),s[1]=r[1],s[2]=r[2]*Math.cos(i)-r[0]*Math.sin(i),e[0]=s[0]+n[0],e[1]=s[1]+n[1],e[2]=s[2]+n[2],e}function tLe(e,t,n,i){const r=[],s=[];return r[0]=t[0]-n[0],r[1]=t[1]-n[1],r[2]=t[2]-n[2],s[0]=r[0]*Math.cos(i)-r[1]*Math.sin(i),s[1]=r[0]*Math.sin(i)+r[1]*Math.cos(i),s[2]=r[2],e[0]=s[0]+n[0],e[1]=s[1]+n[1],e[2]=s[2]+n[2],e}function nLe(e,t){mA(c6,e),mA(d6,t);const n=pK(c6,d6);return n>1?0:n<-1?Math.PI:Math.acos(n)}const c6=Ac(),d6=Ac();function iLe(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function rLe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function sLe(e,t){if(e===t)return!0;const n=e[0],i=e[1],r=e[2],s=t[0],o=t[1],a=t[2],l=Er();return Math.abs(n-s)<=l*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-o)<=l*Math.max(1,Math.abs(i),Math.abs(o))&&Math.abs(r-a)<=l*Math.max(1,Math.abs(r),Math.abs(a))}function oLe(e,t,n){const i=n[0]-t[0],r=n[1]-t[1],s=n[2]-t[2];let o=i*i+r*r+s*s;return o>0?(o=1/Math.sqrt(o),e[0]=i*o,e[1]=r*o,e[2]=s*o,e):(e[0]=0,e[1]=0,e[2]=0,e)}const aLe=oK,lLe=aK,uLe=lK,cLe=cK,dLe=dK,hLe=sK,pLe=hK;Object.freeze(Object.defineProperty({__proto__:null,abs:RPe,add:PPe,angle:nLe,bezier:ZPe,ceil:LPe,clamp:FPe,copy:kPe,cross:GPe,crossAndNormalize:HPe,direction:oLe,dist:cLe,distance:cK,div:uLe,divide:lK,dot:pK,equals:sLe,exactEquals:rLe,floor:OPe,hermite:WPe,inverse:UPe,len:hLe,length:sK,lerp:qPe,max:VPe,min:DPe,mul:lLe,multiply:aK,negate:BPe,normalize:mA,random:YPe,rotateX:QPe,rotateY:eLe,rotateZ:tLe,round:jPe,scale:uK,scaleAndAdd:zPe,set:APe,sign:NPe,sqrDist:dLe,sqrLen:pLe,squaredDistance:dK,squaredLength:hK,str:iLe,sub:aLe,subtract:oK,transformMat3:KPe,transformMat4:JPe,transformQuat:XPe},Symbol.toStringTag,{value:"Module"}));function ho(e){let t=e*e;return e<0&&(t*=-1),t}function fLe(e){return e.translation[0]=0,e.translation[1]=0,e.translation[2]=0,e.heading=0,e.tilt=0,e}function mLe(e,t,n){const i=n,r=e.state,s=e.device,o=t.tiltDirection==="forward-down"?1:-1,a=1;return s.deviceType==="standard"?(i.translation[0]=ho(r.axes[0]),i.translation[1]=ho(r.axes[1]),i.translation[2]=ho(r.buttons[7])-ho(r.buttons[6]),i.heading=ho(r.axes[2]),i.tilt=ho(r.axes[3])):s.deviceType==="spacemouse"&&(i.translation[0]=1.2*ho(r.axes[0]),i.translation[1]=1.2*ho(r.axes[1]),i.translation[2]=2*-ho(r.axes[2]),i.heading=1.2*ho(r.axes[5]),i.tilt=1.2*ho(r.axes[3])),i.tilt*=o,uK(i.translation,i.translation,a),i}function yLe(e){return e.translation[0]===0&&e.translation[1]===0&&e.translation[2]===0&&e.heading===0&&e.tilt===0&&e.zoom===0}let gLe=class extends di{constructor(t){super(!0),this._view=t,this._frameTask=null,this._watchHandles=new Xm,this._currentDevice=null,this._transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this._handle=this.registerIncoming("gamepad",n=>this._handleGamePadEvent(n)),this._handle.pause()}onInstall(t){super.onInstall(t),this._watchHandles.add([me(()=>this._view.navigation.gamepad?.enabled,n=>{n?(this._handle.resume(),this._frameTask||(this._frameTask=wm({update:i=>this._frameUpdate(i.deltaTime)}))):(this._handle.pause(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null))},mt)])}onUninstall(){this._watchHandles.removeAll(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null),super.onUninstall()}_handleGamePadEvent(t){const n=this._view.navigation.gamepad.device;n&&t.data.device!==n||this._currentDevice&&this._currentDevice!==t.data.device||(t.data.action==="end"?(this._currentDevice=null,fLe(this._transformation)):(this._currentDevice=t.data.device,mLe(t.data,this._view.navigation.gamepad,this._transformation)),this._frameTask?.resume())}_frameUpdate(t){const n=this._transformation;if(yLe(n))return void this._frameTask?.pause();const i=this._view.viewpoint.clone(),r=this._view.navigation.gamepad.velocityFactor,s=bLe*r*t;Jx(i,i,[n.translation[0]*s,-n.translation[1]*s]);const o=1+n.translation[2]*wLe*t,a=this._view.constraints.rotationEnabled?-n.heading*vLe*t:0,l=this._view.size,c=[l[0]/2,l[1]];jJ(i,i,o,a,c,l);const h=this._view.constraints.constrain(i,this._view.viewpoint);this._view.viewpoint=h}};const vLe=.06,bLe=.7,wLe=6e-4;function fK(e){const t=()=>e(document.visibilityState==="visible");return document.addEventListener("visibilitychange",t),St(()=>document.removeEventListener("visibilitychange",t))}let _Le=class extends di{constructor(t,n,i){super(!0),this.view=t,this.keys=n,this._isSticky=!1,this._pressedKeys=new Set,this._timeout=void 0,this._currentDirection=void 0,this._stickyKeyDuration=200,this._handleKey=r=>{const s=this._keyMap[r.data.key];if(r.modifiers.has("Meta")||r.modifiers.has("Control"))return void this._stopMovement();if(s==null)return;r.stopPropagation(),r.preventDefault();const o=r.type==="key-down";if(this._pressedKeys[o?"add":"delete"](s),o){if(this._direction===s)return;this._direction=s,this._isSticky=!1,this._setTimeout(()=>{this._isSticky&&this._handlePopKey()})}else{const a=this._timeout===void 0,l=this._pressedKeys.size>0;a||l?this._handlePopKey():this._isSticky=!0}},this._handlePopKey=()=>{this._direction=Array.from(this._pressedKeys).pop(),this._direction==null&&this._stopMovement()},this._stopMovement=()=>{this._isSticky=!1,this._direction=void 0,this._pressedKeys.clear(),this._setTimeout(void 0)},this._keyMap={[n.left]:"left",[n.right]:"right",[n.up]:"up",[n.down]:"down"},this.registerIncoming("key-down",i,this._handleKey),this.registerIncoming("key-up",i,this._handleKey),this.registerIncoming("blur",i,this._stopMovement),this._visibilityHandle=fK(r=>r?null:this._stopMovement())}onUninstall(){this._stopMovement(),this._visibilityHandle?.remove()}get _direction(){return this._currentDirection}set _direction(t){const n=this._currentDirection!=null;if(t!=null){if(n||this.view.mapViewNavigation.begin(),this._currentDirection!==t)switch(t){case"left":this.view.mapViewNavigation.continuousPanLeft();break;case"right":this.view.mapViewNavigation.continuousPanRight();break;case"up":this.view.mapViewNavigation.continuousPanUp();break;case"down":this.view.mapViewNavigation.continuousPanDown()}}else n&&this.view.mapViewNavigation.stop();this._currentDirection=t}_setTimeout(t){clearTimeout(this._timeout),this._timeout=t===void 0?void 0:setTimeout(()=>{this._timeout=void 0,t()},this._stickyKeyDuration)}},SLe=class extends di{constructor(t,n,i){super(!0),this.view=t,this.keys=n,this._keyToDirection=new Map,this._pressed=!1,this._addKeysMapping(n),this.registerIncoming("key-down",i,r=>this._handleKeyDown(r)),this.registerIncoming("key-up",i,r=>this._handleKeyUp(r)),this.registerIncoming("blur",i,()=>this._handleStop()),this._visibilityHandle=fK(r=>r?null:this._handleStop())}onUninstall(){this._visibilityHandle?.remove(),this._handleStop()}_addKeysMapping(t){this._addKeyMapping(t.clockwise,"clockwise"),this._addKeyMapping(t.counterClockwise,"counterClockwise"),this._addKeyMapping(t.reset,"reset")}_addKeyMapping(t,n){for(const i of t)this._keyToDirection.set(i,n)}_handleKeyDown(t){t.data.repeat||this._handleKey(t,!0)}_handleKeyUp(t){this._handleKey(t,!1)}_handleStop(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(t,n){const i=t.modifiers;if(i.size>0&&!i.has("Shift")||!this.view.constraints.rotationEnabled)return;const r=this._keyToDirection.get(t.data.key);if(this._pressed=r!=null,this._pressed){if(t.preventDefault(),n)switch(this.view.mapViewNavigation.begin(),r){case"clockwise":this.view.mapViewNavigation.continuousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continuousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();t.stopPropagation()}}};var zf;(function(e){e[e.IN=0]="IN",e[e.OUT=1]="OUT"})(zf||(zf={}));let xLe=class extends di{constructor(t,n,i){super(!0),this.view=t,this.keys=n,this._keysToZoomAction={},this.registerIncoming("key-down",i,r=>this._handleKeyDown(r)),n.zoomIn.forEach(r=>this._keysToZoomAction[r]=zf.IN),n.zoomOut.forEach(r=>this._keysToZoomAction[r]=zf.OUT)}_handleKeyDown(t){this._handleKey(t)}_handleKey(t){const n=t.modifiers;if(n.size>0&&!n.has("Shift"))return;const{key:i}=t.data;if(!(i in this._keysToZoomAction))return;const r=this._keysToZoomAction[i],{mapViewNavigation:s}=this.view;let o=null;switch(r){case zf.IN:o=s.zoomIn();break;case zf.OUT:o=s.zoomOut();break;default:return}s.begin(),o.then(()=>s.end()),t.stopPropagation()}};const $Le=.6;let TLe=class extends di{constructor(t,n){super(!0),this._view=t,this._canZoom=!0,this.registerIncoming("mouse-wheel",n,i=>this._handleMouseWheel(i))}_handleMouseWheel(t){if(this._view.navigation.actionMap.mouseWheel!=="zoom"||(t.preventDefault(),t.stopPropagation(),!this._canZoom))return;const n=this._view.mapViewNavigation,{x:i,y:r,deltaY:s}=t.data,o=1/$Le**(1/60*s),a=n.zoom(o,[i,r]);a&&(this._canZoom=!1,a.catch(()=>{}).then(()=>{this._canZoom=!0,n.end()}))}},ELe=class extends di{constructor(t){super(!0),this.view=t,this.registerIncoming("drag",i=>this._handleDrag(i)),this.registerIncoming("pointer-down",()=>this._stopMomentumNavigation());const n=this.view.mapViewNavigation;this._dragEventSeparator=new Kx({start:(i,r)=>{n.pinch.begin(this.view,r.data),r.stopPropagation()},update:(i,r)=>{n.pinch.update(this.view,r.data),r.stopPropagation()},end:(i,r)=>{n.pinch.end(this.view),r.stopPropagation()},condition:i=>i>=2})}_handleDrag(t){this._dragEventSeparator.handle(t)}_stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}};function h6(e){const t=e.native;return t?{buttons:t.buttons.map(n=>n.pressed?n.value||1:0),axes:t.axes.map(n=>MLe(n,e.axisThreshold))}:{buttons:[],axes:[]}}function ILe(e,t){if(e.axes.length!==t.axes.length||e.buttons.length!==t.buttons.length)return!1;for(let n=0;n<e.axes.length;n++)if(e.axes[n]!==t.axes[n])return!1;for(let n=0;n<e.buttons.length;n++)if(e.buttons[n]!==t.buttons[n])return!1;return!0}function CLe(e){for(let t=0;t<e.axes.length;t++)if(e.axes[t]!==0)return!1;for(let t=0;t<e.buttons.length;t++)if(e.buttons[t]!==0)return!1;return!0}function MLe(e,t){const n=Math.abs(e);return n<t?0:Math.sign(e)*(n-t)/(1-t)}let kLe=class{constructor(t,n){this._element=t,this._input=n,this._hasEventListeners=!1,this._onConnectGamepad=s=>{this._connectGamepad(s.gamepad)},this._onDisconnectGamepad=s=>{const o=s.gamepad,a=o.index,l=this._inputDevices[a];l&&(this._emitGamepadEvent(o,h6(l),!1),this._inputDevices.splice(a,1),this._latestUpdate.splice(a,1),this._input.gamepad.devices.remove(l),this.ensurePollingState())},this._frameTask=null,this._latestUpdate=new Array,this._inputDevices=new Array,this._callback=null;const i="getGamepads"in window.navigator,r=window.isSecureContext;this.supported=i&&r,this.supported&&(p6(s=>this._connectGamepad(s)),window.addEventListener("gamepadconnected",this._onConnectGamepad),window.addEventListener("gamepaddisconnected",this._onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this._onConnectGamepad),window.removeEventListener("gamepaddisconnected",this._onDisconnectGamepad))}set hasEventListeners(t){this._hasEventListeners!==t&&(this._hasEventListeners=t,this.ensurePollingState())}get _eventsEnabled(){return this.supported&&this._inputDevices.length>0&&this._hasEventListeners}set onEvent(t){this._callback=t}_connectGamepad(t){const n=new cO(t);n.deviceType!=="unknown"&&(this._inputDevices[t.index]=n,this._input.gamepad.devices.add(n)),this.ensurePollingState()}ensurePollingState(){this._eventsEnabled?this._startPolling():this._stopPolling()}_startPolling(){this._frameTask==null&&(this._frameTask=wm({update:()=>this._readGamepadState()}))}_stopPolling(){this._frameTask!=null&&(this._frameTask.remove(),this._frameTask=null,this._latestUpdate=new Array)}_readGamepadState(){const t=document.hasFocus(),n=this._element.contains(document.activeElement),i=this._input.gamepad.enabledFocusMode==="document"&&!t||this._input.gamepad.enabledFocusMode==="view"&&!n;p6(r=>{const s=this._inputDevices[r.index];if(!s)return;const o=this._latestUpdate[r.index],a=h6(s),l=i||CLe(a);o&&(o.timestamp===r.timestamp||!o.active&&l||ILe(o.state,a))||this._emitGamepadEvent(r,a,!l)})}_emitGamepadEvent(t,n,i){const r=this._latestUpdate[t.index],s=r&&r.active;if(!s&&!i)return;const o=!s&&i?"start":s&&i?"update":"end";this._latestUpdate[t.index]={timestamp:t.timestamp,state:n,active:i},this._callback&&this._callback({device:this._inputDevices[t.index],state:n,action:o})}};function ALe(e){if(!e||!e.connected)return!1;for(let t=0;t<e.axes.length;t++)if(isNaN(e.axes[t]))return!1;return!0}function p6(e){for(const t of navigator.getGamepads())ALe(t)&&e(t)}const f6=H("edge"),PLe=H("chrome"),LLe=H("ff"),OLe=H("safari"),m6="esri-view-surface",Mp={touchNone:`${m6}--touch-none`,touchPan:`${m6}--touch-pan`};let mK=class yK{constructor(t,n){this._active={},this._callback=()=>{},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=t,t.getAttribute("tabindex")||t.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new kLe(t,n),this._gamepadSource.onEvent=i=>this._callback("gamepad",i)}destroy(){this._callback=()=>{},this.activeEvents=null,this._activePointerCaptures.forEach(t=>this._releasePointerCaptureSafe(t)),this._activePointerCaptures.clear(),this._gamepadSource=Bt(this._gamepadSource),this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(t){this._browserTouchPanningEnabled=t,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(t){this._callback=t}set activeEvents(t){for(const n in this._active)if(!t||!t.has(n)){const i=this._active[n];this._element.removeEventListener(VT[n],i),delete this._active[n]}t&&t.forEach(n=>{if(!this._active[n]&&VT[n]){const i=(this._eventHandlers[n]||this._handleDefault).bind(this,n);this._element.addEventListener(VT[n],i),this._active[n]=i}}),this._gamepadSource&&(this._gamepadSource.hasEventListeners=t?.has("gamepad")??!1)}setPointerCapture(t,n){n?this._setPointerCaptureSafe(t.pointerId):(this._releasePointerCaptureSafe(t.pointerId),this._activePointerCaptures.delete(t.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?Mp.touchNone:Mp.touchPan),this._element.classList.add(this._browserTouchPanningEnabled?Mp.touchPan:Mp.touchNone)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove(Mp.touchNone),this._element.classList.remove(Mp.touchPan),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_setPointerCaptureSafe(t){try{this._element.setPointerCapture(t),this._activePointerCaptures.add(t)}catch{}}_releasePointerCaptureSafe(t){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(t))return;this._element.releasePointerCapture(t)}catch{}}_updateNormalizedPointerLikeEvent(t,n){const i=sJ(this._element,t);return yK.test.disableSubpixelCoordinates&&(i.x=Math.round(i.x),i.y=Math.round(i.y)),n.x=i.x,n.y=i.y,n}_handleKey(t,n){const{key:i}=n;i&&t==="key-up"&&this._keyDownState.delete(i);const r={native:n,key:i,repeat:!!i&&this._keyDownState.has(i)};i&&t==="key-down"&&this._keyDownState.add(r.key),this._callback(t,r)}_handlePointer(t,n){const i=this._updateNormalizedPointerLikeEvent(n,{native:n,x:0,y:0,pointerType:n.pointerType,button:n.button,buttons:n.buttons,eventId:this._eventId++});this._callback(t,i)}_handlePointerPreventDefault(t,n){const i=this._updateNormalizedPointerLikeEvent(n,{native:n,x:0,y:0,pointerType:n.pointerType,button:n.button,buttons:n.buttons,eventId:this._eventId++});n.preventDefault(),this._callback(t,i)}_getDeltaFromTrackpadOrMouseWheel(t){return t.shiftKey&&H("mac")&&t.deltaY===0?t.deltaX:t.deltaY}_handleMouseWheel(t,n){let i=this._getDeltaFromTrackpadOrMouseWheel(n);switch(n.deltaMode){case 0:f6&&(i=i/document.documentElement.clientHeight*600);break;case 1:i*=30;break;case 2:i*=900}f6?i*=.7:PLe||OLe?i*=.6:LLe&&(i*=1.375);const r=100,s=Math.abs(i);s>r&&(i=i/s*200/(1+Math.exp(-.02*(s-r))));const o=this._updateNormalizedPointerLikeEvent(n,{native:n,x:0,y:0,deltaY:i});this._callback(t,o)}_handlePointerCaptureLost(t,n){this._activePointerCaptures.delete(n.pointerId),this._handleDefault(t,n)}_handleDefault(t,n){const i={native:n};n.preventDefault(),this._callback(t,i)}_preventAltKeyDefault(t){t.key==="Alt"&&t.preventDefault()}_preventMultiTouchPanning(t){t.touches.length>1&&t.preventDefault()}};mK.test={disableSubpixelCoordinates:!1};const VT={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};let RLe=class extends di{constructor(){super(!0),this.registerIncoming("context-menu",t=>t.data.native.preventDefault())}};const Oi={maximumClickDelay:300,movementUntilMouseDrag:1.5,movementUntilPenDrag:6,movementUntilTouchDrag:6,holdDelay:500,maximumDoubleClickDelay:250,maximumDoubleClickDistance:10,maximumDoubleTouchDelay:350,maximumDoubleTouchDistance:35};function zS(e,t){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)}function NLe(e,t){const n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)}function DLe(e,t){if(t?(t.radius=0,t.center.x=0,t.center.y=0):t={radius:0,center:Si()},e.length===0)return t;if(e.length===1)return t.center.x=e[0].x,t.center.y=e[0].y,t;if(e.length===2){const[x,E]=e,[$,I]=[E.x-x.x,E.y-x.y];return t.radius=Math.sqrt($*$+I*I)/2,t.center.x=(x.x+E.x)/2,t.center.y=(x.y+E.y)/2,t}let n=0,i=0;for(let x=0;x<e.length;x++)n+=e[x].x,i+=e[x].y;n/=e.length,i/=e.length;const r=e.map(x=>x.x-n),s=e.map(x=>x.y-i);let o=0,a=0,l=0,c=0,h=0,p=0,m=0;for(let x=0;x<r.length;x++){const E=r[x],$=s[x],I=E*E,A=$*$;o+=I,a+=A,l+=E*$,c+=I*E,h+=A*$,p+=E*A,m+=$*I}const y=.5*(c+p),g=.5*(h+m),v=o*a-l*l,b=(y*a-g*l)/v,w=(o*g-l*y)/v,S=Si(b+n,w+i);return{radius:Math.sqrt(b*b+w*w+(o+a)/e.length),center:S}}function Sh(e){const{native:t}=e,{pointerId:n,button:i,pointerType:r}=t;return r==="mouse"?`${n}:${i}`:`${r}`}let VLe=class extends di{constructor(t=Oi.maximumDoubleClickDelay,n=Oi.maximumDoubleClickDistance,i=Oi.maximumDoubleTouchDelay,r=Oi.maximumDoubleTouchDistance,s=Qm){super(!1),this._maximumDoubleClickDelay=t,this._maximumDoubleClickDistance=n,this._maximumDoubleTouchDelay=i,this._maximumDoubleTouchDistance=r,this._clock=s,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=Si(0,0),this._pointerState=new Map,this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new Kx({start:(o,a)=>this._dragStart(o,a),update:(o,a)=>this._dragUpdate(a),end:(o,a)=>this._dragEnd(a)}),this.registerIncoming("drag",o=>this._dragEventSeparator.handle(o)),this.registerIncoming("pointer-down",o=>this._handlePointerDown(o)),this.registerIncoming("pointer-up",()=>this._handlePointerUp())}onUninstall(){this._pointerState.forEach(t=>{t.doubleTapTimeout=on(t.doubleTapTimeout)})}get hasPendingInputs(){for(const t of this._pointerState.values())if(t.doubleTapTimeout!=null)return!0;return!1}_clearPointerDown(t){const n=this._pointerState.get(t);n&&(n.doubleTapTimeout=on(n.doubleTapTimeout),this._pointerState.delete(t),this.refreshHasPendingInputs())}_dragStart(t,n){if(!this._doubleTapDragReady||t!==1)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;const{data:i,modifiers:r}=n,{center:s}=i;this._dragStartCenter=s;const o=FT("begin",Si(0,0),i);this._doubleTapDrag.emit(o,void 0,r),n.stopPropagation()}_dragUpdate(t){if(!this._doubleTapDragActive)return;const{data:n,modifiers:i}=t,{center:r}=n,s=FT("update",Si(r.x-this._dragStartCenter.x,r.y-this._dragStartCenter.y),n);this._doubleTapDrag.emit(s,void 0,i),t.stopPropagation()}_dragEnd(t){if(!this._doubleTapDragActive)return;const{data:n,modifiers:i}=t,{center:r}=n,s=FT("end",Si(r.x-this._dragStartCenter.x,r.y-this._dragStartCenter.y),n);this._doubleTapDrag.emit(s,void 0,i),this._doubleTapDragActive=!1,t.stopPropagation()}_handlePointerDown(t){const{data:n}=t,i=Sh(n),r=this._pointerState.get(i),{pointerType:s}=n.native;if(r){const o=s==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;this._clearPointerDown(i),zS(r.event.data,n)>o?this._storePointerDown(t):this._doubleTapDragReady=!0}else this._storePointerDown(t)}_handlePointerUp(){this._doubleTapDragReady=!1}_storePointerDown(t){const{data:n}=t,{pointerType:i}=n.native,r=Sh(n),s=i==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay,o=this._clock.setTimeout(()=>this._clearPointerDown(r),s);this._pointerState.set(r,{event:t,doubleTapTimeout:o}),this.refreshHasPendingInputs()}};function FT(e,t,n){const{button:i,buttons:r,pointer:s,pointers:o,pointerType:a,timestamp:l}=n;return{action:e,delta:t,button:i,buttons:r,pointer:s,pointers:o,pointerType:a,timestamp:l}}let FLe=class extends di{constructor(t){super(!1),this._navigationTouch=t,this._startStateModifiers=new Set,this._activePointerMap=new Map,this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this._handlePointerUpAndPointerLost.bind(this))}_createPayload(t,n,i,r){return{action:t,pointerType:this._pointerType,button:this._mouseButton,buttons:n.buttons,timestamp:r,pointers:jLe(this._activePointerMap),pointer:n,angle:i.angle,radius:i.radius,center:i.center}}_addPointer(t){const n=t.native.pointerId,i=Dw(this._activePointerMap).angle,r={event:t,initialAngle:0,lastAngle:0};this._activePointerMap.set(n,r);const s=f_(r,gK(this._activePointerMap));r.initialAngle=s,r.lastAngle=s,this._updatePointerAngles(i)}_updatePointer(t){if(t&&t.x==null&&t.y==null)return;const n=t.native.pointerId,i=this._activePointerMap.get(n);i?i.event=t:this._addPointer(t)}_removePointer(t){const n=Dw(this._activePointerMap).angle;this._activePointerMap.delete(t),this._updatePointerAngles(n)}_updatePointerAngles(t){const n=Dw(this._activePointerMap);this._activePointerMap.forEach(i=>{i.initialAngle=f_(i,n)-t,i.lastAngle=f_(i,n)-t})}_emitEvent(t,n,i){const r=Dw(this._activePointerMap);this._drag.emit(this._createPayload(t,n,r,i),void 0,this._startStateModifiers)}_handlePointerUpAndPointerLost(t){const n=t.data.native.pointerId,i=t.timestamp;this._activePointerMap.get(n)&&(this._activePointerMap.size===1?(this._updatePointer(t.data),!this._isCurrentDragSuppressed&&this._emitEvent("end",t.data,i),this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._removePointer(n)):(this._removePointer(n),this._emitEvent("removed",t.data,t.timestamp)))}_handlePointerDrag(t){const n=t.data,i=n.currentEvent,r=t.timestamp;switch(n.action){case"start":case"update":this._isDragging?this._activePointerMap.has(i.native.pointerId)?(this._updatePointer(i),!this._isCurrentDragSuppressed&&this._emitEvent("update",i,r)):(this._addPointer(i),this._emitEvent("added",i,r),this._isCurrentDragSuppressed=this._isSuppressed):(this._updatePointer(i),this._pointerType=t.data.startEvent.pointerType,this._mouseButton=t.data.startEvent.button,this._startStateModifiers=t.modifiers,this._isDragging=!0,this._isCurrentDragSuppressed=this._isSuppressed,!this._isCurrentDragSuppressed&&this._emitEvent("start",i,r))}}get _isSuppressed(){return!!this._navigationTouch&&!this._navigationTouch.browserTouchPanEnabled&&this._pointerType==="touch"&&this._activePointerMap.size===1}};function gK(e){const t=[];return e.forEach(n=>{t.push(Si(n.event.x,n.event.y))}),DLe(t)}function Dw(e){const t=gK(e);let n=0;return e.forEach(i=>{let r=f_(i,t),s=r-i.lastAngle;for(;s>Math.PI;)s-=2*Math.PI;for(;s<-Math.PI;)s+=2*Math.PI;r=i.lastAngle+s,i.lastAngle=r;const o=r-i.initialAngle;n+=o}),n/=e.size||1,{angle:n,radius:t.radius,center:t.center}}function jLe(e){const t=new Map;return e.forEach((n,i)=>t.set(i,n.event)),t}function f_(e,t){const n=e.event,i=n.x-t.center.x,r=n.y-t.center.y;return Math.atan2(r,i)}var y6;(function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right",e[e.Back=3]="Back",e[e.Forward=4]="Forward",e[e.Undefined=-1]="Undefined"})(y6||(y6={}));let zLe=class extends di{constructor(t=Oi.maximumDoubleClickDelay,n=Oi.maximumDoubleClickDistance,i=Oi.maximumDoubleTouchDelay,r=Oi.maximumDoubleTouchDistance,s=Qm){super(!1),this._maximumDoubleClickDelay=t,this._maximumDoubleClickDistance=n,this._maximumDoubleTouchDelay=i,this._maximumDoubleTouchDistance=r,this._clock=s,this._pointerState=new Map,this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUp.bind(this))}onUninstall(){this._pointerState.forEach(t=>{t.immediateDoubleClick&&t.immediateDoubleClick.timeoutHandle.remove()}),super.onUninstall()}_handlePointerDown(t){const n=t.data,i=Sh(n);if(!this._pointerState.has(i)){const r={downButton:n.native.button,x:n.x,y:n.y,immediateDoubleClick:null};this._pointerState.set(i,r),this.startCapturingPointer(n.native)}}_handlePointerUp(t){const n=t.data,i=Sh(n),r=this._pointerState.get(i);if(r&&r.downButton===n.native.button){const s=r.immediateDoubleClick,o=t.data.native.pointerType==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;s?(s.timeoutHandle.remove(),zS(s,t.data)>o?this._startImmediateDoubleClick(t,r):(this._immediateDoubleClick.emit(t.data,void 0,s.modifiers),this._removeState(n))):zS(r,t.data)>o?this._removeState(n):this._startImmediateDoubleClick(t,r)}}_startImmediateDoubleClick(t,n){const i=t.data.native.pointerType==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay;n.immediateDoubleClick={x:t.data.x,y:t.data.y,modifiers:t.modifiers,timeoutHandle:this._clock.setTimeout(()=>this._removeState(t.data),i)}}_removeState(t){const n=Sh(t);this._pointerState.delete(n),this.stopCapturingPointer(t.native),this.refreshHasPendingInputs()}},BLe=class extends di{constructor(t=Oi.maximumClickDelay,n=Oi.movementUntilMouseDrag,i=Oi.movementUntilPenDrag,r=Oi.movementUntilTouchDrag,s=Oi.holdDelay,o=Qm){super(!1),this._maximumClickDelay=t,this._movementUntilMouseDrag=n,this._movementUntilPenDrag=i,this._movementUntilTouchDrag=r,this._holdDelay=s,this._clock=o,this._pointerState=new Map,this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",a=>this._handlePointerDown(a)),this.registerIncoming("pointer-up",a=>this._handlePointerLoss(a,"pointer-up")),this.registerIncoming("pointer-capture-lost",a=>this._handlePointerLoss(a,"pointer-capture-lost")),this.registerIncoming("pointer-cancel",a=>this._handlePointerLoss(a,"pointer-cancel")),this._moveHandle=this.registerIncoming("pointer-move",a=>this._handlePointerMove(a)),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach(t=>{t.holdTimeout=on(t.holdTimeout)}),super.onUninstall()}_handlePointerDown(t){const n=t.data,i=n.native.pointerId;let r=null;this._pointerState.size===0&&(r=this._clock.setTimeout(()=>{const o=this._pointerState.get(i);if(o){if(!o.isDragging){const a=o.previousEvent;this._pointerHold.emit(a,void 0,t.modifiers),o.holdEmitted=!0}o.holdTimeout=null}},this._holdDelay));const s={startEvent:n,previousEvent:n,startTimestamp:t.timestamp,isDragging:!1,downButton:n.native.button,holdTimeout:r,modifiers:new Set};this._pointerState.set(i,s),this.startCapturingPointer(n.native),this._moveHandle.resume(),this._pointerState.size>1&&this._startDragging(t)}_handlePointerMove(t){const n=t.data,i=n.native.pointerId,r=this._pointerState.get(i);r&&(r.isDragging?this._pointerDrag.emit(Vw("update",r,n),void 0,r.modifiers):NLe(n,r.startEvent)>this._getDragThreshold(n.native.pointerType)&&this._startDragging(t),r.previousEvent=n)}_getDragThreshold(t){switch(t){case"touch":return this._movementUntilTouchDrag;case"pen":return this._movementUntilPenDrag;default:return this._movementUntilMouseDrag}}_startDragging(t){const n=t.data,i=n.native.pointerId;this._pointerState.forEach(r=>{r.holdTimeout!=null&&(r.holdTimeout.remove(),r.holdTimeout=null),r.isDragging||(r.modifiers=t.modifiers,r.isDragging=!0,i===r.startEvent.native.pointerId?this._pointerDrag.emit(Vw("start",r,n)):this._pointerDrag.emit(Vw("start",r,r.previousEvent),t.timestamp))})}_handlePointerLoss(t,n){const i=t.data,r=i.native.pointerId,s=this._pointerState.get(r);s&&(s.holdTimeout!=null&&(s.holdTimeout.remove(),s.holdTimeout=null),s.isDragging?this._pointerDrag.emit(Vw("end",s,n==="pointer-up"?i:s.previousEvent),void 0,s.modifiers):n==="pointer-up"&&s.downButton===i.native.button&&t.timestamp-s.startTimestamp<=this._maximumClickDelay&&!s.holdEmitted&&this._immediateClick.emit(i),this._pointerState.delete(r),this.stopCapturingPointer(i.native),this._pointerState.size===0&&this._moveHandle.pause())}};function Vw(e,t,n){return{action:e,startEvent:t.startEvent,previousEvent:t.previousEvent,currentEvent:n}}let ULe=class extends di{constructor(t=Oi.maximumDoubleClickDelay,n=Oi.maximumDoubleClickDistance,i=Oi.maximumDoubleTouchDelay,r=Oi.maximumDoubleTouchDistance,s=Qm){super(!1),this._maximumDoubleClickDelay=t,this._maximumDoubleClickDistance=n,this._maximumDoubleTouchDelay=i,this._maximumDoubleTouchDistance=r,this._clock=s,this._pointerState=new Map,this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",o=>this._handleImmediateClick(o)),this.registerIncoming("pointer-down",o=>this._handlePointerDown(o))}onUninstall(){this._pointerState.forEach(t=>t.doubleClickTimer=on(t.doubleClickTimer))}get hasPendingInputs(){for(const t of this._pointerState.values())if(t.doubleClickTimer!=null)return!0;return!1}_clearDoubleClickTimer(t,n){const i=this._pointerState.get(t);i&&(i.doubleClickTimer=on(i.doubleClickTimer),n&&this._click.emit(i.event.data,void 0,i.event.modifiers),this._pointerState.delete(t),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(t){const n=this._pointerState.get(t);n.pointerDownCount===1&&this._click.emit(n.event.data,void 0,n.event.modifiers),n.doubleClickTimer=null,this._pointerState.delete(t),this.refreshHasPendingInputs()}_handleImmediateClick(t){const n=t.data,{pointerType:i}=n.native,r=GLe(n);if(!this._pointerState.has(r))return void this._startClick(t);const s=this._pointerState.get(r),{data:o,modifiers:a}=s.event,l=i==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;zS(o,n)>l?(this._clearDoubleClickTimer(r,!0),this._startClick(t)):(this._clearDoubleClickTimer(r,!1),s.pointerDownCount===2&&this._doubleClick.emit(o,void 0,a))}_handlePointerDown(t){const n=Sh(t.data),i=this._pointerState.get(n);i&&(i.pointerDownCount+=1)}_startClick(t){const{data:n}=t,{native:{pointerType:i}}=n,r=Sh(n),s=i==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay,o=this._clock.setTimeout(()=>this._doubleClickTimeoutExceeded(r),s);this._pointerState.set(r,{event:t,doubleClickTimer:o,pointerDownCount:1}),this.refreshHasPendingInputs()}};function GLe(e){const{pointerId:t,pointerType:n,button:i}=e.native;return n==="mouse"?`${t}:${i}`:`${n}`}const Fw={counter:"Control",pan:{left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},zoom:{zoomIn:["=","+"],zoomOut:["-","_"]},rotate:{clockwise:["a","A"],counterClockwise:["d","D"],reset:["n","N"]}},g6=Symbol("handles");let Pd=class extends Ce{initialize(){const t=()=>this.view?.ready;this.addHandles([sr(()=>!t(),()=>this._disconnect()),sr(t,()=>this._connect())])}destroy(){this._disconnect()}get latestPointerType(){return this._inputManager?.latestPointerType}get latestPointerLocation(){return this._inputManager?.latestPointerLocation}get multiTouchActive(){return this._inputManager?.multiTouchActive??!1}isModifierKeyDown(t){return this._inputManager?.isModifierKeyDown(t)??!1}_disconnect(){this.view.viewEvents.disconnect(),this.removeHandles(g6),this._inputManager=Bt(this._inputManager)}_connect(){const t=this.view.surface,n=new mK(t,this.view.input),i=[new zLe,new BLe,new ULe,new FLe(this.view.navigation),new VLe],r=new Os({eventSource:n,recognizers:i}),s=new CPe(this.view,["primary"]),o=new MPe(this.view,["secondary"]);r.installHandlers("prevent-context-menu",[new RLe],oc.INTERNAL),r.installHandlers("navigation",[new ELe(this.view),new gLe(this.view),new TLe(this.view),new u6(this.view),new u6(this.view,[Fw.counter]),s,new _Le(this.view,Fw.pan),new xLe(this.view,Fw.zoom),new SLe(this.view,Fw.rotate),o,new IPe(this.view,"touch")],oc.INTERNAL),this.view.viewEvents.connect(r),this._source=n,this._inputManager=r,this.addHandles([me(()=>this.view?.navigation?.browserTouchPanEnabled,a=>{this._source&&(this._source.browserTouchPanningEnabled=!a)},mt),me(()=>{const{actionMap:a}=this.view.navigation;return{panActions:l6("pan",a),rotateActions:l6("rotate",a)}},({panActions:a,rotateActions:l})=>{s.pointerActions=a,o.pointerActions=l},Fr)],g6)}get test(){}};u([d()],Pd.prototype,"view",void 0),u([d()],Pd.prototype,"latestPointerType",null),u([d()],Pd.prototype,"latestPointerLocation",null),u([d()],Pd.prototype,"multiTouchActive",null),Pd=u([k("esri.views.2d.input.MapViewInputManager")],Pd);const HLe=Pd,v6=160;let rv=class extends Ce{constructor(){super(...arguments),this._timer=void 0}get stationary(){return!this._timer}flip(){this._timestamp=performance.now(),this._timer==null&&(this._timer=setInterval(()=>{performance.now()-this._timestamp>=v6&&this.clear()},v6))}clear(){this._timer&&(clearInterval(this._timer),this._timer=void 0)}};u([d()],rv.prototype,"_timer",void 0),u([d()],rv.prototype,"stationary",null),rv=u([k("esri.views.2d.support.StationaryManager")],rv);const qLe=e=>{let t=class extends e{constructor(...n){super(...n),this.fullOpacity=1,this.stateManager=new Wi({constraints:new a6({view:this})}),this.goToManager=new p_({view:this}),this.stationaryManager=new rv,this.mapViewNavigation=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!1,labelsAnimationTime:0,labelCollisionsEnabled:!1},this.frameTask=new SPe(this),this.inputManager=new HLe({view:this}),this.viewEvents=new rJ(this),this.padding={top:0,right:0,bottom:0,left:0},this.addHandles([me(()=>this.viewpoint,()=>this.stationaryManager.flip(),ka),this.on("resize",i=>this.stateManager.resize(i.width,i.height))])}get constraintsInfo(){return{lods:null,spatialReference:null}}get extent(){return this.stateManager?.extent??null}set extent(n){this.stateManager.extent=n}get state(){return this.stateManager.state}get interacting(){return this.navigating}get stationary(){return!this.animation&&!this.navigating&&!this.resizing&&this.stationaryManager.stationary}set animation(n){const i=this._get("animation");if(n===i)return;if(i&&i.stop(),n!==this.animationManager.animation&&this.animationManager.stop(),!n||n.isFulfilled())return void this._set("animation",null);this._set("animation",n);const r=()=>{this.destroyed||n===this._get("animation")&&(this._set("animation",null),this.frameTask?.requestFrame())};n.when(r,r)}get constraints(){return this.stateManager?.constraints}set constraints(n){n.view=this;const i=this.stateManager.constraints;this.stateManager.constraints=n,i?.destroy()}get padding(){return this.stateManager?.padding}set padding(n){this.stateManager&&(this.stateManager.padding=n)}get resizeAlign(){return this.stateManager.resizeAlign}set resizeAlign(n){this.stateManager.resizeAlign=n}get rotation(){return this.stateManager.rotation??0}set rotation(n){const{rotationEnabled:i}=this.constraints;this.constraints.rotationEnabled=!0,this.stateManager.rotation=n,this.constraints.rotationEnabled=i}get viewpoint(){return this.stateManager.viewpoint??null}set viewpoint(n){this.stateManager.viewpoint=n,this.frameTask.requestFrame()}on(n,i,r,s){return this.inputManager&&this.viewEvents.on(n,i,r,s)||super.on(n,i)}hasEventListener(n){return super.hasEventListener(n)||this.viewEvents.hasHandler(n)}goTo(n,i){return this.goToManager.goTo(n,i)}};return u([d({readOnly:!0})],t.prototype,"animationManager",void 0),u([d({readOnly:!0})],t.prototype,"fullOpacity",void 0),u([d()],t.prototype,"stateManager",void 0),u([d()],t.prototype,"constraintsInfo",null),u([d()],t.prototype,"extent",null),u([d()],t.prototype,"goToManager",void 0),u([d({readOnly:!0})],t.prototype,"state",null),u([d({readOnly:!0})],t.prototype,"mapViewNavigation",void 0),u([d()],t.prototype,"renderingOptions",void 0),u([d({readOnly:!0})],t.prototype,"interacting",null),u([d()],t.prototype,"stationary",null),u([d()],t.prototype,"animation",null),u([d({type:a6})],t.prototype,"constraints",null),u([d({readOnly:!0})],t.prototype,"inputManager",void 0),u([d()],t.prototype,"padding",null),u([d()],t.prototype,"resizeAlign",null),u([d()],t.prototype,"rotation",null),u([d({readOnly:!0})],t.prototype,"viewEvents",void 0),u([d({type:Zs})],t.prototype,"viewpoint",null),t=u([k("esri.views.Viewport2DMixin")],t),t};let b6=class{constructor(t){this._view=t,this.viewpoint=new Zs({targetGeometry:new nt,scale:0,rotation:0})}get view(){return this._view}get size(){const[t,n]=this._view.size;return Math.sqrt(t*t+n*n)}get scale(){return this.viewpoint.scale}get rotation(){return this.viewpoint.rotation}get center(){return this.viewpoint.targetGeometry}get scaleToResolutionFactor(){return VJ(this.center.spatialReference)}pixelsPerPanAtZoom(t){return 1/(t*this.scaleToResolutionFactor)}zoomAtPixelsPerPan(t){return 1/(t*this.scaleToResolutionFactor)}pixelsPerRotate(){return this.size/2}compareTo(t,n){n.pan=OH(this.center,t.center);let i=Math.abs(t.rotation-this.rotation);i=i>=180?360-i:i,n.rotate=sx(i),n.sourceZoom=this.scale,n.targetZoom=t.scale}interpolate(t,n,i){const{pan:r,rotate:s,zoom:o,zoomOffset:a}=i,{center:l}=this;l.spatialReference=t.center.spatialReference,l.x=ig(t.center.x,n.center.x,r),l.y=ig(t.center.y,n.center.y,r),this.viewpoint.scale=ig(t.scale,n.scale+a,o);let c=t.rotation;const h=n.rotation;Math.abs(h-c)>=180&&(c+=360*(c<h?1:-1)),this.viewpoint.rotation=ig(c,h,s)}copyFrom(t){tr(this.viewpoint,t.viewpoint),this._view=t.view}};function Vy(e,t,n,i){const r=3*e,s=3*(n-e)-r,o=1-r-s,a=3*t,l=3*(i-t)-a,c=1-a-l;function h(g){return((o*g+s)*g+r)*g}function p(g){return((c*g+l)*g+a)*g}function m(g){return(3*o*g+2*s)*g+r}function y(g,v){let b,w,S,x,E,$;for(S=g,$=0;$<8;$++){if(x=h(S)-g,Math.abs(x)<v)return S;if(E=m(S),Math.abs(E)<1e-6)break;S-=x/E}if(b=0,w=1,S=g,S<b)return b;if(S>w)return w;for(;b<w;){if(x=h(S),Math.abs(x-g)<v)return S;g>x?b=S:w=S,S=.5*(w-b)+b}return S}return function(g,v=1e-6){return p(y(g,v))}}const zs={};zs.ease=Vy(.25,.1,.25,1),zs.linear=Vy(0,0,1,1),zs.easeIn=zs["ease-in"]=Vy(.42,0,1,1),zs.easeOut=zs["ease-out"]=Vy(0,0,.58,1),zs.easeInOut=zs["ease-in-out"]=Vy(.42,0,.58,1);const WLe=e=>e,Xx=e=>e*e,SO=e=>1-Xx(1-e),ZLe=e=>e<.5?Xx(2*e)/2:(SO(2*(e-.5))+1)/2,xO=e=>e*e*e,vK=e=>1-xO(1-e),YLe=e=>e<.5?xO(2*e)/2:(vK(2*(e-.5))+1)/2,$O=e=>e*e*e*e,bK=e=>1-$O(1-e),JLe=e=>e<.5?$O(2*e)/2:(bK(2*(e-.5))+1)/2,TO=e=>e*e*e*e*e,wK=e=>1-TO(1-e),KLe=e=>e<.5?TO(2*e)/2:(wK(2*(e-.5))+1)/2,EO=e=>1-Math.cos(e*Math.PI/2),_K=e=>1-EO(1-e),XLe=e=>e<.5?EO(2*e)/2:(_K(2*(e-.5))+1)/2,IO=e=>2**(10*(e-1)),CO=e=>1-IO(1-e),QLe=e=>e<.5?IO(2*e)/2:(CO(2*(e-.5))+1)/2,MO=e=>-(Math.sqrt(1-e*e)-1),SK=e=>1-MO(1-e),e3e=e=>e<.5?MO(2*e)/2:(SK(2*(e-.5))+1)/2;function io(e){const t=2*(e-Math.sqrt((e-1)*e)),n=t/2/e;return i=>i<n?e*i*i:t*i-t+1}function ro(e,t){return(n,i)=>n<t?t*e(n/t,i):1-e((1-n)/(1-t),i)*(1-t)}const t3e=ro(io(1),1),n3e=ro(io(1),0),yA=ro(io(1),.5),i3e=ro(io(2),1),r3e=ro(io(2),0),s3e=ro(io(2),.5),o3e=ro(io(3),1),a3e=ro(io(3),0),l3e=ro(io(3),.5),u3e=ro(io(4),1),c3e=ro(io(4),0),d3e=ro(io(4),.5),w6={linear:WLe,"in-quad":Xx,"out-quad":SO,"in-out-quad":ZLe,"in-coast-quad":t3e,"out-coast-quad":n3e,"in-out-coast-quad":yA,"in-cubic":xO,"out-cubic":vK,"in-out-cubic":YLe,"in-coast-cubic":i3e,"out-coast-cubic":r3e,"in-out-coast-cubic":s3e,"in-quart":$O,"out-quart":bK,"in-out-quart":JLe,"in-coast-quart":o3e,"out-coast-quart":a3e,"in-out-coast-quart":l3e,"in-quint":TO,"out-quint":wK,"in-out-quint":KLe,"in-coast-quint":u3e,"out-coast-quint":c3e,"in-out-coast-quint":d3e,"in-sine":EO,"out-sine":_K,"in-out-sine":XLe,"in-expo":IO,"out-expo":CO,"in-out-expo":QLe,"in-circ":MO,"out-circ":SK,"in-out-circ":e3e,ease:e=>zs.ease(e),"ease-in":e=>zs.easeIn(e),"ease-out":e=>zs.easeOut(e),"ease-in-out":e=>zs.easeInOut(e)};let h3e=class{constructor(){this.pan=0,this.rotate=0,this.fov=0,this.sourceZoom=0,this.targetZoom=0}};const BS={desiredScreenFlow:2,minDuration:500,maxDuration:8e3},xK={maxDuration:4e3};let p3e=class $K{constructor(t){this._createCamera=t,this.compared=new h3e,this.segmentStart=0,this.segmentEnd=1,this.settings={desiredScreenFlow:BS.desiredScreenFlow},this.source=t(),this.target=t()}clone(){const t=new $K(this._createCamera);return t.copyFrom(this),t}copyFrom(t){this.update(t.source,t.target,t.settings)}update(t,n,i){this.source!==t&&this.source.copyFrom(t),this.target!==n&&this.target.copyFrom(n),this.source.compareTo(this.target,this.compared),this.settings.desiredScreenFlow=i.desiredScreenFlow??BS.desiredScreenFlow,this.desiredPixelFlow=this.settings.desiredScreenFlow*this.target.size,this.halfWindowSize=this.target.size/2}halfWindowPanAtZoom(t){const n=this.target.pixelsPerPanAtZoom(t);return this.halfWindowSize/n}get hasZoom(){return Math.abs(this.compared.sourceZoom-this.compared.targetZoom)>1e-5}get hasPan(){return this.compared.pan>Er()}get hasFov(){return Math.abs(this.compared.fov)>Er()}get hasRotate(){return this.compared.rotate>Er()}},f3e=class{constructor(){this.pan=0,this.rotate=0,this.zoom=0,this.fov=0,this.zoomOffset=0}},m3e=class{constructor(){this.segments=new Array}get time(){return this.segments.reduce((t,n)=>t+n.time,0)}interpolateComponentsAt(t,n){t=Math.min(Math.max(t,0),1),t*=this.time;let i=0,r=0;const s=this.definition,o=this.segments.reduce((a,l)=>a||l.definition.hasZoom,!1);for(let a=0;a<this.segments.length;a++){const l=this.segments[a],c=l.definition;if(t<=l.time||a===this.segments.length-1){if(this.segmentInterpolateComponentsAt(l,l.time===0?0:t/l.time,n),s.hasPan&&!isNaN(n.pan)&&isFinite(s.compared.pan)?n.pan=(i+c.compared.pan*n.pan)/s.compared.pan:n.pan=1,s.hasRotate&&!isNaN(n.rotate)&&isFinite(s.compared.rotate)?n.rotate=(r+c.compared.rotate*n.rotate)/s.compared.rotate:n.rotate=1,o&&!isNaN(n.zoom)&&isFinite(c.compared.targetZoom)){const{sourceZoom:h,targetZoom:p}=c.compared,m=n.zoom*(p-h)+h,y=this.segments[0].definition.compared.sourceZoom,g=this.segments[this.segments.length-1].definition.compared.targetZoom,v=Math.abs(p-y)>Math.abs(h-y)?p:h;n.zoomOffset=v-g,n.zoom=(m-y)/(v-y)}else n.zoom=1;return n}t-=l.time,i+=c.compared.pan,r+=c.compared.rotate}}segmentInterpolateComponentsAt(t,n,i){t.interpolateComponentsAt(n,i)}},jT=class{get time(){return this._time}constructor(t){t&&this.update(t)}update(t){t&&(this.definition?this.definition.copyFrom(t):this.definition=t.clone()),this._updatePrecomputedVariables(),this._updatePixelFlow()}_updatePrecomputedVariables(){const t=this.definition,n=t.compared,i=n.sourceZoom,r=n.targetZoom;this._zoomSign=i>r?1:-1,this._panPixelsAtSource=n.pan*t.source.pixelsPerPanAtZoom(i);const s=(t.source.pixelsPerRotate()+t.target.pixelsPerRotate())/2;this._rotatePixels=n.rotate*s}_updatePixelFlow(){const t=this.definition.compared.sourceZoom,n=this.definition.compared.targetZoom,{hasZoom:i,hasPan:r,hasRotate:s}=this.definition;let o=0,a=0;i&&(r&&(o=(n/t-1)/(-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2*this._panPixelsAtSource)),s&&(a=this._zoomSign*(Math.log(t/n)/Math.LN2)*this.definition.halfWindowSize/this._rotatePixels)),this._zoomPixelFlow=0,this._panPixelFlow=0,this._rotatePixelFlow=0;const l=this.definition.desiredPixelFlow;if(i&&r&&s){const c=o+a+o*a;this._zoomPixelFlow=o*a/c*l,this._panPixelFlow=a/c*l,this._rotatePixelFlow=o/c*l}else if(i&&r){const c=1+o;this._zoomPixelFlow=o/c*l,this._panPixelFlow=1/c*l}else if(i&&s){const c=1+a;this._zoomPixelFlow=a/c*l,this._rotatePixelFlow=1/c*l}else if(r&&s){const c=this._panPixelsAtSource/this._rotatePixels,h=1+c;this._panPixelFlow=c/h*l,this._rotatePixelFlow=1/h*l}else r?this._panPixelFlow=l:i?this._zoomPixelFlow=l:s&&(this._rotatePixelFlow=l);if(this._time=Math.max(this.rotateTime,this.zoomTime,this.panTime),this.fovTime>this._time){const c=this.fovTime/this._time;this._time=this.fovTime,this._zoomPixelFlow/=c,this._panPixelFlow/=c,this._rotatePixelFlow/=c}}get rotateTime(){return this.definition.hasRotate?this._rotatePixels/this._rotatePixelFlow:0}get zoomTime(){return this.definition.hasZoom?this._zoomSign*(Math.log(this.definition.compared.sourceZoom/this.definition.compared.targetZoom)/Math.LN2)*this.definition.halfWindowSize/this._zoomPixelFlow:0}get fovTime(){return this.definition.hasFov?Math.abs(this.definition.compared.fov)/y3e:0}get panTime(){if(!this.definition.hasPan)return 0;if(this.definition.hasZoom){const t=-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2,n=t*this._panPixelsAtSource;return Math.log(n*(this._zoomPixelFlow/this._panPixelFlow)+1)/(t*this._zoomPixelFlow)}return this._panPixelsAtSource/this._panPixelFlow}_interpolateComponentsZoom(t){if(t===0||t===1)return t;if(this.definition.hasZoom){const n=this.definition.compared.sourceZoom,i=this.definition.compared.targetZoom;return(n*(n/i)**-t-n)/(i-n)}return t}_interpolateComponentsFov(t){if(t===0)return this.definition.segmentStart;if(t===1)return this.definition.segmentEnd;if(this.definition.hasFov){const{segmentStart:n,segmentEnd:i}=this.definition;return n+t*(i-n)}return this.definition.segmentStart}_interpolateComponentsPan(t){if(t===0||t===1)return t;if(this.definition.hasPan&&this.definition.hasZoom){const n=-1/(this._zoomSign*this.definition.halfWindowSize)*this._zoomPixelFlow;return 1/this._panPixelsAtSource*(this._panPixelFlow*(2**(n*t*this._time)-1))/(n*Math.LN2)}return t}_interpolateComponentsRotate(t){return t}interpolateComponentsAt(t,n){t=Math.min(Math.max(t,0),1),n.zoom=this._interpolateComponentsZoom(t),n.pan=this._interpolateComponentsPan(t),n.rotate=this._interpolateComponentsRotate(t),n.zoomOffset=0,n.fov=this._interpolateComponentsFov(t)}};const y3e=sx(45);function g3e(e,t,n){const i=t-e.compared.sourceZoom,r=e.halfWindowPanAtZoom(i);return-e.halfWindowSize*(n.ascensionFactor*Math.LN2*e.compared.pan+r)*Math.log(e.compared.sourceZoom/t)/(e.desiredPixelFlow*Math.LN2*r)}function v3e(e,t,n){const i=1/t,r=Math.log(e.compared.sourceZoom*i),s=1/e.desiredPixelFlow,o=1/Math.LN2,a=t-e.compared.sourceZoom,l=1/a,c=(n.ascensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(a))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*i*s*o*l*c-e.halfWindowSize*r*s*o*l+e.halfWindowSize*r*s*o*c/(a*a)}function b3e(e,t,n){const i=t-e.compared.sourceZoom,r=1/i,s=1/t,o=Math.log(e.compared.sourceZoom*s),a=(n.ascensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(i))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*r*(-2*r*s*a+2*r*o+2*s-2*o*a/(i*i)-a/(t*t))/(e.desiredPixelFlow*Math.LN2)}function w3e(e,t){return-e.halfWindowSize*Math.log(e.compared.sourceZoom/t)/(e.desiredPixelFlow*Math.LN2)}function _3e(e,t){return e.halfWindowSize/(t*e.desiredPixelFlow*Math.LN2)}function S3e(e,t){return-e.halfWindowSize/(t*t*e.desiredPixelFlow*Math.LN2)}function x3e(e,t,n){return-e.compared.pan*e.halfWindowSize*(n.ascensionFactor+n.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t))}function $3e(e,t,n){return e.compared.pan*e.halfWindowSize*(n.ascensionFactor+n.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t*t))}function T3e(e,t,n){return-2*e.compared.pan*e.halfWindowSize*(n.ascensionFactor+n.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t*t*t))}function E3e(e,t,n){return e.halfWindowSize*(-e.halfWindowPanAtZoom(t)-n.descensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(e.compared.targetZoom))*Math.log(t/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2*e.halfWindowPanAtZoom(-t+e.compared.targetZoom))}function I3e(e,t,n){const i=Math.log(t/e.compared.targetZoom),r=1/e.desiredPixelFlow,s=1/Math.LN2,o=-t+e.compared.targetZoom,a=1/o,l=(-e.halfWindowPanAtZoom(t)-n.descensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(e.compared.targetZoom))/e.halfWindowPanAtZoom(1);return-e.halfWindowSize*i*r*s*a+e.halfWindowSize*i*r*s*l/(o*o)+e.halfWindowSize*r*s*a*l/t}function C3e(e,t,n){const i=t-e.compared.targetZoom,r=1/i,s=1/t,o=Math.log(t/e.compared.targetZoom),a=(e.halfWindowPanAtZoom(t)+n.descensionFactor*Math.LN2*e.compared.pan-e.halfWindowPanAtZoom(e.compared.targetZoom))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*r*(-2*r*s*a-2*r*o+2*s+2*o*a/(i*i)-a/(t*t))/(e.desiredPixelFlow*Math.LN2)}function M3e(e,t){return e.halfWindowSize*Math.log(t/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2)}function k3e(e,t){return e.halfWindowSize/(t*e.desiredPixelFlow*Math.LN2)}function A3e(e,t){return-e.halfWindowSize/(t*t*e.desiredPixelFlow*Math.LN2)}function P3e(e){const t=e.compared.sourceZoom-e.compared.targetZoom;if(t===0)return e.compared.pan*e.halfWindowSize/(e.desiredPixelFlow*e.halfWindowPanAtZoom(e.compared.sourceZoom));const n=Math.LN2*e.compared.pan,i=t,r=e.halfWindowPanAtZoom(i),s=e.halfWindowSize*Math.log(e.compared.sourceZoom/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2*r);return e.compared.sourceZoom<=e.compared.targetZoom?s*(n-r):s*(n+r)}function L3e(e,t){let n=O3e(e,t);const i={ascensionFactor:t.ascensionFactor!=null?t.ascensionFactor:.5,descensionFactor:t.descensionFactor!=null?t.descensionFactor:.5},r=i.ascensionFactor===0,s=i.descensionFactor===0,o=r?w3e:g3e,a=r?_3e:v3e,l=r?S3e:b3e,c=s?M3e:E3e,h=s?k3e:I3e,p=s?A3e:C3e,m=E=>o(e,E,i)+x3e(e,E,i)+c(e,E,i),y=E=>a(e,E,i)+$3e(e,E,i)+h(e,E,i),g=E=>l(e,E,i)+T3e(e,E,i)+p(e,E,i);let v=m(n);const b=P3e(e);let w;const S=t.maximumIterations||20,x=t.maximumDistance!=null?t.maximumDistance:1/0;for(w=0;w<S;w++){const E=t.desiredSlope??1e-6;let $=y(n);Math.abs($)>E&&($+=E);const I=$/g(n);if(isNaN(I)||n>=x&&I<0){if(!isFinite(x))return null;n=x,v=m(n);break}if(n-=I,n<e.compared.sourceZoom||n<e.compared.targetZoom)return null;const A=m(n);if(Math.abs(A-v)/v<=.005)break;v=A}return v>b*(1-.3)||n<e.compared.sourceZoom||n<e.compared.targetZoom?null:n}function O3e(e,t){const n=Math.max(e.compared.sourceZoom,e.compared.targetZoom),i=e.source.zoomAtPixelsPerPan(e.desiredPixelFlow/e.compared.pan)/2;return i<n?t.maximumDistance!=null?n+(t.maximumDistance-n)/2:1.5*n:t.maximumDistance?Math.min(t.maximumDistance,i):i}let R3e=class extends m3e{constructor(t,n){super(),this._preallocSegments=[new jT,new jT,new jT],this._ascensionSegment=null,this._descensionSegment=null,this.update(t,n)}update(t,n){if(!t)return;this.definition?this.definition.copyFrom(t):this.definition=t.clone();const i=n?.apex?L3e(t,n.apex):null;this.segments.length=0,this._ascensionSegment=null,this._descensionSegment=null,i?this._updateWithApex(i,n?.apex):this._updateWithoutApex()}segmentInterpolateComponentsAt(t,n,i){t.interpolateComponentsAt(n,i),t===this._ascensionSegment?i.zoom=SO(i.zoom):t===this._descensionSegment&&(i.zoom=Xx(i.zoom))}_updateWithApex(t,n){const[i,r,s]=this._preallocSegments,o=n?.ascensionFactor??.5,a=Math.min(1-o,n?.ascensionFactor!=null&&n.descensionFactor!=null?n.descensionFactor:.5),l=1-o-a;i.definition?i.definition.copyFrom(this.definition):i.definition=this.definition.clone(),i.definition.compared.targetZoom=t,i.definition.compared.pan=this.definition.compared.pan*o,i.definition.compared.rotate=this.definition.compared.rotate*o,i.definition.segmentEnd=o,i.update(),this._ascensionSegment=i,this.segments.push(i),l>0&&(r.definition?r.definition.copyFrom(this.definition):r.definition=this.definition.clone(),r.definition.copyFrom(this.definition),r.definition.compared.sourceZoom=t,r.definition.compared.targetZoom=t,r.definition.compared.pan=this.definition.compared.pan*l,r.definition.compared.rotate=this.definition.compared.rotate*l,r.definition.segmentStart=i.definition.segmentEnd,r.definition.segmentEnd=i.definition.segmentEnd+l,r.update(),this.segments.push(r)),s.definition?s.definition.copyFrom(this.definition):s.definition=this.definition.clone(),s.definition.compared.sourceZoom=t,s.definition.compared.pan=this.definition.compared.pan*a,s.definition.compared.rotate=this.definition.compared.rotate*a,s.definition.segmentStart=o+l,s.update(),this._descensionSegment=s,this.segments.push(s)}_updateWithoutApex(){const[t]=this._preallocSegments;t.update(this.definition),this.segments.push(t)}};const N3e=new f3e;let D3e=class{get time(){return this._time}get isLinear(){return this.path.segments.length===1}constructor(t){this._time=0,this._easing=yA,this.definition=new p3e(t),this.path=new R3e}update(t,n,i){this.definition.update(t,n,i),this.path.update(this.definition,i),this._time=this._applyTimeSettings(ude(isFinite(this.path.time)?this.path.time:0),i),this._easing=i.easing??(this._time>=1e3?yA:CO)}cameraAt(t,n){t=Math.min(Math.max(0,t),1),t=this._normalizedEasing(t);const i=this.path.interpolateComponentsAt(t,N3e);n.interpolate(this.definition.source,this.definition.target,i)}_normalizedEasing(t){const n=this._easing(0,this._time),i=this._easing(1,this._time);return(this._easing(t,this._time)-n)/(i-n)}_applyTimeSettings(t,n){const i=n.speedFactor!=null?n.speedFactor:1,r=n.minDuration??BS.minDuration/i,s=n.maxDuration??BS.maxDuration/i;return t=n.duration!=null?n.duration:Math.min(Math.max(t/i,r),s)}};const V3e=2e3,F3e=64;let j3e=class{constructor(t){this._view=t,this._animation=new D3e(()=>new b6(this._view)),this._current=new b6(this._view)}get _source(){return this._animation.definition.source}get _target(){return this._animation.definition.target}get duration(){return this._animation.time}get animation(){return this._animation}update(t,n,i={}){tr(this._current.viewpoint,t),tr(this._source.viewpoint,t),tr(this._target.viewpoint,n),this._animation.update(this._source,this._target,i)}applyRatio(t,n){this._animation.cameraAt(n,this._current),tr(t,this._current.viewpoint)}},Sf=class extends Ce{constructor(t){super(t),this._animation=null,this._destinationViewState=new _O,this.updateFunction=null,this.easing=w6.ease,this.viewpoint=new Zs({targetGeometry:new nt,scale:0,rotation:0}),this._updateTask=wm({postRender:this._postRender.bind(this)}),this._updateTask.pause(),this._transition=new j3e(t.view)}destroy(){this._updateTask=on(this._updateTask)}get animation(){return this._animation}set animation(t){this._animation=t,this.view.animation=t}animate(t,n,i){this.stop();const r=this.viewpoint;tr(r,n);const s=t.target;this._transition.update(this.viewpoint,s,{apex:{maximumDistance:Math.min(Math.min(n.scale,s.scale)*F3e,this.view.constraints.effectiveMinScale),desiredSlope:5e-8},duration:i?.duration,maxDuration:i?.animationMode==="auto"?1/0:i?.maxDuration??xK.maxDuration,speedFactor:i?.speedFactor,easing:(typeof i?.easing=="string"?w6[i.easing]:i?.easing)||this.easing}),i?.animationMode==="auto"&&(this._destinationViewState.copy(this.view.state),this._destinationViewState.viewpoint=s,z3e(this._transition.animation,i,this.view.state,this._destinationViewState)||this._transition.update(this.viewpoint,s,{duration:0}));const o=()=>{this.animation===t&&this._updateTask&&(t.state==="finished"&&(this._transition.applyRatio(this.viewpoint,1),this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)};return t.when(o,o),this._startTime=performance.now(),this._updateTask.resume(),this.animation=t,t}animateContinuous(t,n){this.stop(),this.updateFunction=n,this.viewpoint=t;const i=new dA({target:t.clone()}),r=()=>{this.animation===i&&this._updateTask&&(this.animation=null,this.updateFunction=null)};return i.when(r,r),this._startTime=performance.now(),this._updateTask.resume(),this.animation=i,i}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(t){const n=this.animation;if(n&&n.state!==dA.State.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,t.deltaTime),this.animation?.update(this.viewpoint);else{const i=performance.now()-this._startTime,r=this._transition.duration,s=r>0?i/r:1,o=s>=1;this._transition.applyRatio(this.viewpoint,s),o&&this.animation?.finish()}this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}};function z3e(e,t,n,i){if(t?.duration!=null)return!0;const{time:r,isLinear:s}=e,o=t?.speedFactor||1;if(r>(t?.maxDuration??xK.maxDuration/o))return!1;if(s){const l=bn(),c=Si(...i.toScreen(l,...n.center)),h=Si(...n.toScreen(l,...i.center)),p=h!=null&&h.x>-1*n.size[0]&&h.x<(1.5+.5)*n.size[0]&&h.y>-1*n.size[1]&&h.y<(1.5+.5)*n.size[1],m=c!=null&&c.x>-1*i.size[0]&&c.x<(1.5+.5)*i.size[0]&&c.y>-1*i.size[1]&&c.y<(1.5+.5)*i.size[1];if(r>V3e/o&&!p&&!m)return!1}return!0}u([d()],Sf.prototype,"easing",void 0),u([d()],Sf.prototype,"view",void 0),u([d()],Sf.prototype,"viewpoint",void 0),Sf=u([k("esri.views.2d.AnimationManager")],Sf);const B3e=Sf;function Wt(){return Promise.all([J(()=>import("./webglDeps-DvWTmSEL.js"),__vite__mapDeps([209,166,17,210,211,212,3])),J(()=>import("./mapViewDeps-BXO0H_vD.js"),__vite__mapDeps([213,99,214,97,98,18,17,100,101,102,103,95,106,215,210,166,211,170,145,96,66,216,94,123,217,152,151,110,15,16,19,104,6,3,218,107,108,109,178,34,150,209,212,219,118,220,93,45,40,47,2,221,159,160,143,168,222,82,223,111,224,225,105,226,71,115,91,227,228,229,230,162,231,232]))])}const Fy=()=>Wt().then(()=>J(()=>import("./TileLayerView2D-CVY5uaKI.js"),__vite__mapDeps([233,102,96,100,97,98,99,18,17,101,103,95,178,34,217,216,94,66,211,166,123,152,151,110,15,16,19,150,219,215,210,170,145,214,106,104,6,3,118,220,93,45,40,47,2,82,107,108,109,159,160,143,226,71,115,91,234,235,230,236,206,237,228,229,238,239,240,241]))),qc=()=>Wt().then(()=>J(()=>import("./FeatureLayerView2D-BT7l-f71.js").then(e=>e.F),__vite__mapDeps([242,15,16,17,18,19,243,244,197,45,40,50,3,236,217,206,229,96,94,95,66,210,166,230,216,211,123,152,151,110,214,97,98,99,100,101,102,103,106,215,170,145,104,6,118,218,245,117,241,238]))),_6={"base-dynamic":()=>Wt().then(()=>J(()=>import("./BaseDynamicLayerView2D-K8gcl-iT.js"),__vite__mapDeps([246,247,216,94,95,66,211,166,17,123,217,152,151,110,15,16,18,19,235,215,210,170,145,106,236,206,248,238,3]))),"base-tile":Fy,"bing-maps":Fy,catalog:()=>Wt().then(()=>J(()=>import("./CatalogLayerView2D-CVJ5TpWP.js"),__vite__mapDeps([249,236,217,206,3]))),"catalog-dynamic-group":()=>Wt().then(()=>J(()=>import("./CatalogDynamicGroupLayerView2D-0Eky1WOF.js"),__vite__mapDeps([250,236,217,206,3]))),"catalog-footprint":()=>Wt().then(()=>J(()=>import("./CatalogFootprintLayerView2D-KMhEeYrj.js"),__vite__mapDeps([251,242,15,16,17,18,19,243,244,197,45,40,50,3,236,217,206,229,96,94,95,66,210,166,230,216,211,123,152,151,110,214,97,98,99,100,101,102,103,106,215,170,145,104,6,118,218,245,117,241,238]))),csv:qc,"geo-rss":()=>Wt().then(()=>J(()=>import("./GeoRSSLayerView2D-eNQODzUL.js"),__vite__mapDeps([252,236,217,206,227,228,229,96,94,95,66,210,166,17,230,216,211,123,152,151,110,15,16,18,19,214,97,98,99,100,101,102,103,106,215,170,145,104,6,3,226,178,34,93,45,40,47,2,71,115,91]))),feature:qc,geojson:qc,parquet:qc,graphics:()=>Wt().then(()=>J(()=>import("./GraphicsLayerView2D-BShHdXJj.js"),__vite__mapDeps([253,236,217,206,227,228,229,96,94,95,66,210,166,17,230,216,211,123,152,151,110,15,16,18,19,214,97,98,99,100,101,102,103,106,215,170,145,104,6,3,226,178,34,93,45,40,47,2,71,115,91]))),group:()=>Wt().then(()=>J(()=>import("./GroupLayerView2D-BQgX8rkL.js"),__vite__mapDeps([254,236,217,206,3]))),imagery:()=>Wt().then(()=>J(()=>import("./ImageryLayerView2D-CYzvhQqV.js"),__vite__mapDeps([255,256,166,17,66,129,216,94,95,211,123,217,152,151,110,15,16,18,19,236,206,226,97,98,99,100,101,102,103,178,34,93,96,45,40,47,2,214,106,215,210,170,145,104,6,3,71,115,91,237,228,229,230,247,235,248,132,243,241,238]))),"imagery-tile":()=>Wt().then(()=>J(()=>import("./ImageryTileLayerView2D-Cvf9DIgZ.js"),__vite__mapDeps([257,258,256,166,17,66,129,216,94,95,211,123,217,152,151,110,15,16,18,19,236,206,259,224,109,210,230,260,132,243,241,238,3]))),kml:()=>Wt().then(()=>J(()=>import("./KMLLayerView2D-DnbkdXFU.js"),__vite__mapDeps([261,262,235,217,215,210,166,17,211,170,145,106,247,216,94,95,66,123,152,151,110,15,16,18,19,236,206,227,228,229,96,230,214,97,98,99,100,101,102,103,104,6,3,226,178,34,93,45,40,47,2,71,115,91,132,224,109,221,209,212,159,160,143,220,168,259]))),"knowledge-graph":()=>Wt().then(()=>J(()=>import("./KnowledgeGraphLayerView2D-CS6ACuM5.js"),__vite__mapDeps([263,236,217,206,3]))),"link-chart":()=>Wt().then(()=>J(()=>import("./KnowledgeGraphLayerView2D-CS6ACuM5.js"),__vite__mapDeps([263,236,217,206,3]))),"knowledge-graph-sublayer":qc,"map-image":()=>Wt().then(()=>J(()=>import("./MapImageLayerView2D-C-5UpyVw.js"),__vite__mapDeps([264,247,216,94,95,66,211,166,17,123,217,152,151,110,15,16,18,19,235,215,210,170,145,106,236,206,226,97,98,99,100,101,102,103,178,34,93,96,45,40,47,2,214,104,6,3,71,115,91,237,228,229,230,248,243,238,239,240,241]))),"map-notes":()=>Wt().then(()=>J(()=>import("./MapNotesLayerView2D-BpN4eVI-.js"),__vite__mapDeps([265,236,217,206,227,228,229,96,94,95,66,210,166,17,230,216,211,123,152,151,110,15,16,18,19,214,97,98,99,100,101,102,103,106,215,170,145,104,6,3,226,178,34,93,45,40,47,2,71,115,91]))),media:()=>Wt().then(()=>J(()=>import("./MediaLayerView2D-40tMsIH1.js"),__vite__mapDeps([266,267,115,71,102,96,100,97,98,99,18,17,101,103,95,178,34,217,216,94,66,211,166,123,152,151,110,15,16,19,150,219,215,210,170,145,214,106,104,6,3,118,220,93,45,40,47,2,82,107,108,109,159,160,143,226,91,223,111,268,225,236,206]))),"ogc-feature":()=>Wt().then(()=>J(()=>import("./OGCFeatureLayerView2D-BzqNi-QL.js"),__vite__mapDeps([269,242,15,16,17,18,19,243,244,197,45,40,50,3,236,217,206,229,96,94,95,66,210,166,230,216,211,123,152,151,110,214,97,98,99,100,101,102,103,106,215,170,145,104,6,118,218,245,117,241,238]))),"open-street-map":Fy,"oriented-imagery":qc,route:()=>Wt().then(()=>J(()=>import("./RouteLayerView2D-DD0SaA8Y.js"),__vite__mapDeps([270,271,272,236,217,206,227,228,229,96,94,95,66,210,166,17,230,216,211,123,152,151,110,15,16,18,19,214,97,98,99,100,101,102,103,106,215,170,145,104,6,3,226,178,34,93,45,40,47,2,71,115,91]))),stream:()=>Wt().then(()=>J(()=>import("./StreamLayerView2D-CTyvYUBr.js"),__vite__mapDeps([273,242,15,16,17,18,19,243,244,197,45,40,50,3,236,217,206,229,96,94,95,66,210,166,230,216,211,123,152,151,110,214,97,98,99,100,101,102,103,106,215,170,145,104,6,118,218,245,117,241,238]))),"subtype-group":()=>Wt().then(()=>J(()=>import("./SubtypeGroupLayerView2D-D3uJEEIb.js"),__vite__mapDeps([274,242,15,16,17,18,19,243,244,197,45,40,50,3,236,217,206,229,96,94,95,66,210,166,230,216,211,123,152,151,110,214,97,98,99,100,101,102,103,106,215,170,145,104,6,118,218,245,117,241,238]))),tile:Fy,"vector-tile":()=>Wt().then(()=>J(()=>import("./VectorTileLayerView2D-DDMLNbh-.js"),__vite__mapDeps([275,150,103,82,17,101,102,100,166,151,216,94,95,66,211,123,217,152,110,15,16,18,19,230,53,153,154,236,206,238,3]))),video:()=>Wt().then(()=>J(()=>import("./VideoLayerView2D-DbUnFnOS.js"),__vite__mapDeps([276,277,278,268,123,216,94,95,66,211,166,17,217,152,151,110,15,16,18,19,214,97,98,99,100,101,102,103,106,215,210,170,145,96,104,6,3,225,236,206,227,228,229,230,226,178,34,93,45,40,47,2,71,115,91]))),wcs:()=>Wt().then(()=>J(()=>import("./ImageryTileLayerView2D-Cvf9DIgZ.js"),__vite__mapDeps([257,258,256,166,17,66,129,216,94,95,211,123,217,152,151,110,15,16,18,19,236,206,259,224,109,210,230,260,132,243,241,238,3]))),"web-tile":Fy,wfs:qc,wms:()=>Wt().then(()=>J(()=>import("./WMSLayerView2D-BJATqyjO.js"),__vite__mapDeps([279,247,216,94,95,66,211,166,17,123,217,152,151,110,15,16,18,19,235,215,210,170,145,106,236,206,248,238,280,243,3]))),wmts:()=>Wt().then(()=>J(()=>import("./WMTSLayerView2D-B3qWSYAt.js"),__vite__mapDeps([281,234,235,217,215,210,166,17,211,170,145,106,216,94,95,66,123,152,151,110,15,16,18,19,230,236,206,238,3]))),"line-of-sight":null,"base-elevation":null,"building-scene":null,dimension:null,elevation:null,"integrated-mesh":null,"integrated-mesh-3dtiles":null,"point-cloud":null,viewshed:null,voxel:null,scene:null,unknown:null,unsupported:null};function U3e(e){const t=e.declaredClass?e.declaredClass.slice(e.declaredClass.lastIndexOf(".")+1):"Unknown",n=t.replaceAll(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new B(`${n}:view-not-supported`,`${t} is not supported in 2D`)}const S6={hasLayerViewModule:e=>_6[e.type]!=null,importLayerView:e=>{const t=_6[e.type];if(t==null)throw U3e(e);return t(e)}};let Sc=class Ld{static getId(t,n,i,r){return typeof t=="object"?`${t.level}/${t.row}/${t.col}/${t.world}`:`${t}/${n}/${i}/${r}`}constructor(t,n,i,r){this.set(t,n,i,r)}get key(){return this}get id(){return this.toString()}get normalizedId(){return`${this.level}/${this.row}/${this.col}`}set id(t){this.set(t)}get hash(){const t=4095&this.row,n=4095&this.col,i=63&this.level;return(3&this.world)<<30|n<<22|t<<8|i}acquire(t,n,i,r){this.set(t,n,i,r)}contains(t){const n=t.level-this.level;return n>=0&&this.row===t.row>>n&&this.col===t.col>>n&&this.world===t.world}containsChild(t){const n=t.level-this.level;return n>0&&this.row===t.row>>n&&this.col===t.col>>n&&this.world===t.world}equals(t){return this.level===t.level&&this.row===t.row&&this.col===t.col&&this.world===t.world}clone(){return new Ld(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(t,n,i,r){if(t==null)this.level=0,this.row=0,this.col=0,this.world=0;else if(typeof t=="object")this.level=t.level||0,this.row=t.row||0,this.col=t.col||0,this.world=t.world||0;else if(typeof t=="string"){const[s,o,a,l]=t.split("/");this.level=parseFloat(s),this.row=parseFloat(o),this.col=parseFloat(a),this.world=parseFloat(l)}else this.level=+t,this.row=+n,this.col=+i,this.world=+r||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new Ld(this.level-1,this.row>>1,this.col>>1,this.world)}getNormalizedNeighbor(t,n,i){const r=this.clone();return r.col+=t,r.row+=n,i.normalizeKey(r),r}getChildKeys(){const t=this.level+1,n=this.row<<1,i=this.col<<1,r=this.world;return[new Ld(t,n,i,r),new Ld(t,n,i+1,r),new Ld(t,n+1,i,r),new Ld(t,n+1,i+1,r)]}compareRowMajor(t){return this.row<t.row?-1:this.row>t.row?1:this.col<t.col?-1:this.col>t.col?1:0}};Sc.pool=new np(Sc,null,null,25,50);function kp(e,t){return[e,t]}function Wc(e,t,n){return e[0]=t,e[1]=n,e}function G3e(e,t,n,i,r){return e[0]=t,e[1]=n,e[2]=i,e[3]=r,e}const po=new Sc("0/0/0/0");let H3e=class TK{static create(t,n,i=null){const r=xr(t.spatialReference),s=n.origin||kp(t.origin.x,t.origin.y),o=kp(t.size[0]*n.resolution,t.size[1]*n.resolution),a=kp(-1/0,-1/0),l=kp(1/0,1/0),c=kp(1/0,1/0);i!=null&&(Wc(a,Math.max(0,Math.floor((i.xmin-s[0])/o[0])),Math.max(0,Math.floor((s[1]-i.ymax)/o[1]))),Wc(l,Math.max(0,Math.floor((i.xmax-s[0])/o[0])),Math.max(0,Math.floor((s[1]-i.ymin)/o[1]))),Wc(c,l[0]-a[0]+1,l[1]-a[1]+1));const{cols:h,rows:p}=n;let m,y,g,v;return!i&&h&&p&&(Wc(a,h[0],p[0]),Wc(l,h[1],p[1]),Wc(c,h[1]-h[0]+1,p[1]-p[0]+1)),t.isWrappable?(m=kp(Math.ceil(Math.round((r.valid[1]-r.valid[0])/n.resolution)/t.size[0]),c[1]),y=!0,g=r.origin,v=r.valid):(m=c,y=!1),new TK(n.level,n.resolution,n.scale,s,a,l,c,o,m,y,g,v)}constructor(t,n,i,r,s,o,a,l,c,h,p,m){this.level=t,this.resolution=n,this.scale=i,this.origin=r,this.first=s,this.last=o,this.size=a,this.norm=l,this.worldSize=c,this.wrap=h,this._spatialReferenceOrigin=p,this._spatialReferenceValid=m}normalizeCol(t){if(!this.wrap)return t;const n=this.worldSize[0];return t<0?n-1-Math.abs((t+1)%n):t%n}normalizeKey(t){if(!this.wrap)return;const n=this.worldSize[0],i=t.col;i<0?(t.col=i+n,t.world-=1):i>=n&&(t.col=i-n,t.world+=1)}denormalizeCol(t,n){return this.wrap?this.worldSize[0]*n+t:t}getWorldForColumn(t){return this.wrap?Math.floor(t/this.worldSize[0]):0}getFirstColumnForWorld(t){return t*this.worldSize[0]+this.first[0]}getLastColumnForWorld(t){return t*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(t){return(t-this.origin[0])/this.norm[0]}getXForColumn(t){const n=this.origin[0]+t*this.norm[0],i=this._spatialReferenceOrigin,r=this._spatialReferenceValid;return this.wrap&&i&&r?n===i[0]?r[0]:this.origin[0]===i[0]&&t===this.worldSize[0]?r[1]:n:n}getRowForY(t){return(this.origin[1]-t)/this.norm[1]}getYForRow(t){return this.origin[1]-t*this.norm[1]}getTileBounds(t,n,i=!1){po.set(n);const r=i?po.col:this.denormalizeCol(po.col,po.world),s=po.row;return G3e(t,this.getXForColumn(r),this.getYForRow(s+1),this.getXForColumn(r+1),this.getYForRow(s)),t}getTileCoords(t,n,i=!1){po.set(n);const r=i?po.col:this.denormalizeCol(po.col,po.world);return Array.isArray(t)?Wc(t,this.getXForColumn(r),this.getYForRow(po.row)):(t.x=this.getXForColumn(r),t.y=this.getYForRow(po.row)),t}},C0=class{constructor(){this.spans=[]}acquire(t){this.lodInfo=t}release(){this.lodInfo=null,this.spans.length=0}*keys(){const t=this.lodInfo;for(const{row:n,colFrom:i,colTo:r}of this.spans)for(let s=i;s<=r;s++){const o=t.getWorldForColumn(s);yield new Sc(t.level,n,t.normalizeCol(s),o)}}forEach(t,n){const{spans:i,lodInfo:r}=this,{level:s}=r;if(i.length!==0)for(const{row:o,colFrom:a,colTo:l}of i)for(let c=a;c<=l;c++)t.call(n,s,o,r.normalizeCol(c),r.getWorldForColumn(c))}};C0.pool=new np(C0);let zT=class{constructor(t,n,i){this.row=t,this.colFrom=n,this.colTo=i}};const Kt=new Sc("0/0/0/0");let q3e=class EK{static create(t,n){t[1]>n[1]&&([t,n]=[n,t]);const[i,r]=t,[s,o]=n,a=s-i,l=o-r,c=l!==0?a/l:0,h=(Math.ceil(r)-r)*c,p=(Math.floor(r)-r)*c;return new EK(i,Math.floor(r),Math.ceil(o),c,a<0?h:p,a<0?p:h,a<0?s:i,a<0?i:s)}constructor(t,n,i,r,s,o,a,l){this.x=t,this.ymin=n,this.ymax=i,this.invM=r,this.leftAdjust=s,this.rightAdjust=o,this.leftBound=a,this.rightBound=l}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}};const Kr=[[0,0],[0,0],[0,0],[0,0]],W3e=1e-6;let Z3e=class{constructor(t,n=null,i=t.lods[0].level,r=t.lods[t.lods.length-1].level){this.tileInfo=t,this.fullExtent=n,this.scales=[],this._infoByScale={},this._infoByLevel={};const s=t.lods.filter(a=>a.level>=i&&a.level<=r);this.minScale=s[0].scale,this.maxScale=s[s.length-1].scale;const o=this._lodInfos=s.map(a=>H3e.create(t,a,n));s.forEach((a,l)=>{this._infoByLevel[a.level]=o[l],this._infoByScale[a.scale]=o[l],this.scales[l]=a.scale},this),this._wrap=t.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(t){return this._infoByLevel[typeof t=="number"?t:t.level]}getTileBounds(t,n,i=!1){Kt.set(n);const r=this._infoByLevel[Kt.level];return r?r.getTileBounds(t,Kt,i):t}getTileCoords(t,n,i=!1){Kt.set(n);const r=this._infoByLevel[Kt.level];return r?r.getTileCoords(t,Kt,i):t}getTileCoverage(t,n=192,i=!0,r="closest"){if(!i&&(t.scale>this.minScale||t.scale<this.maxScale))return null;const s=r==="closest"?this.getClosestInfoForScale(t.scale):this.getSmallestInfoForScale(t.scale),o=C0.pool.acquire(s),a=this._wrap;let l,c,h,p=1/0,m=-1/0;const y=o.spans;Kr[0][0]=Kr[0][1]=Kr[1][1]=Kr[3][0]=-n,Kr[1][0]=Kr[2][0]=t.size[0]+n,Kr[2][1]=Kr[3][1]=t.size[1]+n;for(const w of Kr)t.toMap(w,w),w[0]=s.getColumnForX(w[0]),w[1]=s.getRowForY(w[1]);const g=[];let v=3;for(let w=0;w<4;w++){if(Kr[w][1]===Kr[v][1]){v=w;continue}const S=q3e.create(Kr[w],Kr[v]);p=Math.min(S.ymin,p),m=Math.max(S.ymax,m),g[S.ymin]===void 0&&(g[S.ymin]=[]),g[S.ymin].push(S),v=w}if(p==null||m==null||m-p>100)return null;let b=[];for(l=p;l<m;){g[l]!=null&&(b=b.concat(g[l])),c=1/0,h=-1/0;for(let w=b.length-1;w>=0;w--){const S=b[w];c=Math.min(c,S.getLeftCol()),h=Math.max(h,S.getRightCol())}if(c=Math.floor(c),h=Math.floor(h),l>=s.first[1]&&l<=s.last[1])if(a)if(s.size[0]<s.worldSize[0]){const w=Math.floor(h/s.worldSize[0]);for(let S=Math.floor(c/s.worldSize[0]);S<=w;S++)y.push(new zT(l,Math.max(s.getFirstColumnForWorld(S),c),Math.min(s.getLastColumnForWorld(S),h)))}else y.push(new zT(l,c,h));else c>s.last[0]||h<s.first[0]||(c=Math.max(c,s.first[0]),h=Math.min(h,s.last[0]),y.push(new zT(l,c,h)));l+=1;for(let w=b.length-1;w>=0;w--){const S=b[w];S.ymax>=l?S.incrRow():b.splice(w,1)}}return o}getTileParentId(t){Kt.set(t);const n=this._infoByLevel[Kt.level],i=this._lodInfos.indexOf(n)-1;return i<0?null:(this._getTileIdAtLOD(Kt,this._lodInfos[i],Kt),Kt.id)}getTileResolution(t){const n=this._infoByLevel[typeof t=="object"?t.level:t];return n?n.resolution:-1}getTileScale(t){const n=this._infoByLevel[t.level];return n?n.scale:-1}intersects(t,n){Kt.set(n);const i=this._infoByLevel[Kt.level],r=t.lodInfo;if(r.resolution>i.resolution){this._getTileIdAtLOD(Kt,r,Kt);const o=r.denormalizeCol(Kt.col,Kt.world);for(const a of t.spans)if(a.row===Kt.row&&a.colFrom<=o&&a.colTo>=o)return!0}if(r.resolution<i.resolution){const[o,a,l,c]=t.spans.reduce((v,b)=>(v[0]=Math.min(v[0],b.row),v[1]=Math.max(v[1],b.row),v[2]=Math.min(v[2],b.colFrom),v[3]=Math.max(v[3],b.colTo),v),[1/0,-1/0,1/0,-1/0]),h=i.denormalizeCol(Kt.col,Kt.world),p=r.getColumnForX(i.getXForColumn(h)),m=r.getRowForY(i.getYForRow(Kt.row)),y=r.getColumnForX(i.getXForColumn(h+1))-1,g=r.getRowForY(i.getYForRow(Kt.row+1))-1;return!(p>c||y<l||m>a||g<o)}const s=r.denormalizeCol(Kt.col,Kt.world);return t.spans.some(o=>o.row===Kt.row&&o.colFrom<=s&&o.colTo>=s)}normalizeBounds(t,n,i){if(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],this._wrap){const r=xr(this.tileInfo.spatialReference),s=-i*(r.valid[1]-r.valid[0]);t[0]+=s,t[2]+=s}return t}getSmallestInfoForScale(t){const n=this.scales;if(this._infoByScale[t])return this._infoByScale[t];if(t>n[0])return this._infoByScale[n[0]];for(let i=1;i<n.length-1;i++)if(t>n[i]+W3e)return this._infoByScale[n[i-1]];return this._infoByScale[n[n.length-1]]}getClosestInfoForScale(t){const n=this.scales;return this._infoByScale[t]||(t=n.reduce((i,r)=>Math.abs(r-t)<Math.abs(i-t)?r:i,n[0])),this._infoByScale[t]}scaleToLevel(t){const n=this.scales;if(this._infoByScale[t])return this._infoByScale[t].level;for(let i=n.length-1;i>=0;i--)if(t<n[i])return i===n.length-1?this._infoByScale[n[n.length-1]].level:this._infoByScale[n[i]].level+(n[i]-t)/(n[i]-n[i+1]);return this._infoByScale[n[0]].level}scaleToZoom(t){return this.tileInfo.scaleToZoom(t)}zoomToScale(t){return this.tileInfo.zoomToScale(t)}_getTileIdAtLOD(t,n,i){const r=this._infoByLevel[i.level];return t.set(i),n.resolution<r.resolution?null:(n.resolution===r.resolution||(t.level=n.level,t.col=Math.floor(i.col*r.resolution/n.resolution+.01),t.row=Math.floor(i.row*r.resolution/n.resolution+.01)),t)}},Y3e=class{constructor(t,n){this.item=t,this.controller=n,this.promise=null}},J3e=class{constructor(t){this._schedule=null,this._task=null,this._deferreds=new um,this._controllers=new um,this._processingItems=new um,this._pausedSignal=Dm(!1),this.concurrency=1,t.concurrency&&(this.concurrency=t.concurrency),this._queue=new bS(t.peeker),this.process=t.process;const n=t.scheduler;t.priority&&n&&(this._task=n.registerTask(t.priority,this))}destroy(){this.clear(),this._schedule=on(this._schedule),this._task=on(this._task)}get updating(){return!!this._task?.updating||this.running}get length(){return this._processingItems.size+this._queue.length}abort(t){const n=this._controllers.get(t);n&&n.abort()}clear(){this._queue.clear();const t=[];this._controllers.forEach(n=>t.push(n)),this._controllers.clear(),t.forEach(n=>n.abort()),this._processingItems.clear(),this._cancelNext()}forEach(t){this._deferreds.forEach((n,i)=>t(i))}get(t){const n=this._deferreds.get(t);return n?n.promise:void 0}isOngoing(t){return this._processingItems.has(t)}has(t){return this._deferreds.has(t)}pause(){this._pausedSignal.value||(this._pausedSignal.value=!0,this._cancelNext())}push(t,n){const i=this.get(t);if(i)return i;const r=new AbortController;let s=null;n&&(s=Ws(n,()=>r.abort()));const o=()=>{const h=this._processingItems.get(t);h&&h.controller.abort(),a(),c.reject(Ut())},a=()=>{l.remove(),s?.remove(),this._removeItem(t),this._queue.remove(t),this._scheduleNext()},l=XP(r.signal,o),c=bs();return this._deferreds.set(t,c),this._controllers.set(t,r),c.promise.then(a,a),this._queue.push(t),this._scheduleNext(),c.promise}last(){return this._queue.last()}lastPromise(){const t=this.last();return t?this.get(t):null}peek(){return this._queue.peek()}popLast(){const t=this._queue.popLast();return t&&(this._deferreds.get(t)?.reject(Ut()),this._removeItem(t)),t}reset(){const t=Array.from(this._processingItems.values());this._processingItems.clear();for(const n of t)this._queue.push(n.item),n.controller.abort();this._scheduleNext()}resume(){this._pausedSignal.value&&(this._pausedSignal.value=!1,this._scheduleNext())}takeAll(){const t=[];for(;this._queue.length;)t.push(this._queue.pop());return this.clear(),t}get running(){return!this._pausedSignal.value&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(t){for(;!t.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),t.madeProgress()}_removeItem(t){this._deferreds.delete(t),this._controllers.delete(t),this._processingItems.delete(t)}_scheduleNext(){this._task||this._pausedSignal.value||this._schedule||(this._schedule=ib(()=>{this._schedule=null,this._next()}))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(t,n){this._canProcessFulfillment(t)&&(this._scheduleNext(),this._deferreds.get(t.item).resolve(n))}_processError(t,n){this._canProcessFulfillment(t)&&(this._scheduleNext(),this._deferreds.get(t.item).reject(n))}_canProcessFulfillment(t){return!!this._deferreds.get(t.item)&&this._processingItems.get(t.item)===t}_process(t){if(t==null)return;let n;const i=new AbortController,r=new Y3e(t,i);this._processingItems.set(t,r);try{n=this.process(t,i.signal)}catch(s){this._processError(r,s)}Na(n)?(r.promise=n,n.then(s=>this._processResult(r,s),s=>this._processError(r,s))):this._processResult(r,n)}get test(){}};const x6=[0,0];let hl=class extends Ce{constructor(t){super(t),this._keyToItem=new Map,this._tilesByScale=new Map,this.concurrency=6}initialize(){const{concurrency:t,process:n,scheduler:i,priority:r}=this;this._queue=new J3e({concurrency:t,scheduler:i,priority:r,process:(s,o)=>{const a=this._keyToItem.get(s);return n(a,{signal:o})},peeker:s=>this._peek(s)})}destroy(){this.clear(),this._queue=Bt(this._queue)}get length(){return this._queue?this._queue.length:0}abort(t){const n=typeof t=="string"?t:t.id;this._queue.abort(n)}clear(){this._queue.clear(),this._keyToItem.clear(),this._tilesByScale.clear()}has(t){return typeof t=="string"?this._keyToItem.has(t):this._keyToItem.has(t.id)}pause(){this._queue.pause()}push(t){const n=t.key.id;if(this._queue.has(n))return this._queue.get(n);const i=this._queue.push(n),r=this.tileInfoView.getTileScale(t.key),s=rb(this._tilesByScale,r,()=>new Set),o=()=>{s.delete(t.key),s.size===0&&this._tilesByScale.delete(r),this._keyToItem.delete(n)};return s.add(t.key),this._keyToItem.set(n,t),i.then(o,o),i}reset(){this._queue.reset()}resume(){this._queue.resume()}_peek(t){if(!this.state)return t.values().next().value;const n=new Set;for(const o of t)n.add(this._keyToItem.get(o).key);const i=this.state.scale;let r,s=Number.POSITIVE_INFINITY;for(const[o,a]of this._tilesByScale)if(h9(a,l=>n.has(l))){const l=Math.abs(o-i);l<s&&(r=a,s=l)}return this._getClosestTileKey(r,t).id}_getClosestTileKey(t,n){const i=this.tileInfoView,r=this.state.center;let s,o=Number.POSITIVE_INFINITY;for(const a of t)if(n.has(a.id)){i.getTileCoords(x6,a);const l=qx(x6,r);l<o&&(o=l,s=a)}return s}};u([d({constructOnly:!0})],hl.prototype,"concurrency",void 0),u([d({constructOnly:!0})],hl.prototype,"priority",void 0),u([d({constructOnly:!0})],hl.prototype,"process",void 0),u([d({constructOnly:!0})],hl.prototype,"scheduler",void 0),u([d()],hl.prototype,"state",void 0),u([d({constructOnly:!0})],hl.prototype,"tileInfoView",void 0),hl=u([k("esri.views.2d.tiling.TileQueue")],hl);const dHe=hl;let K3e=class{constructor(t,n,i){this.maxSize=t,this._tileInfoView=n,this._removedFunc=i,this._tilePerId=new Map,this._tileKeysPerLevel=[]}clear(){this._tilePerId.clear(),this._tileKeysPerLevel=[]}has(t){return this._tilePerId.has(t)}get(t){return this._tilePerId.get(t)}pop(t){const n=this._tilePerId.get(t);if(!n)return;const i=n.key.level,r=this._tileKeysPerLevel[i];$6(this._tilePerId,t);for(let s=0;s<r.length;s++)if(r[s].id===t){r.splice(s,1);break}return n.visible=!0,n}add(t){t.visible=!1;const n=t.key,i=n.id;if(this._tilePerId.has(i))return;this._tilePerId.set(i,t);const r=n.level;this._tileKeysPerLevel[r]||(this._tileKeysPerLevel[r]=[]),this._tileKeysPerLevel[r].push(n)}prune(t,n,i){let r=this._tilePerId.size;if(r<=this.maxSize)return;let s=this._tileKeysPerLevel.length-1;for(;r>this.maxSize&&s>=0;)s!==t&&(r=this._pruneAroundCenterTile(r,n,i,s)),s--;r>this.maxSize&&(r=this._pruneAroundCenterTile(r,n,i,t))}_pruneAroundCenterTile(t,n,i,r){const s=this._tileKeysPerLevel[r];if(!s||s.length===0)return t;const{size:o,origin:a}=this._tileInfoView.tileInfo,l=i*o[0],c=i*o[1],h=[0,0],p=[0,0];for(s.sort((m,y)=>(h[0]=a.x+l*(m.col+.5),h[1]=a.y-c*(m.row+.5),p[0]=a.x+l*(y.col+.5),p[1]=a.y-c*(y.row+.5),DS(h,n)-DS(p,n)));s.length>0;){const m=s.pop();if(this._removeTile(m.id),--t===this.maxSize)break}return t}_removeTile(t){const n=this._tilePerId.get(t);this._removedFunc&&n&&this._removedFunc(n),$6(this._tilePerId,t)}};function $6(e,t){e.delete(t)}const Zc=new Sc(0,0,0,0),Ua=new Map,jy=[],BT=[];let pHe=class{constructor(t){this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=t.acquireTile,this.releaseTile=t.releaseTile,this.tileInfoView=t.tileInfoView,t.resampling!=null&&(this.resampling=t.resampling),t.cachePolicy&&(this.cachePolicy=t.cachePolicy),t.coveragePolicy&&(this.coveragePolicy=t.coveragePolicy),t.buffer!=null&&(this.buffer=t.buffer),t.cacheSize&&(this._tileCache=new K3e(t.cacheSize,this.tileInfoView,n=>{this.releaseTile(n)}))}destroy(){this.tileIndex.clear()}update(t){const{resampling:n,tileIndex:i}=this,{scale:r,center:s,resolution:o}=t.state,{minScale:a,maxScale:l}=this.tileInfoView,c=!t.stationary&&r>this._previousScale;if(this._previousScale=r,!n&&(r>a||r<l))return this.tiles.length=0,void this.clear();const h=this.tileInfoView.getTileCoverage(t.state,this.buffer,this.resampling,this.coveragePolicy);if(!h)return this.tiles.length=0,void this.clear();const{spans:p,lodInfo:m}=h,{level:y}=m;this.tiles.length=0,i.forEach(w=>w.visible=!0);let g=0,v=0;if(p.length>0)for(const{row:w,colFrom:S,colTo:x}of p)for(let E=S;E<=x;E++){g++;const $=Zc.set(y,w,m.normalizeCol(E),m.getWorldForColumn(E)).id;let I=i.get($);if(I)I.isReady?(Ua.set($,I),v++):c||this._addParentTile($,Ua);else{if(this._tileCache?.has($)){if(I=this._tileCache.pop($),this.tileIndex.set($,I),I.isReady){Ua.set($,I),v++;continue}}else I=this.acquireTile(Zc),this.tileIndex.set($,I);c||this._addParentTile($,Ua)}}const b=v===g;for(const[w,S]of i){if(Ua.has(w))continue;Zc.set(w);const x=this.tileInfoView.intersects(h,Zc),E=this.cachePolicy==="purge"?Zc.level!==y:Zc.level>y;!x||!c&&b?!E&&x||jy.push(S):S.isReady?E&&this.cachePolicy==="purge"&&this._hasReadyAncestor(Zc,y)?jy.push(S):BT.push(S):E&&jy.push(S)}for(const w of BT)w.isReady&&Ua.set(w.key.id,w);for(const w of jy)this._tileCache?this._tileCache.add(w):this.releaseTile(w),i.delete(w.key.id);for(const w of Ua.values())this.tiles.push(w);for(const w of i.values())Ua.has(w.key.id)||(w.visible=!1);this._tileCache?.prune(y,s,o),C0.pool.release(h),BT.length=0,jy.length=0,Ua.clear()}clear(){const{tileIndex:t}=this;for(const n of t.values())this.releaseTile(n);t.clear()}refresh(t){for(const n of this.tileIndex.values())t(n);this._tileCache?.clear()}updateCacheSize(t){this._tileCache&&(this._tileCache.maxSize=t)}_addParentTile(t,n){let i=t,r=null;for(;i=this.tileInfoView.getTileParentId(i),i;)if(this.tileIndex.has(i)){if(r=this.tileIndex.get(i),r?.isReady){n.has(r.key.id)||n.set(r.key.id,r);break}}else if(this._tileCache?.has(i)&&(r=this._tileCache.pop(i),this.tileIndex.set(i,r),r?.isReady)){n.has(r.key.id)||n.set(r.key.id,r);break}}_hasReadyAncestor(t,n){const i=_r();this.tileInfoView.getTileBounds(i,t,!0);for(const r of this.tileIndex.values())if(r.isReady&&r.key.level>=n&&r.key.level<t.level){const s=_r();if(this.tileInfoView.getTileBounds(s,r.key,!0),F0e(s,i))return!0}return!1}};function X3e(e,t,n,i,r){IK(e,t,n||0,i||e.length-1,r||Q3e)}function IK(e,t,n,i,r){for(;i>n;){if(i-n>600){var s=i-n+1,o=t-n+1,a=Math.log(s),l=.5*Math.exp(2*a/3),c=.5*Math.sqrt(a*l*(s-l)/s)*(o-s/2<0?-1:1);IK(e,t,Math.max(n,Math.floor(t-o*l/s+c)),Math.min(i,Math.floor(t+(s-o)*l/s+c)),r)}var h=e[t],p=n,m=i;for(zy(e,n,t),r(e[i],h)>0&&zy(e,n,i);p<m;){for(zy(e,p,m),p++,m--;r(e[p],h)<0;)p++;for(;r(e[m],h)>0;)m--}r(e[n],h)===0?zy(e,n,m):zy(e,++m,i),m<=t&&(n=m+1),t<=m&&(i=m-1)}}function zy(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function Q3e(e,t){return e<t?-1:e>t?1:0}function US(e,t){if(!(this instanceof US))return new US(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&(typeof t=="function"?this.toBBox=t:this._initFormat(t)),this.clear()}function eOe(e,t,n){if(!n)return t.indexOf(e);for(var i=0;i<t.length;i++)if(n(e,t[i]))return i;return-1}function Ap(e,t){sv(e,0,e.children.length,t,e)}function sv(e,t,n,i,r){r||(r=xf(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var s,o=t;o<n;o++)s=e.children[o],ov(r,e.leaf?i(s):s);return r}function ov(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function T6(e,t){return e.minX-t.minX}function E6(e,t){return e.minY-t.minY}function UT(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function jw(e){return e.maxX-e.minX+(e.maxY-e.minY)}function tOe(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function nOe(e,t){var n=Math.max(e.minX,t.minX),i=Math.max(e.minY,t.minY),r=Math.min(e.maxX,t.maxX),s=Math.min(e.maxY,t.maxY);return Math.max(0,r-n)*Math.max(0,s-i)}function GT(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function zw(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function xf(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function I6(e,t,n,i,r){for(var s,o=[t,n];o.length;)(n=o.pop())-(t=o.pop())<=i||(s=t+Math.ceil((n-t)/i/2)*i,X3e(e,s,t,n,r),o.push(t,s,s,n))}US.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,n=[],i=this.toBBox;if(!zw(e,t))return n;for(var r,s,o,a,l=[];t;){for(r=0,s=t.children.length;r<s;r++)o=t.children[r],zw(e,a=t.leaf?i(o):o)&&(t.leaf?n.push(o):GT(e,a)?this._all(o,n):l.push(o));t=l.pop()}return n},collides:function(e){var t=this.data,n=this.toBBox;if(!zw(e,t))return!1;for(var i,r,s,o,a=[];t;){for(i=0,r=t.children.length;i<r;i++)if(s=t.children[i],zw(e,o=t.leaf?n(s):s)){if(t.leaf||GT(e,o))return!0;a.push(s)}t=a.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,n=e.length;t<n;t++)this.insert(e[t]);return this}var i=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var r=this.data;this.data=i,i=r}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},insert:function(e){return e!=null&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=xf([]),this},remove:function(e,t){if(e==null)return this;for(var n,i,r,s,o=this.data,a=this.toBBox(e),l=[],c=[];o||l.length;){if(o||(o=l.pop(),i=l[l.length-1],n=c.pop(),s=!0),o.leaf&&(r=eOe(e,o.children,t))!==-1)return o.children.splice(r,1),l.push(o),this._condense(l),this;s||o.leaf||!GT(o,a)?i?(n++,o=i.children[n],s=!1):o=null:(l.push(o),c.push(n),n=0,i=o,o=o.children[0])}return this},toBBox:function(e){return e},compareMinX:T6,compareMinY:E6,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var n=[];e;)e.leaf?t.push.apply(t,e.children):n.push.apply(n,e.children),e=n.pop();return t},_build:function(e,t,n,i){var r,s=n-t+1,o=this._maxEntries;if(s<=o)return Ap(r=xf(e.slice(t,n+1)),this.toBBox),r;i||(i=Math.ceil(Math.log(s)/Math.log(o)),o=Math.ceil(s/Math.pow(o,i-1))),(r=xf([])).leaf=!1,r.height=i;var a,l,c,h,p=Math.ceil(s/o),m=p*Math.ceil(Math.sqrt(o));for(I6(e,t,n,m,this.compareMinX),a=t;a<=n;a+=m)for(I6(e,a,c=Math.min(a+m-1,n),p,this.compareMinY),l=a;l<=c;l+=p)h=Math.min(l+p-1,c),r.children.push(this._build(e,l,h,i-1));return Ap(r,this.toBBox),r},_chooseSubtree:function(e,t,n,i){for(var r,s,o,a,l,c,h,p;i.push(t),!t.leaf&&i.length-1!==n;){for(h=p=1/0,r=0,s=t.children.length;r<s;r++)l=UT(o=t.children[r]),(c=tOe(e,o)-l)<p?(p=c,h=l<h?l:h,a=o):c===p&&l<h&&(h=l,a=o);t=a||t.children[0]}return t},_insert:function(e,t,n){var i=this.toBBox,r=n?e:i(e),s=[],o=this._chooseSubtree(r,this.data,t,s);for(o.children.push(e),ov(o,r);t>=0&&s[t].children.length>this._maxEntries;)this._split(s,t),t--;this._adjustParentBBoxes(r,s,t)},_split:function(e,t){var n=e[t],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);var s=this._chooseSplitIndex(n,r,i),o=xf(n.children.splice(s,n.children.length-s));o.height=n.height,o.leaf=n.leaf,Ap(n,this.toBBox),Ap(o,this.toBBox),t?e[t-1].children.push(o):this._splitRoot(n,o)},_splitRoot:function(e,t){this.data=xf([e,t]),this.data.height=e.height+1,this.data.leaf=!1,Ap(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,n){var i,r,s,o,a,l,c,h;for(l=c=1/0,i=t;i<=n-t;i++)o=nOe(r=sv(e,0,i,this.toBBox),s=sv(e,i,n,this.toBBox)),a=UT(r)+UT(s),o<l?(l=o,h=i,c=a<c?a:c):o===l&&a<c&&(c=a,h=i);return h},_chooseSplitAxis:function(e,t,n){var i=e.leaf?this.compareMinX:T6,r=e.leaf?this.compareMinY:E6;this._allDistMargin(e,t,n,i)<this._allDistMargin(e,t,n,r)&&e.children.sort(i)},_allDistMargin:function(e,t,n,i){e.children.sort(i);var r,s,o=this.toBBox,a=sv(e,0,t,o),l=sv(e,n-t,n,o),c=jw(a)+jw(l);for(r=t;r<n-t;r++)s=e.children[r],ov(a,e.leaf?o(s):s),c+=jw(a);for(r=n-t-1;r>=t;r--)s=e.children[r],ov(l,e.leaf?o(s):s),c+=jw(l);return c},_adjustParentBBoxes:function(e,t,n){for(var i=n;i>=0;i--)ov(t[i],e)},_condense:function(e){for(var t,n=e.length-1;n>=0;n--)e[n].children.length===0?n>0?(t=e[n-1].children).splice(t.indexOf(e[n]),1):this.clear():Ap(e[n],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}};function iOe(e,{timeZone:t,timeExtent:n}){return{$view:{scale:e,timeZone:t,timeProperties:{currentStart:n?.start,currentEnd:n?.end}}}}let C6=class CK{constructor(t,n){this.key=new Sc(0,0,0,0),this.bounds=_r(),this.objectIds=new Set,this.key.set(n);const i=t.getLODInfoAt(this.key);this.tileInfoView=t,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=i.resolution,this.level=i.level,this.scale=i.scale,this.minScale=t.zoomToScale(i.level-1),this.maxScale=t.zoomToScale(i.level+1)}get lod(){return this.tileInfoView.getLODInfoAt(this.key)}get id(){return this.key.id}get extent(){return D0e(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createArcadeEvaluationOptions(t){return iOe(this.scale,t)}createChildTiles(){const t=this.key.getChildKeys(),n=gr.acquire();for(let i=0;i<t.length;i++)n[i]=new CK(this.tileInfoView,t[i]);return n}getQuantizationParameters(){return NW.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}};const Yc={added:[],removed:[]},HT=new Set,rOe=new Sc(0,0,0,0);function sOe(e,t){const n=xr(t);if(!n)return null;const[i,r]=n.valid;return e[2]>r?[_r([e[0],e[1],r,e[3]]),_r([i,e[1],i+e[2]-r,e[3]])]:e[0]<i?[_r([i,e[1],e[2],e[3]]),_r([r-(i-e[0]),e[1],r,e[3]])]:null}let oOe=class extends Ks{constructor(t){super(),this._tiles=new Map,this._index=US(9,H("esri-csp-restrictions")?n=>({minX:n.bounds[0],minY:n.bounds[1],maxX:n.bounds[2],maxY:n.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=t}destroy(){this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(t){return this._tiles.has(t)}get(t){return this._tiles.get(t)}getIntersectingTiles(t){if(!t||QL(t)===0||e3(t)===0)return[];const n=sOe(t,this.tileScheme.spatialReference);return n!=null?[...new Set([...this.boundsIntersections(n[0]),...this.boundsIntersections(n[1])])]:this.boundsIntersections(t)}boundsIntersections(t){return this._index.search({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]})}updateTiles(t){const n={added:[],removed:[]};for(const i of t.added)if(!this.has(i)){const r=new C6(this.tileScheme,i);this._tiles.set(i,r),this._index.insert(r),n.added.push(r)}for(const i of t.removed)if(this.has(i)){const r=this.get(i);this._tiles.delete(i),this._index.remove(r),n.removed.push(r)}this.tiles.length=0,this._tiles.forEach(i=>this.tiles.push(i)),(n.added.length||n.removed.length)&&this.emit("update",n)}setViewState(t){const n=this.tileScheme.getTileCoverage(t,0);if(!n)return;const{spans:i,lodInfo:r}=n,{level:s}=r;if(i.length>0)for(const{row:o,colFrom:a,colTo:l}of i)for(let c=a;c<=l;c++){const h=rOe.set(s,o,r.normalizeCol(c),r.getWorldForColumn(c)).id;if(HT.add(h),!this.has(h)){const p=new C6(this.tileScheme,h);this._tiles.set(h,p),this._index.insert(p),this.tiles.push(p),Yc.added.push(p)}}for(let o=this.tiles.length-1;o>=0;o--){const a=this.tiles[o];HT.has(a.id)||(this._tiles.delete(a.id),this.tiles.splice(o,1),this._index.remove(a),Yc.removed.push(a))}(Yc.added.length||Yc.removed.length)&&this.emit("update",Yc),C0.pool.release(n),HT.clear(),Yc.added.length=0,Yc.removed.length=0}};const yHe=1e-30,M6=512,Bw=16777216,gHe=8,vHe=29,bHe=24,wHe=4,_He=0,SHe=0,xHe=0,$He=1,THe=2,EHe=3,IHe=4,CHe=5,MHe=6,kHe=12,AHe=13,PHe=5,aOe=6,LHe=5,OHe=6;var k6;(function(e){e[e.FilterFlags=0]="FilterFlags",e[e.Animation=1]="Animation",e[e.GPGPU=2]="GPGPU",e[e.VV=3]="VV",e[e.DD0=4]="DD0",e[e.DD1=5]="DD1",e[e.DD2=6]="DD2",e[e.LocalTimeOrigin=7]="LocalTimeOrigin"})(k6||(k6={}));const MK=6,lOe=1<<MK,RHe=lOe<<1,NHe=1.05,DHe=3,VHe=1,FHe=3,jHe=3,zHe=5,BHe=6,UHe=1.15,uOe=4,GHe=128,cOe=256,HHe=cOe-2*uOe,qHe=2,WHe=128,ZHe=1,YHe=10,JHe=1024,KHe=128,XHe=4,QHe=1,eqe=1<<20,tqe=.75,nqe=10,iqe=.75,rqe=256,sqe=32,oqe=512,aqe=0,lqe=1,dOe=1,uqe=[0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],cqe=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],By=256;var A6,P6,L6,O6,gA,R6,N6,va,vA,Nv,si,GS,Gs,Zt,Re,M0,wl,D6,V6,F6;(function(e){e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL",e[e.COLOR=16384]="COLOR"})(A6||(A6={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(P6||(P6={})),function(e){e[e.ZERO=0]="ZERO",e[e.ONE=1]="ONE",e[e.SRC_COLOR=768]="SRC_COLOR",e[e.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",e[e.SRC_ALPHA=770]="SRC_ALPHA",e[e.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",e[e.DST_ALPHA=772]="DST_ALPHA",e[e.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",e[e.DST_COLOR=774]="DST_COLOR",e[e.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",e[e.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",e[e.CONSTANT_COLOR=32769]="CONSTANT_COLOR",e[e.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",e[e.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",e[e.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA"}(L6||(L6={})),function(e){e[e.ADD=32774]="ADD",e[e.MIN=32775]="MIN",e[e.MAX=32776]="MAX",e[e.SUBTRACT=32778]="SUBTRACT",e[e.REVERSE_SUBTRACT=32779]="REVERSE_SUBTRACT"}(O6||(O6={})),function(e){e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",e[e.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",e[e.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",e[e.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",e[e.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER",e[e.TRANSFORM_FEEDBACK_BUFFER=35982]="TRANSFORM_FEEDBACK_BUFFER"}(gA||(gA={})),function(e){e[e.FRONT=1028]="FRONT",e[e.BACK=1029]="BACK",e[e.FRONT_AND_BACK=1032]="FRONT_AND_BACK"}(R6||(R6={})),function(e){e[e.CW=2304]="CW",e[e.CCW=2305]="CCW"}(N6||(N6={})),function(e){e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.INT=5124]="INT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.FLOAT=5126]="FLOAT",e[e.HALF_FLOAT=5131]="HALF_FLOAT"}(va||(va={})),function(e){e[e.NEVER=512]="NEVER",e[e.LESS=513]="LESS",e[e.EQUAL=514]="EQUAL",e[e.LEQUAL=515]="LEQUAL",e[e.GREATER=516]="GREATER",e[e.NOTEQUAL=517]="NOTEQUAL",e[e.GEQUAL=518]="GEQUAL",e[e.ALWAYS=519]="ALWAYS"}(vA||(vA={})),function(e){e[e.ZERO=0]="ZERO",e[e.KEEP=7680]="KEEP",e[e.REPLACE=7681]="REPLACE",e[e.INCR=7682]="INCR",e[e.DECR=7683]="DECR",e[e.INVERT=5386]="INVERT",e[e.INCR_WRAP=34055]="INCR_WRAP",e[e.DECR_WRAP=34056]="DECR_WRAP"}(Nv||(Nv={})),function(e){e[e.NEAREST=9728]="NEAREST",e[e.LINEAR=9729]="LINEAR",e[e.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",e[e.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",e[e.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",e[e.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR"}(si||(si={})),function(e){e[e.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(GS||(GS={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_3D=32879]="TEXTURE_3D",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY"}(Gs||(Gs={})),function(e){e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e[e.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",e[e.ALPHA=6406]="ALPHA",e[e.RGB=6407]="RGB",e[e.RGBA=6408]="RGBA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.RED=6403]="RED",e[e.RG=33319]="RG",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER"}(Zt||(Zt={})),function(e){e[e.RGBA4=32854]="RGBA4",e[e.R16F=33325]="R16F",e[e.RG16F=33327]="RG16F",e[e.RGB32F=34837]="RGB32F",e[e.RGBA16F=34842]="RGBA16F",e[e.R32F=33326]="R32F",e[e.RG32F=33328]="RG32F",e[e.RGBA32F=34836]="RGBA32F",e[e.R11F_G11F_B10F=35898]="R11F_G11F_B10F",e[e.RGB8=32849]="RGB8",e[e.RGBA8=32856]="RGBA8",e[e.RGB5_A1=32855]="RGB5_A1",e[e.R8=33321]="R8",e[e.RG8=33323]="RG8",e[e.R8I=33329]="R8I",e[e.R8UI=33330]="R8UI",e[e.R16I=33331]="R16I",e[e.R16UI=33332]="R16UI",e[e.R32I=33333]="R32I",e[e.R32UI=33334]="R32UI",e[e.RG8I=33335]="RG8I",e[e.RG8UI=33336]="RG8UI",e[e.RG16I=33337]="RG16I",e[e.RG16UI=33338]="RG16UI",e[e.RG32I=33339]="RG32I",e[e.RG32UI=33340]="RG32UI",e[e.RGB16F=34843]="RGB16F",e[e.RGB9_E5=35901]="RGB9_E5",e[e.SRGB8=35905]="SRGB8",e[e.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",e[e.RGB565=36194]="RGB565",e[e.RGBA32UI=36208]="RGBA32UI",e[e.RGB32UI=36209]="RGB32UI",e[e.RGBA16UI=36214]="RGBA16UI",e[e.RGB16UI=36215]="RGB16UI",e[e.RGBA8UI=36220]="RGBA8UI",e[e.RGB8UI=36221]="RGB8UI",e[e.RGBA32I=36226]="RGBA32I",e[e.RGB32I=36227]="RGB32I",e[e.RGBA16I=36232]="RGBA16I",e[e.RGB16I=36233]="RGB16I",e[e.RGBA8I=36238]="RGBA8I",e[e.RGB8I=36239]="RGB8I",e[e.R8_SNORM=36756]="R8_SNORM",e[e.RG8_SNORM=36757]="RG8_SNORM",e[e.RGB8_SNORM=36758]="RGB8_SNORM",e[e.RGBA8_SNORM=36759]="RGBA8_SNORM",e[e.RGB10_A2=32857]="RGB10_A2",e[e.RGB10_A2UI=36975]="RGB10_A2UI"}(Re||(Re={})),function(e){e[e.FLOAT=5126]="FLOAT",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.INT=5124]="INT",e[e.HALF_FLOAT=5131]="HALF_FLOAT",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV"}(M0||(M0={})),function(e){e[e.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",e[e.STENCIL_INDEX8=36168]="STENCIL_INDEX8",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e[e.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",e[e.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F",e[e.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",e[e.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8"}(wl||(wl={})),function(e){e[e.STATIC_DRAW=35044]="STATIC_DRAW",e[e.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",e[e.STREAM_DRAW=35040]="STREAM_DRAW",e[e.STATIC_READ=35045]="STATIC_READ",e[e.DYNAMIC_READ=35049]="DYNAMIC_READ",e[e.STREAM_READ=35041]="STREAM_READ",e[e.STATIC_COPY=35046]="STATIC_COPY",e[e.DYNAMIC_COPY=35050]="DYNAMIC_COPY",e[e.STREAM_COPY=35042]="STREAM_COPY"}(D6||(D6={})),function(e){e[e.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",e[e.VERTEX_SHADER=35633]="VERTEX_SHADER"}(V6||(V6={})),function(e){e[e.FRAMEBUFFER=36160]="FRAMEBUFFER",e[e.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",e[e.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER"}(F6||(F6={}));const dqe=33984;var HS,j6,z6;(function(e){e[e.Texture=0]="Texture",e[e.BufferObject=1]="BufferObject",e[e.VertexArrayObject=2]="VertexArrayObject",e[e.Shader=3]="Shader",e[e.Program=4]="Program",e[e.FramebufferObject=5]="FramebufferObject",e[e.Renderbuffer=6]="Renderbuffer",e[e.TransformFeedback=7]="TransformFeedback",e[e.Sync=8]="Sync",e[e.UNCOUNTED=9]="UNCOUNTED",e[e.LinesOfCode=9]="LinesOfCode",e[e.Uniform=10]="Uniform",e[e.COUNT=11]="COUNT"})(HS||(HS={})),function(e){e[e.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",e[e.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1",e[e.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2",e[e.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3",e[e.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4",e[e.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5",e[e.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6",e[e.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7",e[e.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8",e[e.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9",e[e.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10",e[e.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11",e[e.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12",e[e.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13",e[e.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14",e[e.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15"}(j6||(j6={})),function(e){e[e.NONE=0]="NONE",e[e.BACK=1029]="BACK"}(z6||(z6={}));const hqe=33306;var vi,B6,U6,G6,H6,q6,W6;(function(e){e[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",e[e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",e[e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",e[e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",e[e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",e[e.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC"})(vi||(vi={})),function(e){e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_VEC2=35664]="FLOAT_VEC2",e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4",e[e.INT=5124]="INT",e[e.INT_VEC2=35667]="INT_VEC2",e[e.INT_VEC3=35668]="INT_VEC3",e[e.INT_VEC4=35669]="INT_VEC4",e[e.BOOL=35670]="BOOL",e[e.BOOL_VEC2=35671]="BOOL_VEC2",e[e.BOOL_VEC3=35672]="BOOL_VEC3",e[e.BOOL_VEC4=35673]="BOOL_VEC4",e[e.FLOAT_MAT2=35674]="FLOAT_MAT2",e[e.FLOAT_MAT3=35675]="FLOAT_MAT3",e[e.FLOAT_MAT4=35676]="FLOAT_MAT4",e[e.SAMPLER_2D=35678]="SAMPLER_2D",e[e.SAMPLER_CUBE=35680]="SAMPLER_CUBE",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",e[e.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",e[e.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",e[e.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",e[e.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",e[e.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",e[e.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",e[e.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",e[e.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",e[e.SAMPLER_3D=35679]="SAMPLER_3D",e[e.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",e[e.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",e[e.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",e[e.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",e[e.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",e[e.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",e[e.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",e[e.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",e[e.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",e[e.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",e[e.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",e[e.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY"}(B6||(B6={})),function(e){e[e.OBJECT_TYPE=37138]="OBJECT_TYPE",e[e.SYNC_CONDITION=37139]="SYNC_CONDITION",e[e.SYNC_STATUS=37140]="SYNC_STATUS",e[e.SYNC_FLAGS=37141]="SYNC_FLAGS"}(U6||(U6={})),function(e){e[e.UNSIGNALED=37144]="UNSIGNALED",e[e.SIGNALED=37145]="SIGNALED"}(G6||(G6={})),function(e){e[e.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",e[e.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",e[e.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",e[e.WAIT_FAILED=37149]="WAIT_FAILED"}(H6||(H6={})),function(e){e[e.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE"}(q6||(q6={})),function(e){e[e.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT"}(W6||(W6={}));const hOe=()=>re.getLogger("esri.views.webgl.checkWebGLError");function pOe(e,t){switch(t){case e.INVALID_ENUM:return"Invalid Enum. An unacceptable value has been specified for an enumerated argument.";case e.INVALID_VALUE:return"Invalid Value. A numeric argument is out of range.";case e.INVALID_OPERATION:return"Invalid Operation. The specified command is not allowed for the current state.";case e.INVALID_FRAMEBUFFER_OPERATION:return"Invalid Framebuffer operation. The currently bound framebuffer is not framebuffer complete when trying to render to or to read from it.";case e.OUT_OF_MEMORY:return"Out of memory. Not enough memory is left to execute the command.";case e.CONTEXT_LOST_WEBGL:return"WebGL context has been lost";default:return"Unknown error"}}const kK=!!H("enable-feature:webgl-debug");function AK(){return kK}function pqe(){return kK}function Pp(e){if(AK()){const t=e.getError();if(t){const n=pOe(e,t),i=new Error().stack;hOe().error(new B("webgl-error","WebGL error occurred",{message:n,stack:i}))}}}var bA;(function(e){e[e.Texture=0]="Texture",e[e.RenderBuffer=1]="RenderBuffer"})(bA||(bA={}));function fOe(e){switch(e){case va.BYTE:case va.UNSIGNED_BYTE:return 1;case va.SHORT:case va.UNSIGNED_SHORT:case va.HALF_FLOAT:return 2;case va.FLOAT:case va.INT:case va.UNSIGNED_INT:return 4}}function mOe(e){const t=e.gl;switch(t.getError()){case t.NO_ERROR:return null;case t.INVALID_ENUM:return"An unacceptable value has been specified for an enumerated argument";case t.INVALID_VALUE:return"An unacceptable value has been specified for an argument";case t.INVALID_OPERATION:return"The specified command is not allowed for the current state";case t.INVALID_FRAMEBUFFER_OPERATION:return"The currently bound framebuffer is not framebuffer complete";case t.OUT_OF_MEMORY:return"Not enough memory is left to execute the command";case t.CONTEXT_LOST_WEBGL:return"WebGL context is lost"}return"Unknown error"}function fqe(e,t,n,i,r=0){const s=e.gl;e.bindBuffer(n);for(const o of i){const a=t.get(o.name);if(a==null){console.warn(`There is no location for vertex attribute '${o.name}' defined.`);continue}const l=r*o.stride;if(o.count<=4)s.vertexAttribPointer(a,o.count,o.type,o.normalized,o.stride,o.offset+l),s.enableVertexAttribArray(a),o.divisor>0&&e.gl.vertexAttribDivisor(a,o.divisor);else if(o.count===9)for(let c=0;c<3;c++)s.vertexAttribPointer(a+c,3,o.type,o.normalized,o.stride,o.offset+12*c+l),s.enableVertexAttribArray(a+c),o.divisor>0&&e.gl.vertexAttribDivisor(a+c,o.divisor);else if(o.count===16)for(let c=0;c<4;c++)s.vertexAttribPointer(a+c,4,o.type,o.normalized,o.stride,o.offset+16*c+l),s.enableVertexAttribArray(a+c),o.divisor>0&&e.gl?.vertexAttribDivisor(a+c,o.divisor);else console.error("Unsupported vertex attribute element count: "+o.count);if(AK()){const c=mOe(e),h=fOe(o.type),p=o.offset,m=Math.round(h/p)!==h/p?`. Offset not a multiple of stride. DataType requires ${h} bytes, but descriptor has an offset of ${p}`:"";c&&console.error(`Unable to bind vertex attribute "${o.name}" with baseInstanceOffset ${l}${m}:`,c,o)}}}function mqe(e,t,n,i){const r=e.gl;e.bindBuffer(n);for(const s of i){const o=t.get(s.name);if(s.count<=4)r.disableVertexAttribArray(o),s.divisor&&s.divisor>0&&e.gl?.vertexAttribDivisor(o,0);else if(s.count===9)for(let a=0;a<3;a++)r.disableVertexAttribArray(o+a),s.divisor&&s.divisor>0&&e.gl?.vertexAttribDivisor(o+a,0);else if(s.count===16)for(let a=0;a<4;a++)r.disableVertexAttribArray(o+a),s.divisor&&s.divisor>0&&e.gl?.vertexAttribDivisor(o+a,0);else console.error("Unsupported vertex attribute element count: "+s.count)}e.unbindBuffer(gA.ARRAY_BUFFER)}function yOe(e){switch(e){case Zt.ALPHA:case Zt.LUMINANCE:case Zt.RED:case Zt.RED_INTEGER:case Re.R8:case Re.R8I:case Re.R8UI:case Re.R8_SNORM:case wl.STENCIL_INDEX8:return 1;case Zt.LUMINANCE_ALPHA:case Zt.RG:case Zt.RG_INTEGER:case Re.RGBA4:case Re.R16F:case Re.R16I:case Re.R16UI:case Re.RG8:case Re.RG8I:case Re.RG8UI:case Re.RG8_SNORM:case Re.RGB565:case Re.RGB5_A1:case wl.DEPTH_COMPONENT16:return 2;case Zt.DEPTH_COMPONENT:case Zt.RGB:case Zt.RGB_INTEGER:case Re.RGB8:case Re.RGB8I:case Re.RGB8UI:case Re.RGB8_SNORM:case Re.SRGB8:case wl.DEPTH_COMPONENT24:return 3;case Zt.DEPTH_STENCIL:case Zt.DEPTH24_STENCIL8:case Zt.RGBA:case Zt.RGBA_INTEGER:case Re.RGBA8:case Re.R32F:case Re.R11F_G11F_B10F:case Re.RG16F:case Re.R32I:case Re.R32UI:case Re.RG16I:case Re.RG16UI:case Re.RGBA8I:case Re.RGBA8UI:case Re.RGBA8_SNORM:case Re.SRGB8_ALPHA8:case Re.RGB9_E5:case Re.RGB10_A2UI:case Re.RGB10_A2:case wl.DEPTH_STENCIL:case wl.DEPTH_COMPONENT32F:case wl.DEPTH24_STENCIL8:return 4;case wl.DEPTH32F_STENCIL8:return 5;case Re.RGB16F:case Re.RGB16I:case Re.RGB16UI:return 6;case Re.RG32F:case Re.RG32I:case Re.RG32UI:case Re.RGBA16F:case Re.RGBA16I:case Re.RGBA16UI:return 8;case Re.RGB32F:case Re.RGB32I:case Re.RGB32UI:return 12;case Re.RGBA32F:case Re.RGBA32I:case Re.RGBA32UI:return 16;case vi.COMPRESSED_RGB_S3TC_DXT1_EXT:case vi.COMPRESSED_RGBA_S3TC_DXT1_EXT:return .5;case vi.COMPRESSED_RGBA_S3TC_DXT3_EXT:case vi.COMPRESSED_RGBA_S3TC_DXT5_EXT:return 1;case vi.COMPRESSED_R11_EAC:case vi.COMPRESSED_SIGNED_R11_EAC:case vi.COMPRESSED_RGB8_ETC2:case vi.COMPRESSED_SRGB8_ETC2:case vi.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:case vi.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:return .5;case vi.COMPRESSED_RG11_EAC:case vi.COMPRESSED_SIGNED_RG11_EAC:case vi.COMPRESSED_RGBA8_ETC2_EAC:case vi.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:return 1}return 0}let PK=class{constructor(t=0,n=t){this.width=t,this.height=n,this.target=Gs.TEXTURE_2D,this.pixelFormat=Zt.RGBA,this.dataType=M0.UNSIGNED_BYTE,this.samplingMode=si.LINEAR,this.wrapMode=GS.REPEAT,this.maxAnisotropy=1,this.flipped=!1,this.hasMipmap=!1,this.isOpaque=!1,this.unpackAlignment=4,this.preMultiplyAlpha=!1,this.shouldCompress=!1,this.depth=1,this.isImmutable=!1}};function gOe(e){return e.width<=0||e.height<=0?0:Math.round(e.width*e.height*e.depth*(e.hasMipmap?4/3:1)*(e.internalFormat==null?4:yOe(e.internalFormat))*(e.target===Gs.TEXTURE_CUBE_MAP?6:1))}const vOe=()=>re.getLogger("esri/views/webgl/textureUtils");function Uw(e){(e.width!=null&&e.width<0||e.height!=null&&e.height<0||e.depth!=null&&e.depth<0)&&vOe().error("Negative dimension parameters are not allowed!")}function bOe(e){return e in Re}function wOe(e){return e in vi}function $f(e){return e!=null&&"type"in e&&e.type==="compressed"}function _Oe(e){return e!=null&&"byteLength"in e}function Z6(e){return e!=null&&!$f(e)&&!_Oe(e)}function Lp(e){return e===Gs.TEXTURE_3D||e===Gs.TEXTURE_2D_ARRAY}function Y6(e,t,n,i=1){let r=Math.max(t,n);return e===Gs.TEXTURE_3D&&(r=Math.max(r,i)),Math.floor(Math.log2(r))+1}function Gw(e){if(e.internalFormat!=null)return e.internalFormat===Zt.DEPTH_STENCIL?Zt.DEPTH24_STENCIL8:e.internalFormat;switch(e.dataType){case M0.FLOAT:switch(e.pixelFormat){case Zt.RGBA:return Re.RGBA32F;case Zt.RGB:return Re.RGB32F;default:throw new B("Unable to derive format")}case M0.UNSIGNED_BYTE:switch(e.pixelFormat){case Zt.RGBA:return Re.RGBA8;case Zt.RGB:return Re.RGB8}}return e.internalFormat=e.pixelFormat===Zt.DEPTH_STENCIL?Zt.DEPTH24_STENCIL8:e.pixelFormat}function SOe(e){let t="width"in e?e.width:e.codedWidth,n="height"in e?e.height:e.codedHeight;return e instanceof HTMLVideoElement&&(t=e.videoWidth,n=e.videoHeight),{width:t,height:n,depth:1}}let xOe=class LK extends PK{constructor(t,n){switch(super(),this.context=t,Object.assign(this,n),this.internalFormat){case Re.R16F:case Re.R16I:case Re.R16UI:case Re.R32F:case Re.R32I:case Re.R32UI:case Re.R8_SNORM:case Re.R8:case Re.R8I:case Re.R8UI:this.pixelFormat=Zt.RED}}static validate(t,n){return new LK(t,n)}};const su=()=>re.getLogger("esri/views/webgl/Texture");let wA=class fr{constructor(t,n=null,i=null){if(this.type=bA.Texture,this._glName=null,this._samplingModeDirty=!1,this._wrapModeDirty=!1,this._wasImmutablyAllocated=!1,this._compressionAbortController=Dm(null),"context"in t)this._descriptor=t,i=n;else{const r=xOe.validate(t,n);if(!r)throw new B("Texture descriptor invalid");this._descriptor=r}this._descriptor.target===Gs.TEXTURE_CUBE_MAP?this._setDataCubeMap(i):this.setData(i)}get glName(){return this._glName}get descriptor(){return this._descriptor}get usedMemory(){return gOe(this._descriptor)}get cachedMemory(){return this.usedMemory}get isDirty(){return this._samplingModeDirty||this._wrapModeDirty}get isCompressing(){return this._compressionAbortController.value!==null}dispose(){this.abortCompression(),this._glName&&this._descriptor.context.instanceCounter.decrement(HS.Texture,this),this._descriptor.context.gl&&this._glName&&(this._descriptor.context.unbindTexture(this),this._descriptor.context.gl.deleteTexture(this._glName),this._glName=null)}release(){this.dispose()}resize(t,n){const i=this._descriptor;if(i.width!==t||i.height!==n){if(this._wasImmutablyAllocated)throw new B("Immutable textures can't be resized!");i.width=t,i.height=n,this._descriptor.target===Gs.TEXTURE_CUBE_MAP?this._setDataCubeMap(null):this.setData(null)}}enableCompression(t){this._descriptor.shouldCompress=t}setData(t){this.abortCompression(),!$f(t)&&this._descriptor.internalFormat&&this._descriptor.internalFormat in vi&&(this._descriptor.internalFormat=void 0),this._setData(t),!$f(t)&&this._descriptor.shouldCompress&&this._compressOnWorker(t)}updateData(t,n,i,r,s,o,a=0){o||su().error("An attempt to use uninitialized data!"),this._glName||su().error("An attempt to update uninitialized texture!");const l=this._descriptor;l.internalFormat=Gw(l);const{context:c,pixelFormat:h,dataType:p,target:m,isImmutable:y}=l;if(y&&!this._wasImmutablyAllocated)throw new B("Cannot update immutable texture before allocation!");const g=c.bindTexture(this,fr.TEXTURE_UNIT_FOR_UPDATES,!0);(n<0||i<0||n+r>l.width||i+s>l.height)&&su().error("An attempt to update out of bounds of the texture!"),this._configurePixelStorage();const{gl:v}=c;a&&(r&&s||su().warn("Must pass width and height if `UNPACK_SKIP_ROWS` is used"),v.pixelStorei(v.UNPACK_SKIP_ROWS,a)),Z6(o)?v.texSubImage2D(m,t,n,i,r,s,h,p,o):$f(o)?v.compressedTexSubImage2D(m,t,n,i,r,s,l.internalFormat,o.levels[t]):v.texSubImage2D(m,t,n,i,r,s,h,p,o),a&&v.pixelStorei(v.UNPACK_SKIP_ROWS,0),c.bindTexture(g,fr.TEXTURE_UNIT_FOR_UPDATES)}updateData3D(t,n,i,r,s,o,a,l){l||su().error("An attempt to use uninitialized data!"),this._glName||su().error("An attempt to update an uninitialized texture!");const c=this._descriptor;c.internalFormat=Gw(c);const{context:h,pixelFormat:p,dataType:m,isImmutable:y,target:g}=c;if(y&&!this._wasImmutablyAllocated)throw new B("Cannot update immutable texture before allocation!");Lp(g)||su().warn("Attempting to set 3D texture data on a non-3D texture");const v=h.bindTexture(this,fr.TEXTURE_UNIT_FOR_UPDATES);h.setActiveTexture(fr.TEXTURE_UNIT_FOR_UPDATES),(n<0||i<0||r<0||n+s>c.width||i+o>c.height||r+a>c.depth)&&su().error("An attempt to update out of bounds of the texture!"),this._configurePixelStorage();const{gl:b}=h;if($f(l))l=l.levels[t],b.compressedTexSubImage3D(g,t,n,i,r,s,o,a,c.internalFormat,l);else{const w=l;b.texSubImage3D(g,t,n,i,r,s,o,a,p,m,w)}h.bindTexture(v,fr.TEXTURE_UNIT_FOR_UPDATES)}generateMipmap(){const t=this._descriptor;if(t.width===0||t.height===0)return;if(!t.hasMipmap){if(this._wasImmutablyAllocated)throw new B("Cannot add mipmaps to immutable texture after allocation");t.hasMipmap=!0,this._samplingModeDirty=!0,Uw(t)}t.samplingMode===si.LINEAR?(this._samplingModeDirty=!0,t.samplingMode=si.LINEAR_MIPMAP_NEAREST):t.samplingMode===si.NEAREST&&(this._samplingModeDirty=!0,t.samplingMode=si.NEAREST_MIPMAP_NEAREST);const n=this._descriptor.context.bindTexture(this,fr.TEXTURE_UNIT_FOR_UPDATES);this._descriptor.context.setActiveTexture(fr.TEXTURE_UNIT_FOR_UPDATES),this._descriptor.context.gl.generateMipmap(t.target),this._descriptor.context.bindTexture(n,fr.TEXTURE_UNIT_FOR_UPDATES)}clearMipmap(){const t=this._descriptor;if(t.hasMipmap){if(this._wasImmutablyAllocated)throw new B("Cannot delete mipmaps to immutable texture after allocation");t.hasMipmap=!1,this._samplingModeDirty=!0,Uw(t)}t.samplingMode===si.LINEAR_MIPMAP_NEAREST?(this._samplingModeDirty=!0,t.samplingMode=si.LINEAR):t.samplingMode===si.NEAREST_MIPMAP_NEAREST&&(this._samplingModeDirty=!0,t.samplingMode=si.NEAREST)}setSamplingMode(t){t!==this._descriptor.samplingMode&&(this._descriptor.samplingMode=t,this._samplingModeDirty=!0)}setWrapMode(t){t!==this._descriptor.wrapMode&&(this._descriptor.wrapMode=t,Uw(this._descriptor),this._wrapModeDirty=!0)}applyChanges(){this._samplingModeDirty&&(this._applySamplingMode(),this._samplingModeDirty=!1),this._wrapModeDirty&&(this._applyWrapMode(),this._wrapModeDirty=!1)}abortCompression(){this.isCompressing&&(this._compressionAbortController.value=bm(this._compressionAbortController.value))}_setData(t,n){const i=this._descriptor,r=i.context?.gl;if(!r)return;Pp(r),this._glName||(this._glName=r.createTexture(),this._glName&&i.context.instanceCounter.increment(HS.Texture,this)),Uw(i);const s=i.context.bindTexture(this,fr.TEXTURE_UNIT_FOR_UPDATES);i.context.setActiveTexture(fr.TEXTURE_UNIT_FOR_UPDATES),this._configurePixelStorage(),Pp(r);const o=n??i.target,a=Lp(o);if(Z6(t))this._setDataFromTexImageSource(t,o);else{const{width:l,height:c,depth:h}=i;if(l==null||c==null)throw new B("Width and height must be specified!");if(a&&h==null)throw new B("Depth must be specified!");if(i.internalFormat=Gw(i),i.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(o,i.internalFormat,i.hasMipmap,l,c,h),$f(t)){if(!wOe(i.internalFormat))throw new B("Attempting to use compressed data with an uncompressed format!");this._setDataFromCompressedSource(t,i.internalFormat,o)}else this._texImage(o,0,i.internalFormat,l,c,h,t),Pp(r),i.hasMipmap&&this.generateMipmap()}this._applySamplingMode(),this._applyWrapMode(),this._applyAnisotropicFilteringParameters(),Pp(r),i.context.bindTexture(s,fr.TEXTURE_UNIT_FOR_UPDATES)}_setDataCubeMap(t=null){for(let n=Gs.TEXTURE_CUBE_MAP_POSITIVE_X;n<=Gs.TEXTURE_CUBE_MAP_NEGATIVE_Z;n++)this._setData(t,n)}_configurePixelStorage(){const t=this._descriptor.context.gl,{unpackAlignment:n,flipped:i,preMultiplyAlpha:r}=this._descriptor;t.pixelStorei(t.UNPACK_ALIGNMENT,n),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,i?1:0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r?1:0)}_setDataFromTexImageSource(t,n){const{gl:i}=this._descriptor.context,r=this._descriptor;r.internalFormat=Gw(r);const s=Lp(n),{width:o,height:a,depth:l}=SOe(t);r.width&&r.height,r.width||(r.width=o),r.height||(r.height=a),s&&r.depth,s&&(r.depth=l),r.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(n,r.internalFormat,r.hasMipmap,o,a,l),this._texImage(n,0,r.internalFormat,o,a,l,t),Pp(i),r.hasMipmap&&(this.generateMipmap(),Pp(i))}_setDataFromCompressedSource(t,n,i){const r=this._descriptor,{width:s,height:o,depth:a}=r,l=t.levels,c=Y6(i,s,o,a),h=Math.min(c,l.length)-1;this._descriptor.context.gl.texParameteri(r.target,r.context.gl.TEXTURE_MAX_LEVEL,h),this._forEachMipmapLevel((p,m,y,g)=>{const v=l[Math.min(p,l.length-1)];this._compressedTexImage(i,p,n,m,y,g,v)},h)}_texStorage(t,n,i,r,s,o){const{gl:a}=this._descriptor.context;if(!bOe(n))throw new B("Immutable textures must have a sized internal format");if(!this._descriptor.isImmutable)return;const l=i?Y6(t,r,s,o):1;if(Lp(t)){if(o==null)throw new B("Missing depth dimension for 3D texture upload");a.texStorage3D(t,l,n,r,s,o)}else a.texStorage2D(t,l,n,r,s);this._wasImmutablyAllocated=!0}_texImage(t,n,i,r,s,o,a){const l=this._descriptor.context.gl,c=Lp(t),{isImmutable:h,pixelFormat:p,dataType:m}=this._descriptor;if(h){if(a!=null){const y=a;if(c){if(o==null)throw new B("Missing depth dimension for 3D texture upload");l.texSubImage3D(t,n,0,0,0,r,s,o,p,m,y)}else l.texSubImage2D(t,n,0,0,r,s,p,m,y)}}else{const y=a;if(c){if(o==null)throw new B("Missing depth dimension for 3D texture upload");l.texImage3D(t,n,i,r,s,o,0,p,m,y)}else l.texImage2D(t,n,i,r,s,0,p,m,y)}}_compressedTexImage(t,n,i,r,s,o,a){const l=this._descriptor.context.gl,c=Lp(t);if(this._descriptor.isImmutable){if(a!=null)if(c){if(o==null)throw new B("Missing depth dimension for 3D texture upload");l.compressedTexSubImage3D(t,n,0,0,0,r,s,o,i,a)}else l.compressedTexSubImage2D(t,n,0,0,r,s,i,a)}else if(c){if(o==null)throw new B("Missing depth dimension for 3D texture upload");l.compressedTexImage3D(t,n,i,r,s,o,0,a)}else l.compressedTexImage2D(t,n,i,r,s,0,a)}async _compressOnWorker(t){if(!fr.compressionWorkerHandle||!fr.compressionWorkerHandle.isCompressible(t))return;const n=this._descriptor.context?.gl.getExtension("WEBGL_compressed_texture_etc"),i=this._descriptor.context?.gl.getExtension("WEBGL_compressed_texture_s3tc");if(n||i){const r=new AbortController;this._compressionAbortController.value=r;const s={data:await createImageBitmap(t),flipped:this.descriptor.flipped,width:t.width,height:t.height,hasMipmap:this._descriptor.hasMipmap,hasETC:!!n,hasS3TC:!!i};fr.compressionWorkerHandle.invoke(s,this._compressionAbortController.value.signal).then(o=>{o&&this.isCompressing&&this.glName&&(this._descriptor.internalFormat=o.internalFormat,this._setData(o.compressedTexture)),r===this._compressionAbortController.value&&(this._compressionAbortController.value=null)}).catch(o=>{ur(o)||r!==this._compressionAbortController.value||(this._compressionAbortController.value=null)})}}_forEachMipmapLevel(t,n=1/0){let{width:i,height:r,depth:s,hasMipmap:o,target:a}=this._descriptor;const l=a===Gs.TEXTURE_3D;if(i==null||r==null||l&&s==null)throw new B("Missing texture dimensions for mipmap calculation");for(let c=0;t(c,i,r,s),o&&(i!==1||r!==1||l&&s!==1)&&!(c>=n);++c)i=Math.max(1,i>>1),r=Math.max(1,r>>1),l&&(s=Math.max(1,s>>1))}_applySamplingMode(){const t=this._descriptor,n=t.context?.gl;let i=t.samplingMode,r=t.samplingMode;i===si.LINEAR_MIPMAP_NEAREST||i===si.LINEAR_MIPMAP_LINEAR?(i=si.LINEAR,t.hasMipmap||(r=si.LINEAR)):i!==si.NEAREST_MIPMAP_NEAREST&&i!==si.NEAREST_MIPMAP_LINEAR||(i=si.NEAREST,t.hasMipmap||(r=si.NEAREST)),n.texParameteri(t.target,n.TEXTURE_MAG_FILTER,i),n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,r)}_applyWrapMode(){const t=this._descriptor,n=t.context?.gl;typeof t.wrapMode=="number"?(n.texParameteri(t.target,n.TEXTURE_WRAP_S,t.wrapMode),n.texParameteri(t.target,n.TEXTURE_WRAP_T,t.wrapMode)):(n.texParameteri(t.target,n.TEXTURE_WRAP_S,t.wrapMode.s),n.texParameteri(t.target,n.TEXTURE_WRAP_T,t.wrapMode.t))}_applyAnisotropicFilteringParameters(){const t=this._descriptor,n=t.context.capabilities.textureFilterAnisotropic;n&&t.context.gl.texParameterf(t.target,n.TEXTURE_MAX_ANISOTROPY,t.maxAnisotropy??1)}};wA.TEXTURE_UNIT_FOR_UPDATES=0,wA.compressionWorkerHandle=null;const qT=()=>re.getLogger("esri.views.2d.engine.webgl.painter.highlight.HighlightGradient");function $Oe(e,t){t.fillColor[0]=e.color.r/255,t.fillColor[1]=e.color.g/255,t.fillColor[2]=e.color.b/255,t.fillColor[3]=e.color.a,e.haloColor?(t.outlineColor[0]=e.haloColor.r/255,t.outlineColor[1]=e.haloColor.g/255,t.outlineColor[2]=e.haloColor.b/255,t.outlineColor[3]=e.haloColor.a):(t.outlineColor[0]=t.fillColor[0],t.outlineColor[1]=t.fillColor[1],t.outlineColor[2]=t.fillColor[2],t.outlineColor[3]=t.fillColor[3]),t.fillColor[3]*=e.fillOpacity,t.outlineColor[3]*=e.haloOpacity,t.fillColor[0]*=t.fillColor[3],t.fillColor[1]*=t.fillColor[3],t.fillColor[2]*=t.fillColor[3],t.outlineColor[0]*=t.outlineColor[3],t.outlineColor[1]*=t.outlineColor[3],t.outlineColor[2]*=t.outlineColor[3],t.outlineWidth=(1-e.haloBlur)*e.haloWidth,t.outerHaloWidth=e.haloBlur*e.haloWidth/2,t.innerHaloWidth=e.haloBlur*e.haloWidth/2,t.outlinePosition=0}const TOe=[0,0,0,0];let OK=class{constructor(){this.type="single",this._highlightOptions=new ac,this._convertedHighlightOptions={fillColor:[0,0,0,0],outlineColor:[0,0,0,0],outlinePosition:0,outlineWidth:0,innerHaloWidth:0,outerHaloWidth:0},this._optionsShadeTexKey="",this._texelData=new Uint8Array(4*By),this._minMaxDistance=[0,0]}setHighlightOptions(t){this._highlightOptions=t}applyHighlightOptions(t,n){this._updateGradientTexture(t),t.bindTexture(this._shadeTex,aOe),n.setUniform2fv("u_minMaxDistance",this._minMaxDistance)}destroy(){this._shadeTex?.dispose(),this._shadeTex=null}getReasonsWithGradients(){return[{activeReasons:(1<<MK)-1,activeGradient:this}]}_updateGradientTexture(t){const n=EOe(this._highlightOptions);if(n===this._optionsShadeTexKey)return;this._optionsShadeTexKey=n,$Oe(this._highlightOptions,this._convertedHighlightOptions);const i=this._convertedHighlightOptions,r=i.outlinePosition-i.outlineWidth/2-i.outerHaloWidth,s=i.outlinePosition-i.outlineWidth/2,o=i.outlinePosition+i.outlineWidth/2,a=i.outlinePosition+i.outlineWidth/2+i.innerHaloWidth,l=Math.sqrt(Math.PI/2)*dOe,c=Math.abs(r)>l?Math.round(10*(Math.abs(r)-l))/10:0,h=Math.abs(a)>l?Math.round(10*(Math.abs(a)-l))/10:0;let p;c&&!h?qT().error("The outer rim of the highlight is "+c+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards positive values (inwards)."):!c&&h?qT().error("The inner rim of the highlight is "+h+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards negative values (outwards)."):c&&h&&qT().error("The highlight is "+Math.max(c,h)+"px away from the edge of the feature; consider reducing some width values.");const m=[void 0,void 0,void 0,void 0];function y(v,b,w){m[0]=(1-w)*v[0]+w*b[0],m[1]=(1-w)*v[1]+w*b[1],m[2]=(1-w)*v[2]+w*b[2],m[3]=(1-w)*v[3]+w*b[3]}const{_texelData:g}=this;for(let v=0;v<By;++v)p=r+v/(By-1)*(a-r),p<r?(m[0]=0,m[1]=0,m[2]=0,m[3]=0):p<s?y(TOe,i.outlineColor,(p-r)/(s-r)):p<o?[m[0],m[1],m[2],m[3]]=i.outlineColor:p<a?y(i.outlineColor,i.fillColor,(p-o)/(a-o)):[m[0],m[1],m[2],m[3]]=i.fillColor,g[4*v]=255*m[0],g[4*v+1]=255*m[1],g[4*v+2]=255*m[2],g[4*v+3]=255*m[3];if(this._minMaxDistance[0]=r,this._minMaxDistance[1]=a,!this._shadeTex){const v=new PK;v.wrapMode=GS.CLAMP_TO_EDGE,v.width=By,v.height=1,this._shadeTex=new wA(t,v)}this._shadeTex.updateData(0,0,0,By,1,this._texelData)}};function EOe(e){return`${e.color};${e.haloColor};${e.haloOpacity};${e.fillOpacity};${e.haloWidth};${e.haloBlur}`}let IOe=class{constructor(){this.type="multi",this.gradients=[]}setHighlightOptions(t){for(let n=0;n<t.length;n++)this.gradients[n]||(this.gradients[n]=new OK),this.gradients[n].setHighlightOptions(t[n]);for(let n=t.length+1;n<this.gradients.length;n++)this.gradients[n].destroy();this.gradients.length=t.length}destroy(){for(const t of this.gradients)t.destroy()}getReasonsWithGradients(){let t=1;const n=[];for(let i=0;i<this.gradients.length;i++){const r=this.gradients[i];n.push({activeReasons:t,activeGradient:r}),t<<=1}return n}};var J6,K6,X6,Q6,ej,tj,qS,nj,ij;(function(e){e[e.FILL=0]="FILL",e[e.LINE=1]="LINE",e[e.MARKER=2]="MARKER",e[e.TEXT=3]="TEXT",e[e.LABEL=4]="LABEL"})(J6||(J6={})),function(e){e[e.NONE=0]="NONE",e[e.MAP=1]="MAP",e[e.LABEL=2]="LABEL",e[e.LABEL_ALPHA=4]="LABEL_ALPHA",e[e.HITTEST=8]="HITTEST",e[e.HIGHLIGHT=16]="HIGHLIGHT",e[e.CLIP=32]="CLIP",e[e.DEBUG=64]="DEBUG",e[e.NUM_DRAW_PHASES=9]="NUM_DRAW_PHASES"}(K6||(K6={})),function(e){e[e.SIZE=0]="SIZE",e[e.COLOR=1]="COLOR",e[e.OPACITY=2]="OPACITY",e[e.ROTATION=3]="ROTATION"}(X6||(X6={})),function(e){e[e.MINMAX_TARGETS_OUTLINE=128]="MINMAX_TARGETS_OUTLINE",e[e.SCALE_TARGETS_OUTLINE=256]="SCALE_TARGETS_OUTLINE",e[e.FIELD_TARGETS_OUTLINE=512]="FIELD_TARGETS_OUTLINE",e[e.UNIT_TARGETS_OUTLINE=1024]="UNIT_TARGETS_OUTLINE"}(Q6||(Q6={})),function(e){e[e.SPRITE=0]="SPRITE",e[e.GLYPH=1]="GLYPH"}(ej||(ej={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.SIMPLE=1]="SIMPLE",e[e.DOT_DENSITY=2]="DOT_DENSITY",e[e.OUTLINE_FILL=3]="OUTLINE_FILL",e[e.OUTLINE_FILL_SIMPLE=4]="OUTLINE_FILL_SIMPLE",e[e.HEATMAP=5]="HEATMAP",e[e.PIE_CHART=6]="PIE_CHART"}(tj||(tj={})),function(e){e[e.All=0]="All",e[e.Highlight=1]="Highlight",e[e.InsideEffect=2]="InsideEffect",e[e.OutsideEffect=3]="OutsideEffect"}(qS||(qS={})),function(e){e[e.BATCHING=0]="BATCHING",e[e.STRICT_ORDER=1]="STRICT_ORDER",e[e.STRICT_MARKERS_AND_TEXT=2]="STRICT_MARKERS_AND_TEXT"}(nj||(nj={})),function(e){e[e.FILL=0]="FILL",e[e.LINE=1]="LINE",e[e.MARKER=2]="MARKER",e[e.TEXT=3]="TEXT"}(ij||(ij={}));const RK={color:{write:[!0,!0,!0,!0],blendMode:"composite"},depth:!1,stencil:{write:!1,test:{ref:e=>e.stencilRef,compare:vA.EQUAL,mask:255,op:{fail:Nv.KEEP,zFail:Nv.KEEP,zPass:Nv.REPLACE}}}},COe={color:{write:[!0,!0,!0,!0],blendMode:"additive"},depth:!1,stencil:!1},MOe={...RK,color:{write:[!0,!0,!0,!0],blendMode:"delete"}};function kOe({pixelRatio:e,state:t,displayLevel:n,requiredLevel:i},r){const s=1/2**(n-r.key.level),o=1/2**(i-r.key.level);return{displayMat3:t.displayMat3,displayViewMat3:t.displayViewMat3,displayViewScreenMat3:r.transforms.displayViewScreenMat3,viewMat3:t.viewMat3,tileMat3:r.transforms.tileMat3,displayZoomFactor:s,requiredZoomFactor:o,tileOffset:[r.x,r.y],currentScale:t.scale,currentZoom:n,metersPerSRUnit:no(t.spatialReference),rotation:t.rotation,pixelRatio:e}}function NK(e){return e.passOptions?.type==="highlight"}function DK(e){return e.passOptions?.type==="hittest"}function AOe(e){if(!DK(e))return null;const{position:t,distance:n,smallSymbolDistance:i,smallSymbolSizeThreshold:r}=e.passOptions;return{position:t,distance:n,smallSymbolDistance:i,smallSymbolSizeThreshold:r}}function POe(e){if(!NK(e))return null;const{activeReasons:t,highlightAll:n}=e.passOptions;return{activeReasons:t,highlightAll:n?1:0}}function bqe(e,t,n){const i={};for(const r in n)n[r]instanceof Function?i[r]=n[r](e,t):i[r]=n[r];return i}function wqe(e,t){const{attributeView:n,context:i}=e;return{storage:n.getUniforms(i),view:kOe(e,t),hittestRequest:AOe(e),highlight:POe(e)}}function _qe(e){return{inside:e.selection===qS.InsideEffect,outside:e.selection===qS.OutsideEffect}}function LOe(e){return DK(e)?COe:NK(e)&&e.passOptions.stepType==="clear"?MOe:RK}function Sqe(e){const{row:t,col:n}=e.key,i=n*M6,r=t*M6;return{tileOffsetFromLocalOrigin:[i%Bw,r%Bw],maxIntsToLocalOrigin:[Math.floor(i/Bw),Math.floor(r/Bw)]}}const OOe=new at({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch",mesh:"mesh"});function xqe(e){return OOe.toJSON(e)}function $qe(e){const{bandCount:t,attributeTable:n,colormap:i,pixelType:r}=e.raster.rasterInfo;return t===1&&(n!=null||i!=null||r==="u8"||r==="s8")}function ROe(e,t){return t==null?(e?.destroy(),null):(e?.type==="single"&&Array.isArray(t)&&(e.destroy(),e=null),e?.type!=="multi"||Array.isArray(t)||(e.destroy(),e=null),e||(e=Array.isArray(t)?new IOe:new OK),Array.isArray(t)?e.type==="multi"&&e.setHighlightOptions(t):e.type==="single"&&e.setHighlightOptions(t),e)}function Tqe(e,t,n,i){const{painter:r,highlightGradient:s}=e,{highlight:o}=r.effects;if(!s)return;const a=e.passOptions,l=s.getReasonsWithGradients();for(let c=0;c<l.length;c++){const h={...e,passOptions:{type:"highlight",activeGradient:l[c].activeGradient,activeReasons:l[c].activeReasons,stepType:"burn",highlightAll:t}};if(o.bind(h),n(h),c<l.length-1){let m=0;for(let y=c+1;y<l.length;y++)m|=l[y].activeReasons;n({...e,passOptions:{type:"highlight",activeGradient:l[c].activeGradient,activeReasons:m,stepType:"clear",highlightAll:t}})}const p={...e,passOptions:{type:"highlight",activeGradient:l[c].activeGradient,activeReasons:l[c].activeReasons,stepType:"draw",highlightAll:t}};r.setPipelineState(LOe(e)),r.updatePipelineState(e.context),o.draw(p),o.unbind()}e.passOptions=a}function Eqe(e){if(!e)return[];let t=zhe(e)?[e]:we.isCollection(e)?e.toArray():Array.isArray(e)?e:[];return t=t?.filter(Ji),(t?.length??0)===0?[]:t}const Hw=e=>parseFloat(e)/100;function NOe(e,t,n){const i=typeof e.left=="string"?Hw(e.left)*t:e.left,r=typeof e.right=="string"?Hw(e.right)*t:e.right,s=typeof e.top=="string"?Hw(e.top)*n:e.top,o=typeof e.bottom=="string"?Hw(e.bottom)*n:e.bottom,a=s;return{xmin:i,xmax:Math.max(t-r,i),ymin:a,ymax:Math.max(n-o,s)}}function VK(e,t,n,i){switch(t.type){case"rect":{const{width:r,height:s}=e,{xmin:o,xmax:a,ymin:l,ymax:c}=NOe(t,r,s),{x:h,y:p}=n;return h>o&&h<a&&p>l&&p<c}case"path":return t.path.length===0||!Array.isArray(t.path[0][0])||ZL(t.path,[n.x,n.y]);case"geometry":return t.geometry==null||(t.geometry.type==="polygon"?WL(t.geometry,i):fb(t.geometry,i))}}function DOe(e){if(!e.highlights)return null;const t=e.highlights.findIndex(n=>n.name==="default");return t===-1?null:e.highlights.items[t]}function VOe(e,t){if(!e.highlights){if(!t)return;e.highlights=new we([new ac])}const n=e.highlights.findIndex(i=>i.name==="default");t?e.highlights.items[n].assignFrom(t):(e.highlights.removeAt(n),e.highlights.length===0&&(e.highlights=null))}async function FOe(e,t,n){const i=aJ(t)?oJ(e,t):t;if(!e.ready||isNaN(i.x)||isNaN(i.y))return{screenPoint:i,results:[]};let r=new Set;const s=new Set;let o=!1,a=null,l=null;n?.include?sj(n.include,rj(e,m=>{r.add(m),WT(m,y=>s.add(y))},(m,y)=>{s.add(m),r.add(y)},m=>{a||(a=new Set),a.add(m)},m=>r.add(m),()=>o=!0)):(o=!0,r=new Set(e.allLayerViews),r.forEach(m=>{WT(m,y=>s.add(y))})),n?.exclude&&sj(n.exclude,rj(e,m=>{r.delete(m),WT(m,y=>s.delete(y))},m=>s.delete(m),m=>{l||(l=new Set),l.add(m)}));const c=e.toMap(i),h=e.allLayerViews.filter(m=>!m.suspended&&r.has(m)&&m.clips.every(y=>VK(e,y,i,c))).reverse();let p=[...o?e.graphicsView.hitTest(c).map(m=>({type:"graphic",graphic:m,layer:null,mapPoint:c})):[],...await Promise.all(h.map(m=>m.hitTest(c,i)).toArray())].filter(Ji).flat().filter(Ji);return p=p.filter(m=>m.type!=="graphic"||m.layer?.type!=="subtype-group"||s.has(m.graphic.layer)),a&&(p=p.filter(m=>!("graphic"in m)||!m.graphic||a?.has(_A(m.graphic)))),l&&(p=p.filter(m=>!("graphic"in m)||!m.graphic||!l?.has(_A(m.graphic)))),{screenPoint:i,results:p}}function rj(e,t,n,i,r,s){return o=>{if(o instanceof gc){if(o.layer===e)s?.();else{const a=e.allLayerViews.find(l=>l.layer===o.layer);a&&r?.(a)}i(_A(o))}else if(!("layer"in o&&"element"in o))if(o.type==="subtype-sublayer"){const a=e.allLayerViews.find(l=>l.layer===o.parent);a&&n(o,a)}else{const a=e.allLayerViews.find(l=>l.layer===o);a&&t(a)}}}function sj(e,t){if(e)if(L_(e))for(const n of e)if(L_(n))for(const i of n)t(i);else t(n);else t(e)}function _A(e){const t=e.getObjectId();return t?`${e.layer?.uid??e.sourceLayer?.uid??"MapView"}/${t}`:`"MapView/${e.uid}`}function WT({layer:e},t){e?.type==="subtype-group"&&e.sublayers.forEach(n=>{t(n)})}let Uy=null,WS=!0;function jOe(e,t,n){if(!e||!t)throw new Error("Cannot construct image data without dimensions");if(WS)try{return new ImageData(e,t)}catch{WS=!1}return FK(e,t,n)}function Iqe(e,t,n,i){if(!t||!n)throw new Error("Cannot construct image data without dimensions");if(WS)try{return new ImageData(e,t,n)}catch{WS=!1}const r=FK(t,n,i);return r.data.set(e,0),r}function zOe(){return Uy||(Uy=document.createElement("canvas"),Uy.width=1,Uy.height=1),Uy}function FK(e,t,n){return n||(n=zOe()),n.getContext("2d").createImageData(e,t)}async function BOe(e,t){const n=window.URL.createObjectURL(e);try{const{data:i}=await Lt(n,{...t,responseType:"image"});return i}catch(i){throw ur(i)?i:new B("invalid-image",`Could not fetch requested image at ${n}`)}finally{window.URL.revokeObjectURL(n)}}async function Cqe(e,t){const{arrayBuffer:n,mediaType:i}=await UOe(e,t),r=i==="image/png";if(i==="image/gif"){const{isAnimatedGIF:s,parseGif:o}=await J(()=>import("./gif-C_PEwJVo.js"),__vite__mapDeps([282,3]));if(s(n))return o(n,t)}if(r){const{isAnimatedPNG:s,parseApng:o}=await J(()=>import("./apng-D7srjofB.js"),__vite__mapDeps([283,8,3]));if(s(n))return o(n,t)}return BOe(new Blob([n],{type:i}),t)}async function UOe(e,t){const n=$m(e);if(n?.isBase64)return{arrayBuffer:K7(n.data),mediaType:n.mediaType};const i=await Lt(e,{responseType:"array-buffer",...t});return{arrayBuffer:i.data,mediaType:i.getHeader?.("Content-Type")??""}}function jK(e,t,n){const{ctx:i,canvas:r}=BK(e,n),s=i.getImageData(0,0,e.width,e.height),o=GK(r,t);return UK(r),{dataUrl:o,data:s}}function zK(e,t){const{ctx:n,canvas:i}=BK(e,t),r=n.getImageData(0,0,e.width,e.height);return UK(i),r}function BK(e,t){const n=GOe();t.premultipliedAlpha&&ZOe(e),n.width=e.width,n.height=e.height;const i=n.getContext("2d",{willReadFrequently:!0});return i.putImageData(e,0,0),t.flipY&&WOe(i),{ctx:i,canvas:n}}function UK(e){e.width=0,e.height=0}function GOe(){return ZT==null&&(ZT=document.createElement("canvas")),ZT}let ZT=null;function GK(e,t){const n=YOe[t.format],i=t.quality/100;return e.toDataURL(n,i)}function HK(e,t){const n=qOe(e),i=KOe[n];return{format:n,quality:ws(t??i,0,100)}}function qK(e,t){return t/Math.max(e[0],e[1])}function HOe(e,t,n,i=0,r=0,s=e.width-i,o=e.height-r,a=!1){const{data:l}=e,{width:c,height:h,data:p}=t,m=s/c,y=o/h,g=Math.ceil(m/2),v=Math.ceil(y/2),b=e.width;for(let w=0;w<h;w++)for(let S=0;S<c;S++){const x=4*(S+(a?h-w-1:w)*c);let E=0,$=0,I=0,A=0,M=0,L=0;const O=(w+.5)*y;for(let P=Math.floor(w*y);P<(w+1)*y;P++){const R=Math.abs(O-(P+.5))/v,V=(S+.5)*m,U=R*R;for(let ee=Math.floor(S*m);ee<(S+1)*m;ee++){const se=Math.abs(V-(ee+.5))/g,Se=Math.sqrt(U+se*se);if(Se>=1)continue;let oe=2*Se*Se*Se-3*Se*Se+1;const ie=4*(i+ee+(r+P)*b);L+=oe*l[ie+3],$+=oe,!n&&l[ie+3]<255&&(oe=oe*l[ie+3]/255),I+=oe*l[ie],A+=oe*l[ie+1],M+=oe*l[ie+2],E+=oe}}p[x]=I/E,p[x+1]=A/E,p[x+2]=M/E,p[x+3]=L/$}return t}function qOe(e){switch(e){case"png":case"jpg":case"jpeg":return e;default:return JOe}}function WOe(e){e.save(),e.globalCompositeOperation="copy",e.scale(1,-1),e.translate(0,-e.canvas.height),e.drawImage(e.canvas,0,0),e.restore()}function ZOe(e){const t=e.data,n=t.length;for(let i=0;i<n;i+=4){const r=t[i+3];if(r!==255&&r>0){const s=255/r;t[i]=t[i]*s,t[i+1]=t[i+1]*s,t[i+2]=t[i+2]*s}}}const YOe={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},oj=98,JOe="png",KOe={png:100,jpg:oj,jpeg:oj},Mqe=Object.freeze(Object.defineProperty({__proto__:null,createEmptyImageData:jOe,encode:jK,encodeData:zK,getFormatAndQuality:HK,getMaximumResolutionScale:qK,resampleHermite:HOe,toDataUrl:GK},Symbol.toStringTag,{value:"Module"})),WK={flipY:!0,premultipliedAlpha:!0};async function XOe(e,t){const n=await ZK(e,t),{format:i,quality:r}=HK(t?.format,t?.quality);return jK(n,{format:i,quality:r},WK)}async function QOe(e,t){const n=await ZK(e,t);return zK(n,WK)}function ZK(e,t){const n=nRe(t||{},tRe(e.stage,e.size),e.size,e.padding),i=eRe(t,e.allLayerViews);return e.stage.takeScreenshot(n,i,e.backgroundColor,t?.rotation)}function eRe(e={},t){if(!e.layers)return;const n=[];return e.layers.forEach(i=>{const r=t.find(s=>s.layer.id===i.id);r?.container&&n.push(r.container)}),n}function tRe(e,t){return Math.min(4,qK(t,Math.min(4096,e.context.parameters.maxTextureSize)))}function nRe(e,t,n,i){e.ignorePadding&&(i={left:0,right:0,top:0,bottom:0});let r=null;e.width!=null&&e.height!=null?r=[e.width,e.height]:e.width==null&&e.height!=null?r=[e.height,e.height]:e.width!=null&&e.height==null?r=[e.width,e.width]:e.width==null&&e.height==null&&(r=null);const s=n[0]-(i.left+i.right),o=n[1]-(i.top+i.bottom);let a,l,c=e.area||{x:0,y:0,width:s,height:o};if(r){const h=s/o,p=r[0]/r[1];if(p>h){const m=c.width/p;c={x:c.x,y:Math.round(c.y+(c.height-m)/2),width:c.width,height:Math.round(m)}}else{const m=c.height*p;c={x:Math.round(c.x+(c.width-m)/2),y:c.y,width:Math.round(m),height:c.height}}}else r=[c.width,c.height];return r[0]>c.width?(a=Math.min(r[0]/c.width,t),l=r[0]/c.width/a):(a=1,l=r[0]/c.width),{cropArea:{x:Math.round((c.x+i.left)*a),y:Math.round((c.y+i.top)*a),width:Math.round(c.width*a),height:Math.round(c.height*a)},outputScale:l,resolutionScale:a}}const iRe=e=>e.includes("Brush");let YK=class{constructor(){this._names=new Map}begin(t){this._names.has(t)||(this._names.set(t,!1),iRe(t)&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${t}.Start`))}end(t){this._names.has(t)&&!this._names.get(t)&&(this._names.set(t,!0),performance.mark(`Esri.${t}.End`))}record(t){this._names.has(t)||(this._names.set(t,!0),performance.mark(`Esri.${t}`))}};function rRe(e,t){const n=t.debugRendererInfo&&e.getExtension("WEBGL_debug_renderer_info");return n?{getUnmaskedRendererWebGL:()=>e.getParameter(n.UNMASKED_RENDERER_WEBGL)}:null}let aj;function sRe(){return aj??=lRe(),aj}let oRe=class{constructor(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1,this.supportsColorBufferFloat=!1,this.supportsColorBufferFloatBlend=!1,this.supportsColorBufferHalfFloat=!1,this.unmaskedRenderer="unloaded"}};function aRe(e){if(typeof WebGL2RenderingContext>"u")return null;const t=document.createElement("canvas");if(!t)return null;let n=t.getContext("webgl2",{failIfMajorPerformanceCaveat:!0});if(n==null&&(n=t.getContext("webgl2"),n!=null&&(e.majorPerformanceCaveat=!0)),n==null)return n;e.available=!0,e.maxTextureSize=n.getParameter(n.MAX_TEXTURE_SIZE),e.supportsVertexShaderSamplers=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;const i=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT);return i&&(e.supportsHighPrecisionFragment=i.precision>0),n}function lRe(){const e=new oRe,t=aRe(e);return t==null||(e.supportsColorBufferFloat=t.getExtension("EXT_color_buffer_float")!==null,e.supportsColorBufferFloatBlend=t.getExtension("EXT_float_blend")!==null,e.supportsColorBufferHalfFloat=e.supportsColorBufferFloat||t.getExtension("EXT_color_buffer_half_float")!==null,e.unmaskedRenderer=rRe(t,{debugRendererInfo:!0})?.getUnmaskedRendererWebGL()??"unknown"),e}function uRe(e){const t=sRe();return t.available?e==="3d"&&t.majorPerformanceCaveat?new B("webgl:major-performance-caveat-detected",`Your WebGL implementation (${t.unmaskedRenderer}) doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist.`):t.supportsHighPrecisionFragment?t.supportsVertexShaderSamplers?null:new B("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported."):new B("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported."):new B("webgl:required","WebGL2 is required but not supported.",new Error().stack)}function cRe(e){return e&&"nodeType"in e}function dRe(e){return e&&typeof e.render=="function"}const lj={component:"esri-component"};let Od=class extends Ce{constructor(){super(...arguments),this.widget=null}destroy(){this.node=null,this.widget?.destroy()}get id(){return this._get("id")??this.widget?.id??this.node?.id}set id(t){this._set("id",t)}set node(t){const n=this._get("node");t!==n&&(t&&t.classList.add(lj.component),n&&n.classList.remove(lj.component),this._set("node",t))}castNode(t){return this.widget?.destroy(),t?typeof t=="string"||cRe(t)?(this._set("widget",null),sO(t)):(dRe(t)&&!t.domNode&&(t.domNode=document.createElement("div")),this._set("widget",t),t.domNode):(this._set("widget",null),null)}};u([d()],Od.prototype,"id",null),u([d()],Od.prototype,"node",null),u([pt("node")],Od.prototype,"castNode",null),u([d({readOnly:!0})],Od.prototype,"widget",void 0),Od=u([k("esri.views.ui.Component")],Od);const m_=Od,JK="calcite-mode-";function hRe(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-mode-name").replaceAll(/\s|'|"/g,"")}function KK(){return hRe().startsWith("dark")}function pRe(){return`${JK}${KK()?"dark":"light"}`}function fRe(e){mRe(e),e.classList.add(pRe())}function mRe(e){Array.from(e.classList).forEach(t=>{t.startsWith(JK)&&e.classList.remove(t)})}const yRe={left:0,top:0,bottom:0,right:0},XK={bottom:30,top:15,right:15,left:15},Ga="esri-ui",kr={ui:Ga,corner:`${Ga}-corner`,innerContainer:`${Ga}-inner-container`,manualContainer:`${Ga}-manual-container`,cornerContainer:`${Ga}-corner-container`,topLeft:`${Ga}-top-left`,topRight:`${Ga}-top-right`,bottomLeft:`${Ga}-bottom-left`,bottomRight:`${Ga}-bottom-right`};function gRe(e){return e&&!e._started&&typeof e.postMixInProperties=="function"&&typeof e.buildRendering=="function"&&typeof e.postCreate=="function"&&typeof e.startup=="function"}function qw(e){return e===0?"0":`${e}px`}function YT(e){const t=typeof e=="object"&&e!==null&&Object.getPrototypeOf(e);return(t===null||t===Object.prototype)&&("component"in e||"index"in e||"position"in e)?e:null}function JT(e,{top:t,bottom:n,left:i,right:r}){e.style.top=t,e.style.bottom=n,e.style.left=i,e.style.right=r}let da=class extends Ks.EventedAccessor{constructor(t){super(t),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=new Array,this._componentMap=new Map,this._removeWidgetHandleKey=Symbol("componentOnRemoveSymbol"),this._locale=Gr(),this.view=null,this._applyViewPadding=()=>{const n=this.container;n&&JT(n,this._toPixelPosition(this._getViewPadding()))},this._applyUIPadding=()=>{const n=this._innerContainer;n&&JT(n,this._toPixelPosition(this.padding))},this._initContainers()}initialize(){this.addHandles([me(()=>[this.view?.padding,this.container],this._applyViewPadding,mt),me(()=>this.padding,this._applyUIPadding,mt),me(()=>[this.container,this._locale],([t,n])=>{t&&t.setAttribute("lang",n)},mt),VL(t=>{this._locale=t})])}destroy(){this.container=null;for(const t of this._components)t.destroy();this._components.length=0,this._componentMap.clear()}set container(t){const n=this._get("container");t!==n&&(t&&(t.classList.add(kr.ui),fRe(t),this._attachContainers(t)),n&&(n.classList.remove(kr.ui),JT(n,{top:"",bottom:"",left:"",right:""}),n.textContent=""),this._set("container",t))}get height(){const t=this.view?.height??0;if(t===0)return t;const n=this._getViewPadding(),{top:i,bottom:r}=n;return Math.max(t-i-r,0)}get padding(){return this._get("padding")}set padding(t){this._overrideIfSome("padding",t)}castPadding(t){return typeof t=="number"?{bottom:t,top:t,right:t,left:t}:{...XK,...t}}get width(){const t=this.view?.width??0;if(t===0)return t;const n=this._getViewPadding(),{left:i,right:r}=n;return Math.max(t-i-r,0)}add(t,n){let i,r,s;if(Array.isArray(t))return void t.forEach(a=>this.add(a,n));const o=YT(t);o&&({index:i,position:n,component:t,key:r}=o),n&&typeof n=="object"&&({index:i,key:r,position:n,internal:s}=n),!t||n&&!this._isValidPosition(n)||this._add(t,n,i,r,s)}remove(t,n){if(!t)return;if(Array.isArray(t))return t.map(r=>this.remove(r,n));const i=this._find(t);if(i){if(this._componentMap.has(i)&&this._componentMap.get(i)?.key!==n)return;const r=this._components.indexOf(i);return i.node.parentNode?.removeChild(i.node),this._componentMap.delete(i),i.widget?.removeHandlesReference(this._removeWidgetHandleKey),this._components.splice(r,1)[0]}}empty(t,n={removeInternal:!1}){if(Array.isArray(t)){for(const s of t)this.empty(s,n);return}const i=this._positionNameToContainerLookup[t??"manual"],r=Array.prototype.slice.call(i.children).map(s=>this._findByNode(s)).filter(s=>s==null?!1:!(this._componentMap.get(s)?.internal??!1)||n.removeInternal);for(const s of r)this.remove(s)}move(t,n){if(Array.isArray(t)&&t.forEach(o=>this.move(o,n)),!t)return;let i;const r=YT(t)||YT(n);if(r&&(i=r.index,n=r.position,t=r.component||t),n&&!this._isValidPosition(n))return;const s=this.remove(t);s&&this.add(s,{position:n,index:i})}find(t){if(!t)return null;const n=this._findById(t);return n&&(n.widget||n.node)}getComponents(t,n={includeInternal:!1}){return t?Array.isArray(t)?t.flatMap(i=>this._getComponentsAtPosition(i,n)):this._getComponentsAtPosition(t,n):this._components.filter(i=>n.includeInternal||!this._componentMap.get(i)?.internal).map(({widget:i,node:r})=>i??r)}getPosition(t){for(const n in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[n].contains(t))return n;return null}_add(t,n,i,r,s){t instanceof m_||(t=new m_({node:t}));const{widget:o}=t;o!=null&&o instanceof Ce&&o.addHandles(St(()=>{queueMicrotask(()=>this.remove(t))}),this._removeWidgetHandleKey),this._place({component:t,position:n,index:i}),this._components.push(t),this._componentMap.set(t,{key:r,internal:s})}_find(t){return t?t instanceof m_?this._findByComponent(t):typeof t=="string"?this._findById(t):this._findByNode(t.domNode||t):null}_getViewPadding(){return this.view?.padding??yRe}_attachContainers(t){t.appendChild(this._innerContainer),t.appendChild(this._manualContainer)}_initContainers(){const t=document.createElement("div");t.classList.add(kr.innerContainer,kr.cornerContainer);const n=document.createElement("div");n.classList.add(kr.innerContainer,kr.manualContainer);const i=document.createElement("div");i.classList.add(kr.topLeft,kr.corner),t.appendChild(i);const r=document.createElement("div");r.classList.add(kr.topRight,kr.corner),t.appendChild(r);const s=document.createElement("div");s.classList.add(kr.bottomLeft,kr.corner),t.appendChild(s);const o=document.createElement("div");o.classList.add(kr.bottomRight,kr.corner),t.appendChild(o),this._innerContainer=t,this._manualContainer=n;const a=Ux();this._cornerNameToContainerLookup={"top-left":i,"top-right":r,"bottom-left":s,"bottom-right":o,"top-leading":a?r:i,"top-trailing":a?i:r,"bottom-leading":a?o:s,"bottom-trailing":a?s:o},this._positionNameToContainerLookup={manual:n,...this._cornerNameToContainerLookup}}_isValidPosition(t){return!!this._positionNameToContainerLookup[t]}_place(t){const n=t.position??"manual",{component:i,index:r}=t,s=this._positionNameToContainerLookup[n],o=r!=null&&r>-1;if(gRe(i.widget)&&i.widget.startup(),!o)return void s.appendChild(i.node);const a=Array.from(s.children);if(r===0){const{firstChild:c}=s;return void(c?c.parentNode?.insertBefore(i.node,c):s.appendChild(i.node))}if(r>=a.length)return void s.appendChild(i.node);const l=a[r];l.parentNode?.insertBefore(i.node,l)}_toPixelPosition(t){return{top:qw(t.top),left:qw(t.left),right:qw(t.right),bottom:qw(t.bottom)}}_findByComponent(t){return this._components.find(n=>n===t)??null}_findById(t){return this._components.find(({id:n})=>n===t)??null}_findByNode(t){return this._components.find(({node:n})=>n===t)??null}_getComponentsAtPosition(t,n){const i=this._positionNameToContainerLookup[t];return Array.prototype.slice.call(i.children).map(r=>this._findByNode(r)).filter(Ji).filter(r=>n.includeInternal||!this._componentMap.get(r)?.internal).map(({widget:r,node:s})=>r??s)}};u([d()],da.prototype,"_locale",void 0),u([d()],da.prototype,"container",null),u([d()],da.prototype,"height",null),u([d({value:XK})],da.prototype,"padding",null),u([pt("padding")],da.prototype,"castPadding",null),u([d()],da.prototype,"view",void 0),u([d()],da.prototype,"width",null),da=u([k("esri.views.ui.UI")],da);const vRe=da,bRe={handleInterceptedEvent:(e,t,n,i)=>(e.scheduleRender(),t.properties[`on${i.type}`].apply(t.properties.bind||n,[i]))},wRe={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,n)=>{t.charAt(0)==="-"?e.style.setProperty(t,n):e.style[t]=n}},_Re=e=>({...wRe,...e}),SRe=(e,t)=>{const n=[];for(;e&&e!==t;)n.push(e),e=e.parentNode;return n},xRe=(e,t)=>e.find(t),uj=(e,t,n=!1)=>{let i=e;return t.forEach((r,s)=>{const o=i?.children?xRe(i.children,a=>a.domNode===r):void 0;n&&!o&&s!==t.length-1||(i=o)}),i},$Re=e=>{let t;const n={...bRe,...e},i=_Re(n),r=i.performanceLogger;let s,o=!0,a=!1;const l=[],c=[],h=(m,y,g)=>{let v;i.eventHandlerInterceptor=(w,S,x,E)=>function($){let I;r("domEvent",$);const A=SRe($.currentTarget,v.domNode),M=A.some(O=>customElements.get(O?.tagName?.toLowerCase()));if($.eventPhase===Event.CAPTURING_PHASE||!M)A.reverse(),I=uj(v.getLastRender(),A);else{const O=$.composedPath(),P=O.slice(O.indexOf($.currentTarget),O.indexOf(v.domNode)).reverse();I=uj(v.getLastRender(),P,!0)}let L;return I&&(L=n.handleInterceptedEvent(t,I,this,$)),r("domEventProcessed",$),L},n.postProcessProjectionOptions?.(i);const b=g();v=m(y,b,i),i.eventHandlerInterceptor=void 0,l.push(v),c.push(g),n.afterFirstVNodeRendered&&n.afterFirstVNodeRendered(v,b)};let p=()=>{if(s=void 0,o){o=!1,r("renderStart",void 0);for(let m=0;m<l.length;m++){const y=c[m]();r("rendered",void 0);try{l[m].update(y)}catch(g){console.error(g)}r("patched",void 0)}r("renderDone",void 0),o=!0}};return n.modifyDoRenderImplementation&&(p=n.modifyDoRenderImplementation(p,l,c)),t={renderNow:p,scheduleRender:()=>{s||a||(s=requestAnimationFrame(p))},stop:()=>{s&&(cancelAnimationFrame(s),s=void 0),a=!0},resume:()=>{a=!1,o=!0,t.scheduleRender()},append:(m,y)=>{h(nc.append,m,y)},insertBefore:(m,y)=>{h(nc.insertBefore,m,y)},merge:(m,y)=>{h(nc.merge,m,y)},replace:(m,y)=>{h(nc.replace,m,y)},detach:m=>{for(let y=0;y<c.length;y++)if(c[y]===m)return c.splice(y,1),l.splice(y,1)[0];throw new Error("renderFunction was not found")}},t};var TRe=":",Uh=class{resolve(e){}reject(e){}constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};function ERe(e,t){let n=e;for(;n;){if(n===t)return!0;if(!n.parentNode)return!1;n.parentNode instanceof ShadowRoot?n=n.parentNode.host:n=n.parentNode}return!1}function IRe(e,t,n){const{subscribe:i}=CRe(t);return i(r=>{r.some(o=>ERe(e,o.target))&&n()})}var KT={};function CRe(e){const t=e.join(","),n=KT[t];if(n!==void 0)return n;const i=new Set,r=new MutationObserver(o=>i.forEach(a=>a(o)));globalThis.document&&r.observe(document.documentElement,{attributes:!0,attributeFilter:e,subtree:!0});const s={subscribe(o){return i.add(o),()=>{i.delete(o),i.size===0&&(r.disconnect(),KT[t]=void 0)}}};return KT[t]=s,s}function MRe(e,t){let n=e;for(;n;){const i=n.closest?.(t);if(i)return i;const r=n.getRootNode?.();if(r===globalThis.document)return null;n=r.host}return null}function kRe(e,t,n){return MRe(e,`[${t}]`)?.getAttribute(t)??n}function hn(e,t,...n){try{return e?.call(t,...n)}catch(i){console.error(i,e)}}async function SA(e,t,...n){try{const i=e?.call(t,...n);return i instanceof Promise?await i:i}catch(i){console.error(i,e)}}var ARe=["ar","bg","bs","ca","cs","da","de","el","en","es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","nl","nb","no","pl","pt-BR","pt-PT","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-HK","zh-TW"],PRe=new Set(ARe),ZS="en",LRe={pt:"pt-PT",nb:"no",zh:"zh-CN"};async function ORe(e,t,n=""){const i=`${t}/${n}`,r=`${i}${e}.json`;return XT[r]??(XT[r]=QK(e,i)),await XT[r]}var XT={};async function QK(e,t){const n=`${t}${e}.json`;try{const i=await fetch(n);if(i.ok)return await i.json()}catch(i){return console.error(i),{}}return e===ZS?{}:await QK(ZS,t)}function eX(e){const t=kRe(e,"lang",globalThis.navigator?.language||ZS);return{lang:t,t9nLocale:tX(t)}}function tX(e){const[t,n]=e.split("-"),i=t.toLowerCase();let r=i;return n&&(r=`${i}-${n.toUpperCase()}`),r=LRe[r]??r,PRe.has(r)?r:n?tX(i):ZS}function RRe(e,t,n,i){let r;const s=()=>void NRe(e,t(),i).then(o=>{(r?.lang!==o.lang||r.t9nLocale!==o.t9nLocale||r.t9nStrings!==o.t9nStrings)&&n(o),r=o}).catch(console.error);return queueMicrotask(s),IRe(e,["lang"],s)}async function NRe(e,t,n=e.tagName.toLowerCase().split("-").slice(1).join("-")){const{lang:i,t9nLocale:r}=eX(e),s=`${t}/${n}/t9n`,a=n===null?{}:await ORe(r,s,"messages.");return{lang:i,t9nLocale:r,t9nStrings:a}}var nX=e=>e.replace(DRe,(t,n)=>`${n===0?"":"-"}${t.toLowerCase()}`),DRe=/[A-Z]+(?![a-z])|[A-Z]/gu;function VRe(e,t){const n=t/FRe;let i=0;const r=setInterval(()=>{i+=n,i>=t&&(clearInterval(r),e())},n);return r}var FRe=4;function jRe(e){return e!==void 0}function iX(e){let t=e;for(;t=t.parentNode??t.host;)if(t?.constructor?.lumina){const n=t;return n.manager?.loadedCalled||n._offspring.push(e),n._postLoad.promise}return!1}var y_=Object.defineProperty;function zRe(e){const t=e.split(TRe);return t.length===1?[t[0],nX(t[0])]:t}var BRe=globalThis.HTMLElement??zRe;(class extends BRe{constructor(){super(),this._store={},this._pendingAttributes=[],this._postLoad=new Uh,this._postLoaded=new Uh,this._offspring=[],this._saveInstanceProperties();const e=this.constructor;e._LitConstructor?this._initializeComponent({a:e._LitConstructor}):e._loadPromise.then(this._initializeComponent.bind(this)).catch(t=>{this._postLoaded.reject(t),setTimeout(()=>{throw t})})}static{this.lumina=!0}static _initializePrototype(){this._properties?.forEach(this._bindProp,this),this._asyncMethods?.forEach(this._bindAsync,this),this._syncMethods?.forEach(this._bindSync,this)}static _bindProp(e){y_(this.prototype,e,{configurable:!0,enumerable:!0,get(){return this._store[e]},set(t){this._store[e]=t}})}static _bindAsync(e){y_(this.prototype,e,{async value(...t){return this._litElement||await this._postLoaded.promise,await this._litElement[e](...t)},configurable:!0})}static _bindSync(e){y_(this.prototype,e,{value(...t){return this._litElement[e](...t)},configurable:!0})}get manager(){return this._litElement?.manager}_saveInstanceProperties(){const e=this.constructor,t=this;e._properties?.forEach(n=>{Object.hasOwn(this,n)&&(this._store[n]=t[n],delete t[n])})}attributeChangedCallback(e,t,n){this._litElement?.attributeChangedCallback(e,t,n),this._litElement||this._pendingAttributes.push(e)}connectedCallback(){this._litElement?this._litElement.connectedCallback?.():queueMicrotask(()=>{this._ancestorLoad=iX(this)})}disconnectedCallback(){this._litElement?.disconnectedCallback?.()}async componentOnReady(){return await this._postLoaded.promise,this}_initializeComponent(e){const t=this.constructor,n=t._name,i=this._store,r=Object.values(e).find(h=>h.tagName===n),s=`${n}--lazy`;let o=r;for(;o&&!Object.hasOwn(o,"lumina");)o=Object.getPrototypeOf(o);GRe(o),!t._LitConstructor&&(t._LitConstructor=r,customElements.define(s,r)),r.lazy=this;const l=document.createElement(s);r.lazy=void 0,this._litElement=l,this._store=l,this._pendingAttributes.forEach(h=>{const p=this.getAttribute(h);l.attributeChangedCallback(h,null,p)}),Object.entries(i).forEach(URe,l);const c=this.isConnected;(c||this._ancestorLoad)&&(l.connectedCallback?.(),c||l.disconnectedCallback())}addController(){}requestUpdate(){this._litElement?.requestUpdate()}});function URe([e,t]){this[e]=t}function GRe(e){const t=e.prototype,n=Element.prototype;Object.hasOwn(t,"isConnected")||(t.setAttribute=function(r,s){n.setAttribute.call(this.el,r,s)},t.removeAttribute=function(r){n.removeAttribute.call(this.el,r)},y_(t,"isConnected",{get(){return Reflect.get(n,"isConnected",this.el)}}))}var cj={};function HRe(e,t){if(t){const n=e.constructor.elementProperties;e.manager.internals.members=Object.fromEntries(Array.from(n,([i,r])=>r.noAccessor?void 0:[i,[(r.readOnly?2048:0)|(r.state?32:16)]]).filter(jRe))}else{const n=e.constructor,i=n.__registerControllers?.(e)??void 0;if(n.__registerControllers=void 0,typeof i!="object")throw new Error("Failed to retrieve component meta");e.manager.internals.members=Object.fromEntries(Object.entries(i).filter(([r,[s]])=>(s&63)!==0))}}function qRe(e,t=8){return e==null||typeof e=="object"||typeof e=="function"?e:(t&4)!==0?e==="false"?!1:e===""||!!e:(t&2)!==0?Number.parseFloat(e):(t&1)!==0?String(e):e}var WRe=(e,t)=>e.manager.internals.members?.[t]?.[0],kO=Symbol.for("controller"),ZRe=e=>typeof e=="object"&&e!==null&&(kO in e||"hostConnected"in e||"hostDisconnected"in e||"hostUpdate"in e||"hostUpdated"in e),av;function Bf(e){av!==e&&(av=e,queueMicrotask(()=>{av===e&&(av=void 0)}))}function Qx(e){return av}var Rd=[];function rX(e){if(e===void 0){Rd=[];return}const t=Rd.indexOf(e);Rd=t===-1?[...Rd,e]:Rd.slice(0,t+1),queueMicrotask(()=>{Rd=[]})}function sX(){return Rd}var Uf;function YRe(e){Uf!==e&&(Uf=e,queueMicrotask(()=>{Uf===e&&(Uf=void 0)}))}function JRe(){const e=Uf;return Uf=void 0,e}var KRe=async(e,t)=>{const n=AO(e);if(n===void 0)return e;if(await n.ready,typeof t=="function"){const i=n.watchExports(r=>t(r,i))}return n.exports},XRe=async e=>{const t=AO(e);return await t.ready,t},AO=e=>{const n=Qx().manager.internals.resolveExports(e);if(n!==void 0)return n;if(ZRe(e))return e;const i=JRe();if(i!==void 0)return i},xA={readOnly:!1},YS=new WeakMap,oX;oX=kO;var PO=class{constructor(e){this._callbacks={hostConnected:[],hostDisconnected:[],hostLoad:[],hostLoaded:[],hostUpdate:[],hostUpdated:[],hostDestroy:[],hostLifecycle:[]},this._ready=new Uh,this._lifecycleCleanups=[],this.connectedCalled=!1,this._loadCalled=!1,this.loadedCalled=!1,this[oX]=!0,this.ready=this._ready.promise,this._exports=hj(this),this._exportWatchers=new Set;const t=e??Qx();this.component=t,this.component.addController(this),this.component.manager===void 0||(rX(this),queueMicrotask(()=>this.catchUpLifecycle()))}catchUpLifecycle(){const{manager:e}=this.component;e.connectedCalled&&!this.connectedCalled&&this.triggerConnected(),e._loadCalled&&this.triggerLoad().then(()=>{e.loadedCalled&&this.triggerLoaded()}).catch(console.error)}get exports(){return this._exports}set exports(e){const t=this._exports;t!==e&&(this._exports=e,this._exportWatchers.forEach(hn),this.connectedCalled&&this.assignedProperty!==!1&&this.component.requestUpdate(this.assignedProperty,t)),this._ready.resolve(e)}setProvisionalExports(e,t=!0){this._exports=t?hj(e):e,this._exportWatchers.forEach(hn)}watchExports(e){const t=()=>e(this._exports);return this._exportWatchers.add(t),()=>void this._exportWatchers.delete(t)}get use(){return Bf(this.component),KRe}get useRef(){return Bf(this.component),XRe}get useRefSync(){return Bf(this.component),AO}controllerRemoved(){this.component.el.isConnected&&this.triggerDisconnected(),this.triggerDestroy()}onConnected(e){this._callbacks.hostConnected.push(e)}onDisconnected(e){this._callbacks.hostDisconnected.push(e)}onLoad(e){this._callbacks.hostLoad.push(e)}onLoaded(e){this._callbacks.hostLoaded.push(e)}onUpdate(e){this._callbacks.hostUpdate.push(e)}onUpdated(e){this._callbacks.hostUpdated.push(e)}onDestroy(e){this._callbacks.hostDestroy.push(e)}onLifecycle(e){this._callbacks.hostLifecycle.push(e),this.connectedCalled&&this.component.el.isConnected&&this._callLifecycle(e)}triggerConnected(){const e=this;e.hostConnected&&hn(e.hostConnected,e),this._callbacks.hostConnected.forEach(hn),this.triggerLifecycle(),this.connectedCalled=!0}triggerDisconnected(){const e=this;e.hostDisconnected&&hn(e.hostDisconnected,e),this._callbacks.hostDisconnected.forEach(hn),this._lifecycleCleanups.forEach(hn),this._lifecycleCleanups=[]}async triggerLoad(){if(this._loadCalled)return;this._loadCalled=!0;const e=this;e.hostLoad&&await SA(e.hostLoad,e),this._callbacks.hostLoad.length>0&&await Promise.allSettled(this._callbacks.hostLoad.map(SA)),this._ready.resolve(this._exports)}triggerLoaded(){if(this.loadedCalled)return;const e=this;e.hostLoaded&&hn(e.hostLoaded,e),this._callbacks.hostLoaded.forEach(hn),this.loadedCalled=!0}triggerUpdate(e){const t=this;t.hostUpdate&&hn(t.hostUpdate,t,e),this._callbacks.hostUpdate.forEach(dj,e)}triggerUpdated(e){const t=this;t.hostUpdated&&hn(t.hostUpdated,t,e),this._callbacks.hostUpdated.forEach(dj,e)}triggerDestroy(){const e=this;e.hostDestroy&&hn(e.hostDestroy,e),this._callbacks.hostDestroy.forEach(hn)}triggerLifecycle(){const e=this;e.hostLifecycle&&this._callLifecycle(()=>e.hostLifecycle()),this._callbacks.hostLifecycle.forEach(this._callLifecycle,this)}_callLifecycle(e){Bf(this.component);const t=hn(e);(Array.isArray(t)?t:[t]).forEach(i=>{typeof i=="function"?this._lifecycleCleanups.push(i):typeof i=="object"&&typeof i.remove=="function"&&this._lifecycleCleanups.push(i.remove)})}};function dj(e){hn(e,void 0,this)}var QRe=PO;function hj(e){if(typeof e!="object"&&typeof e!="function"||e===null)return e;const t=new Proxy(e,{get(n,i,r){if(!(eNe.has(i)&&i in n&&n[i]===t)&&(i in n||i in Promise.prototype||typeof i=="symbol"))return typeof n=="function"?n[i]:Reflect.get(n,i,r)},set:(n,i,r,s)=>Reflect.set(n,i,r,s)});return t}var eNe=new Set(["exports","_exports"]);function tNe(e,t,n){const i=Object.keys(e),r=i.length;th===void 0&&queueMicrotask(LO),th??(th=new Map);let s=th.get(e);return s===void 0&&(s={callbacks:[],keyCount:r},th.set(e,s)),s.keyCount!==r&&(s.callbacks.forEach(o=>o(i)),s.callbacks=[],s.keyCount=r),s.callbacks.push(o=>{const a=c=>hn(t,null,c),l=o[r];l===void 0?a(void 0):e[l]===n?a(l):a(void 0)}),n}var th=void 0;function LO(){Array.from(th?.entries()??[]).forEach(([e,{callbacks:t}])=>{const n=Object.keys(e);t.forEach(i=>i(n))}),th=void 0}function OO(e,t,n){var i;const r=t,s=e.manager.internals;(i=s.allWatchers)[r]??(i[r]=[]);const o=s.allWatchers[r],a=n,l=(c,h,p)=>hn(a,null,c,h,p);return o.push(l),()=>{const c=o.indexOf(l);c!==-1&&o.splice(c,1)}}var nNe=class{constructor(e){this.enabledWatchers={},this.allWatchers={},this.enableReadonly=()=>{if(this.enableReadonly=void 0,!this.component.manager.isLit)return;const t=this.component.manager.internals;Object.entries(t.members).forEach(([n,[i]])=>{var r;i&2048&&((r=t.setters)[n]??(r[n]=[]),t.setters[n].push(t.readonlySetter))})},this.trackedValue=$A,this.keyTrackers=[],this.getters={},this.setters={},this.accessorGetter={},this.accessorSetter={},this._exports=new WeakMap,this.readonlySetter=(t,n,i)=>{if(xA.readOnly)return t;throw new Error(`Cannot assign to read-only property "${i}" of ${this.component.el.tagName.toLowerCase()}. Trying to assign "${String(t)}"`)},this.component=e}firePropTrackers(e,t){const n=this.keyTrackers;this.trackedValue=$A,this.keyTrackers=[],n.forEach(i=>i(e,t))}getSetProxy(e){const t=this.component,n=t.constructor.prototype;if(this._getSetProxy(n,e,"class"),t.manager.isLit)return;const i=t.el.constructor.prototype;n!==i&&this._getSetProxy(i,e,"html")}_getSetProxy(e,t,n){const i=this.component,r=WRe(i,t);let s;do s=Object.getOwnPropertyDescriptor(e,t);while(!s&&(e=Object.getPrototypeOf(e)));if(!s)return;const o=s.get,a=s.set,l=Ww in o,c=Ww in a;if(l&&c)return;const h=!l,p=!c,m=h?function(){let v=o.call(this);const b=YS.get(this);if(b===void 0)return v;const w=b.manager.internals;v=w.accessorGetter[t](v,t);const S=w.getters[t]??pj;for(let x=0;x<S.length;x++)v=S[x](v,t);return v}:o,y=p?function(v){const b=o.call(this),w=YS.get(this);if(w===void 0){a.call(this,v);return}let S=w.manager.isLit?v??void 0:qRe(v,r);const x=w.manager.internals;if(S===b)a.call(this,S);else{const E=x.setters[t]??pj;for(let $=0;$<E.length&&(S=E[$](S,b,t),S!==b);$++);S=x.accessorSetter[t](S,b,t),a.call(this,S),S!==b&&x.enabledWatchers[t]?.forEach($=>$(S,b,t))}x.keyTrackers.length>0&&x?.firePropTrackers(t,v)}:a;h&&(m[Ww]=!0),p&&(y[Ww]=!0),Object.defineProperty(e,t,{...s,get:m,set:y})}markExports(e,t){(typeof t=="object"&&t!==null||typeof t=="function")&&this._exports.set(t,e)}resolveExports(e){if(typeof e=="object"&&e!==null||typeof e=="function")return this._exports.get(e)}},pj=[],Ww=Symbol(),$A=Symbol();function iNe(e,t,n){const i=e.manager.internals;return i.trackedValue!==$A&&i.trackedValue!==n&&i.firePropTrackers(void 0,void 0),i.keyTrackers.length===0&&queueMicrotask(()=>i.firePropTrackers(void 0,void 0)),i.trackedValue=n,i.keyTrackers.push((r,s)=>hn(t,void 0,n===s?r:void 0)),n}function aX(e=[Qx(),...sX()],t,n){const i=Array.isArray(e)?e:[e];let r=i.length+1;const s=a=>{r-=1,a!==void 0&&(r=Math.min(r,0)),r===0&&t(a)};i.forEach(a=>tNe(a,l=>s(l===void 0?void 0:{key:l,host:a,isReactive:!1}),n));const o=i.find(a=>"manager"in a&&typeof a.manager=="object"&&a.manager.component===a);return o&&iNe(o,a=>s(a===void 0?void 0:{key:a,host:o,isReactive:!0}),n),n}function rNe(e){xA.readOnly=!0;try{return e()}finally{xA.readOnly=!1}}var sNe=e=>(...t)=>{const n=sX(),i=new e(...t),r=i.exports;rX(n.at(-1));const s=i.component.manager.internals;s.markExports(i,r),i.watchExports(a=>s.markExports(i,a)),YRe(i);const o=[i.component,...n].reverse();return aX(o,a=>a===void 0?void 0:oNe(i,a,r),r)};function oNe(e,{host:t,key:n,isReactive:i},r){const s=t,o=s[n]!==e.exports,a=s[n]!==r,l=r!==e.exports;if(o&&!a&&l&&(s[n]=e.exports),t===e.component){if(i){const h=e.component.manager.internals;a&&h.markExports(e,s[n]),OO(e.component,n,p=>{p!==e.exports&&h.markExports(e,p)})}e.assignedProperty=i?void 0:n}e.watchExports(()=>{if(s[n]===e.exports)return;const h=e.component.manager;h.internals.setters[n]?.includes(h.internals.readonlySetter)?rNe(()=>{s[n]=e.exports}):s[n]=e.exports})}var aNe=(e,t)=>new lNe(e,t),lNe=class extends QRe{constructor(e,t){const n="addController"in e,i=new Set;function r(l){i.add(l),!(kO in l)&&e.renderRoot&&e.el.isConnected&&l.hostConnected?.()}function s(l){i.delete(l),l.controllerRemoved?.()}const o=e;if(o.addController=r,o.removeController=s,!n){const l=t??e.constructor.__forceUpdate;o.requestUpdate=()=>l(e)}super(e),this.internals=new nNe(this.component),this.destroyed=!1,this._updatePromise=new Uh,this._originalLifecycles={},this.isLit=n,this.component.manager=this,HRe(e,n),this._controllers=i,this.exports=void 0,this.hasDestroy=QT in this.component&&typeof this.component.destroy=="function",this._bindLifecycleMethods();const a=this.internals;Object.keys(a.members).forEach(l=>{a.accessorGetter[l]=fj,a.accessorSetter[l]=fj,a.getSetProxy(l)}),n?this.internals.enabledWatchers=this.internals.allWatchers:Object.defineProperty(e,"updateComplete",{get:async()=>await this._updatePromise.promise}),queueMicrotask(a.enableReadonly),Bf(e),YS.set(e.el,e),YS.set(e,e)}_bindLifecycleMethods(){const e=this.component,t=this.isLit,n=e.el===e;this._originalLifecycles={_connectedCallback:t||n?void 0:e.connectedCallback,_disconnectedCallback:t||n?void 0:e.disconnectedCallback,_load:t?e.load:e.componentWillLoad,_loaded:t?e.loaded:e.componentDidLoad,_willUpdate:t?void 0:e.componentWillUpdate,_updated:t?void 0:e.componentDidUpdate,_destroy:e.destroy};const i=this._connectedCallback.bind(this),r=this._disconnectedCallback.bind(this),s=this._update.bind(this),o=this._updated.bind(this);t?e.constructor.prototype.addController.call(e,{hostConnected:i,hostDisconnected:r,hostUpdate:s,hostUpdated:o}):(e.connectedCallback=i,e.disconnectedCallback=r,e.componentWillLoad=this._load.bind(this),e.componentDidLoad=this._loaded.bind(this),e.componentWillUpdate=s,e.componentDidUpdate=o),this.hasDestroy&&(e.destroy=this.destroy.bind(this))}_connectedCallback(){if(this.destroyed){const t=this.component.el.tagName.toLowerCase();throw this.component.el.remove(),new Error(`The ${t} component has already been destroyed. It cannot be used again. If you meant to disconnect and reconnect a component without automatic destroy, set the ${QT} prop.`)}this._autoDestroyTimeout!==void 0&&clearTimeout(this._autoDestroyTimeout);const e=this.internals;e.enabledWatchers=e.allWatchers,LO(),e.enableReadonly?.(),this._controllers.forEach(cNe),this._originalLifecycles._connectedCallback?.call(this.component)}_disconnectedCallback(){this.destroyed||(this._controllers.forEach(dNe),this._originalLifecycles._disconnectedCallback?.call(this.component),this.hasDestroy&&this._setAutoDestroyTimeout())}async _load(){await Promise.allSettled(Array.from(this._controllers,hNe)),await this._originalLifecycles._load?.call(this.component),this.hasDestroy&&OO(this.component,QT,()=>this._setAutoDestroyTimeout())}_loaded(){this._controllers.forEach(pNe),this._originalLifecycles._loaded?.call(this.component)}_update(){const e=this.component;return this._controllers.forEach(fNe,e.$changes),this._originalLifecycles._willUpdate?.call(this.component)}_updated(){const e=this.component;if(this._controllers.forEach(mNe,e.$changes),this._originalLifecycles._updated?.call(this.component),this.isLit)e.$changes=new Map;else{const t=this._updatePromise;this._updatePromise=new Uh,t.resolve(!0)}}async destroy(){if(!this.destroyed){if(this.component.el.isConnected){this.hasDestroy=!1;try{this.component.el.remove()}finally{this.hasDestroy=!0}}this._autoDestroyTimeout=void 0,this.destroyed=!0,this._controllers.forEach(yNe),this._controllers.clear(),await this._originalLifecycles._destroy?.call(this.component)}}_setAutoDestroyTimeout(){if(this._autoDestroyTimeout!==void 0&&clearTimeout(this._autoDestroyTimeout),!this.component.el.isConnected&&!this.component.autoDestroyDisabled){const e=()=>void this.destroy().catch(console.error);this._autoDestroyTimeout=VRe(e,uNe)}}},QT="autoDestroyDisabled",uNe=1e3,fj=e=>e;function cNe(e){"triggerConnected"in e?e.triggerConnected():hn(e.hostConnected,e)}function dNe(e){"triggerDisconnected"in e?e.triggerDisconnected():hn(e.hostDisconnected,e)}async function hNe(e){"triggerLoad"in e?await e.triggerLoad():await SA(e.hostLoad,e)}function pNe(e){"triggerLoaded"in e?e.triggerLoaded():hn(e.hostLoaded,e)}function fNe(e){"triggerUpdate"in e?e.triggerUpdate(this):hn(e.hostUpdate,e,this)}function mNe(e){"triggerUpdated"in e?e.triggerUpdated(this):hn(e.hostUpdated,e,this)}function yNe(e){"triggerDestroy"in e?e.triggerDestroy():hn(e.hostDestroy,e)}var gNe=e=>lX(void 0,e),Oqe=e=>t=>lX(t,e),vNe=class extends PO{constructor(e,t){super(e);const n=this.exports;try{Bf(this.component);const i=t(this.component,this),r=this.exports!==n;if(i instanceof Promise){r||this.setProvisionalExports(i);const s=i.then(o=>{this.exports=o,super.catchUpLifecycle()}).catch(o=>{this._ready.reject(o),console.error(o)});this.onLoad(async()=>await s)}else(!r||i!==void 0)&&(this.exports=i),queueMicrotask(()=>super.catchUpLifecycle())}catch(i){this._ready.reject(i),console.error(i)}}catchUpLifecycle(){}},lX=sNe(vNe),Rqe=(e,t)=>new bNe(e,t),bNe=class extends PO{constructor(e,t){super(),this._attributes=e,this._callback=t,this._observer=new MutationObserver(n=>{n.forEach(i=>{e.includes(i.attributeName)&&t.call(this.component,this.component.el.getAttribute(i.attributeName),i.oldValue,i.attributeName)})})}hostConnected(){this._attributes.forEach(e=>{this.component.el.hasAttribute(e)&&this._callback.call(this.component,null,this.component.el.getAttribute(e),e)}),this._observer.observe(this.component.el,{attributes:!0,attributeOldValue:!0,attributeFilter:this._attributes})}hostDisconnected(){this._observer.disconnect()}},Nqe=e=>(t={})=>gNe((n,i)=>{const r=eX(n.el),s={_lang:r.lang,_t9nLocale:r.t9nLocale,_loading:!0},o=n;i.onLifecycle(()=>RRe(n.el,()=>e("./assets"),({t9nLocale:l,t9nStrings:c,lang:h})=>{const p={...c,_lang:h,_t9nLocale:l,_loading:!1};i.exports=p;const m=c.componentLabel;typeof m=="string"&&"label"in n&&n.label==null&&(n.label??(n.label=m)),a(o.messageOverrides)},t.name));function a(l){const c=i.exports,h=c._original??c,p=uX(h,l);l&&(p._original=h),i.exports=p}return"messageOverrides"in o&&i.onLifecycle(()=>OO(o,"messageOverrides",a)),t.blocking?(i.setProvisionalExports(s,!1),i.ready):s});function uX(e,t){if(!t)return e;const n={...e};return Object.entries(t).forEach(([i,r])=>{typeof r=="object"?n[i]=uX(e[i],r):n[i]=r??e[i]}),n}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const g_=globalThis,RO=g_.ShadowRoot&&(g_.ShadyCSS===void 0||g_.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,NO=Symbol(),mj=new WeakMap;let cX=class{constructor(t,n,i){if(this._$cssResult$=!0,i!==NO)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=n}get styleSheet(){let t=this.o;const n=this.t;if(RO&&t===void 0){const i=n!==void 0&&n.length===1;i&&(t=mj.get(n)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),i&&mj.set(n,t))}return t}toString(){return this.cssText}};const wNe=e=>new cX(typeof e=="string"?e:e+"",void 0,NO),Vqe=(e,...t)=>{const n=e.length===1?e[0]:t.reduce((i,r,s)=>i+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(r)+e[s+1],e[0]);return new cX(n,e,NO)},_Ne=(e,t)=>{if(RO)e.adoptedStyleSheets=t.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of t){const i=document.createElement("style"),r=g_.litNonce;r!==void 0&&i.setAttribute("nonce",r),i.textContent=n.cssText,e.appendChild(i)}},yj=RO?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let n="";for(const i of t.cssRules)n+=i.cssText;return wNe(n)})(e):e;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:SNe,defineProperty:xNe,getOwnPropertyDescriptor:$Ne,getOwnPropertyNames:TNe,getOwnPropertySymbols:ENe,getPrototypeOf:INe}=Object,e$=globalThis,gj=e$.trustedTypes,CNe=gj?gj.emptyScript:"",MNe=e$.reactiveElementPolyfillSupport,Dv=(e,t)=>e,TA={toAttribute(e,t){switch(t){case Boolean:e=e?CNe:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=e!==null;break;case Number:n=e===null?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch{n=null}}return n}},dX=(e,t)=>!SNe(e,t),vj={attribute:!0,type:String,converter:TA,reflect:!1,hasChanged:dX};Symbol.metadata??=Symbol("metadata"),e$.litPropertyMetadata??=new WeakMap;let Tf=class extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,n=vj){if(n.state&&(n.attribute=!1),this._$Ei(),this.elementProperties.set(t,n),!n.noAccessor){const i=Symbol(),r=this.getPropertyDescriptor(t,i,n);r!==void 0&&xNe(this.prototype,t,r)}}static getPropertyDescriptor(t,n,i){const{get:r,set:s}=$Ne(this.prototype,t)??{get(){return this[n]},set(o){this[n]=o}};return{get(){return r?.call(this)},set(o){const a=r?.call(this);s.call(this,o),this.requestUpdate(t,a,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??vj}static _$Ei(){if(this.hasOwnProperty(Dv("elementProperties")))return;const t=INe(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(Dv("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Dv("properties"))){const n=this.properties,i=[...TNe(n),...ENe(n)];for(const r of i)this.createProperty(r,n[r])}const t=this[Symbol.metadata];if(t!==null){const n=litPropertyMetadata.get(t);if(n!==void 0)for(const[i,r]of n)this.elementProperties.set(i,r)}this._$Eh=new Map;for(const[n,i]of this.elementProperties){const r=this._$Eu(n,i);r!==void 0&&this._$Eh.set(r,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const n=[];if(Array.isArray(t)){const i=new Set(t.flat(1/0).reverse());for(const r of i)n.unshift(yj(r))}else t!==void 0&&n.push(yj(t));return n}static _$Eu(t,n){const i=n.attribute;return i===!1?void 0:typeof i=="string"?i:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(t=>t(this))}addController(t){(this._$EO??=new Set).add(t),this.renderRoot!==void 0&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,n=this.constructor.elementProperties;for(const i of n.keys())this.hasOwnProperty(i)&&(t.set(i,this[i]),delete this[i]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return _Ne(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach(t=>t.hostConnected?.())}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach(t=>t.hostDisconnected?.())}attributeChangedCallback(t,n,i){this._$AK(t,i)}_$EC(t,n){const i=this.constructor.elementProperties.get(t),r=this.constructor._$Eu(t,i);if(r!==void 0&&i.reflect===!0){const s=(i.converter?.toAttribute!==void 0?i.converter:TA).toAttribute(n,i.type);this._$Em=t,s==null?this.removeAttribute(r):this.setAttribute(r,s),this._$Em=null}}_$AK(t,n){const i=this.constructor,r=i._$Eh.get(t);if(r!==void 0&&this._$Em!==r){const s=i.getPropertyOptions(r),o=typeof s.converter=="function"?{fromAttribute:s.converter}:s.converter?.fromAttribute!==void 0?s.converter:TA;this._$Em=r,this[r]=o.fromAttribute(n,s.type),this._$Em=null}}requestUpdate(t,n,i){if(t!==void 0){if(i??=this.constructor.getPropertyOptions(t),!(i.hasChanged??dX)(this[t],n))return;this.P(t,n,i)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(t,n,i){this._$AL.has(t)||this._$AL.set(t,n),i.reflect===!0&&this._$Em!==t&&(this._$Ej??=new Set).add(t)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[r,s]of this._$Ep)this[r]=s;this._$Ep=void 0}const i=this.constructor.elementProperties;if(i.size>0)for(const[r,s]of i)s.wrapped!==!0||this._$AL.has(r)||this[r]===void 0||this.P(r,this[r],s)}let t=!1;const n=this._$AL;try{t=this.shouldUpdate(n),t?(this.willUpdate(n),this._$EO?.forEach(i=>i.hostUpdate?.()),this.update(n)):this._$EU()}catch(i){throw t=!1,this._$EU(),i}t&&this._$AE(n)}willUpdate(t){}_$AE(t){this._$EO?.forEach(n=>n.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Ej&&=this._$Ej.forEach(n=>this._$EC(n,this[n])),this._$EU()}updated(t){}firstUpdated(t){}};Tf.elementStyles=[],Tf.shadowRootOptions={mode:"open"},Tf[Dv("elementProperties")]=new Map,Tf[Dv("finalized")]=new Map,MNe?.({ReactiveElement:Tf}),(e$.reactiveElementVersions??=[]).push("2.0.4");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const DO=globalThis,JS=DO.trustedTypes,bj=JS?JS.createPolicy("lit-html",{createHTML:e=>e}):void 0,hX="$lit$",Zu=`lit$${Math.random().toFixed(9).slice(2)}$`,pX="?"+Zu,kNe=`<${pX}>`,Gh=document,k0=()=>Gh.createComment(""),A0=e=>e===null||typeof e!="object"&&typeof e!="function",VO=Array.isArray,ANe=e=>VO(e)||typeof e?.[Symbol.iterator]=="function",eE=`[ 	
\f\r]`,Gy=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,wj=/-->/g,_j=/>/g,Jc=RegExp(`>|${eE}(?:([^\\s"'>=/]+)(${eE}*=${eE}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Sj=/'/g,xj=/"/g,fX=/^(?:script|style|textarea|title)$/i,mX=e=>(t,...n)=>({_$litType$:e,strings:t,values:n}),jqe=mX(1),zqe=mX(2),xc=Symbol.for("lit-noChange"),ai=Symbol.for("lit-nothing"),$j=new WeakMap,ch=Gh.createTreeWalker(Gh,129);function yX(e,t){if(!VO(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return bj!==void 0?bj.createHTML(t):t}const PNe=(e,t)=>{const n=e.length-1,i=[];let r,s=t===2?"<svg>":t===3?"<math>":"",o=Gy;for(let a=0;a<n;a++){const l=e[a];let c,h,p=-1,m=0;for(;m<l.length&&(o.lastIndex=m,h=o.exec(l),h!==null);)m=o.lastIndex,o===Gy?h[1]==="!--"?o=wj:h[1]!==void 0?o=_j:h[2]!==void 0?(fX.test(h[2])&&(r=RegExp("</"+h[2],"g")),o=Jc):h[3]!==void 0&&(o=Jc):o===Jc?h[0]===">"?(o=r??Gy,p=-1):h[1]===void 0?p=-2:(p=o.lastIndex-h[2].length,c=h[1],o=h[3]===void 0?Jc:h[3]==='"'?xj:Sj):o===xj||o===Sj?o=Jc:o===wj||o===_j?o=Gy:(o=Jc,r=void 0);const y=o===Jc&&e[a+1].startsWith("/>")?" ":"";s+=o===Gy?l+kNe:p>=0?(i.push(c),l.slice(0,p)+hX+l.slice(p)+Zu+y):l+Zu+(p===-2?a:y)}return[yX(e,s+(e[n]||"<?>")+(t===2?"</svg>":t===3?"</math>":"")),i]};let EA=class gX{constructor({strings:t,_$litType$:n},i){let r;this.parts=[];let s=0,o=0;const a=t.length-1,l=this.parts,[c,h]=PNe(t,n);if(this.el=gX.createElement(c,i),ch.currentNode=this.el.content,n===2||n===3){const p=this.el.content.firstChild;p.replaceWith(...p.childNodes)}for(;(r=ch.nextNode())!==null&&l.length<a;){if(r.nodeType===1){if(r.hasAttributes())for(const p of r.getAttributeNames())if(p.endsWith(hX)){const m=h[o++],y=r.getAttribute(p).split(Zu),g=/([.?@])?(.*)/.exec(m);l.push({type:1,index:s,name:g[2],strings:y,ctor:g[1]==="."?ONe:g[1]==="?"?RNe:g[1]==="@"?NNe:n$}),r.removeAttribute(p)}else p.startsWith(Zu)&&(l.push({type:6,index:s}),r.removeAttribute(p));if(fX.test(r.tagName)){const p=r.textContent.split(Zu),m=p.length-1;if(m>0){r.textContent=JS?JS.emptyScript:"";for(let y=0;y<m;y++)r.append(p[y],k0()),ch.nextNode(),l.push({type:2,index:++s});r.append(p[m],k0())}}}else if(r.nodeType===8)if(r.data===pX)l.push({type:2,index:s});else{let p=-1;for(;(p=r.data.indexOf(Zu,p+1))!==-1;)l.push({type:7,index:s}),p+=Zu.length-1}s++}}static createElement(t,n){const i=Gh.createElement("template");return i.innerHTML=t,i}};function jm(e,t,n=e,i){if(t===xc)return t;let r=i!==void 0?n._$Co?.[i]:n._$Cl;const s=A0(t)?void 0:t._$litDirective$;return r?.constructor!==s&&(r?._$AO?.(!1),s===void 0?r=void 0:(r=new s(e),r._$AT(e,n,i)),i!==void 0?(n._$Co??=[])[i]=r:n._$Cl=r),r!==void 0&&(t=jm(e,r._$AS(e,t.values),r,i)),t}let LNe=class{constructor(t,n){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:n},parts:i}=this._$AD,r=(t?.creationScope??Gh).importNode(n,!0);ch.currentNode=r;let s=ch.nextNode(),o=0,a=0,l=i[0];for(;l!==void 0;){if(o===l.index){let c;l.type===2?c=new t$(s,s.nextSibling,this,t):l.type===1?c=new l.ctor(s,l.name,l.strings,this,t):l.type===6&&(c=new DNe(s,this,t)),this._$AV.push(c),l=i[++a]}o!==l?.index&&(s=ch.nextNode(),o++)}return ch.currentNode=Gh,r}p(t){let n=0;for(const i of this._$AV)i!==void 0&&(i.strings!==void 0?(i._$AI(t,i,n),n+=i.strings.length-2):i._$AI(t[n])),n++}},t$=class vX{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,n,i,r){this.type=2,this._$AH=ai,this._$AN=void 0,this._$AA=t,this._$AB=n,this._$AM=i,this.options=r,this._$Cv=r?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&t?.nodeType===11&&(t=n.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,n=this){t=jm(this,t,n),A0(t)?t===ai||t==null||t===""?(this._$AH!==ai&&this._$AR(),this._$AH=ai):t!==this._$AH&&t!==xc&&this._(t):t._$litType$!==void 0?this.$(t):t.nodeType!==void 0?this.T(t):ANe(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==ai&&A0(this._$AH)?this._$AA.nextSibling.data=t:this.T(Gh.createTextNode(t)),this._$AH=t}$(t){const{values:n,_$litType$:i}=t,r=typeof i=="number"?this._$AC(t):(i.el===void 0&&(i.el=EA.createElement(yX(i.h,i.h[0]),this.options)),i);if(this._$AH?._$AD===r)this._$AH.p(n);else{const s=new LNe(r,this),o=s.u(this.options);s.p(n),this.T(o),this._$AH=s}}_$AC(t){let n=$j.get(t.strings);return n===void 0&&$j.set(t.strings,n=new EA(t)),n}k(t){VO(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let i,r=0;for(const s of t)r===n.length?n.push(i=new vX(this.O(k0()),this.O(k0()),this,this.options)):i=n[r],i._$AI(s),r++;r<n.length&&(this._$AR(i&&i._$AB.nextSibling,r),n.length=r)}_$AR(t=this._$AA.nextSibling,n){for(this._$AP?.(!1,!0,n);t&&t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){this._$AM===void 0&&(this._$Cv=t,this._$AP?.(t))}},n$=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,n,i,r,s){this.type=1,this._$AH=ai,this._$AN=void 0,this.element=t,this.name=n,this._$AM=r,this.options=s,i.length>2||i[0]!==""||i[1]!==""?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=ai}_$AI(t,n=this,i,r){const s=this.strings;let o=!1;if(s===void 0)t=jm(this,t,n,0),o=!A0(t)||t!==this._$AH&&t!==xc,o&&(this._$AH=t);else{const a=t;let l,c;for(t=s[0],l=0;l<s.length-1;l++)c=jm(this,a[i+l],n,l),c===xc&&(c=this._$AH[l]),o||=!A0(c)||c!==this._$AH[l],c===ai?t=ai:t!==ai&&(t+=(c??"")+s[l+1]),this._$AH[l]=c}o&&!r&&this.j(t)}j(t){t===ai?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}},ONe=class extends n${constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===ai?void 0:t}},RNe=class extends n${constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==ai)}},NNe=class extends n${constructor(t,n,i,r,s){super(t,n,i,r,s),this.type=5}_$AI(t,n=this){if((t=jm(this,t,n,0)??ai)===xc)return;const i=this._$AH,r=t===ai&&i!==ai||t.capture!==i.capture||t.once!==i.once||t.passive!==i.passive,s=t!==ai&&(i===ai||r);r&&this.element.removeEventListener(this.name,this,i),s&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}},DNe=class{constructor(t,n,i){this.element=t,this.type=6,this._$AN=void 0,this._$AM=n,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(t){jm(this,t)}};const Zqe={I:t$},VNe=DO.litHtmlPolyfillSupport;VNe?.(EA,t$),(DO.litHtmlVersions??=[]).push("3.2.1");const FNe=(e,t,n)=>{const i=n?.renderBefore??t;let r=i._$litPart$;if(r===void 0){const s=n?.renderBefore??null;i._$litPart$=r=new t$(t.insertBefore(k0(),s),s,void 0,n??{})}return r._$AI(e),r};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let dm=class extends Tf{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=FNe(n,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return xc}};dm._$litElement$=!0,dm.finalized=!0,globalThis.litElementHydrateSupport?.({LitElement:dm});const jNe=globalThis.litElementPolyfillSupport;jNe?.({LitElement:dm});(globalThis.litElementVersions??=[]).push("4.1.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const bX={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4},wX=e=>(...t)=>({_$litDirective$:e,values:t});let _X=class{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,n,i){this._$Ct=t,this._$AM=n,this._$Ci=i}_$AS(t,n){return this.update(t,n)}update(t,n){return this.render(...n)}};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const zNe=wX(class extends _X{constructor(e){if(super(e),e.type!==bX.ATTRIBUTE||e.name!=="class"||e.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter(t=>e[t]).join(" ")+" "}update(e,[t]){if(this.st===void 0){this.st=new Set,e.strings!==void 0&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter(i=>i!=="")));for(const i in t)t[i]&&!this.nt?.has(i)&&this.st.add(i);return this.render(t)}const n=e.element.classList;for(const i of this.st)i in t||(n.remove(i),this.st.delete(i));for(const i in t){const r=!!t[i];r===this.st.has(i)||this.nt?.has(i)||(r?(n.add(i),this.st.add(i)):(n.remove(i),this.st.delete(i)))}return xc}});/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const SX="important",BNe=" !"+SX,UNe=wX(class extends _X{constructor(e){if(super(e),e.type!==bX.ATTRIBUTE||e.name!=="style"||e.strings?.length>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(e){return Object.keys(e).reduce((t,n)=>{const i=e[n];return i==null?t:t+`${n=n.includes("-")?n:n.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${i};`},"")}update(e,[t]){const{style:n}=e.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(t)),this.render(t);for(const i of this.ft)t[i]==null&&(this.ft.delete(i),i.includes("-")?n.removeProperty(i):n[i]=null);for(const i in t){const r=t[i];if(r!=null){this.ft.add(i);const s=typeof r=="string"&&r.endsWith(BNe);i.includes("-")||s?n.setProperty(i,s?r.slice(0,-11):r,s?SX:""):n[i]=r}}return xc}});var xX=(e="",t={},n=Qx())=>{const i={emit:r=>{e===""&&LO();const s=new CustomEvent(e,{detail:r,cancelable:!0,bubbles:!0,composed:!0,...t});return n.el.dispatchEvent(s),s}};return e===""&&aX(void 0,r=>{e=r.key},i),i},Kqe=xX.bind(null,""),GNe=()=>{},HNe=class $X extends dm{constructor(){super(),this.el=this.constructor.lazy??this,this.manager=aNe(this),this._postLoad=this.constructor.lazy?._postLoad??new Uh,this._offspring=this.constructor.lazy?._offspring??[],this._postLoaded=this.constructor.lazy?._postLoaded??new Uh,this._enableUpdating=this.enableUpdating,this.enableUpdating=GNe;const t=$X.prototype.shouldUpdate;this.shouldUpdate!==t&&(this._originalShouldUpdate=this.shouldUpdate,this.shouldUpdate=t)}static finalizeStyles(t){const n=super.finalizeStyles(t),i=this.shadowRootOptions===cj;return this.runtime?.commonStyles===void 0||i?n:[this.runtime.commonStyles,...n]}static createProperty(t,n){const i=typeof n=="number"?n:Array.isArray(n)?n[0]:0,r=Array.isArray(n)?n[1]:void 0;super.createProperty(t,{attribute:i&1&&typeof t=="string"?nX(t):!1,reflect:!!(i&2),type:i&4?Boolean:i&8?Number:void 0,state:!!(i&16),readOnly:!!(i&32),noAccessor:!!(i&64),...r})}static{this.lumina=!0}connectedCallback(){if(this.el.hasAttribute("defer-hydration"))return;const t=!this.manager.connectedCalled;super.connectedCallback(),t&&queueMicrotask(()=>this._load().catch(n=>{this._postLoaded.reject(n),setTimeout(()=>{throw n})}))}createRenderRoot(){const t=this.el.shadowRoot,n=this.constructor,i=n.shadowRootOptions,s=t??(i===cj?this.el:this.el.attachShadow(i));if(Object.defineProperty(this,"shadowRoot",{value:s}),t)return dm.prototype.createRenderRoot.call(this),t;if(this.isConnected){const o=s.getRootNode();o.adoptedStyleSheets=[...o.adoptedStyleSheets,...n.elementStyles.map(a=>"styleSheet"in a?a.styleSheet:a)]}return s}async _load(){const t=this.el._ancestorLoad??iX(this.el);t&&await t,await this.manager._load(),this._enableUpdating(!0),this.performUpdate(),this._postLoad.resolve(),await Promise.resolve();const n=this._offspring.filter(i=>!i.manager?.loadedCalled);n.length&&await Promise.allSettled(n.map(async i=>await i.componentOnReady())),this._offspring.length=0,this.el.setAttribute(this.constructor.runtime.hydratedAttribute,""),this.manager._loaded(),this._postLoaded.resolve()}shouldUpdate(t){return this.$changes=t,this._originalShouldUpdate?.(t)??!0}listen(t,n,i){const r=n?.bind(this)??n;this.manager.onLifecycle(()=>(this.el.addEventListener(t,r,i),()=>this.el.removeEventListener(t,r,i)))}listenOn(t,n,i,r){const s=i?.bind(this)??i;this.manager.onLifecycle(()=>(t.addEventListener(n,s,r),()=>t.removeEventListener(n,s,r)))}async componentOnReady(){return await this._postLoaded.promise,this}};HNe.$createEvent=xX;function qNe(e){let t;const n=r=>{t=new URL(r,globalThis.location?.href||void 0).href},i={...e,getAssetPath(r){const s=new URL(r,t);return s.origin!==globalThis.location?.origin?s.href:s.pathname},setAssetPath:n,customElement(r,s){s.runtime=i,s.tagName=r,customElements.get(r)||customElements.define(r,s)}};return n(e.defaultAssetPath),i}var Xqe=e=>typeof e=="object"&&e!=null?zNe(e):e,Qqe=e=>typeof e=="object"&&e!=null?UNe(e):e,eWe=ai;function tWe(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}var nWe={toAttribute:e=>e===!0?"":e===!1?null:e};/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.0.3 */const WNe="calcite-mode-auto",ZNe="calcite-mode-dark",iWe={rtl:"calcite--rtl"},rWe={filter:250,nextTick:0,resize:150,reposition:100};function Tj(){const{classList:e}=document.body,t=window.matchMedia("(prefers-color-scheme: dark)").matches,n=()=>e.contains(ZNe)||e.contains(WNe)&&t?"dark":"light",i=o=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:o}})),r=o=>{s!==o&&i(o),s=o};let s=n();i(s),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",o=>r(o.matches?"dark":"light")),new MutationObserver(()=>r(n())).observe(document.body,{attributes:!0,attributeFilter:["class"]})}const Vv=globalThis.calciteConfig,sWe=Vv?.focusTrapStack||[],oWe=Vv?.logLevel||"info",Ej="3.0.3",YNe="2025-02-19",JNe="0b0b89f59";function KNe(){if(Vv&&Vv.version)return;console.info(`Using Calcite Components ${Ej} [Date: ${YNe}, Revision: ${JNe}]`);const e=Vv||globalThis.calciteConfig||{};Object.defineProperty(e,"version",{value:Ej,writable:!1}),globalThis.calciteConfig=e}const XNe=()=>typeof navigator<"u"&&typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;function QNe(){XNe()&&(document.readyState==="interactive"?Tj():document.addEventListener("DOMContentLoaded",()=>Tj(),{once:!0})),KNe()}QNe();const eDe=qNe({defaultAssetPath:"https://js.arcgis.com/calcite-components/3.0.3/",hydratedAttribute:"calcite-hydrated"}),{customElement:aWe,getAssetPath:lWe,setAssetPath:tDe}=eDe;/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.0.3 */let TX=!1;const nDe=e=>{TX=!0,tDe(e)};let EX;function iDe(){TX||nDe(Us(nn(EX)))}function hp(e){const t=[];for(const n of Object.keys(e))customElements.get(`calcite-${n}`)||t.push(e[n]?.());return t.length>0?Promise.all(t):null}EX="components/assets";const IX=Symbol("widget"),CX=Symbol("widget-test-data"),rDe=[],sDe={},KS=new WeakMap;function MX(e,t){let n=t.children;if(n?.length)for(let r=0;r<n.length;++r)n[r]=MX(e,n[r]);else n=rDe;const i=t.vnodeSelector;if(XS(i)){const r=t.properties||sDe,s=r.key||i,o={key:s,afterCreate:oDe,afterUpdate:aDe,afterRemoved:kX,parentWidget:e,widgetConstructor:i,widgetProperties:{...r,key:s,children:n}};return{vnodeSelector:i.vnodeSelector,properties:o,children:void 0,text:void 0,domNode:null}}return t}function oDe(e,t,n,{parentWidget:i,widgetConstructor:r,widgetProperties:s}){const o=new r(s);o.container=e,KS.set(e,o),o.afterCreate?.(o,e),i.addHandles(St(()=>kX(e))),queueMicrotask(()=>{o[CX].projector.renderNow()})}function aDe(e,t,n,{widgetProperties:i}){const r=KS.get(e);r&&(r.set(i),r.afterUpdate?.(r,e))}function kX(e){const t=KS.get(e);t&&(t.afterRemoved?.(t,e),t.destroy(),KS.delete(e))}function XS(e){return typeof e=="function"&&e[IX]}const Ij=new Set;function lDe(e){Ij.add(e),e.finally(()=>Ij.delete(e))}var AX;const uDe="esri.widgets.Widget";let cDe=0;function PX(e,t){const n=Object.prototype.hasOwnProperty;for(const i in t)n.call(t,i)&&n.call(e,i)&&(e[i]!=null&&t[i]!=null&&typeof e[i]=="object"&&typeof t[i]=="object"?PX(e[i],t[i]):e[i]=t[i]);return e}const dDe=$Re({postProcessProjectionOptions(e){const t=e.eventHandlerInterceptor,n=/capture$/i;e.eventHandlerInterceptor=(i,r,s,o)=>{const a=t?.(i,r,s,o),l=n.test(i);if(!((i=i.replace(n,"")).toLowerCase()in s)||l){const c=i[2].toLowerCase()+i.slice(3),h=y=>a?.call(s,y);s.addEventListener(c,h,l);const p=()=>s.removeEventListener(c,h,l),m=o.afterRemoved;o.afterRemoved=y=>{m?.(y),p()}}return a}},handleInterceptedEvent(e,t,n,i){const{eventPhase:r,type:s}=i,o=r===Event.CAPTURING_PHASE;let a=`on${s}${o?"capture":""}`;const l=t.properties;(l&&a in l||(a=`on${s[0].toUpperCase()}${s.slice(1)}${o?"Capture":""}`,l&&a in l))&&(qY(),e.scheduleRender(),l[a].call(l.bind||n,i))}});let tE=!1,Hn=class extends pb.EsriPromiseMixin(Ks.EventedAccessor){constructor(t,n){super(t,n),this._attached=!1,this._projector=dDe,this._readyForTrueRender=!1,this.key=this,this.autoRenderingEnabled=!0,this._loadLocale=B2(async()=>{if(this._messageBundleProps?.length){const l=await Promise.allSettled(this._messageBundleProps.map(async({bundlePath:c,propertyName:h})=>{if(this.destroyed)return;let p=await b3(c);this.uiStrings&&Object.keys(this.uiStrings)&&(p=PX(j(p),this.uiStrings)),this[h]=p}));if(this.destroyed)return;for(const c of l)c.status==="rejected"&&re.getLogger(this).error("widget-intl:locale-error",this.declaredClass,c.reason)}await this.loadLocale()}),iDe();const i="esri-widget-uid-"+Ix(),r=this.render.bind(this);this._trackingTarget=new U2(()=>{this.autoRenderingEnabled&&this.scheduleRender()});const s=()=>({vnodeSelector:"div",properties:{key:`${i}-hidden`,class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0}),o=()=>{if(!this._readyForTrueRender||this.destroyed)return null;const l=r()??s(),c=l.properties??={};if(c.key??=i,XS(l.vnodeSelector)){if(!this.visible)return s()}else this.visible?c.styles||(c.styles={}):(c.class="",c.styles={display:"none"}),c.styles.display??="";let h=0;return l.children?.forEach(p=>{XS(p.vnodeSelector)||(p.properties??={},p.properties.key??=`${this.id}--${h++}`)}),MX(this,l)};this.render=()=>{if(tE)return o();let l=$Ce(this)??null;if(l)return l;this._trackingTarget.clear(),tE=!0;try{l=Ll(this._trackingTarget,o)}catch(c){throw re.getLogger(this).error(c),c}finally{tE=!1}return l&&TCe(this,l),l};const a=this.beforeFirstRender();a?this._resourcesFetch=a.then(()=>{this._readyForTrueRender=!0,this._postInitialize()}):(this._resourcesFetch=Promise.resolve().then(()=>{this._postInitialize()}),this._readyForTrueRender=!0),this.addResolvingPromise(this._resourcesFetch),lDe(this._resourcesFetch)}normalizeCtorArgs(t,n){const i={...t};return n&&(i.container=n),i}postInitialize(){}beforeFirstRender(){const t=this.loadDependencies();return this._messageBundleProps?.length||t?Promise.all([t,this._loadLocale()]).then(()=>{}).catch(PN):null}loadDependencies(){return null}loadLocale(){return null}destroy(){this.destroyed||(Bt(this._trackingTarget),Bt(this.viewModel),this._detach(this.container),this._set("container",null),this._emitter.clear(),this.render=()=>null,this._projector=null,MT(this))}set container(t){this._get("container")||this._set("container",t)}castContainer(t){return sO(t)}get domNode(){return this.container}set domNode(t){this.container=t}get icon(){return null}set icon(t){this._overrideIfSome("icon",t)}get id(){return this._get("id")||this.container?.id||Date.now().toString(16)+"-widget-"+cDe++}set id(t){t&&this._set("id",t)}get label(){return this.declaredClass.split(".").pop()}set label(t){this._overrideIfSome("label",t)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(t){this._set("visible",t)}get[(AX=IX,CX)](){return{projector:this._projector}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||(MT(this),this._projector.scheduleRender())}classes(...t){return jf.apply(this,t)}renderNow(){MT(this),this._projector.renderNow()}_postInitialize(){if(this.destroyed)return;this.scheduleRender(),this._delegatedEventNames?.length&&this.addHandles(me(()=>this.viewModel,(n,i)=>{i&&this.removeHandles("delegated-events"),n&&z2(n)&&this.addHandles(this._delegatedEventNames.map(r=>tb(n,r,s=>{this.emit(r,s)})),"delegated-events")},Fr)),this.postInitialize();const t=async()=>{await this._loadLocale().catch(PN),this.scheduleRender()};this.addHandles([VL(t),me(()=>this.uiStrings,t),sr(()=>this.container,n=>{this.destroyed||this._attach(n)},{initial:!0,once:!0})])}_attach(t){t&&(this._projector.merge(t,this.render),this._attached=!0)}_detach(t){this._attached&&(this._projector.detach(this.render),this._attached=!1),t?.parentNode?.removeChild(t)}};Hn[AX]=!0,Hn.vnodeSelector="div",u([d()],Hn.prototype,"_readyForTrueRender",void 0),u([d({value:null})],Hn.prototype,"container",null),u([pt("container")],Hn.prototype,"castContainer",null),u([d()],Hn.prototype,"icon",null),u([d()],Hn.prototype,"id",null),u([d()],Hn.prototype,"label",null),u([d()],Hn.prototype,"renderable",null),u([d()],Hn.prototype,"uiStrings",void 0),u([d()],Hn.prototype,"viewModel",void 0),u([d({value:!0})],Hn.prototype,"visible",null),u([d()],Hn.prototype,"key",void 0),u([d()],Hn.prototype,"children",void 0),u([d()],Hn.prototype,"afterCreate",void 0),u([d()],Hn.prototype,"afterUpdate",void 0),u([d()],Hn.prototype,"afterRemoved",void 0),Hn=u([k(uDe)],Hn);const jn=Hn,hDe=new Map;function pDe(e){return hDe.get(e)}function Cj(e,t){return e&&"copyright"in e&&(!t||typeof e.originOf=="function"&&e.originOf("copyright")==="user")}function fDe(e,t){return e.length!==t.length||e.some((n,i)=>n.text!==t[i].text)}function Hy(e,t,n){!n||!t||e.find(i=>i.layerView===t&&i.text===n)||e.push({text:n,layerView:t})}function mDe(e){return e.type==="bing-maps"}const Ha=[];let Ef=class extends Ce{constructor(t){super(t),this._clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.removeHandles("suspension"),this.notifyChange("state")},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new we,this.view=null,this._allLayerViewsChange=n=>{this.removeHandles("suspension"),this.removeHandles("visible-geometry-changed");const i=this.view?.allLayerViews;i&&(this.addHandles(i.map(r=>me(()=>[r.suspended,r.layer?.attributionVisible],()=>this._updateAttributionItems())).toArray(),"suspension"),i.forEach(r=>{r.declaredClass==="esri.views.3d.layers.Tiles3DLayerView3D"&&this.addHandles(r.on("visible-geometry-changed",()=>this._updateAttributionItems()),"visible-geometry-changed")})),n?.removed&&n.removed.forEach(r=>{this._pendingAttributions.delete(r),this._fetchedAttributionData.delete(r)}),this._updateAttributionItems()},this.addHandles([Tr(()=>this.view?.allLayerViews,"change",n=>this._allLayerViewsChange(n),{onListenerAdd:()=>this._allLayerViewsChange(),onListenerRemove:this._clear}),sr(()=>this.view?.stationary===!0,()=>this._updateAttributionItems())])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){return this.view?.ready?this._pendingAttributions.size>0?"loading":"ready":"disabled"}_updateAttributionItems(){const t=this.view,n=t?.allLayerViews;if(Ha.length=0,!t||!n)return void this._clear();n.forEach(r=>{if(r.suspended||!r.layer?.attributionVisible)return;const s=r.layer;if(Cj(s,"user"))return void Hy(Ha,r,s.copyright);if(s.hasAttributionData){if(this._fetchedAttributionData.has(r)){const a=this._fetchedAttributionData.get(r);return void(a?Hy(Ha,r,this._getDynamicAttribution(a,t,s)):Cj(s)&&Hy(Ha,r,s.copyright))}return void this._fetchAttributionData(r)}const o="portalItem"in s?s.portalItem?.accessInformation:void 0;Hy(Ha,r,o||s.copyright)});const i=n.find(r=>r.layer?.type==="integrated-mesh-3dtiles");if(this.view&&i){const r=pDe(this.view);if(r){const s=r.getAttributionText();for(let o=0;o<s.length;++o)Hy(Ha,i,s[o])}}fDe(this.items,Ha)&&(this.items.removeAll(),this.items.addMany(Ha)),Ha.length=0,this.notifyChange("state")}async _fetchAttributionData(t){if(this._pendingAttributions.has(t))return;this._pendingAttributions.add(t);const n=await mx(t.layer.fetchAttributionData());if(this._pendingAttributions.has(t)){const i=n.ok?this._createContributionIndex(n.value,mDe(t.layer)):null;this._pendingAttributions.delete(t),this._fetchedAttributionData.set(t,i)}this._updateAttributionItems()}_createContributionIndex(t,n){const i=t.contributors,r={};if(!i)return r;for(let s=0;s<i.length;s++){const o=i[s],a=o.coverageAreas;if(!a)return;for(const l of a){const c=l.bbox,h=l.zoomMin-(n&&l.zoomMin?1:0),p=l.zoomMax-(n&&l.zoomMax?1:0),m=new Gt({xmin:c[1],ymin:c[0],xmax:c[3],ymax:c[2],spatialReference:et.WGS84}),y={extent:gh(m),attribution:o.attribution||"",score:l.score!=null?l.score:100,id:s};for(let g=h;g<=p;g++)r[g]??=[],r[g].push(y)}}return r.maxKey=Math.max.apply(null,Object.keys(r)),r}_getDynamicAttribution(t,n,i){const{extent:r,scale:s}=n;let o=i.tileInfo?.scaleToZoom(s)??0;if(o=Math.min(t.maxKey??0,Math.round(o)),!r||o==null||o<=-1)return"";const a=t[o],l=px(r.center.clone().normalize(),et.WebMercator),c=new Set;return a?a.filter(h=>{const p=h.id,m=!c.has(p)&&l&&h.extent&&fb(h.extent,l);return m&&c.add(p),m}).sort((h,p)=>p.score-h.score||h.objectId-p.objectId).map(h=>h.attribution).join(", "):""}};u([d({readOnly:!0,type:we})],Ef.prototype,"items",void 0),u([d({readOnly:!0})],Ef.prototype,"state",null),u([d()],Ef.prototype,"view",void 0),Ef=u([k("esri.widgets.Attribution.AttributionViewModel")],Ef);const LX=Ef,Zn={button:"esri-button",buttonDisabled:"esri-button--disabled",buttonHalf:"esri-button--half",buttonSecondary:"esri-button--secondary",buttonSmall:"esri-button--small",buttonTertiary:"esri-button--tertiary",buttonThird:"esri-button--third",disabled:"esri-disabled",empty:"esri-widget__content--empty",heading:"esri-widget__heading",hidden:"esri-hidden",interactive:"esri-interactive",panel:"esri-widget--panel",table:"esri-widget__table",widget:"esri-widget",widgetButton:"esri-widget--button"};function yDe(){return function(e,t){if(!e[t])throw new TypeError(`Cannot auto bind undefined function '${String(t)}'`);return{value:vDe(e[t])}}}function gDe(e){const t=e?.type;return e instanceof KeyboardEvent||t==="keyup"||t==="keydown"||t==="keypress"}function vDe(e){return function(t,...n){gDe(t)?MCe(t.key)&&(t.preventDefault(),t.stopPropagation(),t.target.click()):e.call(this,t,...n)}}function Xs(e){return(t,n)=>{t.hasOwnProperty("_messageBundleProps")||(t._messageBundleProps=t._messageBundleProps?t._messageBundleProps.slice():[]),t._messageBundleProps.push({bundlePath:e,propertyName:n})}}var bDe=function(e){return{vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}},OX=function(e,t){for(var n=0,i=e.length;n<i;n++){var r=e[n];Array.isArray(r)?OX(r,t):r!=null&&r!==!1&&(r.hasOwnProperty("vnodeSelector")||(r=bDe(r)),t.push(r))}},wDe=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(n.length===1&&typeof n[0]=="string")return{vnodeSelector:e,properties:t||void 0,children:void 0,text:n[0],domNode:null};var r=[];return OX(n,r),{vnodeSelector:e,properties:t||void 0,children:r,text:void 0,domNode:null}};function N(e,t,...n){return typeof e!="function"||XS(e)?wDe(e,t??null,...n):e(t,...n)}function dWe(...e){return e}const Op="esri-attribution",Rp={base:Op,poweredBy:`${Op}__powered-by`,sources:`${Op}__sources`,open:`${Op}--open`,sourcesOpen:`${Op}__sources--open`,link:`${Op}__link`};let mr=class extends jn{constructor(t,n){super(t,n),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this._resizeObserver=new ResizeObserver(i=>i.forEach(({target:r})=>this._checkSourceTextOverflow(r))),this.itemDelimiter=" | ",this.messages=null,this.viewModel=new LX}initialize(){this.addHandles(Tr(()=>this.viewModel?.items,"change",()=>this.scheduleRender()))}destroy(){this._resizeObserver?.disconnect()}get _isInteractive(){return this._isOpen||this._attributionTextOverflowed}get attributionText(){return this.viewModel.items.reduce((t,n)=>(t.includes(n.text)||t.push(n.text),t),[]).join(this.itemDelimiter)}get icon(){return"description"}set icon(t){this._overrideIfSome("icon",t)}get label(){return this.messages?.widgetLabel??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}render(){const t={[Rp.open]:this._isOpen};return N("div",{bind:this,class:this.classes(Rp.base,Zn.widget,t),dir:"ltr",onclick:this._toggleState,onkeydown:this._toggleState},this._renderSourcesNode(),this._renderPoweredBy())}_renderPoweredBy(){return N("div",{class:Rp.poweredBy},"Powered by"," ",N("a",{class:Rp.link,href:"https://www.esri.com/",rel:"noreferrer",target:"_blank"},"Esri"))}_renderSourcesNode(){const t=this._isOpen,n=this._isInteractive,i=n?0:void 0,{attributionText:r}=this,s={[Rp.sourcesOpen]:t,[Zn.interactive]:n};return N("div",{afterCreate:this._afterSourcesNodeCreate,bind:this,class:this.classes(Rp.sources,s),innerHTML:r,tabIndex:i})}_afterSourcesNodeCreate(t){this._prevSourceNodeHeight=t.clientWidth,this._resizeObserver.observe(t)}_checkSourceTextOverflow(t){let n=!1;const{clientHeight:i,clientWidth:r,scrollWidth:s}=t,o=s>r,a=this._attributionTextOverflowed!==o;if(this._attributionTextOverflowed=o,a&&(n=!0),this._isOpen){const l=i<this._prevSourceNodeHeight;this._prevSourceNodeHeight=i,l&&(this._isOpen=!1,n=!0)}n&&this.scheduleRender()}_toggleState(){this._isInteractive&&(this._isOpen=!this._isOpen)}};u([d()],mr.prototype,"_isOpen",void 0),u([d()],mr.prototype,"_isInteractive",null),u([d()],mr.prototype,"_attributionTextOverflowed",void 0),u([d()],mr.prototype,"_prevSourceNodeHeight",void 0),u([d({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],mr.prototype,"attributionText",null),u([d()],mr.prototype,"icon",null),u([d()],mr.prototype,"itemDelimiter",void 0),u([d()],mr.prototype,"label",null),u([d(),Xs("esri/widgets/Attribution/t9n/Attribution")],mr.prototype,"messages",void 0),u([d()],mr.prototype,"view",null),u([d({type:LX})],mr.prototype,"viewModel",void 0),u([yDe()],mr.prototype,"_toggleState",null),mr=u([k("esri.widgets.Attribution")],mr);const _De=mr;function SDe(){const e=H("mapview-essential-goto-duration");return e==null?e:e}function xDe(e){return e?.spatialReference?.isWebMercator||e?.spatialReference?.isGeographic||!1}const $De=e=>{let t=class extends e{constructor(...n){super(...n),this.goToOverride=null,this.view=null}callGoTo(n){const{view:i}=this;return K0(i),this.goToOverride?this.goToOverride(i,n):i.goTo(n.target,n.options)}};return u([d()],t.prototype,"goToOverride",void 0),u([d()],t.prototype,"view",void 0),t=u([k("esri.widgets.support.GoTo")],t),t};let Nd=class extends $De(Ce){constructor(t){super(t),this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this._watchForView(mt)}destroy(){this.view=null}get canShowNorth(){return xDe(this.view)}get state(){return!this.view?.ready||this.view.type==="2d"&&!this.view.constraints.rotationEnabled?"disabled":this.canShowNorth?"compass":"rotation"}reset(){this.view?.ready&&(this.view?.type==="2d"?this.callGoTo({target:{rotation:0},options:{animationMode:"always",duration:SDe()}}):this.callGoTo({target:{heading:0}}))}_updateForRotation(t){t!=null&&this._set("orientation",{z:t})}_updateForCamera(t){if(!t)return;const n=-t.heading;this._set("orientation",{x:0,y:0,z:n})}_updateRotationWatcher(t){this.removeAllHandles(),this._watchForView(),t&&this.addHandles(t.type==="2d"?me(()=>t?.rotation,this._updateForRotation,mt):me(()=>t?.camera,this._updateForCamera,mt))}_watchForView(t){this.addHandles(me(()=>this.view,this._updateRotationWatcher,t))}};u([d({readOnly:!0})],Nd.prototype,"canShowNorth",null),u([d({readOnly:!0})],Nd.prototype,"orientation",void 0),u([d({readOnly:!0})],Nd.prototype,"state",null),u([d()],Nd.prototype,"view",void 0),Nd=u([k("esri.widgets.Compass.CompassViewModel")],Nd);const RX=Nd,Mj="esri-compass",kj={base:Mj,iconContainer:`${Mj}__icon-container`};let pl=class extends jn{constructor(t,n){super(t,n),this.messages=null,this.viewModel=new RX,this._reset=()=>{this.viewModel.reset()},this._toRotationTransform=i=>({transform:`rotateZ(${i.z}deg)`})}loadDependencies(){return hp({button:()=>J(()=>import("./index-C7XRDy6O.js"),__vite__mapDeps([284,285,286,287,3,288,289,290,291,292,293,294,295,296,297])),icon:()=>J(()=>import("./index-BlVPZ5Il.js"),__vite__mapDeps([288,289,286,290,3]))})}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(t){this.viewModel.goToOverride=t}get icon(){return this.viewModel.state==="rotation"?"arrow-up":"compass-needle"}set icon(t){this._overrideIfSome("icon",t)}get label(){return this.messages?.widgetLabel??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}reset(){return this.viewModel.reset()}render(){const{orientation:t,state:n}=this.viewModel,{messages:i}=this;return N("div",{class:this.classes(kj.base,Zn.widget)},N("calcite-button",{class:Zn.widgetButton,disabled:n==="disabled",kind:"neutral",label:i.reset,onclick:this._reset,round:!0,scale:"s",title:i.reset},N("div",{"aria-hidden":"true",class:kj.iconContainer,title:i.reset},N("calcite-icon",{icon:this.icon,styles:this._toRotationTransform(t)}))))}};u([d()],pl.prototype,"goToOverride",null),u([d()],pl.prototype,"icon",null),u([d()],pl.prototype,"label",null),u([d(),Xs("esri/widgets/Compass/t9n/Compass")],pl.prototype,"messages",void 0),u([d()],pl.prototype,"view",null),u([d({type:RX})],pl.prototype,"viewModel",void 0),pl=u([k("esri.widgets.Compass")],pl);const TDe=pl,Aj="esri-navigation-toggle",Pj={base:Aj,isLayoutHorizontal:`${Aj}--horizontal`};let If=class extends Ce{constructor(t){super(t),this._navigationMode="pan",this.view=null}initialize(){this.addHandles(sr(()=>this.view?.navigation?.actionMap,()=>this._updateNavigationActionMap()))}destroy(){this.view=null}get state(){return this.view?.ready&&this.view?.type==="3d"?"ready":"disabled"}get navigationMode(){return this._navigationMode}set navigationMode(t){this._navigationMode=t,this._updateNavigationActionMap()}toggle(){this.state!=="disabled"&&(this.navigationMode=this.navigationMode!=="pan"?"pan":"rotate")}_updateNavigationActionMap(){const t=this.view?.navigation?.actionMap;if(!t)return;const n=this._navigationMode==="pan";t.dragPrimary=n?"pan":"rotate",t.dragSecondary=n?"rotate":"pan"}};u([d({readOnly:!0})],If.prototype,"state",null),u([d()],If.prototype,"_navigationMode",void 0),u([d()],If.prototype,"view",void 0),If=u([k("esri.widgets.NavigationToggle.NavigationToggleViewModel")],If);const NX=If;let fl=class extends jn{constructor(t,n){super(t,n),this.messages=null,this.viewModel=new NX,this.toggle=()=>this.viewModel.toggle(),this._panButton=null,this._rotateButton=null,this._toggle=()=>{const i=this.viewModel?.navigationMode==="pan"?this._rotateButton:this._panButton;Av(i),this.toggle()}}loadDependencies(){return hp({button:()=>J(()=>import("./index-C7XRDy6O.js"),__vite__mapDeps([284,285,286,287,3,288,289,290,291,292,293,294,295,296,297]))})}get icon(){return"move"}set icon(t){this._overrideIfSome("icon",t)}get label(){return this.messages?.widgetLabel??""}set label(t){this._overrideIfSome("label",t)}set layout(t){t!=="horizontal"&&(t="vertical"),this._set("layout",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}render(){const t=this.viewModel?.state==="disabled",n=this.viewModel?.navigationMode==="pan",i=this.messages.toggle;return N("div",{class:this.classes(Pj.base,Zn.widget,{[Pj.isLayoutHorizontal]:this.layout==="horizontal"})},N("calcite-button",{afterCreate:r=>{this._panButton=r},appearance:n?"outline-fill":"solid",class:Zn.widgetButton,disabled:t,iconStart:"move",kind:"neutral",label:i,onclick:this._toggle,tabIndex:n?void 0:-1,title:i}),N("calcite-button",{afterCreate:r=>{this._rotateButton=r},appearance:n?"solid":"outline-fill",class:Zn.widgetButton,disabled:t,iconStart:"rotate",kind:"neutral",label:i,onclick:this._toggle,tabIndex:n?-1:void 0,title:i}))}};u([d()],fl.prototype,"icon",null),u([d()],fl.prototype,"label",null),u([d({value:"vertical"})],fl.prototype,"layout",null),u([d(),Xs("esri/widgets/NavigationToggle/t9n/NavigationToggle")],fl.prototype,"messages",void 0),u([d()],fl.prototype,"view",null),u([d({type:NX})],fl.prototype,"viewModel",void 0),fl=u([k("esri.widgets.NavigationToggle")],fl);const EDe=fl;let Dd=class extends Ce{get canZoomIn(){if(!this.view?.ready)return!1;const n=this.view?.constraints?.effectiveMaxScale;return n===0||this._scale>n}get canZoomOut(){const{view:t}=this;if(!t?.ready)return!1;const i=t.constraints?.effectiveMinScale;return i===0||this._scale<i}get _scale(){const t=this.view?.animation?.target;return(t&&"then"in t?void 0:t?.scale)??this.view?.scale??0}};u([d({readOnly:!0})],Dd.prototype,"canZoomIn",null),u([d({readOnly:!0})],Dd.prototype,"canZoomOut",null),u([d()],Dd.prototype,"view",void 0),u([d()],Dd.prototype,"_scale",null),Dd=u([k("esri.widgets.Zoom.ZoomConditions2D")],Dd);const IDe=Dd;let Cf=class extends Ce{get canZoomIn(){return!!this.view.ready}get canZoomOut(){return!!this.view.ready}};u([d({readOnly:!0})],Cf.prototype,"canZoomIn",null),u([d({readOnly:!0})],Cf.prototype,"canZoomOut",null),u([d()],Cf.prototype,"view",void 0),Cf=u([k("esri.widgets.Zoom.ZoomConditions3D")],Cf);const CDe=Cf;let Ru=class extends Ce{constructor(t){super(t)}destroy(){this.view=null}get canZoomIn(){return this._zoomConditions!=null&&this._zoomConditions.canZoomIn}get canZoomOut(){return this._zoomConditions!=null&&this._zoomConditions?.canZoomOut}get state(){return this.view?.ready?"ready":"disabled"}set view(t){t?t.type==="2d"?this._zoomConditions=new IDe({view:t}):t.type==="3d"&&(this._zoomConditions=new CDe({view:t})):this._zoomConditions=null,this._set("view",t)}zoomIn(){const t=this.view;this.canZoomIn&&t&&(t.type==="2d"?t.mapViewNavigation.zoomIn():t0(t.goTo({zoomFactor:2})))}zoomOut(){const t=this.view;this.canZoomOut&&t&&(t.type==="2d"?t.mapViewNavigation.zoomOut():t0(t.goTo({zoomFactor:.5})))}};u([d()],Ru.prototype,"_zoomConditions",void 0),u([d()],Ru.prototype,"canZoomIn",null),u([d()],Ru.prototype,"canZoomOut",null),u([d({readOnly:!0})],Ru.prototype,"state",null),u([d()],Ru.prototype,"view",null),Ru=u([k("esri.widgets.Zoom.ZoomViewModel")],Ru);const DX=Ru,Lj={base:"esri-zoom",horizontalLayout:"esri-zoom--horizontal"};let ml=class extends jn{constructor(t,n){super(t,n),this.messages=null,this.viewModel=new DX,this.zoomIn=()=>this.viewModel.zoomIn(),this.zoomOut=()=>this.viewModel.zoomOut()}loadDependencies(){return hp({button:()=>J(()=>import("./index-C7XRDy6O.js"),__vite__mapDeps([284,285,286,287,3,288,289,290,291,292,293,294,295,296,297]))})}get icon(){return"magnifying-glass-plus"}set icon(t){this._overrideIfSome("icon",t)}get label(){return this.messages?.widgetLabel??""}set label(t){this._overrideIfSome("label",t)}set layout(t){t!=="horizontal"&&(t="vertical"),this._set("layout",t)}set view(t){this.viewModel.view=t}get view(){return this.viewModel.view}render(){const t={[Lj.horizontalLayout]:this.layout==="horizontal"},{canZoomIn:n,canZoomOut:i}=this.viewModel,{zoomIn:r,zoomOut:s}=this.messages;return N("div",{class:this.classes(Lj.base,Zn.widget,t)},N("calcite-button",{class:Zn.widgetButton,disabled:!n,iconStart:"plus",kind:"neutral",label:r,onclick:this.zoomIn,title:r}),N("calcite-button",{class:Zn.widgetButton,disabled:!i,iconStart:"minus",kind:"neutral",label:s,onclick:this.zoomOut,title:s}))}};u([d()],ml.prototype,"icon",null),u([d()],ml.prototype,"label",null),u([d({value:"vertical"})],ml.prototype,"layout",null),u([d(),Xs("esri/widgets/Zoom/t9n/Zoom")],ml.prototype,"messages",void 0),u([d()],ml.prototype,"view",null),u([d({type:DX})],ml.prototype,"viewModel",void 0),ml=u([k("esri.widgets.Zoom")],ml);const MDe=ml;function kDe(e){return e?.view!==void 0}let v_=class extends vRe{constructor(t){super(t),this._defaultPositionLookup={attribution:"manual",compass:"top-left","navigation-toggle":"top-left",zoom:"top-left"},this.components=[],this._updateViewAwareWidgets=n=>{this.components.forEach(i=>{const r=this._find(i),s=r?.widget;kDe(s)&&(s.view=n)})},this._componentsWatcher=(n,i)=>{this._removeComponents(i),this._addComponents(n),this._adjustPadding(n)}}initialize(){this.addHandles([me(()=>this.components,this._componentsWatcher,mt),me(()=>this.view,this._updateViewAwareWidgets,mt)])}_add(t,n,i,r,s){let o=t;if(typeof t=="string"&&this._defaultPositionLookup[t]){if(this._find(t))return;o=this._createComponent(t)}super._add(o,n,i,r,s)}_removeComponents(t){t.forEach(n=>{const i=this._find(n);i&&(this.remove(i),i.destroy())})}_adjustPadding(t){if(!t.includes("attribution")&&!this._isOverridden("padding")){const{top:n}=this.padding;this.padding=n}}_addComponents(t){this.constructed&&t.forEach(n=>this.add(this._createComponent(n),this._defaultPositionLookup[n]))}_createComponent(t){const n=this._createWidget(t);return new m_({id:t,node:n})}_createWidget(t){const n=this.view;switch(t){case"attribution":return new _De({view:n});case"compass":return new TDe({view:n});case"navigation-toggle":return new EDe({view:n});case"zoom":return new MDe({view:n})}}};u([d()],v_.prototype,"components",void 0),v_=u([k("esri.views.ui.DefaultUI")],v_);const VX=v_;let b_=class extends VX{constructor(t){super(t),this.components=["attribution","zoom"]}};u([d()],b_.prototype,"components",void 0),b_=u([k("esri.views.ui.2d.DefaultUI2D")],b_);const FX=b_;let ADe=class extends LZ{constructor(t,n){super(t,n,"webmap")}};function nE(e){return e!=null&&typeof e=="object"&&"declaredClass"in e&&e.declaredClass==="esri.WebMap"}new ADe(2,33);var IA;let w_=IA=class extends te{constructor(e){super(e),this.color=new he([0,0,0,1])}clone(){return new IA(j({color:this.color}))}};u([d({type:he,json:{write:!0}})],w_.prototype,"color",void 0),w_=IA=u([k("esri.webmap.background.ColorBackground")],w_);const PDe=w_;let jX,zX,BX,UX,GX,HX,qX;async function LDe(){const[,{GraphicsView2D:e,GraphicContainer:t,LabelManager:n,MapViewNavigation:i,MagnifierView2D:r,GridView2D:s,Stage:o}]=await Promise.all([J(()=>import("./webglDeps-DvWTmSEL.js"),__vite__mapDeps([209,166,17,210,211,212,3])),J(()=>import("./mapViewDeps-BXO0H_vD.js"),__vite__mapDeps([213,99,214,97,98,18,17,100,101,102,103,95,106,215,210,166,211,170,145,96,66,216,94,123,217,152,151,110,15,16,19,104,6,3,218,107,108,109,178,34,150,209,212,219,118,220,93,45,40,47,2,221,159,160,143,168,222,82,223,111,224,225,105,226,71,115,91,227,228,229,230,162,231,232]))]);zX=e,BX=t,UX=n,GX=i,HX=r,qX=s,jX=o}let lt=class extends qLe(AIe(rMe(GCe(tke)))){constructor(e){super(e),this._magnifierView=null,this._gridView=null,this.stage=null,this._resolveWhenReady=[],this.rootLayerViews=new T0({getCollections:()=>[this.basemapView?.baseLayerViews,this.layerViews,this.basemapView?.referenceLayerViews],getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.graphicsView=null,this.labelManager=null,this.navigation=new Hx({actionMap:new dO({dragTertiary:"none"})}),this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.supersampleScreenshotsEnabled=!0,this.supportsGround=!1,this.floors=new we,this.grid=null,this.map=null,this.spatialReferenceLocked=!1,this.timeline=new YK,this.type="2d",this.view2dType=null,this.ui=new FX,this.test={takeScreenshot:async t=>QOe(this._getScreenshotView(t),t)},this.padding={top:0,right:0,bottom:0,left:0},Gwe()}destroy(){this.layerViewManager.clear(),this._set("preconditionsReady",!1),this.frameTask=Bt(this.frameTask),this.goToManager.destroy(),this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get graphicsTileStore(){return new oOe(this.featuresTilingScheme)}get constraintsInfo(){const e=this.defaultsFromMap?.tileInfo,t=this.spatialReference;return{lods:e?.spatialReference?.equals(t)?e.lods:null,spatialReference:t}}get initialExtentRequired(){if(!this.stateManager)return!1;const{scale:e,constraints:t,center:n,viewpoint:i,extent:r}=this;let s=this.zoom;return!(this.map&&"initialViewProperties"in this.map&&this.map.initialViewProperties?.viewpoint)&&!r&&(t?.effectiveLODs||(s=-1),(!n||e===0&&s===-1)&&(i?.targetGeometry==null||i.targetGeometry.type!=="extent"&&!i.scale))}get defaultsFromMapSettings(){return{required:{extent:!1,heightModelInfo:!1,tileInfo:!0},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get scheduler(){return this.frameTask.scheduler}get typeSpecificPreconditionsReady(){const e=this._getDefaultViewpoint();if(!e)return!1;const t=e.targetGeometry,n=this.spatialReference;return pY(t.spatialReference,n)}get background(){return nE(this.map)?this.map.initialViewProperties.background:null}set background(e){this._override("background",e)}get center(){return this.stateManager?.center??null}set center(e){this.stateManager.center=e}get highlightOptions(){return DOe(this)}set highlightOptions(e){VOe(this,e)}get padding(){return this.stateManager?.padding}set padding(e){this.stateManager&&(this.stateManager.padding=e)}get rendering(){return this.stage?.renderRequested??!1}get resolution(){return this.stateManager.resolution??0}get scale(){return this.stateManager?.scale??0}set scale(e){this.stateManager&&(this.stateManager.scale=e)}get tileInfo(){return this.featuresTilingScheme?.tileInfo}get updating(){const e=!(!this.magnifier.visible||this.magnifier.position===null||!this._magnifierView?.updatingHandles.updating),t=!this.destroyed&&(!this.layerViewManager||!this.labelManager||!this.graphicsView||this.layerViewManager.updating===!0||this.labelManager.updating===!0||this.graphicsView.updating===!0||this.allLayerViews.some(n=>!n.destroyed&&!("layerViews"in n)&&n.updating===!0)||e);if(H("esri-2d-log-updating")){const n=this.allLayerViews.reduce((i,r)=>({...i,[`${r.layer.id}(${r.layer.type})`]:!r.destroyed&&!("layerViews"in r)&&r.updating}),{});console.log(`Updating MapView: ${t}
-> Null LayerViewManager: ${!this.layerViewManager}
-> Null LabelManager: ${!this.labelManager}
-> Null GraphicsView: ${!this.graphicsView}
-> layerViewManager.updating: ${this.layerViewManager?.updating}
-> labelManager.updating: ${this.labelManager?.updating}
-> graphicsView.updating: ${this.graphicsView?.updating}
-> allLayerViews: ${JSON.stringify(n)}
-> updatingMagnifier: ${e}
`)}return t}get visibleArea(){const e=this.stateManager.visibleArea;return e&&new Wo({rings:[e.map(t=>[t[0],t[1]])],spatialReference:this.spatialReference})}get zoom(){return this.stateManager.zoom??-1}set zoom(e){this.stateManager.zoom=e}get navigating(){return this.mapViewNavigation?.interacting??!1}async hitTest(e,t){return FOe(this,e,t)}async takeScreenshot(e){return XOe(this._getScreenshotView(e),e)}toMap(e){if(!this.ready)return null;const t=aJ(e)?oJ(this,e):e;return this.stateManager.toMap(t)}toScreen(e,t){return this.stateManager.toScreen(e,t)}whenLayerView(e){return super.whenLayerView(e)}graphicChanged(e){this.graphicsView&&this.graphicsView.graphicUpdateHandler(e)}whenReady(){return new Promise(e=>{this.ready?e(this):this._resolveWhenReady.push(e)})}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){return this.map&&"initialViewProperties"in this.map&&this.map.initialViewProperties.spatialReference||this.defaultsFromMap?.spatialReference||null}getDefaultTimeZone(){return nE(this.map)?this.map.initialViewProperties.timeZone:null}getDefaultTimeExtent(){return nE(this.map)?this.map.initialViewProperties.timeExtent:null}hasLayerViewModule(e){return S6.hasLayerViewModule(e)}importLayerView(e){return S6.importLayerView(e)}pixelSizeAt(){return this.ready?this.resolution:(re.getLogger(this).error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}async popupHitTest(e){const t=this.toMap(e),n=await this.hitTest(e),i=this.allLayerViews.toArray().filter(l=>l.clips.every(c=>VK(this,c,e,t))).reverse(),r=new globalThis.Map(i.map(l=>[l.layer.uid,l])),s=[];let o=0,a=0;for(;o<n.results.length||a<i.length;){const l=n.results.at(o);if(l&&l.type!=="graphic"){++o;continue}const c=r.get((l?.layer??l?.graphic.layer)?.uid);if((!l||c)&&a<i.length&&i.at(a)!==c){const h=i.at(a);"fetchPopupFeaturesAtLocation"in h&&s.push({mapPoint:t,layerView:h}),++a}else l&&(s.push({graphic:l.graphic,layerView:c}),++o)}return{hits:s,location:t}}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}async validate(){let e=uRe(this.type);if(H("safari")&&H("safari")<9&&(e=new B("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:H("safari")})),e!=null)throw re.getLogger(this).warn("#validate()",e.message),e}loadAsyncDependencies(){return LDe()}_getDefaultViewpoint(){const{constraints:e,initialExtent:t,map:n,padding:i,size:r}=this;if(!e)return null;const s=n&&"initialViewProperties"in n?n.initialViewProperties:void 0,o=this.stateManager.getUserStartupOptions(this.size),a=s?.viewpoint,l=a?.targetGeometry?.extent??t,c=l?.center,h=a?.rotation??0,p=a?.scale||l&&Yx(l,[r[0]-i.left-i.right,r[1]-i.top-i.bottom]),m=o.center??c,y=o.rotation??h,g=o.scale??p;return m&&g?new Zs({targetGeometry:m,scale:g,rotation:y}):null}_startup(){this.timeline.begin("MapView Startup");const e=this._getDefaultViewpoint();this.stateManager.startup(e,this.size,this.spatialReference,this.defaultsFromMap.extent?.center),this.graphics.owner=this;const t=new jX(this.surface,{canvas:this.renderCanvas,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline});this.stage=t,this._magnifierView=new HX,this._magnifierView.magnifier=this.magnifier,this._gridView=new qX;const n=new UX({view:this});this._set("labelManager",n);const i=new B3e({view:this});this._set("animationManager",i);const r=new GX({view:this,animationManager:i});this._set("mapViewNavigation",r),this._setupSpatialReferenceDependentProperties(),this.addHandles([this.rootLayerViews.on("change",()=>this._updateStageChildren()),t.on("webgl-error",o=>this.fatalError=o.error),me(()=>this.stationary,o=>t.stationary=o,Fr),me(()=>this.background,o=>{t.backgroundColor=o?.color,this._magnifierView.backgroundColor=o?.color},Fr),me(()=>this.magnifier,o=>this._magnifierView.magnifier=o,Fr),me(()=>this.grid,o=>this._gridView.grid=o,Fr),me(()=>this.renderingOptions,o=>t.renderingOptions=o,Fr),me(()=>this.highlights.items.map(o=>({name:o.name,options:{fillColor:o.color,haloColor:o.haloColor,fillOpacity:o.fillOpacity,haloOpacity:o.haloOpacity,haloWidth:o.haloWidth,haloBlur:o.haloBlur}})),()=>{t.highlightGradient=ROe(t.highlightGradient,this.highlights.items)},Fr),me(()=>this.state.id,()=>t.state=this.state,Fr)],"map-view"),this._updateStageChildren();const s=this._resolveWhenReady;this._resolveWhenReady=[],s.forEach(o=>o(this)),this.timeline.end("MapView Startup"),this.frameTask.start(),this._set("ready",!0)}_teardown(){this._destroySpatialReferenceDependentProperties(),this.removeHandles("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animation=null,this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this._gridView.destroy(),this.stage.destroy(),this.stage=null,this._set("graphicsView",null),this._magnifierView=null,this._gridView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask.stop(),this.stationaryManager.clear(),this._set("ready",!1),this.stateManager.teardown()}_updateStageChildren(){this.stage.removeAllChildren(),this.rootLayerViews.forEach(t=>{this.stage.addChild(t.container)});const e=this.graphicsView;this.stage.addChild(e.container),this.stage.addChild(this._magnifierView),this.stage.addChild(this._gridView)}_setupSpatialReferenceDependentProperties(){const e=new Z3e(MIe.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set("featuresTilingScheme",e);const t=new zX({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new BX(e)});this._set("graphicsView",t)}_destroySpatialReferenceDependentProperties(){const e=this.graphicsView;this._set("graphicsView",null),e.destroy(),this._set("featuresTilingScheme",null)}_getScreenshotView(e){const{allLayerViews:t,padding:n,size:i,stage:r}=this;return{allLayerViews:t,backgroundColor:e?.ignoreBackground?null:this.background?.color,padding:n,size:i,stage:r}}_spatialReferenceChanged(e){if(this.ready){this.frameTask.stop();for(const t of this.allLayerViews)t.processDetach();this._destroySpatialReferenceDependentProperties(),this.stateManager.changeSpatialReference(e),this.stage.state=this.state,this._setupSpatialReferenceDependentProperties();for(const t of this.allLayerViews)t.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}}};lt.type="2d",u([d({constructOnly:!0})],lt.prototype,"deactivatedWebGLExtensions",void 0),u([d({constructOnly:!0})],lt.prototype,"debugWebGLExtensions",void 0),u([d({readOnly:!0})],lt.prototype,"featuresTilingScheme",void 0),u([d({readOnly:!0})],lt.prototype,"graphicsTileStore",null),u([d()],lt.prototype,"graphicsView",void 0),u([d()],lt.prototype,"constraintsInfo",null),u([d()],lt.prototype,"initialExtentRequired",null),u([d()],lt.prototype,"labelManager",void 0),u([d({type:Hx,nonNullable:!0})],lt.prototype,"navigation",void 0),u([d({constructOnly:!0})],lt.prototype,"renderCanvas",void 0),u([d()],lt.prototype,"renderingOptions",void 0),u([d({constructOnly:!0})],lt.prototype,"supersampleScreenshotsEnabled",void 0),u([d({readOnly:!0})],lt.prototype,"supportsGround",void 0),u([d()],lt.prototype,"defaultsFromMapSettings",null),u([d({readOnly:!0})],lt.prototype,"typeSpecificPreconditionsReady",null),u([d({type:PDe})],lt.prototype,"background",null),u([d()],lt.prototype,"center",null),u([d({type:we})],lt.prototype,"floors",void 0),u([d()],lt.prototype,"grid",void 0),u([d({type:ac})],lt.prototype,"highlightOptions",null),u([d()],lt.prototype,"map",void 0),u([d()],lt.prototype,"padding",null),u([d({readOnly:!0})],lt.prototype,"rendering",null),u([d({readOnly:!0})],lt.prototype,"resolution",null),u([d()],lt.prototype,"scale",null),u([d({constructOnly:!0})],lt.prototype,"spatialReferenceLocked",void 0),u([d({readOnly:!0})],lt.prototype,"tileInfo",null),u([d({type:YK,readOnly:!0})],lt.prototype,"timeline",void 0),u([d({readOnly:!0})],lt.prototype,"type",void 0),u([d({readOnly:!0})],lt.prototype,"updating",null),u([d({readOnly:!0})],lt.prototype,"view2dType",void 0),u([d({readOnly:!0})],lt.prototype,"visibleArea",null),u([d()],lt.prototype,"zoom",null),u([d({readOnly:!0})],lt.prototype,"navigating",null),u([d(),pt(e=>e instanceof VX?e:ob(FX,e))],lt.prototype,"ui",void 0),lt=u([k("esri.views.View2D")],lt);const ODe=lt;let __=class extends ODe{constructor(t){super(t),this.view2dType="map"}};u([d({readOnly:!0})],__.prototype,"view2dType",void 0),__=u([k("esri.views.MapView")],__);const RDe=__;let Nu=class extends Ce{constructor(t){super(t),this._viewpointHandle=null,this.group=null}initialize(){this.addHandles(Tr(()=>this.view?.ui,"expand",t=>{const{target:n}=t;n&&n!==this&&n.expanded&&n.group&&n.group===this.group&&this._collapse()}))}destroy(){this._viewpointHandle=null,this.view=null}set autoCollapse(t){this._set("autoCollapse",t),this._watchViewpoint()}set expanded(t){const n=!!t;this._set("expanded",n);const i=this.view?.ui;i&&i.emit("expand",{target:this}),this._viewpointHandleChange(n)}get state(){return this.view?.ready?"ready":"disabled"}set view(t){this._get("view")!==t&&(this._set("view",t),t&&sr(()=>t.ready,()=>{this.view===t&&this._watchViewpoint()},{once:!0,initial:!0}))}_viewpointHandleChange(t){this._viewpointHandle&&(t?sr(()=>this.view?.stationary,()=>this._viewpointHandle?.resume(),{once:!0,initial:!0}):this._viewpointHandle.pause())}_watchViewpoint(){const t="viewpoint";this.removeHandles(t),this._viewpointHandle=null;const{autoCollapse:n,view:i}=this;if(!i||!n)return;const r=b0e(()=>i.type==="3d"?i.camera:i.viewpoint,()=>this._collapse());this.addHandles(r,t),this._viewpointHandle=r}_collapse(){this.expanded=!1}};u([d({value:!1})],Nu.prototype,"autoCollapse",null),u([d({value:!1})],Nu.prototype,"expanded",null),u([d()],Nu.prototype,"group",void 0),u([d({readOnly:!0})],Nu.prototype,"state",null),u([d({value:null})],Nu.prototype,"view",null),Nu=u([k("esri.widgets.Expand.ExpandViewModel")],Nu);const WX=Nu;function NDe(e){return t=>{t.hasOwnProperty("_delegatedEventNames")||(t._delegatedEventNames=t._delegatedEventNames?t._delegatedEventNames.slice():[]);const n=t._delegatedEventNames,i=Array.isArray(e)?e:DDe(e);n.push(...i)}}function DDe(e){return e.split(",").map(t=>t.trim())}function Fv(e){return e&&typeof e.render=="function"}function VDe(e){return e&&typeof e.postMixInProperties=="function"&&typeof e.buildRendering=="function"&&typeof e.postCreate=="function"&&typeof e.startup=="function"}const ou="esri-expand",Xr={base:ou,toggle:`${ou}__toggle`,popoverContent:`${ou}__popover-content`,panel:`${ou}__panel`,panelContent:`${ou}__panel-content`,sheet:`${ou}__sheet`,contentContainer:`${ou}__content-container`,icon:"esri-collapse__icon",iconFlip:"esri-collapse__icon-flip",iconNumber:`${ou}__icon-number`},Oj="chevrons-left",Rj="chevrons-right";let en=class extends jn{constructor(t,n){super(t,n),this.closeOnEsc=!0,this.collapseTooltip="",this.content="",this.expandTooltip="",this.focusTrapDisabled=!1,this.iconNumber=0,this.messages=null,this.messagesCommon=null,this.mode="auto",this.placement=null,this.viewModel=new WX,this.toggle=()=>{this.viewModel.expanded=!this.viewModel.expanded},this._handlePopoverClose=i=>{i.target===this._popoverEl&&(this.viewModel.expanded=i.currentTarget.open)},this._handleSheetClose=i=>{this.viewModel.expanded=i.currentTarget.open},this._handlePanelClose=i=>{this.viewModel.expanded=!i.currentTarget.closed},this._handleKeyDown=i=>{this.viewModel.expanded&&i.key==="Escape"&&!this._willCloseOnEsc(i)&&i.preventDefault()},this._storeToggleActionEl=i=>{this._toggleActionEl=i},this._storePopoverEl=i=>{this._popoverEl=i}}initialize(){this.addHandles(me(()=>this.viewModel?.view?.size,()=>this._popoverEl?.reposition(),mt))}loadDependencies(){return hp({action:()=>J(()=>import("./index-BizEGsKy.js"),__vite__mapDeps([298,285,286,287,3,288,289,290,299,291,294,296,297])),icon:()=>J(()=>import("./index-BlVPZ5Il.js"),__vite__mapDeps([288,289,286,290,3])),panel:()=>J(()=>import("./index-BUtWcg34.js").then(t=>t.i),__vite__mapDeps([300,285,286,287,3,288,289,290,298,299,291,294,296,297,301,302,303,304,292,305,306,307,308,309,310])),popover:()=>J(()=>import("./index-pPN8oAaz.js").then(t=>t.i),__vite__mapDeps([301,285,286,287,3,288,289,290,298,299,291,294,296,297,302,303,304,292,305,306,307])),sheet:()=>J(()=>import("./index-BWIgTMDK.js"),__vite__mapDeps([311,285,286,287,3,310,291,290,289,288,299,312,296,304,313,306]))})}get expandTitle(){const{expanded:t,messagesCommon:n,collapseTooltip:i,expandTooltip:r}=this;return(t?i||n?.collapse:r||n?.expand)??""}get _displaySheet(){switch(this.mode){case"drawer":return!0;case"auto":return this.viewModel.view?.widthBreakpoint==="xsmall";default:return!1}}get autoCollapse(){return this.viewModel.autoCollapse}set autoCollapse(t){this.viewModel.autoCollapse=t}get collapseIcon(){return Rj}set collapseIcon(t){this._overrideIfSome("collapseIcon",t)}get expanded(){return this.viewModel.expanded}set expanded(t){this.viewModel.expanded=t}get expandIcon(){return Fv(this.content)?this.content.icon:Oj}set expandIcon(t){this._overrideIfSome("expandIcon",t)}get group(){return this.viewModel.group}set group(t){this.viewModel.group=t}get icon(){return null}get label(){return(Fv(this.content)?this.content.label:null)??this.messages?.widgetLabel??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}expand(){this.viewModel.expanded=!0}collapse(){this.viewModel.expanded=!1}render(){const{_displaySheet:t,_toggleActionEl:n,viewModel:{expanded:i},label:r,placement:s}=this;return N("div",{class:this.classes(Xr.base,Zn.widget)},this._renderToggle(),t?N("calcite-sheet",{class:Xr.sheet,heightScale:"l",label:r,onkeydown:this._handleKeyDown,open:i,position:"block-end",onCalciteSheetClose:this._handleSheetClose},N("calcite-panel",{class:Xr.panel,closable:!0,closed:!i,heading:r,onkeydown:this._handleKeyDown,onCalcitePanelClose:this._handlePanelClose},N("div",{class:Xr.panelContent},this._renderContent()))):n?N("calcite-popover",{afterCreate:this._storePopoverEl,afterUpdate:this._storePopoverEl,focusTrapDisabled:this.focusTrapDisabled,label:r,onkeydown:this._handleKeyDown,open:i,overlayPositioning:"fixed",placement:s??this._getPlacement(),referenceElement:n,onCalcitePopoverClose:this._handlePopoverClose},N("div",{class:Xr.popoverContent},this._renderContent())):null)}_getPlacement(){const{container:t,view:n}=this,i=t&&n?n.ui.getPosition(t):null;if(!i||i==="manual")return"auto";const[r,s]=i.split("-");return`${s==="right"?"left":"right"}-${r==="bottom"?"end":"start"}`}_willCloseOnEsc(t){const{closeOnEsc:n}=this;return typeof n=="function"?n(t):n}_renderBadgeNumber(){const{expanded:t,iconNumber:n}=this;return n&&!t?N("span",{class:Xr.iconNumber,key:"expand__icon-number"},n):null}_renderToggleButton(){const{expanded:t,expandTitle:n,expandIcon:i,collapseIcon:r}=this,s=t?r:i,o=s===Oj||s===Rj;return N("calcite-action",{afterCreate:this._storeToggleActionEl,afterUpdate:this._storeToggleActionEl,class:Zn.widgetButton,onclick:this.toggle,scale:"s",text:n,title:n},s?N("calcite-icon",{class:this.classes(Xr.icon,o&&Xr.iconFlip),icon:s,scale:"s"}):null)}_renderToggle(){return N("div",{class:Xr.toggle},this._renderToggleButton(),this._renderBadgeNumber())}_renderContent(){const{content:t}=this;return typeof t=="string"?N("div",{class:Xr.contentContainer,innerHTML:t,key:"content__string"}):Fv(t)?N("div",{class:Xr.contentContainer,key:"content__widget"},t.render()):t instanceof HTMLElement?N("div",{afterCreate:this._attachToNode,bind:t,class:Xr.contentContainer,key:"content__html-element"}):VDe(t)?N("div",{afterCreate:this._attachToNode,bind:t.domNode,class:Xr.contentContainer,key:"content__node"}):null}_attachToNode(t){const n=this;t.appendChild(n)}};u([d({readOnly:!0})],en.prototype,"expandTitle",null),u([d()],en.prototype,"_toggleActionEl",void 0),u([d()],en.prototype,"_displaySheet",null),u([d()],en.prototype,"autoCollapse",null),u([d()],en.prototype,"closeOnEsc",void 0),u([d()],en.prototype,"collapseIcon",null),u([d()],en.prototype,"collapseTooltip",void 0),u([d()],en.prototype,"content",void 0),u([d()],en.prototype,"expanded",null),u([d()],en.prototype,"expandIcon",null),u([d()],en.prototype,"expandTooltip",void 0),u([d()],en.prototype,"focusTrapDisabled",void 0),u([d()],en.prototype,"group",null),u([d()],en.prototype,"icon",null),u([d()],en.prototype,"iconNumber",void 0),u([d()],en.prototype,"label",null),u([d(),Xs("esri/widgets/Expand/t9n/Expand")],en.prototype,"messages",void 0),u([d(),Xs("esri/t9n/common")],en.prototype,"messagesCommon",void 0),u([d()],en.prototype,"mode",void 0),u([d()],en.prototype,"placement",void 0),u([d()],en.prototype,"view",null),u([d({type:WX})],en.prototype,"viewModel",void 0),en=u([k("esri.widgets.Expand")],en);const FDe=en,Ns="esri-layer-list",qa=`${Ns}__item`,qy={base:Ns,actionMenu:`${Ns}__action-menu`,actionGroup:`${Ns}__action-group`,filterNoResults:`${Ns}__filter-no-results`,item:qa,itemActive:`${qa}--active`,itemContentBottom:`${qa}-content-bottom`,itemMessage:`${qa}-message`,itemActionIcon:`${qa}-action-icon`,itemActionImage:`${qa}-action-image`,itemTemporaryIcon:`${qa}-temporary-icon`,itemTableIcon:`${qa}-table-icon`,itemCatalogIcon:`${qa}-catalog-icon`,statusIndicator:`${Ns}__status-indicator`,publishing:`${Ns}__publishing`,updating:`${Ns}__updating`,connectionStatus:`${Ns}__connection-status`,connectionStatusConnected:`${Ns}__connection-status--connected`,visibleToggle:`${Ns}__visible-toggle`,visibleIcon:`${Ns}__visible-icon`};function Nj(e){return e.icon?e.icon:"image"in e&&e.image||e.className?void 0:"question"}function jDe(e){return e?{backgroundImage:`url(${e})`}:{}}function IWe({action:e,feature:t}){const n=t?.attributes,i="image"in e?e.image:void 0;return i&&n?g0(i,n):i??""}const ZX={hide:"hide",hideChildren:"hide-children"},zDe=10,BDe=2;function UDe({exclusive:e,visible:t,visibilityAppearance:n}){const i=n==="checkbox";return t?e?"circle-f":i?"check-square-f":"view-visible":e?"circle":i?"square":"view-hide"}function GDe({connectionStatus:e,publishing:t}){return e?e==="connected"?"beacon":"offline":t?"square":"bullet-point"}function HDe(e){return e?.listMode===ZX.hideChildren}function QS(e){return e?.listMode??void 0}function qDe(e){return e!=null&&"minScale"in e&&e.minScale!=null?e.minScale:void 0}function WDe(e){return e!=null&&"maxScale"in e&&e.maxScale!=null?e.maxScale:void 0}function ZDe(e){if(!e)return"inherited";const t=tVe(FO(e)?e.layer:e);return t!=null?t?"independent":"inherited":"visibilityMode"in e&&e.visibilityMode!=null?e.visibilityMode:"independent"}function YDe(e){e?.removeMany(e.filter(t=>t?.destroyed))}function YX(e){if(e&&(!("type"in e)||e.type!=="wmts"))return"sublayers"in e?"sublayers":"layers"in e?"layers":void 0}function JDe(e,t){e&&(e.filterPredicate=t?n=>t(Ao(n)):void 0)}function KDe(e){const t=(e?.layer&&FO(e.layer)?e.layer.layer:void 0)??e?.layer;return!!t&&t.type!=="catalog"&&(nVe(t)??!0)}function XDe(e){return QS(e)!==ZX.hide}function QDe(e,t){if(!e||t==null||isNaN(t))return!1;const n=qDe(e),i=WDe(e),r=n!=null&&!isNaN(n)&&n>0&&t>n,s=i!=null&&!isNaN(i)&&i>0&&t<i;return r||s}function JX(e,t){e?.sort((n,i)=>{const r="uid"in n?t.indexOf(n.uid):-1,s="uid"in i?t.indexOf(i.uid):-1;return r>s?-1:r<s?1:0})}function eVe(e,t){const n=e?.layer;if(!n)return;const i=YX(n);if(!i)return;let r;i==="layers"&&"layers"in n?r=n.layers:i==="sublayers"&&"sublayers"in n&&(r=n.sublayers),JX(r,t)}function Dj(e){const t=e?.layer;return t&&"layers"in t?t.layers:null}function FO(e){return e!=null&&"layer"in e&&e.layer!=null}function tVe(e){const t=KX(e);return t!=null&&"supportsSublayerVisibility"in t?t.supportsSublayerVisibility:void 0}function nVe(e){const t=KX(e);return t!=null&&"supportsDynamicLayers"in t?t.supportsDynamicLayers:void 0}function KX(e){return e&&"capabilities"in e&&e.capabilities!=null&&"exportMap"in e.capabilities?e.capabilities.exportMap:void 0}function Ao(e){return e?.["data-item"]}function Vj(e){return e?.getAttribute("data-layer-type")}function iVe(e){const{children:t,error:n}=e,i="incompatible"in e&&e.incompatible;return!!t?.filter(r=>!r.hidden).length&&!n&&!i}function rVe(e){for(const t of e)for(const n of t)if(n.type==="button"||n.type==="toggle")return n}var CA;let Xe=CA=class extends jn{constructor(e){super(e),this.dragEnabled=!1,this.listModeDisabled=!1,this.parent=null,this.parentTitles=null,this.viewModel=null,this._onActionMenuOpen=t=>{this.item.actionsOpen=t.currentTarget.open},this._setTooltipReference=t=>{this.onTooltipReferenceChange?.(this.item.layer?.uid,t)},this._removeTooltipReference=()=>{this.onTooltipReferenceChange?.(this.item.layer?.uid,null)}}loadDependencies(){return hp({"action-group":()=>J(()=>import("./index-Dpm0DIn1.js").then(e=>e.i),__vite__mapDeps([314,285,286,287,3,288,289,290,298,299,291,294,296,297,301,302,303,304,292,305,306,307,308,309])),"action-menu":()=>J(()=>import("./index-BZT_fVCg.js").then(e=>e.i),__vite__mapDeps([308,285,286,287,3,288,289,290,298,299,291,294,296,297,301,302,303,304,292,305,306,307,309])),action:()=>J(()=>import("./index-BizEGsKy.js"),__vite__mapDeps([298,285,286,287,3,288,289,290,299,291,294,296,297])),icon:()=>J(()=>import("./index-BlVPZ5Il.js"),__vite__mapDeps([288,289,286,290,3])),"list-item":()=>J(()=>import("./index-DX6I-J20.js"),__vite__mapDeps([315,288,289,286,290,3,316,291,302,303,294,307,296,304,313,285,287,298,299,297,317,318,319,320,321])),list:()=>J(()=>import("./index-C3OkyxW3.js"),__vite__mapDeps([322,285,286,287,3,310,291,290,289,299,288,323,324,325,292,293,294,307,295,296,297,303,320])),notice:()=>J(()=>import("./index-a3iR4gqj.js"),__vite__mapDeps([326,288,289,286,290,3,291,296,304,297,287]))})}render(){const e=this.parentTitles??[],{_title:t,item:n,activeItem:i,selectionMode:r,selectedItems:s,messages:o,parent:a,css:l}=this,c="visibleAtCurrentTimeExtent"in n&&"layerInvisibleAtTime"in o&&!n.visibleAtCurrentTimeExtent?`${t} (${o.layerInvisibleAtTime})`:"visibleAtCurrentScale"in n&&"layerInvisibleAtScale"in o&&!n.visibleAtCurrentScale?`${t} (${o.layerInvisibleAtScale})`:t,h="parent"in n&&n.parent?.layer?.type==="catalog",{layer:p}=n,m="visibleAtCurrentScale"in n&&!n.visibleAtCurrentScale||"visibleAtCurrentTimeExtent"in n&&!n.visibleAtCurrentTimeExtent;return N("calcite-list-item",{afterCreate:y=>this._focusSelectedDragEl(y,n),afterUpdate:y=>this._focusSelectedDragEl(y,n),class:this.classes(l.item,"itemActive"in l&&{[l.itemActive]:i===n}),"data-item":n,"data-layer-id":p?.id,dragDisabled:!n.sortable||h,id:p?.uid,key:`list-item-${p?.uid}`,label:t,metadata:{parentTitles:e,_title:t},open:"open"in n&&n.open,selected:r!=="none"&&s.includes(n),title:c,unavailable:m,value:p?.uid,onCalciteListItemSelect:y=>"visible"in n&&this._handleCalciteListItemSelect(y,n,a),onCalciteListItemToggle:y=>"open"in n&&this._handleCalciteListItemToggle(y,n)},this._renderedCatalogFootprintIcon,this._renderedCatalogDynamicIcon,this._renderedItemStatus,this._renderedItemToggle,this._renderedCatalogSelectNode,this._renderedItemTemporaryIcon,this._renderedChildList,this._renderedItemMessage,this._renderedPanel,this._renderedPanelAction,this._renderedActions)}get _title(){const{messages:e}=this;return this.item.title||("untitledTable"in e?e.untitledTable:e.untitledLayer)}get _renderedItemStatus(){const{item:e,parent:t,visibleElements:n,css:i}=this;if(!n.statusIndicators)return null;const{publishing:r}=e,s="updating"in e&&e.updating&&!t,o="connectionStatus"in e?e.connectionStatus:void 0,a=!!o;return N("calcite-icon",{class:this.classes(i.statusIndicator,{[i.publishing]:r},"updating"in i&&{[i.updating]:s},"connectionStatus"in i&&{[i.connectionStatus]:a},"connectionStatusConnected"in i&&{[i.connectionStatusConnected]:a&&o==="connected"}),icon:GDe({connectionStatus:o,publishing:r}),key:"layer-item-status",scale:"s",slot:"content-end"})}get _renderedItemTemporaryIcon(){const{item:e,visibleElements:t,css:n}=this,{layer:i}=e,r="temporaryLayerIndicators"in t&&t.temporaryLayerIndicators,s="temporaryTableIndicators"in t&&t.temporaryTableIndicators,o=i&&"persistenceEnabled"in i&&(iO(i)||!i.persistenceEnabled);return(r||s)&&o?N("calcite-icon",{class:n.itemTemporaryIcon,icon:"temporary",key:"temporary-icon",scale:"s",slot:"content-start",title:this.messages.temporary}):null}get _renderedItemToggle(){const{item:e,parent:t,messages:n,visibilityAppearance:i,css:r}=this;if(!("visible"in e&&"layerVisibility"in n&&"visibleToggle"in r&&i))return null;const{visible:s}=e,o=this._getParentVisibilityMode(t);if(o==="inherited")return null;const a=UDe({visible:s,exclusive:o==="exclusive",visibilityAppearance:i}),l=i==="checkbox",c=n.layerVisibility;return N("calcite-action",{appearance:"transparent",class:r.visibleToggle,icon:l?a:void 0,key:"visibility-toggle",onclick:()=>this._toggleVisibility(e,t),scale:"s",slot:l?"actions-start":"actions-end",text:c,title:c},l?null:N("calcite-icon",{class:this.classes({[r.visibleIcon]:o!=="exclusive"&&s}),icon:a,scale:"s"}))}get _renderedPanel(){const{panel:e}=this.item;return!e?.open||e.disabled||e.flowEnabled?null:N("div",{class:this.css.itemContentBottom,key:`content-panel-${e.uid}`,slot:"content-bottom"},e.render())}get _renderedPanelAction(){const{panel:e}=this.item;if(!e?.visible)return null;const{open:t,title:n,disabled:i}=e;return N("calcite-action",{active:t,appearance:"transparent",disabled:i,icon:Nj(e),key:`action-${e.uid}`,onclick:()=>this._togglePanel(e),scale:"s",slot:"actions-end",text:n??"",title:n??void 0},this._renderFallbackIcon(e))}get _renderedActions(){switch(this._actionsCount){case 0:return null;case 1:return this._singleAction;default:return this._renderedActionMenu}}get _renderedActionMenu(){const{item:e,messagesCommon:t}=this,n=t.options;return N("calcite-action-menu",{appearance:"transparent",key:"item-action-menu",label:t.menu,open:e.actionsOpen,overlayPositioning:"fixed",placement:"bottom-end",scale:"s",slot:"actions-end",onCalciteActionMenuOpen:this._onActionMenuOpen},N("calcite-action",{appearance:"transparent",icon:"ellipsis",scale:"s",slot:"trigger",text:n,title:n}),this._renderedActionMenuContent)}get _renderedActionMenuContent(){return this._filteredSections.toArray().map(e=>N("calcite-action-group",{key:`action-section-${e.uid}`},e.toArray().map(t=>this._renderAction({action:t,textEnabled:!0}))))}get _renderedCatalogFootprintIcon(){const{css:e}=this,t=this.item.layer,n=t?.type==="catalog-footprint",i=t?.type==="sublayer"&&_4(t,"footprints");return"itemCatalogIcon"in e&&(n||i)?N("calcite-icon",{class:e.itemCatalogIcon,icon:"footprint",key:"footprint",scale:"s",slot:"content-start"}):null}get _renderedCatalogDynamicIcon(){const{css:e}=this,t=this.item.layer,n=t?.type==="catalog-dynamic-group",i=t?.type==="sublayer"&&_4(t,"layers-in-view");return"itemCatalogIcon"in e&&(n||i)?N("calcite-icon",{class:e.itemCatalogIcon,icon:"catalog-dataset",key:"catalog-dataset",scale:"s",slot:"content-start"}):null}get _renderedCatalogSelectNode(){const{_title:e,item:t,visibleElements:n}=this;if(!("visible"in t))return;const{layer:i}=t,r=i?.type==="catalog-dynamic-group";return"catalogLayerList"in n&&n.catalogLayerList&&r?N("calcite-action",{appearance:"transparent",disabled:!i.visible,icon:"chevron-right",iconFlipRtl:!0,onclick:()=>this._triggerOnCatalogOpen(t),scale:"s",slot:"actions-end",text:e}):null}get _renderedChildList(){const{dragEnabled:e,item:t,rootGroupUid:n,listModeDisabled:i,selectionMode:r,displayMode:s}=this;if(!("children"in t))return;const o=[...this.parentTitles??[],t.title],{children:a,layer:l}=t,c=l?.type!=="catalog-dynamic-group"&&iVe(t),h=!i&&HDe(l),p=l?.type==="group",m=!h&&!c&&e&&p,y=!!e&&"childrenSortable"in t&&t.childrenSortable&&KDe(t);return c||m?N("calcite-list",{canPull:g=>!!this.canMove&&this.canMove(g,"pull"),canPut:g=>!!this.canMove&&this.canMove(g,"put"),"data-item":t,"data-layer-type":n,displayMode:s,dragEnabled:y,group:p?n:`${n}-${l?.uid}`,key:`child-list-${l?.uid}`,label:t.title,selectionAppearance:"border",selectionMode:r},a?.filter(g=>!g.hidden&&(this.visibleElements.errors||!g.error)).toArray().map(g=>this._renderItem(g,t,o)),this._renderedTablesItem):null}get _hasTables(){const{layerTablesEnabled:e}=this,t=this.item.layer;if(!e||!t)return!1;switch(t.type){case"knowledge-graph":return e.includes(t.type)&&"tables"in t&&!!t.tables?.length;case"map-image":case"tile":return e.includes(t.type)&&"subtables"in t&&!!t.subtables?.length;default:return!1}}get _renderedTablesItem(){const{item:e,messages:t,css:n}=this,{layer:i}=e;return"itemTableIcon"in n&&"visible"in e&&"tables"in t&&this._hasTables?N("calcite-list-item",{class:n.item,"data-layer-id":i?.id,dragDisabled:!0,key:`list-item-table-list-tables-${i?.uid}`,label:t.tables,title:t.tables,onCalciteListItemSelect:()=>this._triggerOnTablesOpen(e)},N("calcite-icon",{class:n.itemTableIcon,icon:"table",scale:"s",slot:"content-start"}),N("calcite-icon",{flipRtl:!0,icon:"chevron-right",scale:"s",slot:"content-end"})):null}get _renderedItemMessage(){const{item:e,messages:t,css:n}=this;return e.error?N("div",{class:n.itemMessage,key:"esri-layer-list__error",slot:"content-bottom"},N("calcite-notice",{icon:"exclamation-mark-triangle",kind:"warning",open:!0,scale:"s",width:"full"},N("div",{slot:"message"},"tableError"in t?t.tableError:t.layerError))):"incompatible"in e&&e.incompatible&&"layerIncompatible"in t?N("div",{class:n.itemMessage,key:"esri-layer-list__incompatible",slot:"content-bottom"},N("calcite-notice",{afterCreate:this._setTooltipReference,afterRemoved:this._removeTooltipReference,bind:this,icon:"exclamation-mark-triangle",kind:"warning",open:!0,scale:"s",tabIndex:0,width:"full"},N("div",{slot:"message"},t.layerIncompatible))):null}get _singleAction(){return this._renderAction({action:rVe(this._filteredSections),textEnabled:!1})}get _filteredSections(){return this.item.actionsSections.map(e=>e.filter(t=>t.visible))}get _actionsCount(){return this.item.actionsSections.reduce((e,t)=>e+t.length,0)}_renderAction(e){const{item:t}=this,{action:n,textEnabled:i}=e;if(!n)return null;const{active:r,disabled:s,title:o,type:a,indicator:l}=n;return N("calcite-action",{active:a==="toggle"&&n.value,appearance:"transparent","data-action-id":n.id,disabled:s,icon:Nj(n),indicator:l,key:`action-${n.uid}`,loading:r,onclick:()=>this._triggerAction(t,n),scale:"s",slot:i?void 0:"actions-end",text:o??"",textEnabled:i,title:o??void 0},this._renderFallbackIcon(n))}_renderFallbackIcon(e){const{css:t}=this,{className:n,icon:i}=e;if(i)return null;const r="image"in e?e.image:void 0,s={[t.itemActionIcon]:!!n,[t.itemActionImage]:!!r};return n&&(s[n]=!0),r||n?N("span",{"aria-hidden":"true",class:this.classes(t.itemActionIcon,s),key:"icon",styles:jDe(r)}):null}_renderItem(e,t,n=[]){return N(CA,{activeItem:this.activeItem,canMove:this.canMove,css:this.css,displayMode:this.displayMode,dragEnabled:this.dragEnabled,item:e,key:`layerListItem-${e.layer?.uid}`,layerTablesEnabled:this.layerTablesEnabled,listModeDisabled:this.listModeDisabled,messages:this.messages,messagesCommon:this.messagesCommon,parent:t,parentTitles:n,rootGroupUid:this.rootGroupUid,selectedDragItemLayerUid:this.selectedDragItemLayerUid,selectedItems:this.selectedItems,selectionMode:this.selectionMode,visibilityAppearance:this.visibilityAppearance,visibleElements:this.visibleElements,onAction:this.onAction,onCatalogOpen:this.onCatalogOpen,onPanelOpen:this.onPanelOpen,onSelectedDragItemLayerUidChange:this.onSelectedDragItemLayerUidChange,onTablesOpen:this.onTablesOpen,onTooltipReferenceChange:this.onTooltipReferenceChange})}_triggerAction(e,t){t&&e&&(t.type==="toggle"&&(t.value=!t.value),this.onAction(t,e))}_triggerOnTablesOpen(e){e&&this.onTablesOpen&&this.onTablesOpen(e)}_triggerOnCatalogOpen(e){e&&this.onCatalogOpen?.(e)}_focusSelectedDragEl(e,t){this.selectedDragItemLayerUid===t.layer?.uid&&(Av(e),this.onSelectedDragItemLayerUidChange?.(null))}_handleCalciteListItemToggle(e,t){e.stopPropagation(),t.open=e.target.open}_getParentVisibilityMode(e){return e&&"visibilityMode"in e?e.visibilityMode:null}_handleCalciteListItemSelect(e,t,n){if(Ao(e.target)!==t)return;const i=this._getParentVisibilityMode(n);this.selectionMode==="none"&&i!=="inherited"&&this._toggleVisibility(t,n)}_togglePanel(e){e.open=!e.open,e.open&&this.onPanelOpen()}_toggleVisibility(e,t){!e||!("visible"in e)||this._getParentVisibilityMode(t)==="exclusive"&&e.visible||(e.visible=!e.visible)}};Xe.vnodeSelector="calcite-list-item",u([d()],Xe.prototype,"activeItem",void 0),u([d()],Xe.prototype,"canMove",void 0),u([d()],Xe.prototype,"css",void 0),u([d()],Xe.prototype,"displayMode",void 0),u([d()],Xe.prototype,"dragEnabled",void 0),u([d()],Xe.prototype,"item",void 0),u([d()],Xe.prototype,"layerTablesEnabled",void 0),u([d()],Xe.prototype,"listModeDisabled",void 0),u([d()],Xe.prototype,"messages",void 0),u([d()],Xe.prototype,"messagesCommon",void 0),u([d()],Xe.prototype,"onAction",void 0),u([d()],Xe.prototype,"onPanelOpen",void 0),u([d()],Xe.prototype,"onCatalogOpen",void 0),u([d()],Xe.prototype,"onTablesOpen",void 0),u([d()],Xe.prototype,"onSelectedDragItemLayerUidChange",void 0),u([d()],Xe.prototype,"onTooltipReferenceChange",void 0),u([d()],Xe.prototype,"parent",void 0),u([d()],Xe.prototype,"parentTitles",void 0),u([d()],Xe.prototype,"rootGroupUid",void 0),u([d()],Xe.prototype,"selectionMode",void 0),u([d()],Xe.prototype,"selectedItems",void 0),u([d()],Xe.prototype,"selectedDragItemLayerUid",void 0),u([d()],Xe.prototype,"visibleElements",void 0),u([d()],Xe.prototype,"visibilityAppearance",void 0),u([d()],Xe.prototype,"_title",null),u([d()],Xe.prototype,"_renderedItemStatus",null),u([d()],Xe.prototype,"_renderedItemTemporaryIcon",null),u([d()],Xe.prototype,"_renderedItemToggle",null),u([d()],Xe.prototype,"_renderedPanel",null),u([d()],Xe.prototype,"_renderedPanelAction",null),u([d()],Xe.prototype,"_renderedActions",null),u([d()],Xe.prototype,"_renderedActionMenu",null),u([d()],Xe.prototype,"_renderedActionMenuContent",null),u([d()],Xe.prototype,"_renderedCatalogFootprintIcon",null),u([d()],Xe.prototype,"_renderedCatalogDynamicIcon",null),u([d()],Xe.prototype,"_renderedCatalogSelectNode",null),u([d()],Xe.prototype,"_renderedChildList",null),u([d()],Xe.prototype,"_hasTables",null),u([d()],Xe.prototype,"_renderedTablesItem",null),u([d()],Xe.prototype,"_renderedItemMessage",null),u([d()],Xe.prototype,"_singleAction",null),u([d()],Xe.prototype,"_filteredSections",null),u([d()],Xe.prototype,"_actionsCount",null),Xe=CA=u([k("esri.widgets.LayerList.LayerListItem")],Xe);const sVe=Xe;function Fj(e){return e!=null&&typeof e=="object"&&e.type==="2d"&&e.view2dType==="linkchart"}let Pi=class extends Cc.IdentifiableMixin(jn){constructor(t,n){super(t,n),this._legend=null,this.className=null,this.content=null,this.flowEnabled=!1,this.image=null,this.listItem=null,this.open=!1,this.visible=!0}initialize(){this.addHandles([me(()=>this._canCreateLegend,()=>this._createLegend(),mt),me(()=>[this._legend,this._legendOptions],()=>this._updateLegend(),mt)])}destroy(){this._legend=Bt(this._legend)}get _canCreateLegend(){const{content:t,listItem:n}=this;if(!n)return!1;const i="legend";return t===i||t!=null&&!!Array.isArray(t)&&t.includes(i)}get _legendOptions(){const{listItem:t,_legendLayerInfo:n}=this,i=t?.view;return n&&i?{view:i,layerInfos:[n]}:{}}get _legendLayerInfo(){const t=this.listItem?.layer;if(!t||t.type==="subtype-sublayer")return null;const n=FO(t)?t:null,i=t?.parent,r=i!=null&&"type"in i&&i.type==="map-image"?n?.source:null,s="";return r&&i?{layer:i,title:s,sublayerIds:[r.mapLayerId]}:{layer:t,title:s}}get disabled(){const{listItem:t,_legend:n,content:i}=this;return!t||!(Array.isArray(i)&&i.length>1)&&!!n&&(!n.activeLayerInfos?.length||!t.visibleAtCurrentScale||!t.visible)}set disabled(t){this._overrideIfSome("disabled",t)}get icon(){const{image:t}=this,n=this._getFirstWidget();return this._get("icon")??(!t&&n?n.icon:null)}set icon(t){this._overrideIfSome("icon",t)}get title(){return this._get("title")||(this._getFirstWidget()?.label??"")}set title(t){this._override("title",t)}render(){return N("div",{class:"esri-list-item-panel"},this._renderContents())}_renderContent(t){const{_legend:n,disabled:i,open:r}=this;return t&&!i&&r?t==="legend"&&n?N("div",{key:"legend-widget"},n.render()):typeof t=="string"?N("div",{innerHTML:t,key:t}):Fv(t)?N("div",{key:"content-widget"},t.render()):t instanceof HTMLElement?N("div",{afterCreate:this._attachToNode,bind:t,key:"content-element"}):null:null}_renderContents(){const{content:t,open:n}=this;return n?Array.isArray(t)?t.map(i=>this._renderContent(i)):this._renderContent(t):null}async _createLegend(){if(Bt(this._legend),this._legend=null,!this._canCreateLegend)return;const{default:t}=await J(()=>Promise.resolve().then(()=>X4e),void 0),n=new t(this._legendOptions);this._legend=n}_attachToNode(t){t.appendChild(this)}_updateLegend(){const t=this._legend;t&&t.set(this._legendOptions)}_getWidget(t){return t==="legend"?this._legend:Fv(t)?t:null}_getFirstWidget(){const{content:t}=this;return Array.isArray(t)?t.map(n=>this._getWidget(n)).find(n=>n):this._getWidget(t)}};u([d()],Pi.prototype,"_legend",void 0),u([d()],Pi.prototype,"_canCreateLegend",null),u([d()],Pi.prototype,"_legendOptions",null),u([d()],Pi.prototype,"_legendLayerInfo",null),u([d()],Pi.prototype,"className",void 0),u([d()],Pi.prototype,"content",void 0),u([d()],Pi.prototype,"disabled",null),u([d()],Pi.prototype,"flowEnabled",void 0),u([d()],Pi.prototype,"icon",null),u([d()],Pi.prototype,"image",void 0),u([d()],Pi.prototype,"listItem",void 0),u([d()],Pi.prototype,"open",void 0),u([d()],Pi.prototype,"title",null),u([d()],Pi.prototype,"visible",void 0),Pi=u([k("esri.widgets.LayerList.ListItemPanel")],Pi);const XX=Pi;var lv;const oVe=we.ofType({key:"type",defaultKeyValue:"button",base:lx,typeMap:{button:yH,toggle:gH}}),QX=we.ofType(oVe),iE="layer",Zw="child-list-mode",aVe="hide";let Rt=lv=class extends Cc.IdentifiableMixin(Ce){constructor(e){super(e),this.actionsSections=new QX,this.actionsOpen=!1,this.checkPublishStatusEnabled=!1,this.children=new(we.ofType(lv)),this.childrenSortable=!0,this.hidden=!1,this.layer=null,this.listItemCreatedFunction=null,this.listModeDisabled=!1,this.open=!1,this.panel=null,this.parent=null,this.view=null}initialize(){if(this.addHandles([me(()=>[this.layer,this.layer?.listMode,this.listModeDisabled],()=>this._watchLayerProperties(this.layer),mt),me(()=>this.checkPublishStatusEnabled,e=>this._updateChildrenPublishing(e),mt),me(()=>this.view,e=>this._updateChildrenView(e),mt),me(()=>this.panel,e=>this._setListItemOnPanel(e),mt)]),typeof this.listItemCreatedFunction=="function"){const e={item:this};this.listItemCreatedFunction.call(null,e)}}destroy(){this.panel?.destroy(),this.children.destroyAll(),this.view=null}get connectionStatus(){const{layerView:e,publishing:t}=this;if(!t&&e&&"connectionStatus"in e)return e.connectionStatus}get error(){return this.layer?.loadError}get incompatible(){const{layerView:e}=this;return!(!e||!("spatialReferenceSupported"in e))&&!e.spatialReferenceSupported}get layerView(){const{layer:e,view:t}=this;if(!e||!t||e.type==="sublayer")return null;const n=e.type==="subtype-sublayer"?e.parent:e;return t.allLayerViews.find(i=>i.layer===n)??null}castPanel(e){return this.panel?.open&&!e.hasOwnProperty("open")&&(e.open=!0),e?new XX(e):null}get sortable(){return this.layer?.type!=="knowledge-graph-sublayer"&&this._get("sortable")}set sortable(e){this._set("sortable",e)}get title(){const e=wr(this,"layer.layer");return(!e||e&&wr(this,"layer.layer.loaded"))&&wr(this,"layer.title")||wr(this,"layer.attributes.title")||""}set title(e){this._override("title",e)}get publishing(){const{layer:e,checkPublishStatusEnabled:t}=this;return!!(t&&e&&"publishingInfo"in e&&e.publishingInfo?.status==="publishing")}get updating(){const{layerView:e,connectionStatus:t,layer:n,publishing:i}=this;return!i&&!t&&(e?e.updating:n?.loadStatus==="loading"||!1)}get visible(){return!!this.layer?.visible}set visible(e){const t=this.layer;t&&(t.visible=e)}get visibleAtCurrentScale(){return this.layerView?.visibleAtCurrentScale??!QDe(this.layer,this.view?.scale)}get visibleAtCurrentTimeExtent(){return this.layerView?.visibleAtCurrentTimeExtent??!0}get visibilityMode(){return ZDe(this.layer)}clone(){return new lv({actionsSections:this.actionsSections.clone(),actionsOpen:this.actionsOpen,checkPublishStatusEnabled:this.checkPublishStatusEnabled,children:this.children.clone(),childrenSortable:this.childrenSortable,hidden:this.hidden,layer:this.layer,listItemCreatedFunction:this.listItemCreatedFunction,listModeDisabled:this.listModeDisabled,open:this.open,panel:this.panel,parent:this.parent,sortable:this.sortable,title:this.title,view:this.view,visible:this.visible})}_setListItemOnPanel(e){e&&(e.listItem=this)}_updateChildrenPublishing(e){this.children?.forEach(t=>t.checkPublishStatusEnabled=e)}_updateChildrenView(e){const t=this.children;t&&t.forEach(n=>n.view=e)}_createChildren(e){const{listModeDisabled:t,children:n}=this,i=e.filter(r=>!n.some(s=>s.layer===r));n.addMany(this._createChildItems(i,t))}_destroyChildren(e){const{children:t}=this,n=t.filter(i=>!!i.layer&&!e.includes(i.layer));t.destroyMany(n)}_sortChildren(e){this.children.sort((t,n)=>e.indexOf(n.layer)-e.indexOf(t.layer))}_destroyAllChildren(){this.removeHandles(Zw),this.children.destroyAll()}_watchChildLayerListMode(e){this.removeHandles(Zw),this.listModeDisabled||this.addHandles(e.toArray().map(t=>me(()=>t.listMode,()=>this._compileChildren(e))),Zw)}_compileChildren(e){const t=this.listModeDisabled?e:e?.filter(n=>QS(n)!==aVe);e?.length?(this._createChildren(t),this._destroyChildren(t),this._sortChildren(t),this._watchChildLayerListMode(e)):this._destroyAllChildren()}_watchSublayerChanges(e){e&&this.addHandles(e.on("change",()=>this._compileChildren(e)),iE)}_initializeChildLayers(e){this._compileChildren(e),this._watchSublayerChanges(e)}_createChildItems(e,t){return e.reverse().map(n=>t||XDe(n)?new lv({layer:n,checkPublishStatusEnabled:this.checkPublishStatusEnabled,listItemCreatedFunction:this.listItemCreatedFunction,listModeDisabled:this.listModeDisabled,parent:this,view:this.view}):null).filter(Ji)}_watchLayerProperties(e){if(this.removeHandles(iE),this.removeHandles(Zw),!e)return;if((!this.listModeDisabled&&QS(e))==="hide-children")return void this.children.destroyAll();const t=YX(e);t&&this.addHandles(me(()=>e[t],n=>{e.hasOwnProperty(t)&&this._initializeChildLayers(n)},mt),iE)}};u([d({type:QX})],Rt.prototype,"actionsSections",void 0),u([d()],Rt.prototype,"actionsOpen",void 0),u([d()],Rt.prototype,"checkPublishStatusEnabled",void 0),u([d({type:we.ofType(Rt)})],Rt.prototype,"children",void 0),u([d()],Rt.prototype,"childrenSortable",void 0),u([d({readOnly:!0})],Rt.prototype,"connectionStatus",null),u([d({readOnly:!0})],Rt.prototype,"error",null),u([d()],Rt.prototype,"hidden",void 0),u([d({readOnly:!0})],Rt.prototype,"incompatible",null),u([d()],Rt.prototype,"layer",void 0),u([d({readOnly:!0})],Rt.prototype,"layerView",null),u([d()],Rt.prototype,"listItemCreatedFunction",void 0),u([d({nonNullable:!0})],Rt.prototype,"listModeDisabled",void 0),u([d()],Rt.prototype,"open",void 0),u([d({type:XX})],Rt.prototype,"panel",void 0),u([pt("panel")],Rt.prototype,"castPanel",null),u([d()],Rt.prototype,"parent",void 0),u([d({value:!0})],Rt.prototype,"sortable",null),u([d()],Rt.prototype,"title",null),u([d({readOnly:!0})],Rt.prototype,"publishing",null),u([d({readOnly:!0})],Rt.prototype,"updating",null),u([d()],Rt.prototype,"view",void 0),u([d()],Rt.prototype,"visible",null),u([d({readOnly:!0})],Rt.prototype,"visibleAtCurrentScale",null),u([d({readOnly:!0})],Rt.prototype,"visibleAtCurrentTimeExtent",null),u([d({readOnly:!0})],Rt.prototype,"visibilityMode",null),Rt=lv=u([k("esri.widgets.LayerList.ListItem")],Rt);const jO=Rt,fo={view:"view",viewLayers:"view-layers",mapLayers:"map-layers",layerViews:"layer-views",layerListMode:"layer-list-mode"},lVe="hide",eQ=we.ofType(jO);let ha=class extends Ks.EventedAccessor{constructor(t){super(t),this.checkPublishStatusEnabled=!1,this.listItemCreatedFunction=null,this.listModeDisabled=!1,this.operationalItems=new eQ,this.view=null}initialize(){this.addHandles([me(()=>this.view?.ready===!0,()=>this._viewHandles(),mt),me(()=>[this.listItemCreatedFunction,this.checkPublishStatusEnabled,this.listModeDisabled],()=>this._recompileList()),me(()=>Fj(this.view)?this.view.inGeographicLayout:null,()=>this._compileList())],fo.view)}destroy(){this._removeAllItems(),this.view=null}get state(){const{view:t}=this;return t?.ready?"ready":t?"loading":"disabled"}get totalItems(){return this.operationalItems.flatten(t=>t.children).length}triggerAction(t,n){t&&!t.disabled&&this.emit("trigger-action",{action:t,item:n})}moveListItem(t,n,i,r){const s=t?.layer;if(!s||s.type==="subtype-sublayer"||s.type==="sublayer")return;const o=this.view?.map?.layers,a=n?Dj(n):o,l=i?Dj(i):o;if(!a||!l)return;const{operationalItems:c}=this,h=n?.children||c,p=i?.children||c,m=l.length-r;t.parent=i||null,h.remove(t),a.remove(s),p.includes(t)||p.add(t,m),l.includes(s)||l.add(s,m),this._compileList()}_createLayerViewHandles(t){this.removeHandles(fo.layerViews),this._compileList(),t&&this.addHandles(t.on("change",()=>this._compileList()),fo.layerViews)}_createMapLayerHandles(t){this.removeHandles(fo.mapLayers),this._compileList(),t&&this.addHandles(t.on("change",()=>this._compileList()),fo.mapLayers)}_createListItem(t){const{view:n,listItemCreatedFunction:i,checkPublishStatusEnabled:r,listModeDisabled:s}=this;return new jO({checkPublishStatusEnabled:r,listModeDisabled:s,layer:t,listItemCreatedFunction:i,view:n})}_removeAllItems(){this.operationalItems.destroyAll()}_getViewableLayers(t){return t?this.listModeDisabled?t:t.filter(n=>QS(n)!==lVe):void 0}_watchLayersListMode(t){this.removeHandles(fo.layerListMode),t&&!this.listModeDisabled&&this.addHandles(me(()=>t.filter(n=>"listMode"in n).map(n=>n.listMode).toArray(),()=>this._compileList()),fo.layerListMode)}_compileList(){const t=this.view?.map?.layers,n=Fj(this.view)&&!this.view.inGeographicLayout?t?.filter(({type:r})=>r==="link-chart"):t;this._watchLayersListMode(n);const i=this._getViewableLayers(n);i?.length?(this._createNewItems(i),this._removeItems(i),this._sortItems(i)):this._removeAllItems()}_createNewItems(t){const{operationalItems:n}=this;t.forEach(i=>{n.some(r=>r.layer===i)||n.add(this._createListItem(i))})}_removeItems(t){const{operationalItems:n}=this,i=[];n.forEach(r=>{r&&t&&t.includes(r.layer)||i.push(r)}),n.destroyMany(i)}_sortItems(t){const{operationalItems:n}=this;n.sort((i,r)=>{const s=t.indexOf(i.layer),o=t.indexOf(r.layer);return s>o?-1:s<o?1:0})}_recompileList(){this._removeAllItems(),this._compileList()}_viewHandles(){const{view:t}=this;this.removeHandles([fo.mapLayers,fo.layerViews,fo.viewLayers]),t?.ready?this.addHandles([me(()=>this.view?.map?.allLayers,n=>this._createMapLayerHandles(n),mt),me(()=>this.view?.allLayerViews,n=>this._createLayerViewHandles(n),mt)],fo.viewLayers):this._removeAllItems()}};u([d()],ha.prototype,"checkPublishStatusEnabled",void 0),u([d()],ha.prototype,"listItemCreatedFunction",void 0),u([d({nonNullable:!0})],ha.prototype,"listModeDisabled",void 0),u([d({type:eQ})],ha.prototype,"operationalItems",void 0),u([d({readOnly:!0})],ha.prototype,"state",null),u([d()],ha.prototype,"totalItems",null),u([d()],ha.prototype,"view",void 0),ha=u([k("esri.widgets.LayerList.LayerListViewModel")],ha);const tQ=ha;let Ds=class extends Ce{constructor(){super(...arguments),this.catalogLayerList=!0,this.closeButton=!1,this.collapseButton=!1,this.errors=!1,this.filter=!1,this.flow=!0,this.heading=!1,this.statusIndicators=!0,this.temporaryLayerIndicators=!1}};u([d({type:Boolean,nonNullable:!0})],Ds.prototype,"catalogLayerList",void 0),u([d({type:Boolean,nonNullable:!0})],Ds.prototype,"closeButton",void 0),u([d({type:Boolean,nonNullable:!0})],Ds.prototype,"collapseButton",void 0),u([d({type:Boolean,nonNullable:!0})],Ds.prototype,"errors",void 0),u([d({type:Boolean,nonNullable:!0})],Ds.prototype,"filter",void 0),u([d({type:Boolean,nonNullable:!0})],Ds.prototype,"flow",void 0),u([d({type:Boolean,nonNullable:!0})],Ds.prototype,"heading",void 0),u([d({type:Boolean,nonNullable:!0})],Ds.prototype,"statusIndicators",void 0),u([d({type:Boolean,nonNullable:!0})],Ds.prototype,"temporaryLayerIndicators",void 0),Ds=u([k("esri.widgets.LayerList.LayerListVisibleElements")],Ds);const nQ=Ds,uVe=["label","description","metadata"],cVe=we.ofType(jO),jj="nested";let Qe=class extends Cc.IdentifiableMixin(jn){constructor(t,n){super(t,n),this._rootListEl=null,this._activeItem=null,this._tooltipReferenceMap=new um,this._focusRootFlowItem=!1,this._focusPanelFlowItem=!1,this._focusLayerFlowItem=null,this._layerListMap=new um,this._lastDragDetail=null,this._selectedDragItemLayerUid=null,this._rootGroupUid=`operational-${this.uid}`,this._openedLayersController=null,this.catalogLayerList=null,this.catalogOptions=null,this.collapsed=!1,this.dragEnabled=!1,this.filterPlaceholder="",this.filterPredicate=null,this.filterText="",this.headingLevel=2,this.knowledgeGraphOptions=null,this.layerTablesEnabled=new we(["knowledge-graph"]),this.listItemCanGiveFunction=null,this.listItemCanReceiveFunction=null,this.mapImageOptions=null,this.messages=null,this.messagesCommon=null,this.minDragEnabledItems=BDe,this.minFilterItems=zDe,this.openedLayers=new we,this.openedLayerLists=new we,this.selectedItems=new cVe,this.selectionMode="none",this.tableList=null,this.tileOptions=null,this.viewModel=new tQ,this.visibilityAppearance="default",this.visibleElements=new nQ,this._canMove=({dragEl:i,fromEl:r,toEl:s},o)=>{const a=o==="pull"?this.listItemCanGiveFunction:this.listItemCanReceiveFunction,l=Ao(i);if(!l?.sortable)return!1;const c=Ao(r),h=Vj(r),p=Ao(s),m=Vj(s),y=!!h&&!!m&&h===m,g={selected:l,from:c,to:p},v=r.group,b=s.group,w=c?.layer?.type??"",S=p?.layer?.type??"",x=new Set(["map-image","catalog","knowledge-graph"]);return v&&b&&typeof a=="function"?a.call(null,g):y&&!x.has(w)&&!x.has(S)&&l?.layer?.type!=="sublayer"},this._onCatalogOpen=i=>{this.openedLayers.push(i.layer?.parent),this._focusLayerFlowItem=i.layer?.uid},this._onTablesOpen=i=>{this.openedLayers.push(i.layer),this._focusLayerFlowItem=i.layer?.uid},this._onPanelOpen=()=>{this._focusPanelFlowItem=!0},this._onTooltipReferenceChange=(i,r)=>{r?this._tooltipReferenceMap.set(i,r):this._tooltipReferenceMap.delete(i)},this._onSelectedDragItemLayerUidChange=i=>{this._selectedDragItemLayerUid=i},this._onTriggerAction=(i,r)=>{this.triggerAction(i,r)},this._clearActiveItem=()=>{this._activeItem=null},this._setActiveItem=i=>{if(this.visibilityAppearance!=="default")return;const r=Array.from(i.composedPath()).find(s=>s.classList?.contains(qy.item));this._activeItem=Ao(r)},this._onCalciteListOrderChange=i=>{const{_lastDragDetail:r}=this,{toEl:s,fromEl:o,dragEl:a,newIndex:l}=i;if(o&&s&&!(r?.newIndex===l&&r?.dragEl===a&&r?.toEl===s&&r?.fromEl===o))if(this._lastDragDetail=i,this._selectedDragItemLayerUid=a.value,o!==s)this._moveLayerFromChildList({toEl:s,fromEl:o,dragEl:a,newIndex:l});else{const c=Array.from(o.children).filter(h=>h?.matches("calcite-list-item")).map(h=>h.value);this._sortLayers(o,c)}}}initialize(){this.addHandles([Tr(()=>this.openedLayers,"change",()=>this._handleOpenedLayersChange(),mt),Tr(()=>this.viewModel.operationalItems,"change",()=>YDe(this.selectedItems),mt),me(()=>[this.filterPredicate,this._rootListEl],()=>JDe(this._rootListEl,this.filterPredicate))])}loadDependencies(){return hp({button:()=>J(()=>import("./index-C7XRDy6O.js"),__vite__mapDeps([284,285,286,287,3,288,289,290,291,292,293,294,295,296,297])),flow:()=>J(()=>import("./index-6RAhZ3vm.js"),__vite__mapDeps([327,291,290,296,289,286,3])),"flow-item":()=>J(()=>import("./index-Ckjxk_-e.js"),__vite__mapDeps([328,285,286,287,3,288,289,290,298,299,291,294,296,297,301,302,303,304,292,305,306,307,308,309,310,300])),list:()=>J(()=>import("./index-C3OkyxW3.js"),__vite__mapDeps([322,285,286,287,3,310,291,290,289,299,288,323,324,325,292,293,294,307,295,296,297,303,320])),notice:()=>J(()=>import("./index-a3iR4gqj.js"),__vite__mapDeps([326,288,289,286,290,3,291,296,304,297,287])),tooltip:()=>J(()=>import("./index-BCIhc8Ui.js"),__vite__mapDeps([329,291,302,289,286,303,304,305,299,3]))})}destroy(){this._destroyOpenedLayerLists(),this._tooltipReferenceMap.clear()}get _totalItems(){return this.viewModel.operationalItems.flatten(t=>t.children.filter(n=>n.layer?.type!=="catalog-dynamic-group")).length}get _visibleItems(){return this.operationalItems?.filter(t=>!t.hidden&&(this.visibleElements.errors||!t.error))}get _openedPanelItems(){return this._visibleItems.flatten(t=>t.children).filter(({hidden:t,panel:n})=>!t&&n?.open&&!n.disabled&&n.flowEnabled)}get _dragEnabled(){return this._totalItems>=this.minDragEnabledItems&&this.dragEnabled}get _filterEnabled(){return this._totalItems>=this.minFilterItems&&this.visibleElements.filter}get _renderedOpenLayerFlowItems(){const{openedLayers:t}=this;return t.toArray().map((n,i)=>this._renderLayerFlowItem(n,i===t.length-1))}get icon(){return"layers"}set icon(t){this._overrideIfSome("icon",t)}get label(){return this.messages?.widgetLabel??""}set label(t){this._overrideIfSome("label",t)}get listItemCreatedFunction(){return this.viewModel.listItemCreatedFunction}set listItemCreatedFunction(t){this.viewModel.listItemCreatedFunction=t}get operationalItems(){return this.viewModel.operationalItems}set operationalItems(t){this.viewModel.operationalItems=t}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}triggerAction(t,n){return this.viewModel.triggerAction(t,n)}render(){const t=this.viewModel?.state,{_visibleItems:n}=this,i={[Zn.hidden]:t==="loading",[Zn.disabled]:t==="disabled"};return N("div",{class:this.classes(qy.base,Zn.widget,Zn.panel,i)},n?.length?[this._renderItemTooltips(),this._renderItems()]:this._renderNoItems())}async _createFlowList(t,n){const{_layerListMap:i}=this,r=i.get(t);if(r)return r;const s=t.type==="catalog"?await this._createCatalogLayerList(t):await this._createTableList(t);return n.aborted||i.set(t,s),s}async _handleOpenedLayersChange(){const{_layerListMap:t,openedLayers:n,openedLayerLists:i}=this;this._openedLayersController?.abort();const r=new AbortController,{signal:s}=r;this._openedLayersController=r,t.forEach((l,c)=>{n.includes(c)||(l.destroy(),t.delete(c))});const o=await Promise.all(n.map(l=>this._createFlowList(l,s)));if(s.aborted)return;i.removeAll(),i.addMany(o);const a=i.at(-1);a?"catalogLayer"in a?(this._set("catalogLayerList",a),this._set("tableList",null)):(this._set("catalogLayerList",null),this._set("tableList",a)):(this._set("catalogLayerList",null),this._set("tableList",null))}_destroyOpenedLayerLists(){this.openedLayerLists.destroyAll(),this.openedLayers.removeAll(),this._layerListMap.clear()}_renderItemTooltip(t){const{_tooltipReferenceMap:n,messages:i}=this;return t?N("calcite-tooltip",{key:`tooltip-${t.layer?.uid}`,overlayPositioning:"fixed",referenceElement:n.get(t.layer?.uid)},i.layerIncompatibleTooltip):null}_renderItemTooltipNodes(t){return t.incompatible?this._renderItemTooltip(t):t.children?.filter(n=>!n.hidden).toArray().map(n=>this._renderItemTooltipNodes(n))}_renderItemTooltips(){return this._visibleItems?.toArray().map(t=>this._renderItemTooltipNodes(t))}_renderNoItemsMessage(){return N("div",{slot:"message"},this.messages.noItemsToDisplay)}_renderNoItems(){return N("div",{class:qy.itemMessage,key:"esri-layer-list__no-items"},N("calcite-notice",{icon:"information",kind:"info",open:!0,width:"full"},this._renderNoItemsMessage()))}async _createCatalogLayerList(t){const{default:n}=await J(()=>import("./CatalogLayerList-CsStkLqe.js"),__vite__mapDeps([330,3])),{headingLevel:i,catalogOptions:r,view:s,filterPlaceholder:o,listItemCreatedFunction:a,minFilterItems:l,selectionMode:c,visibilityAppearance:h,_onCatalogOpen:p,_onTablesOpen:m,layerTablesEnabled:y}=this;return new n({headingLevel:i,view:s,filterPlaceholder:o,listItemCreatedFunction:a,minFilterItems:l,selectionMode:c,visibilityAppearance:h,...r,catalogLayer:t,layerTablesEnabled:y,onCatalogOpen:p,onTablesOpen:m})}_getTableListParams(t){switch(t.type){case"knowledge-graph":return{...this.knowledgeGraphOptions,tables:t.tables};case"map-image":return{...this.mapImageOptions,tables:t.subtables};case"tile":return{...this.tileOptions,tables:t.subtables};default:return null}}async _createTableList(t){const{default:n}=await J(()=>import("./TableList-DAdx2EXq.js"),__vite__mapDeps([331,3])),{headingLevel:i,selectionMode:r,dragEnabled:s}=this;return new n({headingLevel:i,selectionMode:r,dragEnabled:s,...this._getTableListParams(t)})}_renderLayerFlowItem(t,n){const{messages:i,openedLayers:r}=this,s=t.title||this.messages.untitledLayer;return N("calcite-flow-item",{afterCreate:this._focusLayerFlowItemNode,afterUpdate:this._focusLayerFlowItemNode,bind:this,"data-layer-uid":t.uid,description:s,heading:i[t.type==="catalog"?"catalogLayers":"tables"],headingLevel:this.headingLevel,key:`flow-layer-list-${t.uid}`,selected:n,onCalciteFlowItemBack:o=>{o.preventDefault(),r.pop();const a=r.at(-1);a?this._focusLayerFlowItem=a.uid:this._focusRootFlowItem=!0}},this._layerListMap.get(t)?.render())}_renderPanelFlowItems(){const{_openedPanelItems:t,openedLayers:n}=this;return t.toArray().map(({title:i,panel:r},s)=>{const o=()=>this._handlePanelFlowItemBack(r);return N("calcite-flow-item",{afterCreate:this._focusPanelFlowItemNode,afterUpdate:this._focusPanelFlowItemNode,bind:this,description:i,heading:r.title,headingLevel:this.headingLevel,key:`flow-panel-${r.uid}`,selected:!n.length&&s===t.length-1,onCalciteFlowItemBack:a=>{a.preventDefault(),o()}},r.render(),N("calcite-button",{appearance:"transparent",onclick:o,slot:"footer-actions",width:"full"},this.messagesCommon.back))})}_handlePanelFlowItemBack(t){t.open=!1,this._focusRootFlowItem=!0}_focusRootFlowItemNode(t){this._focusRootFlowItem&&(this._focusRootFlowItem=!1,Av(t))}_focusLayerFlowItemNode(t){this._focusLayerFlowItem===t.dataset.layerUid&&(this._focusLayerFlowItem=null,Av(t))}_focusPanelFlowItemNode(t){this._focusPanelFlowItem&&(this._focusPanelFlowItem=!1,Av(t))}_renderItems(){const{visible:t,collapsed:n,_visibleItems:i,_openedPanelItems:r,_filterEnabled:s,_rootGroupUid:o,visibleElements:{closeButton:a,collapseButton:l,heading:c,flow:h},_dragEnabled:p,selectionMode:m,filterText:y,openedLayers:g,filterPlaceholder:v,messages:b}=this,w=[N("calcite-flow-item",{afterCreate:this._focusRootFlowItemNode,afterUpdate:this._focusRootFlowItemNode,bind:this,closable:a,closed:!t,collapsed:n,collapsible:l,heading:c?b.widgetLabel:void 0,headingLevel:this.headingLevel,key:"root-flow-item",selected:!g.length&&!r.length,onCalciteFlowItemClose:()=>this.visible=!1},N("calcite-list",{afterCreate:S=>{this._rootListEl=S,S.addEventListener("focusin",this._setActiveItem),S.addEventListener("focusout",this._clearActiveItem)},afterRemoved:S=>{this._rootListEl=null,S.removeEventListener("focusin",this._setActiveItem),S.removeEventListener("focusout",this._clearActiveItem)},canPull:S=>this._canMove(S,"pull"),canPut:S=>this._canMove(S,"put"),"data-layer-type":o,displayMode:jj,dragEnabled:p,filterEnabled:s,filterPlaceholder:v,filterProps:uVe,filterText:s?y:"",group:o,key:"root-list",label:b.widgetLabel,onmouseleave:this._clearActiveItem,onmouseover:this._setActiveItem,selectionAppearance:"border",selectionMode:m,onCalciteListChange:S=>this._handleCalciteListChange(S),onCalciteListDragEnd:S=>this._handleCalciteListDragEnd(S.detail),onCalciteListFilter:S=>this.filterText=S.currentTarget?.filterText??"",onCalciteListOrderChange:S=>this._onCalciteListOrderChange(S.detail)},i?.toArray().map(S=>this._renderItem(S)),i?.length&&s?N("div",{class:qy.filterNoResults,slot:"filter-no-results"},N("calcite-notice",{kind:"info",open:!0,width:"full"},this._renderNoItemsMessage())):null)),this._renderPanelFlowItems(),this._renderedOpenLayerFlowItems];return t?h?N("calcite-flow",{key:"root-flow"},w):w:null}_renderItem(t,n,i){return N(sVe,{activeItem:this._activeItem,canMove:this._canMove,css:qy,displayMode:jj,dragEnabled:this.dragEnabled,item:t,key:`layerListItem-${t.layer?.uid}`,layerTablesEnabled:this.layerTablesEnabled,listModeDisabled:this.viewModel.listModeDisabled,messages:this.messages,messagesCommon:this.messagesCommon,parent:n,parentTitles:i,rootGroupUid:this._rootGroupUid,selectedDragItemLayerUid:this._selectedDragItemLayerUid,selectedItems:this.selectedItems,selectionMode:this.selectionMode,visibilityAppearance:this.visibilityAppearance,visibleElements:this.visibleElements,onAction:this._onTriggerAction,onCatalogOpen:this._onCatalogOpen,onPanelOpen:this._onPanelOpen,onSelectedDragItemLayerUidChange:this._onSelectedDragItemLayerUidChange,onTablesOpen:this._onTablesOpen,onTooltipReferenceChange:this._onTooltipReferenceChange})}_moveLayerFromChildList({toEl:t,fromEl:n,dragEl:i,newIndex:r}){const s=Ao(i),o=Ao(t),a=Ao(n);this.viewModel.moveListItem(s,a,o,r)}_handleCalciteListDragEnd(t){const{fromEl:n,dragEl:i,oldIndex:r}=t;n.insertBefore(i,n.children[r])}_sortLayers(t,n){if(t)if(t===this._rootListEl)JX(this.view?.map?.layers,n);else{const i=Ao(t);if(!i)return;eVe(i,n)}}_handleCalciteListChange(t){const{selectionMode:n,selectedItems:i}=this;if(n==="none")return;const r=t.target.selectedItems.map(s=>Ao(s)).filter(Boolean);i.removeAll(),i.addMany(r)}};u([d()],Qe.prototype,"_rootListEl",void 0),u([d()],Qe.prototype,"_activeItem",void 0),u([d()],Qe.prototype,"_tooltipReferenceMap",void 0),u([d()],Qe.prototype,"_focusRootFlowItem",void 0),u([d()],Qe.prototype,"_focusPanelFlowItem",void 0),u([d()],Qe.prototype,"_focusLayerFlowItem",void 0),u([d()],Qe.prototype,"_layerListMap",void 0),u([d()],Qe.prototype,"_totalItems",null),u([d()],Qe.prototype,"_visibleItems",null),u([d()],Qe.prototype,"_openedPanelItems",null),u([d()],Qe.prototype,"_dragEnabled",null),u([d()],Qe.prototype,"_filterEnabled",null),u([d()],Qe.prototype,"_renderedOpenLayerFlowItems",null),u([d({readOnly:!0})],Qe.prototype,"catalogLayerList",void 0),u([d()],Qe.prototype,"catalogOptions",void 0),u([d()],Qe.prototype,"collapsed",void 0),u([d()],Qe.prototype,"dragEnabled",void 0),u([d()],Qe.prototype,"filterPlaceholder",void 0),u([d()],Qe.prototype,"filterPredicate",void 0),u([d()],Qe.prototype,"filterText",void 0),u([d()],Qe.prototype,"headingLevel",void 0),u([d()],Qe.prototype,"icon",null),u([d()],Qe.prototype,"knowledgeGraphOptions",void 0),u([d()],Qe.prototype,"label",null),u([d()],Qe.prototype,"layerTablesEnabled",void 0),u([d()],Qe.prototype,"listItemCanGiveFunction",void 0),u([d()],Qe.prototype,"listItemCanReceiveFunction",void 0),u([d()],Qe.prototype,"listItemCreatedFunction",null),u([d()],Qe.prototype,"mapImageOptions",void 0),u([d(),Xs("esri/widgets/LayerList/t9n/LayerList")],Qe.prototype,"messages",void 0),u([d(),Xs("esri/t9n/common")],Qe.prototype,"messagesCommon",void 0),u([d()],Qe.prototype,"minDragEnabledItems",void 0),u([d()],Qe.prototype,"minFilterItems",void 0),u([d({readOnly:!0})],Qe.prototype,"openedLayers",void 0),u([d({readOnly:!0})],Qe.prototype,"openedLayerLists",void 0),u([d()],Qe.prototype,"operationalItems",null),u([d()],Qe.prototype,"selectedItems",void 0),u([d()],Qe.prototype,"selectionMode",void 0),u([d({readOnly:!0})],Qe.prototype,"tableList",void 0),u([d()],Qe.prototype,"tileOptions",void 0),u([d()],Qe.prototype,"view",null),u([NDe("trigger-action"),d({type:tQ})],Qe.prototype,"viewModel",void 0),u([d()],Qe.prototype,"visibilityAppearance",void 0),u([d({type:nQ,nonNullable:!0})],Qe.prototype,"visibleElements",void 0),Qe=u([k("esri.widgets.LayerList")],Qe);const dVe=Qe;function zj(e,t){const n=e.featureReduction;return n&&n.type!=="selection"&&(!("maxScale"in n)||!n.maxScale||n.maxScale<t.scale)?n:null}const P0=-1;let Co=class extends Ce{constructor(t){super(t),this._from=null,this._to=null,this._final=null,this._current=[],this._time=0,this.duration=H("mapview-transitions-duration"),this.effects=[]}set effect(t){if(this._get("effect")!==(t=t||"")){this._set("effect",t);try{this._transitionTo(Bj(t))}catch(n){this._transitionTo([]),re.getLogger(this).warn("Invalid Effect",{effect:t,error:n})}}}get final(){return this._final}get hasEffects(){return this.transitioning||!!this.effects.length}set scale(t){this._updateForScale(t)}get transitioning(){return this._to!==null}canTransitionTo(t){try{return this.scale>0&&Uj(this._current,Bj(t),this.scale)}catch{return!1}}transitionStep(t,n){this._applyTimeTransition(t),this._updateForScale(n)}endTransition(){this._applyTimeTransition(this.duration)}_transitionTo(t){this.scale>0&&Uj(this._current,t,this.scale)?(this._final=t,this._to=j(t),hVe(this._current,this._to,this.scale),this._from=j(this._current),this._time=0):(this._from=this._to=this._final=null,this._current=t),this._set("effects",this._current[0]?j(this._current[0].effects):[])}_applyTimeTransition(t){if(!(this._to&&this._from&&this._current&&this._final))return;this._time+=t;const n=Math.min(1,this._time/this.duration);for(let i=0;i<this._current.length;i++){const r=this._current[i],s=this._from[i],o=this._to[i];r.scale=pVe(s.scale,o.scale,n);for(let a=0;a<r.effects.length;a++){const l=r.effects[a],c=s.effects[a],h=o.effects[a];l.interpolate(c,h,n)}}n===1&&(this._current=this._final,this._set("effects",this._current[0]?j(this._current[0].effects):[]),this._from=this._to=this._final=null)}_updateForScale(t){if(this._set("scale",t),this._current.length===0)return;const n=this._current,i=this._current.length-1;let r,s,o=1;if(n.length===1||t>=n[0].scale)s=r=n[0].effects;else if(t<=n[i].scale)s=r=n[i].effects;else for(let a=0;a<i;a++){const l=n[a],c=n[a+1];if(l.scale>=t&&c.scale<=t){o=(t-l.scale)/(c.scale-l.scale),r=l.effects,s=c.effects;break}}for(let a=0;a<this.effects.length;a++)this.effects[a].interpolate(r[a],s[a],o)}};function Bj(e){const t=x3(e)||[];return fVe(t)?[{scale:P0,effects:t}]:t}function Uj(e,t,n){return!e[0]?.effects||!t[0]?.effects?!0:!((e[0]?.scale===P0||t[0]?.scale===P0)&&(e.length>1||t.length>1)&&n<=0)&&EW(e[0].effects,t[0].effects)}function hVe(e,t,n){const i=e.length>t.length?e:t,r=e.length>t.length?t:e,s=r[r.length-1],o=s?.scale??n,a=s?.effects??[];for(let l=r.length;l<i.length;l++)r.push({scale:o,effects:[...a]});for(let l=0;l<i.length;l++)r[l].scale=r[l].scale===P0?n:r[l].scale,i[l].scale=i[l].scale===P0?n:i[l].scale,IW(r[l].effects,i[l].effects)}function pVe(e,t,n){return e+(t-e)*n}function fVe(e){const t=e[0];return!!t&&"type"in t}u([d()],Co.prototype,"_to",void 0),u([d()],Co.prototype,"duration",void 0),u([d({value:""})],Co.prototype,"effect",null),u([d({readOnly:!0})],Co.prototype,"effects",void 0),u([d({readOnly:!0})],Co.prototype,"final",null),u([d({readOnly:!0})],Co.prototype,"hasEffects",null),u([d({value:0})],Co.prototype,"scale",null),u([d({readOnly:!0})],Co.prototype,"transitioning",null),Co=u([k("esri.layers.effects.EffectView")],Co);function LWe(e){const t=e.layer;return"floorInfo"in t&&t.floorInfo?.floorField&&"floors"in e.view?iQ(e.view.floors,t.floorInfo.floorField):null}function Gj(e,t){return"floorInfo"in t&&t.floorInfo?.floorField?iQ(e,t.floorInfo.floorField):null}function iQ(e,t){if(!e?.length)return null;const n=e.filter(i=>i!=="").map(i=>`'${i}'`);return n.push("''"),`${t} IN (${n.join(",")}) OR ${t} IS NULL`}function OWe(e,t,n){return t.flatten(({sublayers:r})=>r).length!==e.length?!0:!!e.some(r=>r.originIdOf("minScale")>n||r.originIdOf("maxScale")>n||r.originIdOf("renderer")>n||r.originIdOf("labelingInfo")>n||r.originIdOf("opacity")>n||r.originIdOf("labelsVisible")>n||r.originIdOf("source")>n)||!rQ(e,t)}function mVe(e,t,n){return!!e.some(i=>{const r=i.source,s=!r||r.type==="map-layer"&&r.mapLayerId===i.id&&(r.gdbVersion==null||r.gdbVersion===n);i.commitProperty("renderer"),i.commitProperty("labelingInfo"),i.commitProperty("opacity"),i.commitProperty("labelsVisible"),i.commitProperty("orderBy");const o=i.layer?.capabilities?.exportMap?.supportsSublayerOrderBy??!1;return!s||i.originIdOf("renderer")>We.SERVICE||i.originIdOf("labelingInfo")>We.SERVICE||i.originIdOf("opacity")>We.SERVICE||i.originIdOf("labelsVisible")>We.SERVICE||o&&i.originIdOf("orderBy")>We.SERVICE})||!rQ(e,t)}function rQ(e,t){if(!e?.length||t==null)return!0;const n=t.slice().reverse().flatten(({sublayers:s})=>s&&s.toArray().reverse()).map(s=>s.id).toArray();if(e.length>n.length)return!1;let i=0;const r=n.length;for(const{id:s}of e){for(;i<r&&n[i]!==s;)i++;if(i>=r)return!1}return!0}function RWe(e){return!!e&&e.some(t=>t.minScale!=null||t.layerDefinition?.minScale!=null)}const yVe={visible:"visibleSublayers",definitionExpression:"layerDefs",labelingInfo:"hasDynamicLayers",labelsVisible:"hasDynamicLayers",opacity:"hasDynamicLayers",minScale:"visibleSublayers",maxScale:"visibleSublayers",renderer:"hasDynamicLayers",source:"hasDynamicLayers"};let Vs=class extends Ce{constructor(t){super(t),this.floors=null,this.scale=0}destroy(){this.layer=null}get dynamicLayers(){if(!this.hasDynamicLayers)return null;const t=this.visibleSublayers.map(n=>{const i=Gj(this.floors,n);return n.toExportImageJSON(i)});return t.length?JSON.stringify(t):null}get hasDynamicLayers(){return this.layer&&mVe(this.visibleSublayers,this.layer.serviceSublayers,this.layer.gdbVersion)}set layer(t){this._get("layer")!==t&&(this._set("layer",t),this.removeHandles("layer"),t&&this.addHandles([t.allSublayers.on("change",()=>this.notifyChange("visibleSublayers")),t.on("sublayer-update",n=>this.notifyChange(yVe[n.propertyName]))],"layer"))}get layers(){const t=this.visibleSublayers;return t?t.length?"show:"+t.map(n=>n.id).join(","):"show:-1":null}get layerDefs(){const t=!!this.floors?.length,n=this.visibleSublayers.filter(i=>i.definitionExpression!=null||t&&i.floorInfo!=null);return n.length?JSON.stringify(n.reduce((i,r)=>{const s=Gj(this.floors,r),o=G9(s,r.definitionExpression);return o!=null&&(i[r.id]=o),i},{})):null}get version(){this.commitProperty("layers"),this.commitProperty("layerDefs"),this.commitProperty("dynamicLayers");const t=this.layer;return t&&(t.commitProperty("dpi"),t.commitProperty("imageFormat"),t.commitProperty("imageTransparency"),t.commitProperty("gdbVersion")),(this._get("version")||0)+1}get visibleSublayers(){const t=[];if(!this.layer)return t;const n=this.layer.sublayers,i=this.scale,r=o=>{o.visible&&(i===0||N_e(i,o.minScale,o.maxScale))&&(o.sublayers?o.sublayers.forEach(r):t.unshift(o))};n&&n.forEach(r);const s=this._get("visibleSublayers");return!s||s.length!==t.length||s.some((o,a)=>t[a]!==o)?t:s}toJSON(){const t=this.layer;let n={dpi:t.dpi,format:t.imageFormat,transparent:t.imageTransparency,gdbVersion:t.gdbVersion||null};return this.hasDynamicLayers&&this.dynamicLayers?n.dynamicLayers=this.dynamicLayers:n={...n,layers:this.layers,layerDefs:this.layerDefs},n}};u([d({readOnly:!0})],Vs.prototype,"dynamicLayers",null),u([d()],Vs.prototype,"floors",void 0),u([d({readOnly:!0})],Vs.prototype,"hasDynamicLayers",null),u([d()],Vs.prototype,"layer",null),u([d({readOnly:!0})],Vs.prototype,"layers",null),u([d({readOnly:!0})],Vs.prototype,"layerDefs",null),u([d({type:Number})],Vs.prototype,"scale",void 0),u([d({readOnly:!0})],Vs.prototype,"version",null),u([d({readOnly:!0})],Vs.prototype,"visibleSublayers",null),Vs=u([k("esri.layers.support.ExportImageParameters")],Vs);const gVe=9999999e31,vVe=2e-7,bVe={u1:[0,1],u2:[0,3],u4:[0,15],u8:[0,255],s8:[-128,127],u16:[0,65535],s16:[-32768,32767],u32:[0,4294967295],s32:[-2147483648,2147483647],f32:[-34028234663852886e22,34028234663852886e22],f64:[-Number.MAX_VALUE,Number.MAX_VALUE],unknown:void 0,c64:void 0,c128:void 0};function e2(e){return bVe[e]??[-34028234663852886e22,34028234663852886e22]}function DWe(e,t){return e==null||t==null?"s32":e<0?e>=-128&&t<128?"s8":e>=-32768&&t<32768?"s16":"s32":t<256?"u8":t<65536?"u16":"u32"}function wVe(e){return(e?.startsWith("s")||e?.startsWith("u"))??!1}function VWe(e,t,n,i){let[r,s]=e2(n);const o=wVe(n);return o&&(r-=1e-5,s+=1e-5),o?n.startsWith("u")?_Ve(e,t,i,[r,s]):SVe(e,t,i,[r,s]):xVe(e,t,i,[r,s])}function FWe(e,t){for(let n=0;n<t.length;n++)t[n]&&isNaN(e[n])&&(t[n]=0,e[n]=0)}function _Ve(e,t,n,i){const[r,s]=i;for(let o=0;o<t.length;o++)if(t[o]){const a=e[o];a<r||a>s?t[o]=0:n[o]=a+.5|0}}function SVe(e,t,n,i){const[r,s]=i;for(let o=0;o<t.length;o++)if(t[o]){const a=e[o];a<r||a>s?t[o]=0:n[o]=a+(a>0?.5:-.5)|0}}function xVe(e,t,n,i){const[r,s]=i;for(let o=0;o<t.length;o++)if(t[o]){const a=e[o];a<r||a>s?t[o]=0:n[o]=a}}function jWe(e,t,n){if(e.depthCount&&e.depthCount>1)return;const{pixels:i,statistics:r,pixelType:s}=e,o=i[0].length,a=e.bandMasks??[],l=e.mask??new Uint8Array(o).fill(255),c=s==="f32"||s==="f64",h=e2(s);let p=!1;for(let y=0;y<i.length;y++){const g=typeof t=="number"?t:t[y];if(g==null)continue;const v=r?.[y]?.minValue??h[0],b=r?.[y]?.maxValue??h[1];if(v>g+Number.EPSILON||b<g-Number.EPSILON)continue;const w=a[y]||l.slice(),S=i[y],x=n?.customFloatTolerance;if(c&&x!==0){let E=x;E||(E=Math.abs(g)>=gVe?vVe*Math.abs(g):s==="f32"?2**-23:Number.EPSILON);for(let $=0;$<S.length;$++)w[$]&&Math.abs(S[$]-g)<E&&(S[$]=0,w[$]=0,l[$]=0,p=!0)}else for(let E=0;E<S.length;E++)w[E]&&S[E]===g&&(S[E]=0,w[E]=0,l[E]=0,p=!0);a[y]=w}if(p){const y=e.bandMasks||e.pixels.length>1?a:null;n?.matchAllNoData?e.mask=y&&y.length>1?m(y):l:(e.bandMasks=y,e.mask=l)}function m(y){if(y.length<2)return y[0];const g=y[0].length,v=new Uint8Array(g).fill(0);for(let b=0;b<y.length;b++){const w=y[b];for(let S=0;S<g;S++)w[S]&&(v[S]=255)}return v}p&&"updateStatistics"in e&&e.updateStatistics()}function sQ(e){return e==null||e.type==="simple"||e.type==="unique-value"||e.type==="class-breaks"||e.type==="dictionary"||e.type==="heatmap"}function zWe(e,t){if(e==null)return null;if(!sQ(e))return new B("renderer-conversion-3d:unsupported-renderer",`Unsupported renderer of type '${e.type||e.declaredClass}'`,{renderer:e});switch(e.type){case"simple":return $Ve(e,t);case"unique-value":return TVe(e,t);case"class-breaks":return EVe(e,t);case"dictionary":case"heatmap":return null}return null}function zO(e,t){if(!t)return null;if(Array.isArray(t)||(t=[t]),t.length>0){const n=t.map(r=>r.details.symbol.type||r.details.symbol.declaredClass).filter(r=>!!r);n.sort();const i=new Array;return n.forEach((r,s)=>{s!==0&&r===n[s-1]||i.push(r)}),new B("renderer-conversion-3d:unsupported-symbols",`Renderer contains symbols (${i.join(", ")}) which are not supported in 3D`,{renderer:e,symbolErrors:t})}return null}function $Ve(e,t){const n={...Sl,...t,cimFallbackEnabled:!0};return zO(e,Om(e.symbol,n).error)}function TVe(e,t){const n={...Sl,...t,cimFallbackEnabled:!0},i=e.uniqueValueInfos?.map(s=>Om(s.symbol,n).error).filter(Ji),r=Om(e.defaultSymbol,n);return r.error&&i?.unshift(r.error),zO(e,i)}function EVe(e,t){const n={...Sl,...t,cimFallbackEnabled:!0},i=e.classBreakInfos.map(s=>Om(s.symbol,n).error).filter(Ji),r=Om(e.defaultSymbol,n);return r.error&&i.unshift(r.error),zO(e,i)}var MA;function IVe(e){switch(e){case"circle":return{rings:[[[8.5,.2],[7.06,.33],[5.66,.7],[4.35,1.31],[3.16,2.14],[2.14,3.16],[1.31,4.35],[.7,5.66],[.33,7.06],[.2,8.5],[.33,9.94],[.7,11.34],[1.31,12.65],[2.14,13.84],[3.16,14.86],[4.35,15.69],[5.66,16.3],[7.06,16.67],[8.5,16.8],[9.94,16.67],[11.34,16.3],[12.65,15.69],[13.84,14.86],[14.86,13.84],[15.69,12.65],[16.3,11.34],[16.67,9.94],[16.8,8.5],[16.67,7.06],[16.3,5.66],[15.69,4.35],[14.86,3.16],[13.84,2.14],[12.65,1.31],[11.34,.7],[9.94,.33],[8.5,.2]]]};case"square":return{rings:[[[.5,.5],[.5,16.5],[16.5,16.5],[16.5,.5],[.5,.5]]]};case"diamond":return{rings:[[[8.5,.5],[.2,8.5],[8.5,16.5],[16.5,8.5],[8.5,.5]]]};case"hexagon-pointy":return{rings:[[[15.86,12.75],[15.86,4.25],[8.5,0],[1.14,4.25],[1.14,12.75],[8.5,17],[15.86,12.75]]]};case"hexagon-flat":return{rings:[[[12.75,15.86],[17,8.5],[12.75,1.14],[4.25,1.14],[0,8.5],[4.25,15.86],[12.75,15.86]]]}}}function BO(e){return e?.type==="CIMVectorMarker"?e.markerGraphics?.[0]:void 0}function oQ(e){return e?.symbol?.type==="CIMPolygonSymbol"?e.symbol.symbolLayers?.[0]:void 0}function CVe(e,t){e?.type==="CIMVectorMarker"&&t!=null&&(e.size=t)}function MVe(e,t){const n=BO(e);n&&t!=null&&(n.geometry=IVe(t))}function kVe(e,t){const n=oQ(BO(e));n&&t!=null&&(n.color=t.toArray())}function AVe(e,t,n){const i=oQ(BO(e));i&&t!=null&&n&&(i.colorLocked=t)}function aQ(e,t){const{outerRingSize:n,innerDotSize:i,type:r,color:s,colorLocked:o,primitiveOverrides:a}=t,l=e.data.symbol?.type==="CIMPolygonSymbol"?e.data.symbol.symbolLayers:null;if(l?.length===2)for(const c of l){const h=c.primitiveName===MA.OuterRing;CVe(c,h?n:i),MVe(c,r),kVe(c,s),AVe(c,o,h)}return n!=null&&i!=null&&(e.data.primitiveOverrides=null),a!==void 0&&(e.data.primitiveOverrides=j(a)),e}(function(e){e.OuterRing="reference-size-outer-ring",e.InnerDot="reference-size-inner-dot"})(MA||(MA={}));function lQ(e,t,n,i){if(e)if(e.type!=="CIMTextSymbol"){if(e.effects)for(const r of e.effects)Hj(r,t);if(e.symbolLayers)for(const r of e.symbolLayers){switch(r.type){case"CIMPictureMarker":case"CIMVectorMarker":PVe(r,t,i);break;case"CIMPictureStroke":case"CIMSolidStroke":case"CIMGradientStroke":!i?.preserveOutlineWidth&&r.width&&(r.width*=t);break;case"CIMPictureFill":r.height&&(r.height*=t),r.offsetX&&(r.offsetX*=t),r.offsetY&&(r.offsetY*=t);break;case"CIMHatchFill":lQ(r.lineSymbol,t,!0,{...i,preserveOutlineWidth:!1}),r.offsetX&&(r.offsetX*=t),r.offsetY&&(r.offsetY*=t),r.separation&&(r.separation*=t)}if(r.effects)for(const s of r.effects)Hj(s,t)}}else e.height!=null&&(e.height*=t)}function PVe(e,t,n){if(e&&(e.markerPlacement&&LVe(e.markerPlacement,t),e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t),e.anchorPoint&&e.anchorPointUnits==="Absolute"&&(e.anchorPoint={x:e.anchorPoint.x*t,y:e.anchorPoint.y*t}),e.size=e.size!=null?e.size*t:0,e.type==="CIMVectorMarker"&&e.markerGraphics))for(const i of e.markerGraphics)e.scaleSymbolsProportionally||lQ(i.symbol,t,!0,n)}function LVe(e,t){switch(Dx(e)&&e.offset&&(e.offset*=t),e.type){case"CIMMarkerPlacementAlongLineRandomSize":case"CIMMarkerPlacementAlongLineSameSize":if(e.customEndingOffset&&(e.customEndingOffset*=t),e.offsetAlongLine&&(e.offsetAlongLine*=t),e.placementTemplate&&e.placementTemplate.length){const n=e.placementTemplate.map(i=>i*t);e.placementTemplate=n}break;case"CIMMarkerPlacementAlongLineVariableSize":if(e.maxRandomOffset&&(e.maxRandomOffset*=t),e.placementTemplate&&e.placementTemplate.length){const n=e.placementTemplate.map(i=>i*t);e.placementTemplate=n}break;case"CIMMarkerPlacementOnLine":e.startPointOffset&&(e.startPointOffset*=t);break;case"CIMMarkerPlacementAtExtremities":e.offsetAlongLine&&(e.offsetAlongLine*=t);break;case"CIMMarkerPlacementAtMeasuredUnits":case"CIMMarkerPlacementOnVertices":break;case"CIMMarkerPlacementAtRatioPositions":e.beginPosition&&(e.beginPosition*=t),e.endPosition&&(e.endPosition*=t);break;case"CIMMarkerPlacementPolygonCenter":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t);break;case"CIMMarkerPlacementInsidePolygon":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t),e.stepX&&(e.stepX*=t),e.stepY&&(e.stepY*=t)}}function Hj(e,t){switch(e.type){case"CIMGeometricEffectArrow":case"CIMGeometricEffectDonut":e.width&&(e.width*=t);break;case"CIMGeometricEffectBuffer":e.size&&(e.size*=t);break;case"CIMGeometricEffectCut":e.beginCut&&(e.beginCut*=t),e.endCut&&(e.endCut*=t),e.middleCut&&(e.middleCut*=t);break;case"CIMGeometricEffectDashes":if(e.customEndingOffset&&(e.customEndingOffset*=t),e.offsetAlongLine&&(e.offsetAlongLine*=t),e.dashTemplate&&e.dashTemplate.length){const n=e.dashTemplate.map(i=>i*t);e.dashTemplate=n}break;case"CIMGeometricEffectExtension":case"CIMGeometricEffectJog":case"CIMGeometricEffectRadial":e.length&&(e.length*=t);break;case"CIMGeometricEffectMove":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t);break;case"CIMGeometricEffectOffset":case"CIMGeometricEffectOffsetTangent":e.offset&&(e.offset*=t);break;case"CIMGeometricEffectRegularPolygon":e.radius&&(e.radius*=t);break;case"CIMGeometricEffectTaperedPolygon":e.fromWidth&&(e.fromWidth*=t),e.length&&(e.length*=t),e.toWidth&&(e.toWidth*=t);break;case"CIMGeometricEffectWave":e.amplitude&&(e.amplitude*=t),e.period&&(e.period*=t)}}function uQ(e){const t=[];return kA(DZ(e),t),t.length?new he(NZ(t[0])):null}function kA(e,t){if(!e)return;let n;n=e.type==="CIMTextSymbol"?e.symbol:e;const i=e.type==="CIMPolygonSymbol";if(n?.symbolLayers){for(const r of n.symbolLayers)if(!(r.colorLocked||i&&(FZ(r)||VZ(r)&&r.markerPlacement&&Dx(r.markerPlacement))))switch(r.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":r.tintColor&&qj(t,r.tintColor);break;case"CIMVectorMarker":r.markerGraphics?.forEach(s=>{kA(s.symbol,t)});break;case"CIMSolidStroke":case"CIMSolidFill":qj(t,r.color);break;case"CIMHatchFill":kA(r.lineSymbol,t)}}}function qj(e,t){for(const n of e)if(n.join(".")===t.join("."))return;e.push(t)}function cQ(e,t,n){t instanceof he||(t=new he(t));const i=DZ(e);i&&AA(i,t)}function AA(e,t,n){if(!e)return;let i;i=e.type==="CIMTextSymbol"?e.symbol:e;const r=i?.type==="CIMPolygonSymbol";if(i?.symbolLayers)for(const s of i.symbolLayers){if(s.colorLocked||r&&(FZ(s)||VZ(s)&&s.markerPlacement&&Dx(s.markerPlacement)))continue;const o=t.toArray();switch(s.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":s.tintColor=o;break;case"CIMVectorMarker":s.markerGraphics?.forEach(a=>{AA(a.symbol,t)});break;case"CIMSolidStroke":case"CIMSolidFill":s.color=o;break;case"CIMHatchFill":AA(s.lineSymbol,t)}}}var Kn;(function(e){e[e.size=22]="size",e[e.lineWidth=50]="lineWidth",e[e.maxSize=120]="maxSize",e[e.maxOutlineSize=80]="maxOutlineSize",e[e.tallSymbolWidth=20]="tallSymbolWidth"})(Kn||(Kn={}));const jv={fill:[{type:"path",path:"M -10,-10 L 10,0 L 10,10 L -10,10 L -10,-10 Z"}],meshSymbol3DFill:[{type:"path",path:"M -10,-8 L 6,0 L 6,6 L -10,6 L -10,-8 Z"},{type:"path",path:"M -10,-8 L -7,-10 L 9,-2 L 6,0 L -10,-8 Z"},{type:"path",path:"M 6,0 L 9,-2 L 9,4 L 6,6 L 6,0 Z"}],pathSymbol3DLayer:[{type:"path",path:"M 3,12 L 12,0 L 11,-2 L -4,5 L -1,5 L 1,7 L 3,10 L 3,12 Z"},{type:"circle",cx:-2,cy:10,r:5}]};function OVe(e,t,n){const i=Kn.size;let r=i,s=i;e<1?r*=.75:e>1&&(s*=1.25);const o=0,a=0;let l=i,c=i;return t&&n&&(r=s=l=c=0),[{type:"path",path:[{command:"M",values:[l,o]},{command:"L",values:[n?l:.875*l,o]},{command:"L",values:[n?r-.5*l:a,s-.5*c]},{command:"L",values:[r-.5*l,s-.5*c]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[l,o]},{command:"L",values:[l,t?o:.125*c]},{command:"L",values:[r-.5*l,t?s-.5*c:c]},{command:"L",values:[r-.5*l,s-.5*c]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[r-.5*l,s-.5*c]},{command:"L",values:[n?r-.5*l:a,s-.5*c]},{command:"L",values:[n?r-.5*l:a,t?s-.5*c:c]},{command:"L",values:[r-.5*l,t?s-.5*c:c]},{command:"Z",values:[]}]}]}function RVe(e){const t=Kn.size,n=.5*e,i=0,r=0;return[{type:"path",path:[{command:"M",values:[r,.7*t*.5]},{command:"L",values:[.3*t,.7*t]},{command:"L",values:[.3*t,.7*t+n]},{command:"L",values:[r,.7*t+n-.7*t*.5]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.3*t,.7*t]},{command:"L",values:[.3*t,.7*t+n]},{command:"L",values:[t,n]},{command:"L",values:[t,i]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.3*t,i]},{command:"L",values:[t,i]},{command:"L",values:[.3*t,.7*t]},{command:"L",values:[r,.7*t*.5]},{command:"Z",values:[]}]}]}function NVe(){return[{type:"path",path:"M80,80.2v-27c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4C8.3,59.3,5.7,58,3.9,56c-1.1-1.2-2.4-2.1-3.9-2.8v27"},{type:"path",path:"M11,59.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8v-24c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-1.1-1.2-2.4-2.1-3.9-2.8v24c1.5,0.7,2.8,1.6,3.9,2.8C5.7,58,8.3,59.3,11,59.4z"},{type:"path",path:"M11,35.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8V3.6c-1.5,0.7-2.8,1.6-3.9,2.8c-2.2,2.1-4.6,3.4-7.1,3.4s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6S42.5,9.9,40,9.9s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.5,0-5-1.3-7.1-3.4C2.8,5.3,1.4,4.3,0,3.6v25.6c1.5,0.7,2.8,1.6,3.9,2.8C5.7,34.1,8.3,35.3,11,35.4z"}]}function DVe(e,t){let n=t?Kn.tallSymbolWidth:e;const i=e,r=t?4:6;n<=Kn.size?n-=.5*r:n-=r;const s=0,o=0,a=t?.35*n:.5*n;return[{type:"path",path:[{command:"M",values:[.5*n,s]},{command:"L",values:[n,.5*a]},{command:"L",values:[.5*n,a]},{command:"L",values:[o,.5*a]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[s,.5*a]},{command:"L",values:[.5*n,a]},{command:"L",values:[.5*n,i]},{command:"L",values:[o,i-.5*a]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.5*n,a]},{command:"L",values:[.5*n,i]},{command:"L",values:[n,i-.5*a]},{command:"L",values:[n,.5*a]},{command:"Z",values:[]}]}]}function VVe(e,t){let n=t?Kn.tallSymbolWidth:e;const i=e,r=t?4:6;n<=Kn.size?n-=.5*r:n-=r;const s=.5*n,o=.15*n,a=0,l=i-o;return[{type:"ellipse",cx:.5*n,cy:l,rx:s,ry:o},{type:"path",path:[{command:"M",values:[a,o]},{command:"L",values:[a,l]},{command:"L",values:[n,l]},{command:"L",values:[n,o]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*n,cy:o,rx:s,ry:o}]}function FVe(e,t){let n=t?Kn.tallSymbolWidth:e;const i=e,r=t?4:6;n<=Kn.size?n-=.5*r:n-=r;const s=.15*n,o=i-s;return[{type:"ellipse",cx:.5*n,cy:o,rx:.5*n,ry:s},{type:"path",path:[{command:"M",values:[.5*n,0]},{command:"L",values:[n,o]},{command:"L",values:[0,o]},{command:"Z",values:[]}]}]}function jVe(e){let t=e;const n=e,i=6;t<Kn.size?t-=.5*i:t-=i;const r=.15*t,s=0;return[{type:"path",path:[{command:"M",values:[0,s]},{command:"L",values:[t,s]},{command:"L",values:[.5*t,n-r]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*t,cy:s,rx:.5*t,ry:r}]}function zVe(e){let t=e;const n=e,i=4;t<Kn.size?t-=.5*i:t-=i;const r=0,s=0,o=t,a=n,l=Math.floor(e/10)-1||1;return[{type:"path",path:[{command:"M",values:[.45*o,r]},{command:"L",values:[o,.5*a-l]},{command:"L",values:[.45*o-l,.5*a+l]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*o,r]},{command:"L",values:[.45*o-l,.5*a+l]},{command:"L",values:[s,.5*a-l]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[s,.5*a-l]},{command:"L",values:[.45*o-l,.5*a+l]},{command:"L",values:[.45*o,n]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*o,n]},{command:"L",values:[o,.5*a-l]},{command:"L",values:[.45*o-l,.5*a+l]},{command:"Z",values:[]}]}]}function BVe(e){const t=e,n=2;let i=e;i<Kn.size?i-=.5*n:i-=n;const r=0,s=0;return[{type:"path",path:[{command:"M",values:[.45*t,r]},{command:"L",values:[t,i]},{command:"L",values:[.45*t,.6*i]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*t,r]},{command:"L",values:[.45*t,.6*i]},{command:"L",values:[s,i]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[s,i]},{command:"L",values:[.45*t,.6*i]},{command:"L",values:[t,i]},{command:"Z",values:[]}]}]}function lc(e,t){return Math.round(Math.min(Math.max(e+255*t*.75,0),255))}function BWe(e,t){if(e==null)return new he;if("type"in e&&(e.type==="linear"||e.type==="pattern"))return e;const n=new he(e);return new he([lc(n.r,t),lc(n.g,t),lc(n.b,t),n.a])}function UVe(e){return"r"in e&&"g"in e&&"b"in e}function dQ(e){return"h"in e&&"s"in e&&"v"in e}function hQ(e){return"l"in e&&"a"in e&&"b"in e}function pQ(e){return"l"in e&&"c"in e&&"h"in e}function GVe(e){return"x"in e&&"y"in e&&"z"in e}const HVe=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],qVe=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function fQ(e,t){const n=[];let i,r;if(e[0].length!==t.length)throw new Error("dimensions do not match");const s=e.length,o=e[0].length;let a=0;for(i=0;i<s;i++){for(a=0,r=0;r<o;r++)a+=e[i][r]*t[r];n.push(a)}return n}function mQ(e){const t=[e.r/255,e.g/255,e.b/255].map(i=>i<=.04045?i/12.92:((i+.055)/1.055)**2.4),n=fQ(HVe,t);return{x:100*n[0],y:100*n[1],z:100*n[2]}}function UO(e){const t=fQ(qVe,[e.x/100,e.y/100,e.z/100]).map(n=>{const i=n<=.0031308?12.92*n:1.055*n**.4166666666666667-.055;return Math.min(1,Math.max(i,0))});return{r:Math.round(255*t[0]),g:Math.round(255*t[1]),b:Math.round(255*t[2])}}function yQ(e){const t=[e.x/95.047,e.y/100,e.z/108.883].map(n=>n>.008856451679035631?n**.3333333333333333:7.787037037037035*n+.13793103448275862);return{l:116*t[1]-16,a:500*(t[0]-t[1]),b:200*(t[1]-t[2])}}function gQ(e){const t=e.l,n=[(t+16)/116+e.a/500,(t+16)/116,(t+16)/116-e.b/200].map(i=>i>6/29?i**3:3*(6/29)**2*(i-4/29));return{x:95.047*n[0],y:100*n[1],z:108.883*n[2]}}function WVe(e){const t=e.l,n=e.a,i=e.b,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s=s>0?s:s+2*Math.PI,{l:t,c:r,h:s}}function ZVe(e){const t=e.l,n=e.c,i=e.h;return{l:t,a:n*Math.cos(i),b:n*Math.sin(i)}}function YVe(e){return yQ(mQ(e))}function JVe(e){return UO(gQ(e))}function KVe(e){return WVe(yQ(mQ(e)))}function XVe(e){return UO(gQ(ZVe(e)))}function QVe(e){const t=e.r,n=e.g,i=e.b,r=Math.max(t,n,i),s=r-Math.min(t,n,i);let o=r,a=s===0?0:r===t?(n-i)/s%6:r===n?(i-t)/s+2:(t-n)/s+4,l=s===0?0:s/o;return a<0&&(a+=6),a*=60,l*=100,o*=100/255,{h:a,s:l,v:o}}function eFe(e){const t=(e.h+360)%360/60,n=e.s/100,i=e.v/100*255,r=i*n,s=r*(1-Math.abs(t%2-1));let o;switch(Math.floor(t)){case 0:o={r,g:s,b:0};break;case 1:o={r:s,g:r,b:0};break;case 2:o={r:0,g:r,b:s};break;case 3:o={r:0,g:s,b:r};break;case 4:o={r:s,g:0,b:r};break;case 5:case 6:o={r,g:0,b:s};break;default:o={r:0,g:0,b:0}}return o.r=Math.round(o.r+i-r),o.g=Math.round(o.g+i-r),o.b=Math.round(o.b+i-r),o}function pp(e){return UVe(e)?e:pQ(e)?XVe(e):hQ(e)?JVe(e):GVe(e)?UO(e):dQ(e)?eFe(e):e}function i$(e){return dQ(e)?e:QVe(pp(e))}function tFe(e){return hQ(e)?e:YVe(pp(e))}function UWe(e){return pQ(e)?e:KVe(pp(e))}function nFe(e){let{r:t,g:n,b:i,a:r}=e;return r<1&&(t=Math.round(r*t+255*(1-r)),n=Math.round(r*n+255*(1-r)),i=Math.round(r*i+255*(1-r))),new he({r:t,g:n,b:i})}function iFe(e,t){const{r:n,g:i,b:r}=t?.ignoreAlpha?e:nFe(e);return .2126*n+.7152*i+.0722*r}var PA;function GWe(e,t=PA.High){return iFe(e,{ignoreAlpha:!0})>t?new he([0,0,0,e.a]):new he([255,255,255,e.a])}function HWe(e,t){const n=tFe(e);n.l*=1-t;const i=pp(n),r=e.clone();return r.setColor(i),r.a=e.a,r}function qWe(e,t){const n=e.clone();return n.a*=t,n}function WWe(e,t){const n=i$(e);n.s*=t;const i=pp(n),r=e.clone();return r.setColor(i),r.a=e.a,r}function ZWe(e){return he.toUnitRGBA(e)}function YWe(e){return cp(e[0],e[1],e[2],e.length>3?e[3]:1)}function JWe(e,t){const n=he.toUnitRGBA(e);return n[3]*=t,n}function KWe(e,t,n={}){if(e.length===0||t<=0)return[];if((e=e.map(i=>typeof i=="string"?new he(i):i)).length===1||t===1){const i=[],r=e[0];for(let s=0;s<t;s++)i.push(r.clone());return i}if(n.shuffle&&(e=kU(j(e),n.seed)),e.length>=t){const i=[],r=(e.length-1)/(t-1);for(let s=0;s<t;s++){const o=Math.round(s*r);i.push(e[o].clone())}return i}return rFe(e,t,n)}function rFe(e,t,n={}){const i=[],r=e.length-1,s=Math.ceil((t-e.length)/r);e:for(let o=0;o<r;o++){const a=e[o],l=e[o+1];for(let c=1;c<=s;c++){const h=c/(s+1);if(i.push(sFe(a,l,h,n)),i.length+e.length===t)break e}}return[...e.map(o=>o.clone()),...kU(i,n.seed??1)]}(function(e){e[e.Low=160]="Low",e[e.High=225]="High"})(PA||(PA={}));const rE=(e,t)=>{const n=Math.floor(10*t())-5;return Math.min(255,Math.max(0,e+n))};function sFe(e,t,n,i={}){const r=e.r,s=e.g,o=e.b,a=t.r,l=t.g,c=t.b,h=Math.round(r+(a-r)*n),p=Math.round(s+(l-s)*n),m=Math.round(o+(c-o)*n);if(!i.offset)return new he([h,p,m]);const y=HP(i.seed);return new he([rE(h,y),rE(p,y),rE(m,y)])}const vQ="picture-fill",bQ="simple-fill",oFe="simple-line",wQ="simple-marker",aFe="text",lFe="cim",Wj=new Map([["dash",[4,3]],["dashdot",[4,3,1,3]],["dot",[1,3]],["longdash",[8,3]],["longdashdot",[8,3,1,3]],["longdashdotdot",[8,3,1,3,1,3]],["shortdash",[4,1]],["shortdashdot",[4,1,1,1]],["shortdashdotdot",[4,1,1,1,1,1]],["shortdot",[1,1]],["solid",[]]]),sE=new PZ(1e3);function uFe(e){const t=e.style;let n=null;if(e)switch(e.type){case wQ:t!=="cross"&&t!=="x"&&(n=e.color);break;case bQ:t&&t!=="solid"?t!=="none"&&(n={type:"pattern",x:0,y:0,src:nn(`esri/symbols/patterns/${t}.png`),width:5,height:5}):n=e.color;break;case vQ:n={type:"pattern",src:e.url,width:pn(e.width)*e.xscale,height:pn(e.height)*e.yscale,x:pn(e.xoffset),y:pn(e.yoffset)};break;case aFe:n=e.color;break;case lFe:n=uQ(e)}return n}function cFe(e,t){const n=e+"-"+t;return sE.get(n)!==void 0?Promise.resolve(sE.get(n)):Lt(e,{responseType:"image"}).then(i=>{const r=i.data,s=r.naturalWidth,o=r.naturalHeight,a=document.createElement("canvas");a.width=s,a.height=o;const l=a.getContext("2d");l.fillStyle=t,l.fillRect(0,0,s,o),l.globalCompositeOperation="destination-in",l.drawImage(r,0,0);const c=a.toDataURL();return sE.put(n,c),c})}function L0(e){if(!e)return null;let t=null;switch(e.type){case bQ:case vQ:case wQ:t=L0(e.outline);break;case oFe:{const n=pn(e.width);e.style!=null&&e.style!=="none"&&n!==0&&(t={color:e.color,style:GO(e.style),width:n,cap:e.cap,join:e.join==="miter"?pn(e.miterLimit):e.join},t.dashArray=_Q(t).join(",")||"none");break}default:t=null}return t}function _Q(e){if(!e?.style)return[];const{dashArray:t,style:n,width:i}=e;if(typeof t=="string"&&t!=="none")return t.split(",").map(o=>Number(o));const r=i??0,s=Wj.has(n)?Wj.get(n).map(o=>o*r):[];if(e.cap!=="butt")for(const[o,a]of s.entries())s[o]=o%2==1?a+r:Math.max(a-r,1);return s}const GO=(()=>{const e={};return t=>{if(e[t])return e[t];const n=t.replaceAll("-","");return e[t]=n,n}})(),dFe=new he([128,128,128]);let hFe=0;function pFe(){return hFe++}let fFe=0;function mFe(){return fFe++}let yFe=0;function gFe(){return yFe++}const vFe="http://www.w3.org/2000/svg",Zj=H("android"),bFe=H("chrome")||Zj&&Zj>=4?"auto":"optimizeLegibility",wFe={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},_Fe=/([A-DF-Za-df-z])|([-+]?\d*[.]?\d+(?:[eE][-+]?\d+)?)/g;let dn={},It={};const SFe=Math.PI;function ic(e,t){const n=e*(SFe/180);return Math.abs(t*Math.sin(n))+Math.abs(t*Math.cos(n))}function SQ(e){return e.map(t=>`${t.command} ${t.values.join(" ")}`).join(" ").trim()}function HO(e,t,n,i,r){if(e){if(e.type==="circle")return N("circle",{cx:e.cx,cy:e.cy,fill:t,"fill-rule":"evenodd",r:e.r,stroke:n.color,"stroke-dasharray":n.dashArray,"stroke-dashoffset":n.dashOffset,"stroke-linecap":n.cap,"stroke-linejoin":n.join,"stroke-miterlimit":"4","stroke-width":n.width});if(e.type==="ellipse")return N("ellipse",{cx:e.cx,cy:e.cy,fill:t,"fill-rule":"evenodd",rx:e.rx,ry:e.ry,stroke:n.color,"stroke-dasharray":n.dashArray,"stroke-linecap":n.cap,"stroke-linejoin":n.join,"stroke-miterlimit":"4","stroke-width":n.width});if(e.type==="rect")return N("rect",{fill:t,"fill-rule":"evenodd",height:e.height,stroke:n.color,"stroke-dasharray":n.dashArray,"stroke-linecap":n.cap,"stroke-linejoin":n.join,"stroke-miterlimit":"4","stroke-width":n.width,width:e.width,x:e.x,y:e.y});if(e.type==="image")return N("image",{alt:r||"image",height:e.height,href:e.src,preserveAspectRatio:"none",width:e.width,x:e.x,y:e.y});if(e.type==="path"){const s=typeof e.path!="string"?SQ(e.path):e.path;return N("path",{d:s,fill:t,"fill-rule":"evenodd",stroke:n.color,"stroke-dasharray":n.dashArray,"stroke-linecap":n.cap,"stroke-linejoin":n.join,"stroke-miterlimit":"4","stroke-width":n.width})}if(e.type==="text")return K0(i),N("text",{"dominant-baseline":i.dominantBaseline,fill:t,"fill-rule":"evenodd","font-family":i.font.family,"font-size":i.font.size,"font-style":i.font.style,"font-variant":i.font.variant,"font-weight":i.font.weight,kerning:i.kerning,rotate:i.rotate,stroke:n.color,"stroke-dasharray":n.dashArray,"stroke-linecap":n.cap,"stroke-linejoin":n.join,"stroke-miterlimit":"4","stroke-width":n.width,"text-anchor":i.align,"text-decoration":i.decoration,"text-rendering":bFe,x:e.x,y:e.y},e.text)}return null}function qO(e){if(!e)return{fill:"none",pattern:null,linearGradient:null};if(!("type"in e))return{fill:new he(e).toString(),pattern:null,linearGradient:null};if(e.type==="pattern"){const n=`patternId-${pFe()}`;return{fill:`url(#${n})`,pattern:{id:n,x:e.x,y:e.y,width:e.width,height:e.height,image:{x:0,y:0,width:e.width,height:e.height,href:e.src}},linearGradient:null}}const t=`linearGradientId-${mFe()}`;return{fill:`url(#${t})`,pattern:null,linearGradient:{id:t,x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,stops:e.colors.map(n=>({offset:n.offset,color:n.color&&new he(n.color).toString()}))}}}function WO(e){const t={color:"none",width:1,cap:"butt",join:"4",dashArray:"none",dashOffset:"0"};return e&&(e.width!=null&&(t.width=e.width),e.cap&&(t.cap=e.cap),e.join&&(t.join=e.join.toString()),e.color&&(t.color=new he(e.color).toString()),e.dashArray&&(t.dashArray=e.dashArray),e.dashoffset&&(t.dashOffset=e.dashoffset),e.style&&!e.dashArray&&(t.dashArray=_Q(e).join(",")||"none")),t}function xQ(e,t){const n={align:null,decoration:null,kerning:null,rotate:null,font:{style:null,variant:null,weight:null,size:null,family:null}};if(e){const i=e.alignBaseline,r=i==="baseline"?"auto":i==="top"?"text-top":i==="bottom"?"hanging":i;n.align=e.align,n.dominantBaseline=r,n.decoration=e.decoration,n.kerning=e.kerning?"auto":"0",n.rotate=e.rotated?"90":"0",K0(t),n.font.style=t.style||"normal",n.font.variant=t.variant||"normal",n.font.weight=t.weight||"normal",n.font.size=t.size&&t.size.toString()||"10pt",n.font.family=t.family||"serif"}return n}function $Q(e){const{pattern:t,linearGradient:n}=e;if(t)return N("pattern",{height:t.height,id:t.id,patternUnits:"userSpaceOnUse",width:t.width,x:t.x,y:t.y},N("image",{height:t.image.height,href:t.image.href,width:t.image.width,x:t.image.x,y:t.image.y}));if(n){const i=n.stops.map((r,s)=>N("stop",{key:`${s}-stop`,offset:r.offset,"stop-color":r.color}));return N("linearGradient",{gradientUnits:"userSpaceOnUse",id:n.id,x1:n.x1,x2:n.x2,y1:n.y1,y2:n.y2},i)}return null}function xFe(e,t){if(!e||e.length===0)return null;const n=[];for(const i of e){const{shape:r,fill:s,stroke:o,font:a}=i,l=qO(s),c=WO(o),h=r.type==="text"?xQ(r,a):null,p=HO(r,l.fill,c,h);p&&n.push(p)}return N("mask",{id:t,maskUnits:"userSpaceOnUse"},N("g",null,n))}function Yj(e,t,n){return Vm(e,Wx(e),[t,n])}function Jj(e,t,n,i,r){return Zx(e,Wx(e),[t,n]),e[4]=e[4]*t-i*t+i,e[5]=e[5]*n-r*n+r,e}function $Fe(e,t,n,i){const r=t%360*Math.PI/180;Lb(e,Wx(e),r);const s=Math.cos(r),o=Math.sin(r),a=e[4],l=e[5];return e[4]=a*s-l*o+i*o-n*s+n,e[5]=l*s+a*o-n*o-i*s+i,e}function cr(e,t){dn&&"left"in dn?(dn.left!=null&&dn.left>e&&(dn.left=e),(dn.right==null||dn.right<e)&&(dn.right=e),(dn.top==null||dn.top>t)&&(dn.top=t),(dn.bottom==null||dn.bottom<t)&&(dn.bottom=t)):dn={left:e,bottom:t,right:e,top:t}}function Kj(e){const t=e.args,n=t.length;let i;switch(e.action){case"M":case"L":case"C":case"S":case"Q":case"T":for(i=0;i<n;i+=2)cr(t[i],t[i+1]);It.x=t[n-2],It.y=t[n-1];break;case"H":for(i=0;i<n;++i)cr(t[i],It.y);It.x=t[n-1];break;case"V":for(i=0;i<n;++i)cr(It.x,t[i]);It.y=t[n-1];break;case"m":{let r=0;for(("x"in It)||(cr(It.x=t[0],It.y=t[1]),r=2),i=r;i<n;i+=2)cr(It.x+=t[i],It.y+=t[i+1]);break}case"l":case"t":for(i=0;i<n;i+=2)cr(It.x+=t[i],It.y+=t[i+1]);break;case"h":for(i=0;i<n;++i)cr(It.x+=t[i],It.y);break;case"v":for(i=0;i<n;++i)cr(It.x,It.y+=t[i]);break;case"c":for(i=0;i<n;i+=6)cr(It.x+t[i],It.y+t[i+1]),cr(It.x+t[i+2],It.y+t[i+3]),cr(It.x+=t[i+4],It.y+=t[i+5]);break;case"s":case"q":for(i=0;i<n;i+=4)cr(It.x+t[i],It.y+t[i+1]),cr(It.x+=t[i+2],It.y+=t[i+3]);break;case"A":for(i=0;i<n;i+=7)cr(t[i+5],t[i+6]);It.x=t[n-2],It.y=t[n-1];break;case"a":for(i=0;i<n;i+=7)cr(It.x+=t[i+5],It.y+=t[i+6])}}function Xj(e,t,n){const i=wFe[e.toLowerCase()];let r;typeof i=="number"&&(i?t.length>=i&&(r={action:e,args:t.slice(0,t.length-t.length%i)},n.push(r),Kj(r)):(r={action:e,args:[]},n.push(r),Kj(r)))}function TFe(e){const t=(typeof e.path!="string"?SQ(e.path):e.path).match(_Fe),n=[];if(dn={},It={},!t)return null;let i="",r=[];const s=t.length;for(let a=0;a<s;++a){const l=t[a],c=parseFloat(l);isNaN(c)?(i&&Xj(i,r,n),r=[],i=l):r.push(c)}Xj(i,r,n);const o={x:0,y:0,width:0,height:0};return dn&&"left"in dn&&(o.x=dn.left,o.y=dn.top,o.width=dn.right-dn.left,o.height=dn.bottom-dn.top),o}function TQ(e){const t={x:0,y:0,width:0,height:0};if(e.type==="circle")t.x=e.cx-e.r,t.y=e.cy-e.r,t.width=2*e.r,t.height=2*e.r;else if(e.type==="ellipse")t.x=e.cx-e.rx,t.y=e.cy-e.ry,t.width=2*e.rx,t.height=2*e.ry;else if(e.type==="image"||e.type==="rect")t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height;else if(e.type==="path"){const n=TFe(e);t.x=n.x,t.y=n.y,t.width=n.width,t.height=n.height}return t}function EQ(e){const t={x:0,y:0,width:0,height:0};let n=null,i=Number.NEGATIVE_INFINITY,r=Number.NEGATIVE_INFINITY;for(const s of e)n?(n.x=Math.min(n.x,s.x),n.y=Math.min(n.y,s.y),i=Math.max(i,s.x+s.width),r=Math.max(r,s.y+s.height)):(n=t,n.x=s.x,n.y=s.y,i=s.x+s.width,r=s.y+s.height);return n&&(n.width=i-n.x,n.height=r-n.y),n}function LA(e,t,n,i,r,s,o,a,l){let c=(o&&s?ic(s,t):t)/2,h=(o&&s?ic(s,n):n)/2;if(l){const S=l[0],x=l[1];c=(o&&s?ic(s,S):S)/2,h=(o&&s?ic(s,x):x)/2}const p=e.width+i,m=e.height+i,y=FS(),g=FS();let v=!1;if(r&&p!==0&&m!==0){const S=t!==n?t/n:p/m,x=t>n?t:n;let E=1,$=1;isNaN(x)||(S>1?(E=x/p,$=x/S/m):($=x/m,E=x*S/p)),Qd(g,g,Jj(y,E,$,c,h)),v=!0}const b=e.x+(p-i)/2,w=e.y+(m-i)/2;if(Qd(g,g,Yj(y,c-b,h-w)),!v&&(p>t||m>n)){const S=p/t>m/n,x=(S?t:n)/(S?p:m);Qd(g,g,Jj(y,x,x,b,w))}return a&&Qd(g,g,Yj(y,a[0],a[1])),s&&Qd(g,g,$Fe(y,s,b,w)),`matrix(${g[0]},${g[1]},${g[2]},${g[3]},${g[4]},${g[5]})`}function EFe(e,t,n){const i=e?.effects.find(c=>c.type==="bloom");if(!i)return null;const{strength:r,radius:s}=i,o=r>0?s:0,a=(r+o)*t,l=4*r+1;return N("filter",{filterUnits:"userSpaceOnUse",height:"300%",id:`bloom${n}`,width:"300%",x:"-100%",y:"-100%"},N("feMorphology",{in:"SourceGraphic",operator:"dilate",radius:(r+.5*o)*(5**(t/100)*(.4+t/100)),result:"dilate"}),N("feGaussianBlur",{in:"dilate",result:"blur",stdDeviation:a/25}),N("feGaussianBlur",{in:"blur",result:"intensityBlur",stdDeviation:a/50}),N("feComponentTransfer",{in:"SourceGraphic",result:"intensityBrightness"},N("feFuncR",{slope:l,type:"linear"}),N("feFuncG",{slope:l,type:"linear"}),N("feFuncB",{slope:l,type:"linear"})),N("feMerge",null,N("feMergeNode",{in:"intensityBlur"}),N("feMergeNode",{in:"intensityBrightness"}),N("feGaussianBlur",{stdDeviation:r/10})))}function IQ(e,t,n,i={}){const r=[],s=[],o=gFe(),a=EFe(i.effectView,t,o);let l=null;if(a){const m=i.effectView?.effects.find(b=>b.type==="bloom"),y=(m.strength?m.strength+m.radius/2:0)/3,g=t+t*y,v=n+n*y;l=[Math.max(g,10),Math.max(v,10)]}let c=t,h=n;if(i.useRotationSize)for(let m=0;m<e.length;m++){const y=i.rotations?.[m]??0;c=Math.max(ic(y,t),c),h=Math.max(ic(y,n),h)}for(let m=0;m<e.length;m++){const y=e[m],g=[],v=[];let b=0,w=0,S=0;for(const I of y){const{shape:A,fill:M,stroke:L,font:O,offset:P}=I;i.ignoreStrokeWidth||A.type==="text"||(b+=L?.width||0);const R=qO(M),V=WO(L),U=A.type==="text"?xQ(A,O):null;r.push($Q(R)),g.push(HO(A,R.fill,V,U,i.ariaLabel)),v.push(TQ(A)),P&&(w+=P[0],S+=P[1])}const x=i.rotations?.[m]??0;i.useRotationSize&&(w+=(c-ic(x,t))/2,S+=(h-ic(x,n))/2);const E=LA(EQ(v),t,n,b,i.scale??!1,x,i.useRotationSize??!1,[w,S],l);let $=null;if(i.masking){const I=`mask-${m}`,A=i.masking[m];r.push(xFe(A,I)),$=`url(#${I})`}s.push($?N("g",{mask:$},N("g",{transform:E},g)):N("g",{transform:E},g))}return a&&(K0(l),c=l[0],h=l[1]),N("svg",{"aria-label":i.ariaLabel,focusable:!1,height:h,role:"img",style:"display: block;",width:c,xmlns:vFe},a,N("defs",null,r),a?N("g",{filter:`url(#bloom${o})`},s):s)}const IFe=new he("white");function CFe(e){const t=e.symbolLayers?.at(-1);if(t&&"outline"in t)return t?.outline?.size}function MFe(e){if(!e)return 0;if(Va(e)){const t=CFe(e);return t??0}return Zr(L0(e)?.width)}function r$(e){if(e==null||!("symbolLayers"in e)||e.symbolLayers==null)return!1;switch(e.type){case"point-3d":return e.symbolLayers.some(t=>t.type==="object");case"line-3d":return e.symbolLayers.some(t=>t.type==="path");case"polygon-3d":return e.symbolLayers.some(t=>t.type==="object"||t.type==="extrude");default:return!1}}function kFe(e){return e.resource?.href??""}function XWe(e,t){if(!e)return null;let n=null;return Va(e)?n=AFe(e):Sx(e)&&(n=e.type==="cim"?uQ(e):e.color?new he(e.color):null),n?O0(n,t):null}function AFe(e){const t=e.symbolLayers;if(!t)return null;let n=null;return t.forEach(i=>{i.type==="object"&&i.resource?.href||(n=i.type==="water"?i.color:i.material?i.material.color:null)}),n?new he(n):null}function O0(e,t){if(t==null||e==null)return e;const n=e.toRgba();return n[3]=n[3]*t,new he(n)}function PFe(e,t,n){const i=e.symbolLayers;if(!i)return;const r=s=>O0(t=t??s??(n!=null?IFe:null),n);i.forEach(s=>{if(s.type!=="object"||!s.resource?.href||t)if(s.type==="water")s.color=r(s.color);else{const o=s.material!=null?s.material.color:null,a=r(o);s.material==null?s.material=new Ur({color:a}):s.material.color=a,n!=null&&"outline"in s&&s.outline?.color!=null&&(s.outline.color=O0(s.outline.color,n))}})}function LFe(e,t,n){(t=t??e.color)&&(e.color=O0(t,n)),n!=null&&"outline"in e&&e.outline?.color&&(e.outline.color=O0(e.outline.color,n))}function oE(e,t,n){e&&(t||n!=null)&&(t&&(t=new he(t)),Va(e)?PFe(e,t,n):Sx(e)&&LFe(e,t,n))}async function OFe(e,t){const n=e.symbolLayers;n&&await p0e(n,async i=>RFe(i,t))}async function RFe(e,t){switch(e.type){case"extrude":DFe(e,t);break;case"icon":case"line":case"text":NFe(e,t);break;case"path":FFe(e,t);break;case"object":await VFe(e,t)}}function NFe(e,t){const n=CQ(t);n!=null&&(e.size=n)}function CQ(e){for(const t of e)if(typeof t=="number")return t;return null}function DFe(e,t){e.size=typeof t[2]=="number"?t[2]:0}async function VFe(e,t){const{resourceSize:n,symbolSize:i}=await jFe(e),r=MQ(t,n,i);e.width=zv(t[0],i[0],n[0],r),e.depth=zv(t[1],i[1],n[1],r),e.height=zv(t[2],i[2],n[2],r)}function FFe(e,t){const n=MQ(t,wq,[e.width,void 0,e.height]);e.width=zv(t[0],e.width,1,n),e.height=zv(t[2],e.height,1,n)}function MQ(e,t,n){for(let i=0;i<3;i++){const r=e[i];switch(r){case"symbol-value":{const s=n[i];return s!=null?s/t[i]:1}case"proportional":break;default:if(r&&t[i])return r/t[i]}}return 1}async function jFe(e){const{computeObjectLayerResourceSize:t}=await J(()=>import("./symbolLayerUtils-97_Z48OJ.js"),__vite__mapDeps([332,3])),n=await t(e,10),{width:i,height:r,depth:s}=e,o=[i,s,r];let a=1;for(let l=0;l<3;l++){const c=o[l];if(c!=null){a=c/n[l];break}}for(let l=0;l<3;l++)o[l]==null&&(o[l]=n[l]*a);return{resourceSize:n,symbolSize:o}}function zv(e,t,n,i){switch(e){case"proportional":return n*i;case"symbol-value":return t??n;default:return e}}function zFe(e,t){const n=CQ(t);if(n!=null)switch(e.type){case"simple-marker":e.size=n;break;case"picture-marker":{const i=e.width/e.height;i>1?(e.width=n,e.height=n*i):(e.width=n*i,e.height=n);break}case"simple-line":e.width=n;break;case"text":e.font.size=n}}async function BFe(e,t){if(e&&t)return Va(e)?OFe(e,t):void(Sx(e)&&zFe(e,t))}function UFe(e,t,n){if(e&&t!=null)if(Va(e)){const i=e.symbolLayers;i&&i.forEach(r=>{if(r.type==="object")switch(n){case"tilt":r.tilt=(r.tilt??0)+t;break;case"roll":r.roll=(r.roll??0)+t;break;default:r.heading=(r.heading??0)+t}r.type==="icon"&&(r.angle+=t)})}else Sx(e)&&(e.type!=="simple-marker"&&e.type!=="picture-marker"&&e.type!=="text"||(e.angle+=t))}function Ob(e){if(!e)return null;const t=e.effects.filter(n=>n.type!=="bloom").map(n=>n.toJSON());return wS(t)}function QWe(e){return e!=null&&e.type==="polygon-3d"&&e.symbolLayers.some(t=>t.type==="extrude")}const Qj=OS();function GFe(e,t){Qj.append(e,t),Qj.detach(t)}function Rb(e,t,n){const i=Math.ceil(t[0]),r=Math.ceil(t[1]);if(!e.some(o=>!!o.length))return null;const s=n?.node||document.createElement("div");return n.opacity!=null&&(s.style.opacity=n.opacity.toString()),n.effectView!=null&&(s.style.filter=Ob(n.effectView)),GFe(s,()=>IQ(e,i,r,n)),s}function HFe(e,t){e=Math.ceil(e),t=Math.ceil(t);const n=document.createElement("canvas");n.width=e,n.height=t,n.style.width=e+"px",n.style.height=t+"px";const i=n.getContext("2d");return i.clearRect(0,0,e,t),i}function qFe(e,t,n){return e?Lt(e,{responseType:"image"}).then(i=>{const r=i.data,s=r.width,o=r.height,a=s/o;let l=t;if(n){const c=Math.max(s,o);l=Math.min(l,c)}return{image:r,width:a<=1?Math.ceil(l*a):l,height:a<=1?l:Math.ceil(l/a)}}):Promise.reject(new B("renderUtils: imageDataSize","href not provided."))}function WFe(e,t){return!(!e||t==="ignore")&&(t!=="multiply"||e.r!==255||e.g!==255||e.b!==255||e.a!==1)}function ZFe(e,t,n,i,r){switch(r){case"multiply":e[t]*=n[0],e[t+1]*=n[1],e[t+2]*=n[2],e[t+3]*=n[3];break;default:{const s=i$({r:e[t],g:e[t+1],b:e[t+2]});s.h=i.h,s.s=i.s,s.v=s.v/100*i.v;const o=pp(s);e[t]=o.r,e[t+1]=o.g,e[t+2]=o.b,e[t+3]*=n[3];break}}}function YFe(e,t,n,i,r){return qFe(e,t,r).then(s=>{const o=s.width??t,a=s.height??t;if(s.image&&WFe(n,i)){let l=s.image.width,c=s.image.height;H("edge")&&/\.svg$/i.test(e)&&(l-=1,c-=1);const h=HFe(o,a);h.drawImage(s.image,0,0,l,c,0,0,o,a);const p=h.getImageData(0,0,o,a),m=[n.r/255,n.g/255,n.b/255,n.a],y=i$(n);for(let g=0;g<p.data.length;g+=4)ZFe(p.data,g,m,y,i);h.putImageData(p,0,0),e=h.canvas.toDataURL("image/png")}else{const l=dt?.findCredential(e);if(l?.token){const c=e.includes("?")?"&":"?";e=`${e}${c}token=${l.token}`}}return{url:e,width:o,height:a}}).catch(()=>({url:e,width:t,height:t}))}const JFe=["web-gltf","web","cim"],kQ="esri-relationship-ramp",Np=`${kQ}--diamond`,au=`${kQ}--square`,KFe="http://www.w3.org/2000/svg",Ft={diamondContainer:`${Np}__container`,diamondLeftCol:`${Np}__left-column`,diamondRightCol:`${Np}__right-column`,diamondMidCol:`${Np}__middle-column`,diamondMidColLabel:`${Np}__middle-column--label`,diamondMidColRamp:`${Np}__middle-column--ramp`,squareTable:`${au}__table`,squareTableRow:`${au}__table-row`,squareTableCell:`${au}__table-cell`,squareTableLabel:`${au}__table-label`,squareTableLabelLeftBottom:`${au}__table-label--left-bottom`,squareTableLabelRightBottom:`${au}__table-label--right-bottom`,squareTableLabelLeftTop:`${au}__table-label--left-top`,squareTableLabelRightTop:`${au}__table-label--right-top`};function AQ(e,t,n={}){const{focus:i,labels:r}=e,s=!!i,o=XFe(e,t,n),a={justifyContent:"center"},l=Ux(),c=n.key??t;return s?N("div",{class:Ft.diamondContainer,key:`${c}-container`,styles:a},N("div",{class:Ft.diamondLeftCol},l?r.right:r.left),N("div",{class:Ft.diamondMidCol},N("div",{class:Ft.diamondMidColLabel},r.top),o,N("div",{class:Ft.diamondMidColLabel},r.bottom)),N("div",{class:Ft.diamondRightCol},l?r.left:r.right)):N("div",{class:Ft.squareTable,key:`${c}-container`},N("div",{class:Ft.squareTableRow},N("div",{class:jf(Ft.squareTableCell,Ft.squareTableLabel,Ft.squareTableLabelRightBottom)},l?r.top:r.left),N("div",{class:Ft.squareTableCell}),N("div",{class:jf(Ft.squareTableCell,Ft.squareTableLabel,Ft.squareTableLabelLeftBottom)},l?r.left:r.top)),N("div",{class:Ft.squareTableRow},N("div",{class:Ft.squareTableCell}),o,N("div",{class:Ft.squareTableCell})),N("div",{class:Ft.squareTableRow},N("div",{class:jf(Ft.squareTableCell,Ft.squareTableLabel,Ft.squareTableLabelRightTop)},l?r.right:r.bottom),N("div",{class:Ft.squareTableCell}),N("div",{class:jf(Ft.squareTableCell,Ft.squareTableLabel,Ft.squareTableLabelLeftTop)},l?r.bottom:r.right)))}function e8(e,t,n){const i=`${n}_arrowStart`,r=`${n}_arrowEnd`,s=e==="left",o={markerStart:null,markerEnd:null};switch(t){case"HL":s?o.markerStart=`url(#${r})`:o.markerEnd=`url(#${i})`;break;case"LL":o.markerStart=`url(#${r})`;break;case"LH":s?o.markerEnd=`url(#${i})`:o.markerStart=`url(#${r})`;break;default:o.markerEnd=`url(#${i})`}return o}function XFe(e,t,n={}){const{focus:i,numClasses:r,colors:s,rotation:o}=e,{opacity:a,effectList:l,ariaLabel:c}=n,h=n.size??60,p=!!i,m=Math.sqrt(h**2+h**2)+(p?0:5),y=[],g=[],v=[],b=(h||75)/r;for(let P=0;P<r;P++){const R=P*b;for(let V=0;V<r;V++){const U=V*b,ee=qO(s[P][V]),se=WO(null),Se={type:"rect",x:U,y:R,width:b,height:b},oe=$Q(ee);oe&&y.push(oe);const ie=HO(Se,ee.fill,se,null);ie&&g.push(ie),v.push(TQ(Se))}}const w=15,S=15,x=10;let E=null;p||(E="margin: -15px -15px -18px -15px");const $=e8("left",i,t),I=e8("right",i,t),A=EQ(v),M=LA(A,m,m,0,!1,o,!1),L=LA(A,m,m,0,!1,p?-45:null,!1),O={filter:Ob(l)??void 0,opacity:a==null?"":`${a}`};return N("div",{class:p?Ft.diamondMidColRamp:Ft.squareTableCell,styles:O},N("svg",{"aria-label":c,focusable:!1,height:m,role:"image",style:E,width:m,xmlns:KFe},N("defs",null,N("marker",{id:`${t}_arrowStart`,markerHeight:"10",markerUnits:"strokeWidth",markerWidth:"10",orient:"auto",refX:"5",refY:"5"},N("polyline",{fill:"none",points:"0,0 5,5 0,10",stroke:"#555555","stroke-width":"1"})),N("marker",{id:`${t}_arrowEnd`,markerHeight:"10",markerUnits:"strokeWidth",markerWidth:"10",orient:"auto",refX:"0",refY:"5"},N("polyline",{fill:"none",points:"5,0 0,5 5,10",stroke:"#555555","stroke-width":"1"})),y),N("g",{transform:M},g),N("g",{transform:L},N("line",{fill:"none","marker-end":$.markerEnd,"marker-start":$.markerStart,stroke:"#555555","stroke-width":"1",x1:-10,x2:-10,y1:h-w,y2:w}),N("line",{fill:"none","marker-end":I.markerEnd,"marker-start":I.markerStart,stroke:"#555555","stroke-width":"1",x1:S,x2:h-S,y1:h+x,y2:h+x}))))}function QFe(e){return e=e||globalThis.location.hostname,e5e.some(t=>e?.match(t)!=null)}function t8(e,t){return e?(t=t||globalThis.location.hostname)?t.match(PQ)!=null||t.match(OQ)!=null?e.replace("static.arcgis.com","staticdev.arcgis.com"):t.match(LQ)!=null||t.match(RQ)!=null?e.replace("static.arcgis.com","staticqa.arcgis.com"):e:e:null}const PQ=/^devext\.arcgis\.com$/,LQ=/^qaext\.arcgis\.com$/,OQ=/^[\w-]*\.mapsdevext\.arcgis\.com$/,RQ=/^[\w-]*\.mapsqa\.arcgis\.com$/,e5e=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local\.esri\.com$/,PQ,LQ,/^jsapps\.esri\.com$/,OQ,RQ];function NQ(e,t,n){const i=e.name;return i==null?Promise.reject(new B("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference")):e.styleName==="Esri2DPointSymbolsStyle"?t5e(i,t,n):cZ(e,t,n).then(r=>VQ(r,i,t,N2e,n))}function DQ(e,t){return t.items.find(n=>n.name===e)}async function VQ(e,t,n,i,r){const s=n?.portal!=null?n.portal:or.getDefault(),o={portal:s,url:li(e.baseUrl)},a=DQ(t,e.data);if(!a)throw new B("symbolstyleutils:symbol-name-not-found",`The symbol name '${t}' could not be found`,{symbolName:t});const l=r?.acceptedFormats??JFe,c=i(a,l);if(!c)throw new B("symbolstyleutils:symbol-reference-no-accepted-format",`The symbol name '${t}' does not have an accepted format (one of ${l})`,{symbolName:t});const{url:h,format:p}=c;let m=hc(h,o),y=a.thumbnail?.href??null;const g=a.thumbnail?.imageData;QFe()&&(m=t8(m)??"",y=t8(y));const v={portal:s,url:li(TL(m)),origin:"portal-item"};return F3(m,r).then(b=>{const w=p==="cim"?dZ(b.data):b.data,S=aZ(w,v);if(S&&Va(S)){if(y){const x=hc(y,o);S.thumbnail=new bh({url:x})}else g&&(S.thumbnail=new bh({url:`data:image/png;base64,${g}`}));e.styleUrl?S.styleOrigin=new f0({portal:n.portal,styleUrl:e.styleUrl,name:t}):e.styleName&&(S.styleOrigin=new f0({portal:n.portal,styleName:e.styleName,name:t}))}return S})}function t5e(e,t,n){const i=D2e.replaceAll(/\{SymbolName\}/gi,e),r=t.portal!=null?t.portal:or.getDefault();return F3(i,n).then(s=>{const o=dZ(s.data);return aZ(o,{portal:r,url:li(TL(i)),origin:"portal-item"})})}const n5e=Object.freeze(Object.defineProperty({__proto__:null,fetchSymbolFromStyle:VQ,getStyleItemFromStyle:DQ,resolveWebStyleSymbol:NQ},Symbol.toStringTag,{value:"Module"})),nh=Kn.size,S_=Kn.maxSize,ZO=Kn.maxOutlineSize,n8=Kn.lineWidth,OA=Kn.tallSymbolWidth;function Gf(e){const t=e.outline,n=e.material!=null?e.material.color:null,i=n!=null?n.toHex():null;if(t==null||"pattern"in t&&t.pattern!=null&&t.pattern.type==="style"&&t.pattern.style==="none")return e.type==="fill"&&i==="#ffffff"?{color:"#bdc3c7",width:.75}:null;const r=pn(t.size)||0;return{color:"rgba("+(t.color!=null?t.color.toRgba():"255,255,255,1")+")",width:Math.min(r,ZO),style:"pattern"in t&&t.pattern!=null&&t.pattern.type==="style"?GO(t.pattern.style):null,join:"butt",cap:"patternCap"in t?t.patternCap:"butt"}}async function i5e(e,t){if(e.thumbnail?.url)return e.thumbnail.url;if(t.type==="icon"&&t?.resource?.href)return kFe(t);const n=nn("esri/images/Legend/legend3dsymboldefault.png");if(e.styleOrigin&&(e.styleOrigin.styleName||e.styleOrigin.styleUrl)){const i=await NQ(e.styleOrigin,{portal:e.styleOrigin.portal}).catch(()=>null);if(i&&"thumbnail"in i&&i.thumbnail?.url)return i.thumbnail.url}return n}function aE(e,t=1){const n=e.a,i=i$(e),r=i.h,s=i.s/t,o=100-(100-i.v)/t,{r:a,g:l,b:c}=pp({h:r,s,v:o});return[a,l,c,n]}function t2(e){return e.type==="water"?e.color==null?null:e.color:e.material?.color==null?null:e.material.color}function $t(e,t=0){const n=t2(e);if(!n){if(e.type==="fill")return null;const r=dFe.r,s=lc(r,t);return[s,s,s,100]}const i=n.toRgba();for(let r=0;r<3;r++)i[r]=lc(i[r],t);return i}async function FQ(e,t){const n=e.style;return n==="none"?null:{type:"pattern",x:0,y:0,src:await cFe(nn(`esri/symbols/patterns/${n}.png`),t.toCss(!0)),width:5,height:5}}function i8(e){return e.outline?Gf(e):{color:"rgba(0, 0, 0, 1)",width:1.5}}function YO(e,t){const n=t2(e);if(!n)return null;let i="rgba(";return i+=lc(n.r,t)+",",i+=lc(n.g,t)+",",i+=lc(n.b,t)+",",i+n.a+");"}function RA(e,t){const n=YO(e,t);return n?"pattern"in e&&e.pattern!=null&&e.pattern.type==="style"&&e.pattern.style==="none"?null:{color:n,width:Math.min(e.size?pn(e.size):.75,ZO),style:"pattern"in e&&e.pattern!=null&&e.pattern.type==="style"?GO(e.pattern.style):null,cap:"cap"in e?e.cap:null,join:"join"in e?e.join==="miter"?pn(2):e.join:null}:{}}function Yw(e,t,n){const i=n!=null?.75*n:0;return{type:"linear",x1:i?.25*i:0,y1:i?.5*i:0,x2:i||4,y2:i?.5*i:4,colors:[{color:e,offset:0},{color:t,offset:1}]}}function r5e(e){const t=e.depth,n=e.height,i=e.width;return i!==0&&t!==0&&n!==0&&i===t&&i!=null&&n!=null&&i<n}function s5e(e,t,n){const i=[];if(!e)return i;switch(e.type){case"icon":{const o=t,a=t;switch(e.resource?.primitive??Vbe){case"circle":i.push({shape:{type:"circle",cx:0,cy:0,r:.5*t},fill:$t(e,0),stroke:Gf(e)});break;case"square":i.push({shape:{type:"path",path:[{command:"M",values:[0,a]},{command:"L",values:[0,0]},{command:"L",values:[o,0]},{command:"L",values:[o,a]},{command:"Z",values:[]}]},fill:$t(e,0),stroke:Gf(e)});break;case"triangle":i.push({shape:{type:"path",path:[{command:"M",values:[0,a]},{command:"L",values:[.5*o,0]},{command:"L",values:[o,a]},{command:"Z",values:[]}]},fill:$t(e,0),stroke:Gf(e)});break;case"cross":i.push({shape:{type:"path",path:[{command:"M",values:[.5*o,0]},{command:"L",values:[.5*o,a]},{command:"M",values:[0,.5*a]},{command:"L",values:[o,.5*a]}]},stroke:i8(e)});break;case"x":i.push({shape:{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[o,a]},{command:"M",values:[o,0]},{command:"L",values:[0,a]}]},stroke:i8(e)});break;case"kite":i.push({shape:{type:"path",path:[{command:"M",values:[0,.5*a]},{command:"L",values:[.5*o,0]},{command:"L",values:[o,.5*a]},{command:"L",values:[.5*o,a]},{command:"Z",values:[]}]},fill:$t(e,0),stroke:Gf(e)})}break}case"object":switch(e.resource?.primitive??Ube){case"cone":{const r=Yw($t(e,0),$t(e,-.6),n?OA:t),s=FVe(t,n);i.push({shape:s[0],fill:r},{shape:s[1],fill:r});break}case"inverted-cone":{const r=$t(e,0),s=Yw(r,$t(e,-.6),t),o=jVe(t);i.push({shape:o[0],fill:s},{shape:o[1],fill:r});break}case"cube":{const r=DVe(t,n);i.push({shape:r[0],fill:$t(e,0)},{shape:r[1],fill:$t(e,-.3)},{shape:r[2],fill:$t(e,-.5)});break}case"cylinder":{const r=Yw($t(e,0),$t(e,-.6),n?OA:t),s=VVe(t,n);i.push({shape:s[0],fill:r},{shape:s[1],fill:r},{shape:s[2],fill:$t(e,0)});break}case"diamond":{const r=zVe(t);i.push({shape:r[0],fill:$t(e,-.3)},{shape:r[1],fill:$t(e,0)},{shape:r[2],fill:$t(e,-.3)},{shape:r[3],fill:$t(e,-.7)});break}case"sphere":{const r=Yw($t(e,0),$t(e,-.6));r.x1=0,r.y1=0,r.x2=.25*t,r.y2=.25*t,i.push({shape:{type:"circle",cx:0,cy:0,r:.5*t},fill:r});break}case"tetrahedron":{const r=BVe(t);i.push({shape:r[0],fill:$t(e,-.3)},{shape:r[1],fill:$t(e,0)},{shape:r[2],fill:$t(e,-.6)});break}}break}return i}function s$(e){const t=typeof e?.size=="number"?e?.size:null;return t?pn(t):null}function o5e(e){return e.type==="icon"?"multiply":"tint"}async function a5e(e,t){const n=s$(t),i=t?.maxSize?pn(t.maxSize):null,r=t?.disableUpsampling??!1,s=e.symbolLayers,o=[],a=[];let l=!1,c=0,h=0,p=0;s.forEach(g=>{if(g.type!=="icon"&&g.type!=="object")return;g&&g.type==="icon"&&(p=Math.max(g.size&&pn(g.size),p));const v=g.type==="icon"?g.size&&pn(g.size):0,b=n||v?Math.ceil(Math.min(n||v,i||S_)):nh;let w=g.type==="icon"?g.angle:null;if(t?.rotation!=null&&(w=(w??0)+t.rotation),a.push(w),g?.resource?.href){const S=i5e(e,g).then(x=>{const E=g?.material?.color,$=o5e(g);return YFe(x,b,E,$,r)}).then(x=>{const E=x.width,$=x.height;return c=Math.max(c,E),h=Math.max(h,$),w&&(l=!0),[{shape:{type:"image",x:0,y:0,width:E,height:$,src:x.url},fill:null,stroke:null}]});o.push(S)}else{let S=b;g.type==="icon"&&n&&(S=b*(v/p));const x=t?.symbolConfig==="tall"||t?.symbolConfig?.isTall||g.type==="object"&&r5e(g);c=Math.max(c,x?OA:S),h=Math.max(h,S),w&&g.resource?.primitive&&["square","triangle","x"].includes(g.resource?.primitive)&&(l=!0),o.push(Promise.resolve(s5e(g,S,x)))}});const m=await Promise.allSettled(o),y=[];return m.forEach(g=>{g.status==="fulfilled"?y.push(g.value):g.reason&&re.getLogger("esri.symbols.support.previewSymbol3D").warn("error while building swatchInfo!",g.reason)}),Rb(y,[c,h],{node:t?.node,scale:!1,opacity:t?.opacity,ariaLabel:t?.ariaLabel,rotations:a,useRotationSize:l})}function l5e(e,t){const n=e.symbolLayers,i=[],r=r$(e),s=s$(t),o=(t?.maxSize?pn(t.maxSize):null)||ZO;let a,l=0,c=0;return n.forEach((h,p)=>{if(!h||h.type!=="line"&&h.type!=="path")return;const m=[];switch(h.type){case"line":{const y=RA(h,0);if(y==null)break;const g=y?.width||0;p===0&&(a=g);const v=Math.min(s||g,o),b=p===0?v:s?v*(g/a):v,w=b>n8/2?2*b:n8;c=Math.max(c,b),l=Math.max(l,w),y.width=b,m.push({shape:{type:"path",path:[{command:"M",values:[0,.5*c]},{command:"L",values:[l,.5*c]}]},stroke:y});break}case"path":{const y=Math.min(s||nh,o),g=$t(h,0),v=$t(h,-.2),b=YO(h,-.4),w=b?{color:b,width:1}:{};if(h.profile==="quad"){const S=h.width,x=h.height,E=OVe(S&&x?S/x:1,x===0,S===0),$={...w,join:"bevel"};m.push({shape:E[0],fill:v,stroke:$},{shape:E[1],fill:v,stroke:$},{shape:E[2],fill:g,stroke:$})}else m.push({shape:jv.pathSymbol3DLayer[0],fill:v,stroke:w},{shape:jv.pathSymbol3DLayer[1],fill:g,stroke:w});c=Math.max(c,y),l=c}}i.push(m)}),Promise.resolve(Rb(i,[l,c],{node:t?.node,scale:r,opacity:t?.opacity,ariaLabel:t?.ariaLabel}))}async function u5e(e,t){const n=e.type==="mesh-3d",i=e.symbolLayers,r=s$(t),s=t?.maxSize?pn(t.maxSize):null,o=r||nh,a=[];let l=0,c=0,h=!1;for(let p=0;p<i.length;p++){const m=i.at(p),y=[];if(!n||m.type==="fill"){switch(m.type){case"fill":{const g=Math.min(o,s||S_);if(l=Math.max(l,g),c=Math.max(c,g),h=!0,n){const v=jv.meshSymbol3DFill,b=YO(m,-.4),w=b?{color:b,width:1,join:"round"}:{};y.push({shape:v[0],fill:$t(m,0),stroke:w},{shape:v[1],fill:$t(m,-.2),stroke:w},{shape:v[2],fill:$t(m,-.6),stroke:w})}else{let v=$t(m,0);const b="pattern"in m?m.pattern:null,w=Gf(m),S=t2(m);b!=null&&b.type==="style"&&b.style!=="solid"&&S&&(v=await FQ(b,S)),y.push({shape:jv.fill[0],fill:v,stroke:w})}break}case"line":{const g=RA(m,0);if(g==null)break;const v={stroke:g,shape:jv.fill[0]};l=Math.max(l,nh),c=Math.max(c,nh),y.push(v);break}case"extrude":{const g={join:"round",width:1,...RA(m,-.4)},v=$t(m,0),b=$t(m,-.2),w=Math.min(o,s||S_),S=RVe(w);g.width=1,y.push({shape:S[0],fill:b,stroke:g},{shape:S[1],fill:b,stroke:g},{shape:S[2],fill:v,stroke:g});const x=nh,E=.7*nh+.5*w;l=Math.max(l,x),c=Math.max(c,E);break}case"water":{const g=t2(m),v=aE(g),b=aE(g,2),w=aE(g,3),S=NVe();h=!0,y.push({shape:S[0],fill:v},{shape:S[1],fill:b},{shape:S[2],fill:w});const x=Math.min(o,s||S_);l=Math.max(l,x),c=Math.max(c,x);break}}a.push(y)}}return Rb(a,[l,c],{node:t?.node,scale:h,opacity:t?.opacity,ariaLabel:t?.ariaLabel})}function c5e(e,t){if(e.symbolLayers.length===0)return Promise.reject(new B("symbolPreview: renderPreviewHTML3D","No symbolLayers in the symbol."));switch(e.type){case"point-3d":return a5e(e,t);case"line-3d":return l5e(e,t);case"polygon-3d":case"mesh-3d":return u5e(e,t)}return Promise.reject(new B("symbolPreview: swatchInfo3D","symbol not supported."))}const d5e=Object.freeze(Object.defineProperty({__proto__:null,getPatternDescriptor:FQ,getSizeFromOptions:s$,getSymbolLayerFill:$t,previewSymbol3D:c5e},Symbol.toStringTag,{value:"Module"})),r8={HH:315,HL:45,LL:135,LH:225},h5e={2:[["HL","HH"],["LL","LH"]],3:[["HL","HM","HH"],["ML","MM","MH"],["LL","LM","LH"]],4:[["HL","HM1","HM2","HH"],["M2L","M2M1","M2M2","M2H"],["M1L","M1M1","M1M2","M1H"],["LL","LM1","LM2","LH"]]};function p5e(e){if(!e)return;const{type:t}=e;if(t.includes("3d"))return $t(e.symbolLayers.at(0));if(t==="simple-line"){const n=L0(e);return n&&n.color}if(e.type==="simple-marker"&&(e.style==="x"||e.style==="cross")){const n=L0(e);return n&&n.color}return uFe(e)}function f5e(e,t){const n=t.HH.label,i=t.LL.label,r=t.HL.label,s=t.LH.label;switch(e){case"HH":default:return{top:n,bottom:i,left:r,right:s};case"HL":return{top:r,bottom:s,left:i,right:n};case"LL":return{top:i,bottom:n,left:s,right:r};case"LH":return{top:s,bottom:r,left:n,right:i}}}function m5e(e){const{focus:t,infos:n,numClasses:i}=e,r=h5e[i],s={};n.forEach(a=>{s[a.value]={label:a.label,fill:p5e(a.symbol)}});const o=[];for(let a=0;a<i;a++){const l=[];for(let c=0;c<i;c++){const h=s[r[a][c]];l.push(h.fill)}o.push(l)}return{type:"relationship-ramp",numClasses:i,focus:t,colors:o,labels:f5e(t,s),rotation:jQ(t)}}function jQ(e){let t=r8[e];return e&&t==null&&(t=r8.HH),t||0}let Dp=null;const s8=[255,255,255];function o8(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function y5e(e,t,n){const{backgroundColor:i,outline:r,dotSize:s}=e,o=n?.swatchSize||Kn.size,a=.8,l=Math.round(o*o/Math.max(s,.5)**2*a),c=window.devicePixelRatio,h=document.createElement("canvas"),p=o*c;h.width=p,h.height=p,h.style.width=h.width/c+"px",h.style.height=h.height/c+"px";const m=h.getContext("2d");if(i&&(m.fillStyle=i.toCss(!0),m.fillRect(0,0,p,p),m.fill()),m.fillStyle=t?.toCss(!0)??"",Dp&&Dp.length/2===l)for(let g=0;g<2*l;g+=2){const v=Dp[g],b=Dp[g+1];m.fillRect(v,b,s*c,s*c),m.fill()}else{Dp=[];for(let g=0;g<2*l;g+=2){const v=o8(0,p),b=o8(0,p);Dp.push(v,b),m.fillRect(v,b,s*c,s*c),m.fill()}}r&&(r.color&&(m.strokeStyle=r.color.toCss(!0)),m.lineWidth=r.width,m.strokeRect(0,0,p,p));const y=new Image(o,o);return y.src=h.toDataURL(),y.ariaLabel=n?.ariaLabel??null,y.alt=n?.ariaLabel??"",y}function g5e(e,t={}){const n=t.radius||40,i=2*Math.PI*n,r=e.length,s=i/r,o=[],a=L0(t.outline);a?.width!=null&&(a.width*=2),(a||t.backgroundColor)&&o.push({shape:{type:"circle",cx:n,cy:n,r:n},fill:t.backgroundColor,stroke:a,offset:[0,0]});const l=t.values,c=l&&l.length===r&&l.reduce((g,v)=>g+v,0)===100,h=[0];for(let g=0;g<r;g++){let v=null;c&&(v=l[g]*i/100,h.push(v+h[g])),o.push({shape:{type:"circle",cx:n,cy:n,r:n/2},fill:[0,0,0,0],stroke:{width:n,dashArray:`${(v??s)/2} ${i}`,dashoffset:"-"+(c?h[g]/2:g*(s/2)),color:e[g]},offset:[0,0]})}let p=null;const m=2*n+(a?.width||0),y=t.holePercentage;if(y){a&&o.push({shape:{type:"circle",cx:n,cy:n,r:n*y},fill:null,stroke:a,offset:[0,0]});const g=m/2;p=[[{shape:{type:"circle",cx:g,cy:g,r:g},fill:s8,stroke:a?{...a,color:s8}:null,offset:[0,0]},{shape:{type:"circle",cx:g,cy:g,r:n*y},fill:[0,0,0],stroke:null,offset:[0,0]}]]}return Rb([o],[m,m],{effectView:t.effectList,ignoreStrokeWidth:!0,masking:p,rotations:[-90],ariaLabel:t.ariaLabel})}function Vd(e,t={}){const r=t.align==="horizontal",s=r?75:24,o=r?24:75,a=t.width??s,l=t.height??o,c=t.gradient??!0,h=window.devicePixelRatio,p=a*h,m=l*h,y=document.createElement("canvas");y.width=p,y.height=m,y.ariaLabel=t.ariaLabel??null,y.style.width=`${a}px`,y.style.height=`${l}px`;const g=y.getContext("2d"),v=r?p:0,b=r?0:m;if(c){const S=g.createLinearGradient(0,0,v,b),x=e.length,E=x===1?0:1/(x-1);e.forEach(($,I)=>S.addColorStop(I*E,$.toString())),g.fillStyle=S,g.fillRect(0,0,p,m)}else{const S=r?p/e.length:p,x=r?m:m/e.length;let E=0,$=0;for(const I of e)g.fillStyle=I.toString(),g.fillRect(E,$,S,x),E=r?E+S:0,$=r?0:$+x}const w=document.createElement("div");return w.style.width=`${a}px`,w.style.height=`${l}px`,v5e(w,t?.effectList),w.appendChild(y),w}function v5e(e,t){if(!t)return;e.style.filter=Ob(t);const n=t.effects;if(n){for(const i of n)if(i?.type==="drop-shadow"){i.offsetX<0?e.style.marginLeft=`${Math.abs(i.offsetX)}px`:e.style.marginRight=`${i.offsetX}px`;break}}}async function zQ(e,t){switch(e.type){case"web-style":{const{previewWebStyleSymbol:n}=await J(()=>import("./previewWebStyleSymbol-CM4c3uQn.js"),__vite__mapDeps([333,3]));return n(e,zQ,t)}case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":{const{previewSymbol3D:n}=await J(()=>Promise.resolve().then(()=>d5e),void 0);return n(e,t)}case"simple-marker":case"simple-line":case"simple-fill":case"picture-marker":case"picture-fill":case"text":{const{previewSymbol2D:n}=await J(()=>import("./previewSymbol2D-CbfuZXcX.js"),__vite__mapDeps([334,99,34,3]));return n(e,t)}case"cim":{const{previewCIMSymbol:n}=await J(()=>import("./previewCIMSymbol-BjBfeZbT.js"),__vite__mapDeps([335,97,98,99,18,17,100,101,102,103,95,336,222,178,34,3]));return n(e,t)}default:return}}function BQ(e){return e&&"opacity"in e?e.opacity*BQ(e.parent):1}async function eZe(e,t){if(!e)return;const n=e.sourceLayer,i=(t!=null&&t.useSourceLayer?n:e.layer)??n,r=t?.ignoreOpacity?1:BQ(i);if(e.symbol!=null&&(t==null||t.ignoreGraphicSymbol!==!0)){const x=e.symbol.type==="web-style"?await e.symbol.fetchSymbol({...t,acceptedFormats:["web","cim"],cache:t!=null?t.webStyleCache:null}):e.symbol.clone();return oE(x,null,r),x}const s=t?.renderer??b5e(i);let o=s&&"getSymbolAsync"in s?await s.getSymbolAsync(e,t):null;if(!o)return;if(o=o.type==="web-style"?await o.fetchSymbol({...t,cache:t!=null?t.webStyleCache:null}):o.clone(),!s||!("visualVariables"in s)||!s.visualVariables?.length)return oE(o,null,r),o;if("arcadeRequiredForVisualVariables"in s&&s.arcadeRequiredForVisualVariables&&t?.arcade==null){const x={...t};x.arcade=await Ia(),t=x}const{getColor:a,getOpacity:l,getAllSizes:c,getRotationAngle:h}=await J(()=>Promise.resolve().then(()=>up),void 0),p=[],m=[],y=[],g=[];for(const x of s.visualVariables)switch(x.type){case"color":p.push(x);break;case"opacity":m.push(x);break;case"rotation":g.push(x);break;case"size":x.target||y.push(x)}const v=!!p.length&&p[p.length-1],b=v?a(v,e,t):null,w=!!m.length&&m[m.length-1];let S=w?l(w,e,t):null;if(r!=null&&(S=S!=null?S*r:r),t?.ignoreOpacity&&(S=1),oE(o,b,S),y.length&&t?.ignoreSizeVariables!==!0){const x=c(y,e,t);await BFe(o,x)}if(t?.ignoreRotationVariables!==!0)for(const x of g)UFe(o,h(x,e,t),x.axis);return o}function b5e(e){if(e)return"renderer"in e?e.renderer:void 0}function w5e(e,t,n){const i=e.effectiveClusterRenderer;if(!i||!("visualVariables"in i)||!i.visualVariables)return null;const r=i.visualVariables.find(h=>h.type==="size");if(!("stops"in r)||!r.stops)return null;const s=r.stops.find(h=>h.useMinValue),o=r.stops.find(h=>h.useMaxValue);if(s==null||o==null)return null;const a=n.featuresTilingScheme.getClosestInfoForScale(n.scale).level,l=r.field,c=t.getDisplayStatistics(a,l);return c?new my({field:r.field,minSize:e.clusterMinSize,minDataValue:c.minValue,maxSize:e.clusterMaxSize,maxDataValue:c.maxValue}):null}const _5e=/^-?(\d+)(\.(\d+))?$/i;function S5e(e,t){return e-t}function x5e(e,t){let n,i;return n=Number(e.toFixed(t)),n<e?i=n+1/10**t:(i=n,n-=1/10**t),n=Number(n.toFixed(t)),i=Number(i.toFixed(t)),[n,i]}function $5e(e,t,n,i,r){const s=x_(e,t,n,i),o=s.previous==null||s.previous<=r,a=s.next==null||s.next<=r;return o&&a||s.previous+s.next<=2*r}function n2(e){const t=String(e),n=t.match(_5e);if(n?.[1])return{integer:n[1].split("").length,fractional:n[3]?n[3].split("").length:0};if(t.toLowerCase().includes("e")){const i=t.split("e"),r=i[0],s=i[1];if(r&&s){const o=Number(r);let a=Number(s);const l=a>0;l||(a=Math.abs(a));const c=n2(o);return l?(c.integer+=a,a>c.fractional?c.fractional=0:c.fractional-=a):(c.fractional+=a,a>c.integer?c.integer=1:c.integer-=a),c}}return{integer:0,fractional:0}}function x_(e,t,n,i){const r={previous:null,next:null};if(n!=null){const s=e-n,o=t-n-s;r.previous=Math.floor(Math.abs(100*o/s))}if(i!=null){const s=i-e,o=i-t-s;r.next=Math.floor(Math.abs(100*o/s))}return r}function i2(e,t={}){const n=e.slice(),{tolerance:i=2,strictBounds:r=!1,indexes:s=n.map((o,a)=>a)}=t;s.sort(S5e);for(let o=0;o<s.length;o++){const a=s[o],l=n[a],c=a===0?null:n[a-1],h=a===n.length-1?null:n[a+1],p=n2(l).fractional;if(p){let m,y=0,g=!1;for(;y<=p&&!g;){const v=x5e(l,y);m=r&&o===0?v[1]:v[0],g=$5e(l,m,c,h,i),y++}g&&(n[a]=m)}}return n}const T5e={maximumFractionDigits:20};function E5e(e){return Bh(e,T5e)}const tZe=",",I5e={years:365,months:30,days:1,hours:1/24,minutes:1/1440,seconds:1/86400,milliseconds:1/864e5},C5e=new Set(["integer","small-integer"]);let lE=null;function M5e(e){return NL(e)||bge(e)||wge(e)}async function nZe(e){const{field:t,field2:n,field3:i,normalizationField:r,valueExpression:s}=e;let o=[];if(s){if(!lE){const{arcadeUtils:a}=await Ia();lE=a}o=lE.extractFieldNames(s)}return t&&o.push(t),n&&o.push(n),i&&o.push(i),r&&o.push(r),o}function Wy(e){return String(e).padStart(2,"0")}function a8(e,t,n){let i;return t==="date"||t==="number"?(t==="number"&&(e=new Date(e)),i=`TIMESTAMP'${n?e.getFullYear():e.getUTCFullYear()}-${Wy((n?e.getMonth():e.getUTCMonth())+1)}-${Wy(n?e.getDate():e.getUTCDate())} ${Wy(n?e.getHours():e.getUTCHours())}:${Wy(n?e.getMinutes():e.getUTCMinutes())}:${Wy(n?e.getSeconds():e.getUTCSeconds())}'`):i=e,i}function iZe(e,t,n,i){const{hasQueryEngine:r}=e,s=`(${a8(n,l8(e,n),r)} - ${a8(t,l8(e,t),r)})`;let o=I5e[i],a="/";return o<1&&(o=1/o,a="*"),{sqlExpression:o===1?s:`(${s} ${a} ${o})`,sqlWhere:null}}function l8(e,t){if(t instanceof Date)return"date";if(typeof t=="number")return"number";if(typeof t=="string"){const n=e.getField(t);if(t.toLowerCase()==="<now>")return;if(NL(n))return"field"}}function rZe(e,t){const n=t&&e.getField(t);return!!n&&C5e.has(n.type)}function sZe(e){return`cast(${e} as float)`}function k5e(e,t){const{format:n,timeZoneOptions:i,fieldType:r}=t??{};let s,o;if(i&&({timeZone:s,timeZoneName:o}=Uge(i.layerTimeZone,i.datesInUnknownTimezone,i.viewTimeZone,Cy(n||"short-date-short-time"),r)),typeof e=="string"&&isNaN(Date.parse(r==="time-only"?`1970-01-01T${e}Z`:e)))return e;switch(r){case"date-only":{const a=Cy(n||"short-date");return typeof e=="string"?Yge(e,{...a}):Vo(e,{...a,timeZone:Ma})}case"time-only":{const a=Cy(n||"short-time");return typeof e=="string"?Jge(e,a):Vo(e,{...a,timeZone:Ma})}case"timestamp-offset":{if(!s&&typeof e=="string"&&new Date(e).toISOString()!==e)return e;const a=n||i?Cy(n||"short-date-short-time"):void 0,l=a?{...a,timeZone:s,timeZoneName:o}:void 0;return typeof e=="string"?Kge(e,l):Vo(e,l)}default:{const a=n||i?Cy(n||"short-date-short-time"):void 0;return Vo(typeof e=="string"?new Date(e):e,a?{...a,timeZone:s,timeZoneName:o}:void 0)}}}const UQ="<",GQ=">";function HQ(e,t,n,i){let r="";return t===0?r=`${UQ} `:t===n&&(r=`${GQ} `),r+(i?k5e(e,i):E5e(e))}const A5e=["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwcdIkqhiWn5fHwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6JrzFUAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwaeIkqhiWl5/HwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6sKxboAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwadJEqhiWl5fPwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu75+IUcAAAAASUVORK5CYII="];async function NA(e){if(!("visualVariables"in e)||!e.visualVariables)return null;const t=e.visualVariables.find(o=>o.type==="color");if(!t)return null;let n=null,i=null;if(t.stops){if(t.stops.length===1)return t.stops[0].color;n=t.stops[0].value,i=t.stops[t.stops.length-1].value}const r=n!=null&&i!=null?n+(i-n)/2:0,{getColor:s}=await J(async()=>{const{getColor:o}=await Promise.resolve().then(()=>up);return{getColor:o}},void 0);return s(t,r)??null}async function qQ(e,t){const n=e.trailCap,i=e.trailWidth||1,r=t||await NA(e)||e.color;return new Cr({cap:n,color:r,width:i})}function P5e(e,t){if(!t.field)return null;if("featureReduction"in e)switch(e.featureReduction?.type){case"cluster":case"binning":{const n=e.featureReduction.fields.find(({name:i})=>i.toLowerCase()===t.field.toLowerCase());return n&&"getField"in e?e.getField(n.onStatisticField):null}}return"getField"in e?e.getField?.(t.field):null}function L5e(e,t){const n="popupTemplate"in e?e.popupTemplate?.fieldInfos:null;if(n?.length&&t)return n.find(i=>i.fieldName?.toLowerCase()===t.toLowerCase())?.format?.dateFormat}function O5e(e,t,n){const i=P5e(e,t);if(!i||!M5e(i)&&!YG(i))return null;let r=L5e(e,i.name);if(!r&&i.type==="date"){let s=0,o=0;t.stops?(s=t.stops?.at(0)?.value??s,o=t.stops?.at(-1)?.value??o):"minDataValue"in t&&"maxDataValue"in t&&(s=t.minDataValue??s,o=t.maxDataValue??o),r=o-s>2*AC.days?"short-date":"short-date-short-time"}return{fieldType:i.type,format:r,timeZoneOptions:{layerTimeZone:"preferredTimeZone"in e?e.preferredTimeZone:null,viewTimeZone:n,datesInUnknownTimezone:"datesInUnknownTimezone"in e&&e.datesInUnknownTimezone}}}function DA(e){if("authoringInfo"in e)return e.authoringInfo?.visualVariables?.find(({theme:t})=>t==="reference-size")}const R5e=new he([64,64,64]);function WQ(e,t){const n=[],i=e.length-1;return e.length===5?n.push(0,2,4):n.push(0,i),e.map((r,s)=>n.includes(s)?HQ(r,s,i,t):null)}async function u8(e,t,n){let i=!1,r=[],s=[];if(e.stops){const c=e.stops;r=c.map(h=>h.value),i=c.some(h=>!!h.label),i&&(s=c.map(h=>h.label))}const o=r[0],a=r[r.length-1];if(o==null&&a==null)return null;const l=i?null:WQ(r,n);return(await Promise.all(r.map(async(c,h)=>({value:c,color:e.type==="opacity"?await N5e(c,e,t):(await J(async()=>{const{getColor:p}=await Promise.resolve().then(()=>up);return{getColor:p}},void 0)).getColor(e,c),label:i?s[h]:l?.[h]??""})))).reverse()}async function N5e(e,t,n){const i=new he(n??R5e),r=(await J(async()=>{const{getOpacity:s}=await Promise.resolve().then(()=>up);return{getOpacity:s}},void 0)).getOpacity(t,e);return r!=null&&(i.a=r),i}function D5e(e){let t=!1,n=[],i=[];n=e.map(a=>a.value),t=e.some(a=>!!a.label),t&&(i=e.map(a=>a.label??""));const r=n[0],s=n[n.length-1];if(r==null&&s==null)return null;const o=t?null:WQ(n);return n.map((a,l)=>({value:a,color:ZQ(a,e),label:t?i[l]:o?.[l]??""})).reverse()}function ZQ(e,t){const{startIndex:n,endIndex:i,weight:r}=V5e(e,t);if(n===i)return t[n].color;const s=he.blendColors(t[n].color,t[i].color,r);return new he(s)}function V5e(e,t){let n=0,i=t.length-1;return t.some((r,s)=>e<r.value?(i=s,!0):(n=s,!1)),{startIndex:n,endIndex:i,weight:(e-t[n].value)/(t[i].value-t[n].value)}}function F5e(e,t){let n=[];if(e&&e.type==="multipart")e.colorRamps.reverse().forEach((i,r)=>{r===0?n.push({value:t.max,color:new he(i.toColor),label:"high"}):n.push({value:null,color:new he(i.toColor),label:""}),r===e.colorRamps.length-1?n.push({value:t.min,color:new he(i.fromColor),label:"low"}):n.push({value:null,color:new he(i.fromColor),label:""})});else{let i,r;e&&e.type==="algorithmic"?(i=e.fromColor,r=e.toColor):(i=[0,0,0,1],r=[255,255,255,1]),n=[{value:t.max,color:new he(r),label:"high"},{value:t.min,color:new he(i),label:"low"}]}return n}function j5e(e){if(!e.colorStops)return[];const t=[...e.colorStops].filter(i=>i.color?.a>0);let n=t.length-1;if(t[0]){const i=t[n];i&&i.ratio!==1&&(t.push(new $v({ratio:1,color:i.color})),n++)}return t.map((i,r)=>{let s="";return r===0?s=e.legendOptions?.minLabel||"low":r===n&&(s=e.legendOptions?.maxLabel||"high"),{color:i.color,label:s,ratio:i.ratio}}).reverse()}const VA=30,FA=12,jA=24,YQ=[255,255,255],JO=[200,200,200],Hf=[128,128,128],z5e=20,B5e=5;function U5e(e){return e.declaredClass==="esri.symbols.SimpleMarkerSymbol"}function G5e(e){return e.declaredClass==="esri.symbols.PictureMarkerSymbol"}function H5e(e){return e.declaredClass==="esri.symbols.SimpleLineSymbol"}function q5e(e){return e.declaredClass==="esri.symbols.TextSymbol"}function W5e(e,t){const n=e.length-1;return e.map((i,r)=>HQ(i,r,n,t))}async function Z5e(e,t,n,i,r,s,o){const a=t.legendOptions,l=a?.customValues,c=o||await X5e(e,n),h=t.stops,p=!!c,m=!!l,y=t.minSize!=null&&t.maxSize!=null,g=h&&h.length>1,v=!!t.target;if(!p||!m&&!(y||g&&!v))return;const b=r$(c);let w=!1,S=null,x=null;S=b&&!g?i2([t.minDataValue,t.maxDataValue]):l??await e4e(t,c,i,r?.type);const E=e?.authoringInfo,$=E?.type==="univariate-color-size",I=$&&E?.univariateTheme==="above-and-below",A=!!DA(e);if(!S&&g&&(S=h.map(P=>P.value),w=h.some(P=>!!P.label),e.type==="flow"&&(S=i2(S)),w&&(x=h.map(P=>P.label))),b&&S!=null&&S?.length>2&&!I&&(S=[S[0],S[S.length-1]]),!S)return null;$&&S?.length!==5&&(S=XQ({minSize:S[0],maxSize:S[S.length-1]}));const M=b?Y5e(e,S):null,L=MFe(c),O=w?null:W5e(S,s);return(await Promise.all(S.map(async(P,R)=>{const V=b?M[R]:await Mf(t,c,P,i,r?.type);return{value:P,symbol:!A||e.type!=="class-breaks"&&e.type!=="unique-value"?i4e(I&&e.type==="class-breaks"?K5e(e,R):c,V):J5e(e,V,t.maxSize,n)??c,label:w?x[R]:O[R],size:A?jA:V,outlineSize:L}}))).reverse()}function Y5e(e,t){const n=e?.authoringInfo,i=n?.type==="univariate-color-size";let r=[FA,VA];if(i){const s=t[0],o=t[t.length-1],a=FA,l=VA;r=t.map(c=>a+(c-s)/(o-s)*(l-a))}return i&&n?.univariateTheme==="below"&&r.reverse(),r}function J5e(e,t,n,i){const r=e.type==="class-breaks",s=r?e.classBreakInfos?.[0]?.symbol?.clone():e.uniqueValueInfos?.[0]?.symbol?.clone();return s&&"type"in s&&s.type==="cim"?(aQ(s,{color:i??(r?null:new he(JO)),innerDotSize:t*(jA/n)||1,outerRingSize:jA}),s):null}function K5e(e,t){const n=e.classBreakInfos,i=n.length,r=i<2||!(t>=2)?n[0].symbol.clone():n[i-1].symbol.clone();return e.visualVariables?.some(o=>o.type==="color")&&(r.type.includes("3d")?JQ(r):KQ(r)),r}async function X5e(e,t){if(e.type==="flow")return qQ(e,t);if(e.type==="pie-chart")return new ir({color:null,outline:e.outline?.width?e.outline:new Cr});let n=null,i=null;if(e.type==="simple")n=e.symbol;else if(e.type==="class-breaks"){const r=e.classBreakInfos;n=r&&r[0]&&r[0].symbol,i=r.length>1}else if(e.type==="unique-value"){const r=e.uniqueValueInfos;n=r?.[0]?.symbol,i=r!=null&&r.length>1}return!n||Q5e(n)?null:(n=n.clone(),(t||i)&&(n.type.includes("3d")?JQ(n):KQ(n)),n)}function Q5e(e){return Va(e)?e.symbolLayers?.some(t=>t?.type==="fill")??!1:e?.type.includes("fill")??!1}function JQ(e){e.type==="line-3d"?e.symbolLayers.forEach(t=>{t.material={color:Hf}}):e.symbolLayers.forEach(t=>{t.type!=="icon"||t.resource?.href?t.material={color:JO}:(t.material={color:YQ},t.outline={color:Hf,size:1.5})})}function KQ(e){const t=KK();e.type==="cim"?cQ(e,new he(JO)):e.type.includes("line")?e.color=Hf:(e.color=t?Hf:YQ,e.type==="simple-marker"&&(e.outline?e.outline?.color?.toHex()==="#ffffff"&&(e.outline.color=Hf):e.outline={color:Hf,width:1.5}))}async function e4e(e,t,n,i){const r=(await J(async()=>{const{getSizeRangeAtScale:a}=await Promise.resolve().then(()=>up);return{getSizeRangeAtScale:a}},void 0)).getSizeRangeAtScale(e,n,i),s=r&&XQ(r);if(!r||!s)return;let o=s.map(a=>t4e(a,e,r));o=i2(o);for(let a=1;a<o.length-1;a++){const l=await n4e(e,t,o[a],o[a-1],n,i);l&&(o[a]=l[0],s[a]=l[1])}return o}function XQ(e){const t=e.minSize,n=e.maxSize,i=B5e,r=(n-t)/(i-1),s=[];for(let o=0;o<i;o++)s.push(t+r*o);return s}function t4e(e,t,n){const i=n.minSize,r=n.maxSize,s=t.minDataValue,o=t.maxDataValue;let a;return e<=i?a=s:e>=r?a=o:a=(e-i)/(r-i)*(o-s)+s,a}async function n4e(e,t,n,i,r,s){const o=await Mf(e,t,n,r,s),a=await Mf(e,t,i,r,s),l=n2(n),c=l.fractional,h=z5e;let p=l.integer,m=null,y=null;n>0&&n<1&&(m=10**c,p=n2(n*=m).integer);for(let g=p-1;g>=0;g--){const v=10**g;let b=Math.floor(n/v)*v,w=Math.ceil(n/v)*v;m!=null&&(b/=m,w/=m);let S=(b+w)/2;[,S]=i2([b,S,w],{indexes:[1]});const x=await Mf(e,t,b,r,s),E=await Mf(e,t,w,r,s),$=await Mf(e,t,S,r,s),I=x_(o,x,a,null),A=x_(o,E,a,null),M=x_(o,$,a,null);let L=I.previous<=h,O=A.previous<=h;if(L&&O&&(I.previous<=A.previous?(L=!0,O=!1):(O=!0,L=!1)),L?y=[b,x]:O?y=[w,E]:M.previous<=h&&(y=[S,$]),y)break}return y}async function Mf(e,t,n,i,r){const{getSize:s}=await J(()=>Promise.resolve().then(()=>up),void 0);return s(e,n,{scale:i,view:r,shape:t.type==="simple-marker"?t.style:null})}function i4e(e,t){const n=e.clone();if(Va(n))r$(n)||n.symbolLayers.forEach(i=>{i.type!=="fill"&&(i.size=t)});else if(U5e(n))n.size=t;else if(G5e(n)){const i=n.width,r=n.height;n.height=t,n.width=t*(i/r)}else H5e(n)?n.width=t:q5e(n)&&n.font&&(n.font.size=t);return n}function r4e(e){const n=Math.floor(Math.log10(Math.abs(e)))+1,i=n<4||n>6?4:n,r=1e6,s=Math.abs(e)>=r?"compact":"standard";return Bh(e,{notation:s,minimumSignificantDigits:2,maximumSignificantDigits:i})}const c8=16,s4e="https://utility.arcgis.com/sharing/tools/legend",o4e="esri.layers.ImageryLayer",a4e="esri.layers.ImageryTileLayer",l4e="esri.layers.WCSLayer",Jw=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i,u4e=new at({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"}),Kw=new ir({size:6,outline:{color:[128,128,128,.5],width:.5}}),c4e=new ql({style:"solid"});function zA(e){return e.type==="flow"}function QQ(e){return e.type==="vector-field"}function eee(e){return e.type==="raster-colormap"}function tee(e){return e.type==="raster-stretch"}function nee(e){return e.type==="raster-shaded-relief"}function kf(e){return e.declaredClass==="esri.renderers.SimpleRenderer"}function Fd(e){return e.declaredClass==="esri.renderers.ClassBreaksRenderer"}function jd(e){return e.declaredClass==="esri.renderers.UniqueValueRenderer"}function iee(e){return e.declaredClass==="esri.renderers.HeatmapRenderer"}function d4e(e){return KO(e)||XO(e)||QO(e)||h4e(e)}function h4e(e){return e.declaredClass==="esri.renderers.PointCloudRGBRenderer"}function KO(e){return e.declaredClass==="esri.renderers.PointCloudClassBreaksRenderer"}function XO(e){return e.declaredClass==="esri.renderers.PointCloudStretchRenderer"}function QO(e){return e.declaredClass==="esri.renderers.PointCloudUniqueValueRenderer"}function ree(e){return e.declaredClass==="esri.renderers.DotDensityRenderer"}function see(e){return e.declaredClass==="esri.renderers.PieChartRenderer"}function p4e(e,t){return kf(e)||Fd(e)||jd(e)||iee(e)||ree(e)||see(e)?t.type==="2d"||sQ(e):tee(e)||eee(e)||nee(e)||KO(e)||XO(e)||QO(e)||QQ(e)||zA(e)}function f4e(e){return e.declaredClass==="esri.layers.BuildingSceneLayer"}function uE(e){return e.declaredClass==="esri.layers.SubtypeGroupLayer"}function m4e(e){return e.declaredClass==="esri.layers.VoxelLayer"}function y4e(e){return e.declaredClass==="esri.layers.WMSLayer"}function g4e(e){return e.declaredClass==="esri.layers.WMTSLayer"}function cE(e){return e.declaredClass==="esri.layers.MapImageLayer"}function d8(e){return e.declaredClass==="esri.layers.TileLayer"}function Vp(e){return e.declaredClass===o4e}function Xw(e){return e.declaredClass===a4e}function v4e(e){return e.declaredClass===l4e}function b4e(e){return e.type==="stretch-ramp"}function w4e(e){return("authoringInfo"in e?e?.authoringInfo:null)?.type==="univariate-color-size"}function _4e(e){const t="authoringInfo"in e?e?.authoringInfo:null;return t?.type==="univariate-color-size"&&t?.univariateTheme==="above-and-below"}function h8(e){return"sublayers"in e}async function Wa(e,t){const n=await b3("esri/widgets/Legend/t9n/Legend");return e!=="previewTemplateAriaLabel"||t||(e="previewAriaLabel"),g0(n[e],{label:t})}function S4e(e,t){const{field:n,field2:i,field3:r,fieldDelimiter:s,valueExpression:o}=e;if(!n)return null;const a=!n&&!o||!i&&!r?[t]:t?.toString().split(s||""),l=n?{[n]:a?.[0]}:null;return l&&(i&&(l[i]=a?.[1]),r&&(l[r]=a?.[2])),l}const x4e=new ir({style:"path",path:"M10,5 L5,0 0,5 M5,0 L5,15",size:15,outline:{width:1,color:[85,85,85,1]}});let Fp={},Nn=class extends Ce{constructor(e){super(e),this._hasColorRamp=!1,this._hasOpacityRamp=!1,this._hasSizeRamp=!1,this._webStyleSymbolCache=new Map,this._dotDensityUrlCache=new Map,this._scaleDrivenSizeVariable=null,this._hasClusterSizeVariable=!1,this._layerDefinitionExpression=null,this._layerDefinitionExpressionClause=null,this._layerDisplayFilterId=null,this._layerDisplayFilterClause=null,this.children=new we,this.layerView=null,this.layer=null,this.legendElements=[],this.parent=null,this.hideLayersNotInCurrentView=!1,this.keepCacheOnDestroy=!1,this.respectLayerDefinitionExpression=!1,this.respectLayerVisibility=!0,this.sublayerIds=[],this.title=null,this.view=null}initialize(){const e=()=>this.notifyChange("ready");this.addHandles([Tr(()=>this.children,"change",t=>{const{added:n,removed:i}=t;n.forEach(r=>{const s=`activeLayerInfo-ready-watcher-${r.layer.uid}`;this.addHandles(me(()=>r.ready,e,mt),s)}),i.forEach(r=>this.removeHandles(r.layer.uid)),e()})]),this.keepCacheOnDestroy||(Fp={})}destroy(){this._webStyleSymbolCache=null,this._dotDensityUrlCache=null,this._scaleDrivenSizeVariable=null,this.keepCacheOnDestroy||(Fp=null),this._layerDefinitionExpressionClause=null}get effectList(){const e=this.layer;let t=null;return"effect"in e&&e.effect&&(t=new Co,t.effect=e.effect,t.endTransition(),t.scale=this.scale),t}get opacity(){const e=this.layer.opacity,t=this.parent?.opacity,n=this.layer.parent,i=n&&"uid"in n?this._getParentLayerOpacity(n):null;return t!=null?t*e:i!=null?i*e:e}get ready(){return this.layer===null||(this.children.length>0?this._isGroupActive():this.legendElements.length>0)}get scale(){return this.view?.scale??0}get isScaleDriven(){const e=this.layer;if(e===null)return!1;if("effect"in e&&e.effect&&Array.isArray(e.effect))return!0;if("featureReduction"in e&&e.featureReduction){if(e.featureReduction.type==="cluster")return!0;if(e.featureReduction.type==="binning"&&"renderer"in e.featureReduction&&e.featureReduction.renderer)return this._isRendererScaleDriven(e.featureReduction.renderer)}return"renderer"in e&&e.renderer?!!("displayFilterInfo"in e&&e.displayFilterInfo&&jd(e.renderer))||this._isRendererScaleDriven(e.renderer):this._isLayerScaleDriven(this.layer)}get version(){return this._get("version")+1}async buildLegendElementsForFeatureCollections(e){if(!(!this.hideLayersNotInCurrentView||await this._isLayerInCurrentView()))return this.legendElements=[],void this.notifyChange("ready");const t=Array.from(e,n=>{if(PSe(n))return this._getRendererLegendElements(n.renderer,{title:n.title});if(n.featureSet?.features.length){const i=n.layerDefinition,r=i?.drawingInfo,s=r&&gTe(r.renderer),o=u4e.read(i.geometryType);return s?this._getRendererLegendElements(s,{title:n.name,geometryType:o}):(re.getLogger(this).warn("drawingInfo not available!"),null)}return null});try{const n=[],i=await Promise.allSettled(t);for(const r of i)if(r.status==="fulfilled")for(const s of r.value??[])n.push(s);this.legendElements=n,this.notifyChange("ready")}catch(n){re.getLogger(this).warn("error while building legend for layer!",n)}}async buildLegendElementsForRenderer(e){try{const t=!this.hideLayersNotInCurrentView||await this._isLayerInCurrentView();this.legendElements=t?await this._getRendererLegendElements(e):[],this.notifyChange("ready")}catch(t){re.getLogger(this).warn("error while building legend for layer!",t)}}async buildLegendElementsForFeatureReduction(e){try{const t=!this.hideLayersNotInCurrentView||await this._isLayerInCurrentView();this.legendElements=t?await this._getLegendElementsForFeatureReduction(e):[],this.notifyChange("ready")}catch(t){re.getLogger(this).warn("error while building legend for layer!",t)}}async buildLegendElementsForTools(){const e=this.layer;if(m4e(e))this._constructLegendElementsForVoxelLayer();else if(g4e(e))this._constructLegendElementsForWMTSlayer();else if(y4e(e))await this._constructLegendElementsForWMSSublayers();else if(f4e(e))await this._constructLegendElementsForBuildingSceneLayer();else if(cE(e)||d8(e)||uE(e))await this._constructLegendElementsForSublayers();else{this.removeHandles("imageryLayers-watcher");let t="default";if(Vp(e)&&(t=(e?.rasterFunction?.functionName||"default")+"_"+(e.bandIds?.length?e.bandIds.join(""):"###")),Xw(e)||e.type==="link-chart")return;await this._getLegendLayers(`${e.uid}-${t}`).then(async n=>{this.legendElements=[],this.notifyChange("ready");const i=n.map(async r=>{if(Vp(e)){const o=me(()=>[e.rasterFunction,e.bandIds],()=>B2(async()=>{Fp.default=null,e.renderer?await this.buildLegendElementsForRenderer(e.renderer):await this.buildLegendElementsForTools()})());this.addHandles(o,"imageryLayers-watcher")}const s=this._generateSymbolTableElementForLegendLayer(r);s?.infos.length&&(Vp(e)&&(s.title=e.title),this.legendElements.push(s)),this.notifyChange("ready")});await Promise.allSettled(i)}).catch(n=>{re.getLogger(this).warn("Request to server for legend has failed!",n)})}}async _isLayerInCurrentView(){const e=this.layer,t=this.layerView,n=t&&"createQuery"in t&&"queryFeatureCount"in t;if(!n&&!(t&&"createQuery"in e&&"queryFeatureCount"in e))return!0;await yx(()=>!t.updating);const i=n?"createQuery"in t&&t.createQuery():"createQuery"in e&&e.createQuery();return i?(i.geometry=this.view.extent,(n?"queryFeatureCount"in t&&await t.queryFeatureCount(i):"queryFeatureCount"in e&&await e.queryFeatureCount(i))!==0):!0}_getParentLayerOpacity(e){let t=1;const n=e.parent;return n&&"uid"in n&&(t=this._getParentLayerOpacity(n)),e.opacity*t}_isGroupActive(){return this.children.some(e=>e.ready)}_isRendererScaleDriven(e){if(e.type==="dot-density")return!0;const t="valueExpression"in e?e.valueExpression:null;return Jw.test(t)?!0:!!("visualVariables"in e?e.visualVariables:null)?.some(i=>this._isScaleDrivenSizeVariable(i))||this._hasScaleDrivenSymbols(e)}_hasScaleDrivenSymbols(e){switch(e.type){case"simple":return this._isScaleDrivenSymbol(e.symbol);case"class-breaks":return this._isScaleDrivenSymbol(e.defaultSymbol)||e.classBreakInfos.some(t=>this._isScaleDrivenSymbol(t.symbol));case"unique-value":return this._isScaleDrivenSymbol(e.defaultSymbol)||!!e.uniqueValueInfos?.some(t=>this._isScaleDrivenSymbol(t.symbol))}return!1}_isScaleDrivenSymbol(e){if(e?.type==="cim"){const{primitiveOverrides:t,minScale:n,maxScale:i}=e.data,r=t?.some(s=>/\$view\.scale/.test(s.valueExpressionInfo?.expression||""))??!1;return n!=null||i!=null||r}return!1}_isScaleDrivenSizeVariable(e){if(e&&e.type!=="size")return!1;const t=e,n=t.minSize,i=t.maxSize;return!(typeof n!="object"||!n||!this._isScaleDrivenSizeVariable(n))||!(typeof i!="object"||!i||!this._isScaleDrivenSizeVariable(i))||Jw.test(t.valueExpression)}_isLayerScaleDriven(e){if("minScale"in e&&e.minScale>0||"maxScale"in e&&e.maxScale>0)return!0;if("sublayers"in e&&e.sublayers)return e.sublayers.some(n=>this._isLayerScaleDriven(n));const t=e.parent;if(e.loaded===!1&&t&&cE(t)&&"source"in e&&e.source&&e.source.type==="map-layer"){for(const n of t.sourceJSON.layers??[])if(n.id===e.source.mapLayerId&&(n.minScale>0||n.maxScale>0))return!0}return!1}async _constructLegendElementsForVoxelLayer(){this.legendElements=[],this.removeHandles("voxel-style-watcher"),this.removeHandles("voxel-current-variable");const e=this.layer;this.addHandles(me(()=>e.currentVariableId,()=>this._constructLegendElementsForVoxelLayer()),"voxel-current-variable"),this.addHandles(me(()=>e.getVariableStyles(),()=>this._constructLegendElementsForVoxelLayer()),"voxel-style-watcher");const t=e.getVariableStyle(null),n=[];if(t){if(t.uniqueValues?.length){const s=[];t.uniqueValues.forEach(o=>{o.enabled&&s.push({label:o.label||`${o.value}`,value:o.value,symbol:new ql({color:o.color,outline:null})})}),s.length&&n.push({type:"symbol-table",title:t.label,infos:s})}else if(t.transferFunction){const{colorStops:s,stretchRange:o}=t.transferFunction,a=s.toArray().reverse(),l=o.map((h,p)=>`${p===0?UQ:GQ} ${r4e(h)}`).reverse(),c=a.map(h=>({color:h.color,value:null,label:null}));c[0].label=l[0],c[c.length-1].label=l[1],n.push({type:"color-ramp",title:t.label,infos:c,preview:Vd(a.map(h=>h.color),{ariaLabel:await Wa("previewColorRampAriaLabel")})})}}const i=e.opacity,r=n.reduce((s,o)=>[...s,...this._getAllInfos(o)],[]).filter(s=>!!s?.symbol).map(s=>this._getSymbolPreview(s,i));await Promise.allSettled(r),this.legendElements=n,this.notifyChange("ready")}_constructLegendElementsForWMTSlayer(){this.legendElements=[],this.removeHandles("wmts-activeLayer-watcher");const e=this.layer.activeLayer;this.addHandles(me(()=>{const{layer:n}=this;return n&&"activeLayer"in n&&n.activeLayer},()=>this._constructLegendElementsForWMTSlayer()),"wmts-activeLayer-watcher");const t=e.styleId?e.styles?.find(({id:n})=>n===e.styleId)?.legendUrl:void 0;t&&(this.legendElements=[{type:"symbol-table",title:e.title,infos:[{src:t,opacity:this.opacity}]}]),this.notifyChange("ready")}async _constructLegendElementsForWMSSublayers(){this.legendElements=[],this.removeHandles("wms-sublayers-watcher");const e=this.layer;let t=null;(e.customParameters||e.customLayerParameters)&&(t={...e.customParameters,...e.customLayerParameters}),this.addHandles(me(()=>{const{layer:n}=this;return n&&"sublayers"in n&&n.sublayers},()=>this._constructLegendElementsForWMSSublayers()),"wms-sublayers-watcher"),this.legendElements=await this._generateLegendElementsForWMSSublayers(e.sublayers,t),this.notifyChange("ready")}async _generateLegendElementsForWMSSublayers(e,t){const n=this.layer,i=[];this.addHandles(e.on("change",()=>this._constructLegendElementsForWMSSublayers()),"wms-sublayers-watcher");const r=this.sublayerIds?.map(o=>n.findSublayerById(o))?.filter(Ji)??[],s=r.length?r:e.toArray();for(const o of s){const a=me(()=>[o.title,o.visible,o.legendEnabled],()=>this._constructLegendElementsForWMSSublayers());if(this.addHandles(a,"wms-sublayers-watcher"),!this.respectLayerVisibility||o.visible&&o.legendEnabled){const l=await this._generateSymbolTableElementForWMSSublayer(o,t);l?.infos.length&&i.unshift(l)}}return i}async _generateSymbolTableElementForWMSSublayer(e,t){if(!e.legendUrl&&e.sublayers){const n=(await this._generateLegendElementsForWMSSublayers(e.sublayers,t)).filter(i=>i);return{type:"symbol-table",title:e.title,infos:n}}return this._generateSymbolTableElementForLegendUrl(e,t)}async _generateSymbolTableElementForLegendUrl(e,t){let n=e.legendUrl;if(!n)return;const i={type:"symbol-table",title:e.title||e.name||String(e.id??""),infos:[]};t&&(n=h1(n,t));let r=null;const s=e.layer?.opacity;try{r=(await Lt(n,{responseType:"image"})).data,r&&(r.style.opacity=s)}catch{}return i.infos.push({src:n,preview:r,opacity:s}),i}_getLegendLayers(e,t){const n=Fp&&Fp[e];return n?Promise.resolve(n):this._legendRequest(t).then(i=>{const r=i.layers;return Fp[e]=r,r})}_legendRequest(e){const t=this.layer;let n={f:"json",dynamicLayers:e};if(Vp(t)){const r=t.exportImageServiceParameters.rasterFunction;if(r&&(n.renderingRule=JSON.stringify(r.functionDefinition?.toJSON()||r.toJSON())),t.bandIds&&(n.bandIds=t.bandIds.join()),t.raster||t.viewId||t.customParameters){const{raster:s,viewId:o,customParameters:a}=t;n={raster:s,viewId:o,...n,...a}}}let i=t.url.replace(/(\/)+$/,"");if("version"in t&&+t.version>=10.01){const r=i.indexOf("?");r>-1?i=i.slice(0,r)+"/legend"+i.slice(r):i+="/legend"}else{const r=i.toLowerCase().indexOf("/rest/"),s=r===-1?i:i.slice(0,r)+i.slice(r+5);i=s4e+"?soapUrl="+encodeURI(s)+"&returnbytes=true"}return Lt(i,{query:n}).then(r=>r.data)}async _constructLegendElementsForBuildingSceneLayer(){this.legendElements=[],this.removeHandles("sublayers-watcher");const e=this.layer;this.addHandles(me(()=>e.sublayers,()=>this._constructLegendElementsForBuildingSceneLayer()),"sublayers-watcher");try{this.legendElements=await this._generateLegendElementsForBuildingSublayers(e.sublayers,this.opacity),this.notifyChange("ready")}catch(t){re.getLogger(this).warn("Request to server for legend has failed!",t)}}async _generateLegendElementsForBuildingSublayers(e,t){let n=[];this.addHandles(e.on("change",()=>this._constructLegendElementsForBuildingSceneLayer()),"sublayers-watcher");const i=e.toArray();for(const r of i){const s=me(()=>["renderer"in r&&r.renderer,r.opacity,r.title,r.visible],()=>this._constructLegendElementsForBuildingSceneLayer());if(this.addHandles(s,"sublayers-watcher"),!this.respectLayerVisibility||r.visible){const o=r?.opacity!=null?r.opacity:null,a=o!=null?o*t:t;if(r.type==="building-group"){const l={type:"symbol-table",title:r.title,infos:[]},c=await this._generateLegendElementsForBuildingSublayers(r.sublayers,a);l.infos.push(...c),n=[l,...n]}else r.renderer&&(n=[...await this._getRendererLegendElements(r.renderer,{title:r.title,opacity:a,sublayer:r}),...n])}}return n.filter(r=>!!r&&(!("infos"in r)||!r.infos||r.infos.length>0))}async _constructLegendElementsForSublayers(){this.legendElements=[],this.removeHandles("sublayers-watcher");const e=this.layer;if(cE(e)||d8(e)||uE(e)){this.addHandles(me(()=>e.sublayers,()=>this._constructLegendElementsForSublayers),"sublayers-watcher");try{this.legendElements=await this._generateLegendElementsForSublayers(e.sublayers,this.opacity),this.notifyChange("ready")}catch(t){re.getLogger(this).warn("Request to server for legend has failed!",t)}}}async _generateLegendElementsForSublayers(e,t,n){const i=this.layer;let r=[];this.addHandles(e.on("change",()=>this._constructLegendElementsForSublayers()),"sublayers-watcher");let s=e.toArray();!n&&this.sublayerIds&&this.sublayerIds.length&&(s=uE(i)?this.sublayerIds.map(o=>i.findSublayerForSubtypeCode(o)).filter(Ji):this.sublayerIds.map(o=>i.findSublayerById(o)).filter(Ji));for(const o of s){const a=me(()=>[o.renderer,o.opacity,o.title,o.visible,o.legendEnabled],()=>this._constructLegendElementsForSublayers());if(this.addHandles(a,"sublayers-watcher"),!this.respectLayerVisibility||o.visible&&o.legendEnabled&&this._isSublayerInScale(o)){const l=o?.opacity!=null?o.opacity:null,c=l!=null?l*t:t,h=!h8(o)||o.originIdOf("renderer")>We.SERVICE&&!o.sublayers;if(o.renderer&&h)await o.load(),r=[...await this._getRendererLegendElements(o.renderer,{title:o.title,opacity:c,sublayer:o}),...r];else if(h8(o)){const p=await this._generateSymbolTableElementForSublayer(o,c,n);p&&r.unshift(p)}}}return r.filter(o=>!!o&&(!("infos"in o)||!o.infos||o.infos.length>0))}async _generateSymbolTableElementForSublayer(e,t,n){if(!n){n=new Map;const r=this.layer,s=e.source;let o=null;if(!(!s||s.type==="map-layer"&&s.mapLayerId===e.id&&(!s.gdbVersion||s.gdbVersion===("gdbVersion"in r&&r.gdbVersion)))||e.originIdOf("renderer")>We.SERVICE||e.originIdOf("labelingInfo")>We.SERVICE||e.originIdOf("labelsVisible")>We.SERVICE){const l=new Vs({layer:this.layer});o=l.hasDynamicLayers?l.dynamicLayers:null,l.destroy()}const a=o||`${r.uid}-default`;(await this._getLegendLayers(a,o)).forEach(l=>n.set(l.layerId,l))}const i=n.get(e.id);if((!i||i?.subLayerIds&&i.defaultVisibility)&&e.sublayers){const r=await this._generateLegendElementsForSublayers(e.sublayers,t,n);return{type:"symbol-table",title:e.title,infos:r}}return this._generateSymbolTableElementForLegendLayer(i,e,t)}_generateSymbolTableElementForLegendLayer(e,t,n){if(!e?.legend||this.respectLayerVisibility&&!this._isLegendLayerInScale(e,t))return null;const i=t?.renderer;let r=t?.title||e.layerName;if(i&&(!t||t?.originIdOf("renderer")>We.SERVICE)){const a=t?.title||this._getRendererTitle(i,t);a&&(r&&typeof a!="string"&&"title"in a&&(a.title=r),r=a)}const s={type:"symbol-table",title:r,legendType:e.legendType||null,infos:[]},o=t?this._sanitizeLegendForSublayer(e.legend.slice(),t):e.legend;return e.legendGroups&&e.legendGroups.length>0?e.legendGroups.forEach(a=>{const l={type:"symbol-table",title:a.heading,legendType:e.legendType||null,infos:this._generateSymbolTableElementInfosForLegendLayer(o.filter(c=>c.groupId===a.id),e.layerId,n)};l.infos?.length>0&&s.infos.push(l)}):s.infos=this._generateSymbolTableElementInfosForLegendLayer(o,e.layerId,n),s.infos.length>0?s:null}_generateSymbolTableElementInfosForLegendLayer(e,t,n){return e.map(i=>{let r=i.url;if(i.imageData&&i.imageData.length>0)r=`data:image/png;base64,${i.imageData}`;else{if(r.indexOf("http")===0)return null;r=Dme(`${this.layer.url}/${t}/images/${r}`)}return{label:i.label,src:r,opacity:n??this.opacity,width:i.width,height:i.height}}).filter(Ji)}_isSublayerInScale(e){const t=e.minScale||0,n=e.maxScale||0;return!(t>0&&t<this.scale||n>this.scale)}_isLegendLayerInScale(e,t){const n=t||this.layer;let i=null,r=null,s=!0;return!n.minScale&&n.minScale!==0||!n.maxScale&&n.maxScale!==0?(e.minScale===0&&n.tileInfo&&(i=n.tileInfo.lods[0].scale),e.maxScale===0&&n.tileInfo&&(r=n.tileInfo.lods[n.tileInfo.lods.length-1].scale)):(i=Math.min(n.minScale,e.minScale)||n.minScale||e.minScale,r=Math.max(n.maxScale,e.maxScale)),(i>0&&i<this.scale||r>this.scale)&&(s=!1),s}_sanitizeLegendForSublayer(e,t){if("version"in this.layer&&+this.layer.version<10.1||e.length===0)return e;const n=t.renderer,i=e.some(o=>o.values);let r=0,s=null;return i&&e.some((o,a)=>(o.values||(r=a,s=o,s.label||(s.label="others")),s!=null)),n?n.type==="unique-value"?s&&(e.splice(r,1),e.push(s)):n.type==="class-breaks"&&(s&&e.splice(r,1),n.legendOptions?.order||e.reverse(),s&&e.push(s)):s&&(e.splice(r,1),e.push(s)),e}async _getRendererLegendElements(e,t={}){if(!p4e(e,this.view))return re.getLogger(this).warn(`Renderer of type '${e.type}' not supported!`),[];if(d4e(e))return this._constructPointCloudRendererLegendElements(e,t);if(ree(e))return this._constructDotDensityRendererLegendElements(e);const n=await this._loadRenderer(e);return see(n)?this._constructPieChartRendererLegendElements(n):this._constructRendererLegendElements(n,t)}async _getLegendElementsForFeatureReduction(e){let t=null;return e.type==="binning"?t=e.renderer:e.type==="cluster"&&(t=this._getClusterRenderer(e)),t?this._getRendererLegendElements(t):[]}_getPointCloudRendererTitle(e){return(e.legendOptions?.title||e.field)??""}async _constructPointCloudRendererLegendElements(e,t={}){const n=t.title,i=[];let r=null,s=null;if(KO(e))r={type:"symbol-table",title:n||this._getPointCloudRendererTitle(e),infos:[]},e.colorClassBreakInfos.forEach(a=>{r.infos.unshift({label:a.label||a.minValue+" - "+a.maxValue,value:[a.minValue,a.maxValue],symbol:this._getAppliedCloneSymbol(Kw,a.color)})});else if(XO(e)){const a=e.stops;let l=null;if(a?.length&&(a.length===1&&(l=a[0].color),!l)){const h=a[0].value,p=a[a.length-1].value;h!=null&&p!=null&&(l=ZQ(h+(p-h)/2,a))}r={type:"symbol-table",title:null,infos:[{label:null,value:null,symbol:this._getAppliedCloneSymbol(Kw,l||Kw.color)}]};const c=D5e(e.stops??[])??[];s={type:"color-ramp",title:n||this._getPointCloudRendererTitle(e),infos:c,preview:Vd(c.map(h=>h.color),{ariaLabel:await Wa("previewColorRampAriaLabel")})}}else QO(e)&&(r={type:"symbol-table",title:n||this._getPointCloudRendererTitle(e),infos:[]},e.colorUniqueValueInfos?.forEach(a=>{r.infos.push({label:a.label||a.values.join(", "),value:a.values.join(", "),symbol:this._getAppliedCloneSymbol(Kw,a.color)})}));r?.infos.length&&i.push(r),s?.infos.length&&i.push(s);const o=i.reduce((a,l)=>[...a,...l.infos??[]],[]).filter(a=>!!a.symbol).map(a=>this._getSymbolPreview(a,this.opacity,{symbolConfig:{applyColorModulation:!!e.colorModulation}}));return await Promise.allSettled(o),i}async _getElementInfoForDotDensity(e,t){const{color:n,label:i,valueExpressionTitle:r}=t,{backgroundColor:s,outline:o,dotSize:a}=e,l=this.effectList,c=l?.effects.map(w=>w.toJSON()),h=wS(c),p=await Wa("previewTemplateAriaLabel",i||r),m=a+"-"+n+"-"+s+"-"+(o&&JSON.stringify(o.toJSON()))+"-"+h,y=this._dotDensityUrlCache,g=y.has(m)?y.get(m):y5e(e,n,{ariaLabel:p});y.set(m,g);const v={shape:{type:"image",x:0,y:0,width:g.width,height:g.height,src:g.src},fill:null,stroke:null,offset:[0,0]},b=Rb([[v]],[g.width,g.height],{effectView:this.effectList,ariaLabel:p});return{opacity:1,src:g.src,preview:b,width:g.width,height:g.height}}async _constructDotDensityRendererLegendElements(e){const t=e.calculateDotValue(this.view.scale),n=e.legendOptions?.unit,i={type:"symbol-table",title:{value:t&&Math.round(t),unit:n||""},infos:[]};for(const r of e.attributes){const s=await this._getElementInfoForDotDensity(e,r);s.label=r.label||r.valueExpressionTitle||r.field,i.infos.push(s)}return[i]}async _constructPieChartRendererLegendElements(e){const t=this.layer.opacity,n=[];let i=null;const r=e.outline;e.attributes.forEach(l=>{const c=new ir({color:l.color,outline:r}),h=l.label||l.valueExpressionTitle||l.field;n.push({label:h,symbol:c})});const s=n.length?[...n]:[];if(e.othersCategory?.color&&e.othersCategory?.threshold!==0){const l=new ir({color:e.othersCategory.color,outline:r});i=e.othersCategory.label||"Other",n.push({label:i,symbol:l})}if(e.defaultColor?.a){const l=new ir({color:e.defaultColor,outline:r});n.push({label:e.defaultLabel,symbol:l})}const o=await this._getVisualVariableLegendElements(e,this.layer)||[];if(n.length){o.unshift({type:"symbol-table",title:null,infos:n});const l=s.filter(h=>h.label!==i).map(h=>h.symbol.color).filter(Boolean),c=g5e(l,{holePercentage:e.holePercentage,backgroundColor:e.backgroundFillSymbol?.color,effectList:this.effectList,outline:r,ariaLabel:await Wa("previewPieChartAriaLabel")});o.unshift({type:"pie-chart-ramp",title:this._getRendererTitle(e,this.layer),infos:n,preview:c})}const a=o.reduce((l,c)=>[...l,...this._getAllInfos(c)],[]).filter(l=>!!l?.symbol&&!l?.preview).map(l=>this._getSymbolPreview(l,t,{effectList:this.effectList}));return await Promise.allSettled(a),o}async _getWhereClause(e,t,n){const i=await aL(e,n),r=await Age(t,n),s=new Set(r.map(a=>a.toLowerCase()));return i?.fieldNames.map(a=>a.toLowerCase())?.some(a=>!s.has(a))?null:i}async _processDefinitionExpression(e,t){if(!("definitionExpression"in e))return;const n=e.definitionExpression;n&&this.respectLayerDefinitionExpression?this._layerDefinitionExpression!==n&&(this._layerDefinitionExpressionClause=await this._getWhereClause(n,t,e.fieldsIndex)):this._layerDefinitionExpressionClause=null,this._layerDefinitionExpression=n}async _processDisplayFilter(e,t){if(!("displayFilterInfo"in e))return;const n=e.displayFilterInfo?G_e(e.displayFilterInfo,this.view):null;return n?.where?this._layerDisplayFilterId!==n?.id&&(this._layerDisplayFilterClause=await this._getWhereClause(n.where,t,e.fieldsIndex)):this._layerDisplayFilterClause=null,this._layerDisplayFilterId=n?.id,n}async _constructRendererLegendElements(e,t={}){const{title:n,sublayer:i}=t,r=i||this.layer,s=DA(e);let o=null;jd(e)&&(await this._processDefinitionExpression(r,e),o=await this._processDisplayFilter(r,e)),this._hasColorRamp=!1,this._hasOpacityRamp=!1,this._hasSizeRamp=!1,this._scaleDrivenSizeVariable=null;const a=await this._getVisualVariableLegendElements(e,r)||[],l={type:"symbol-table",title:n||this._getRendererTitle(e,r),infos:[]};let c=null,h=!1;const p=new Set;if(zA(e)&&!this._hasSizeRamp){const w=await qQ(e);l.infos.push({label:null,symbol:w})}else if(w4e(e)){let w=n;const S=_4e(e)?"univariate-above-and-below-ramp":"univariate-color-size-ramp",x=a.findIndex(M=>M.type==="color-ramp"),E=x!==-1?a.splice(x,1)[0]:null,$=a.findIndex(M=>M.type==="size-ramp"),I=$!==-1?a.splice($,1)[0]:null,A=[];E&&(w=E.title,A.push(E)),I&&(w=I.title,A.push(I)),A.length>0&&a.push({type:S,title:w,infos:A})}else if(iee(e)){const w=j5e(e);a.push({type:"heatmap-ramp",title:n||this._getRendererTitle(e,r),infos:w,preview:Vd(w.map(S=>S.color),{effectList:this.effectList,ariaLabel:await Wa("previewColorRampAriaLabel")})})}else if(jd(e)){const w=e.authoringInfo;if(w&&w.type==="relationship"){const{numClasses:S,field1:x,field2:E}=w,$=w.focus;if(S&&x&&E){const I=[x,E];let A=jQ($)||0;for(const L of I){const{field:O,normalizationField:P,label:R}=L,V=R||{field:this._getFieldAlias(O,r),normField:P&&this._getFieldAlias(P,r)},U=x4e.clone();U.angle=A,l.infos.push({label:V,symbol:U}),p.add(U),A+=90}const M=m5e({focus:$,numClasses:S,infos:e.uniqueValueInfos??[]});a.unshift(M)}}else if(Vp(this.layer)||Xw(this.layer))e.uniqueValueInfos?.forEach(S=>{S.symbol&&this._checkClausesForUVR(e,S.value)&&l.infos.push({label:S.label||S.value,value:S.value,symbol:S.symbol})});else{const{field:S,field2:x,field3:E,fieldDelimiter:$,valueExpression:I,defaultSymbol:A}=e,M=!(!S&&!I||!x&&!E),L=this._layerDisplayFilterClause?o?.title:null,O=[];if(e.uniqueValueGroups?.forEach(P=>{const R={type:"symbol-table",title:L||P.heading,infos:[]};P.classes?.forEach(V=>{const{symbol:U,values:ee}=V;if(U){const se=[],Se=[];for(const W of ee??[]){const{value:ue,value2:$e,value3:Te}=W,Ne=[],ve=[];(S||I)&&(Ne.push(ue),ve.push(this._getDomainName(S,ue,r))),x&&(Ne.push($e),ve.push(this._getDomainName(x,$e,r))),E&&(Ne.push(Te),ve.push(this._getDomainName(E,Te,r))),se.push(M?Ne.join($||""):Ne[0]),Se.push(ve.join(" - "))}const oe=se.join(", ");let ie=V.label;if(!ie){const W=Se.filter(Boolean);ie=W.length?W.join(", "):oe}const Q=U.clone();Q.type==="cim"&&s&&aQ(Q,{innerDotSize:.5*c8,outerRingSize:c8}),se.some(W=>this._checkClausesForUVR(e,W))&&R.infos.push({label:ie,value:oe,symbol:Q})}}),R.infos.length&&O.push(R)}),O.length){const P=O[0];O.length===1&&"title"in P&&!P.title?l.infos.push(...P.infos??[]):(A&&(O.push({type:"symbol-table",infos:[{label:e.defaultLabel||"others",symbol:A}]}),h=!0),l.infos.push(...O)),n||e.legendOptions?.title||e.valueExpressionTitle||(l.title=null)}}e.defaultSymbol&&!h&&(l.infos.push({label:e.defaultLabel||"others",symbol:e.defaultSymbol}),h=!0)}else if(Fd(e)){if(!s){if(c=this._isUnclassedRenderer(e),!c||!this._hasSizeRamp){const w=e.classBreakInfos.filter(({symbol:x})=>x),S=e.legendOptions?.order==="ascending-values";for(const{label:x,minValue:E,maxValue:$,symbol:I}of w){const A={label:x||(c?null:`${E} - ${$}`),value:[E,$],symbol:I};S?l.infos.push(A):l.infos.unshift(A)}c&&(l.title=null),this._updateInfosForClassedSizeRenderer(e,l.infos)}e.defaultSymbol&&!c&&(l.infos.push({label:e.defaultLabel||"others",symbol:e.defaultSymbol}),h=!0)}}else if(tee(e))if(Xw(this.layer)||v4e(this.layer)){const w=await this._constructTileImageryStretchRendererElements(e);b4e(w)?a.push(w):l.infos=w}else{const w=this.layer;let S,x;e.customStatistics?.length&&({min:S,max:x}=e.customStatistics[0]);let E=[],$=w.serviceRasterInfo;if(w.rasterFunction)try{$=await w.generateRasterInfo(w.rasterFunction)}catch{}const I=e2($.pixelType);if($.bandCount===1){const A=w.bandIds?.[0]||0;S=S??($.statistics?$.statistics[A].min:I[0]),x=x??($.statistics?$.statistics[A].max:I[1]),S||x?a.push(await this._getStretchLegendElements(e,{min:S,max:x})):this._getServerSideLegend()}else if(w.bandIds&&w.bandIds.length===1)S=S??($.statistics?$.statistics[w.bandIds[0]].min:I[0]),x=x??($.statistics?$.statistics[w.bandIds[0]].max:I[1]),S||x?a.push(await this._getStretchLegendElements(e,{min:S,max:x})):this._getServerSideLegend();else if($.bandCount>=3){const{bandInfos:A}=$,{bandIds:M}=w;A.length>=$.bandCount?M?.length===3?(E=M.map(L=>A[L].name),l.infos=this._createSymbolTableElementMultiBand(E)):w.format==="lerc"?(E=[0,1,2].map(L=>A[L].name),l.infos=this._createSymbolTableElementMultiBand(E)):this._getServerSideLegend():w.format==="lerc"?(E=["band1","band2","band3"],l.infos=this._createSymbolTableElementMultiBand(E)):this._getServerSideLegend()}else this._getServerSideLegend()}else if(eee(e))e.colormapInfos.forEach(w=>{l.infos.push({label:w.label,value:w.value,symbol:this._getAppliedCloneSymbol(c4e,w.color)})});else if(kf(e)){let w=e.symbol;switch(t.geometryType){case"point":w="pointSymbol"in r?r.pointSymbol:null;break;case"polyline":w="lineSymbol"in r?r.lineSymbol:null;break;case"polygon":w="polygonSymbol"in r?r.polygonSymbol:null}const S=this._hasClusterSizeVariable&&this._getClusterSymbol()||!this._hasSizeRamp;e.symbol&&S&&l.infos.push({label:e.label,symbol:w})}else if(QQ(e)){e.outputUnit&&(this.title="("+e.toJSON().outputUnit+")"),l.title=e.attributeField;const w=e.getClassBreakInfos();w?.length?w.forEach(S=>{l.infos.push({label:S.minValue+" - "+S.maxValue,symbol:S.symbol})}):l.infos.push({label:e.attributeField,symbol:e.getDefaultSymbol()})}else nee(e)&&a.push(await this._getStretchLegendElements(e,{min:0,max:255}));const m=e.defaultSymbol;!m||h||kf(e)||c&&!this._hasColorRamp&&!this._hasSizeRamp&&!this._hasOpacityRamp||a.push({type:"symbol-table",infos:[{label:e.defaultLabel||"others",symbol:m}]}),l.infos.length&&a.unshift(l);const y=t.opacity==null?this.opacity:t.opacity,g=this._isTallSymbol("visualVariables"in e?e.visualVariables:null),v=Vp(this.layer)||Xw(this.layer),b=a.reduce((w,S)=>[...w,...this._getAllInfos(S)],[]).filter(w=>!!w?.symbol).filter(w=>{if(w.symbol.type==="cim"){const{minScale:S,maxScale:x}=w.symbol.data;if(S&&S<this.scale||x&&x>this.scale)return!1}return!0}).map(w=>this._getSymbolPreview(w,y,{isDefault:w.symbol===m,applyScaleDrivenSize:!p.has(w.symbol),symbolConfig:{isTall:g,isSquareFill:v},effectList:p.has(w.symbol)?null:this.effectList}));return e=null,await Promise.allSettled(b),a}_checkClausesForUVR(e,t){const n=S4e(e,t);return!n||(!this._layerDefinitionExpressionClause||this._layerDefinitionExpressionClause.testFeature(n))&&(!this._layerDisplayFilterClause||this._layerDisplayFilterClause.testFeature(n))}_getServerSideLegend(){setTimeout(()=>this.buildLegendElementsForTools(),0)}_getAllInfos(e){const t=e?.infos;return t?t.reduce((n,i)=>n.concat(this._getAllInfos(i)),[]):[e]}async _constructTileImageryStretchRendererElements(e){const t=this.layer,n=t.symbolizer.rasterInfo??t.raster.rasterInfo;let i,r;const s=e?.customStatistics?.length?e.customStatistics:n?.statistics;if(s)({min:i,max:r}=s[0]);else{const a=e2(n.pixelType);i=a[0],r=a[1]}if(t.hasStandardTime()&&(i=t.getStandardTimeValue(i),r=t.getStandardTimeValue(r)),n.bandCount===1||t.bandIds?.length===1)return this._getStretchLegendElements(e,{min:i,max:r});const o=(t?.bandIds?.length?t.bandIds:Array.from(Array(Math.min(n.bandCount,3)).keys())).map(a=>n.bandInfos[a].name);return o.length<3?o.push(o[1]):o.length>3&&o.splice(3),this._createSymbolTableElementMultiBand(o)}async _getStretchLegendElements(e,t){const n=e.colorRamp,i=F5e(n,t);return{type:"stretch-ramp",title:"",infos:i,preview:Vd(i.map(r=>r.color),{ariaLabel:await Wa("previewColorRampAriaLabel")})}}_getClusterSymbol(){const e=this.layer,t="featureReduction"in e&&e.featureReduction,n=t&&"symbol"in t&&t.renderer;return n&&n?.authoringInfo?.isAutoGenerated!==!0?null:t&&"symbol"in t?t.symbol:null}async _getSizeLegendElement(e,t,n,i){return{type:"size-ramp",title:this._hasClusterSizeVariable?this._getClusterTitle(t):e,infos:await Z5e(n,t,await NA(n),this.scale,this.view,i,this._hasClusterSizeVariable?this._getClusterSymbol():null)}}_createSymbolTableElementMultiBand(e){const t=[],n=["red","green","blue"];return e.forEach((i,r)=>{t.push({label:{colorName:n[r],bandName:i},src:A5e[r],opacity:this.opacity??1})}),t}_updateInfosForClassedSizeRenderer(e,t){const n=e.authoringInfo&&e.authoringInfo.type==="class-breaks-size",i=e.classBreakInfos.some(r=>r$(r.symbol));if(n&&i){const r=VA,s=FA,o=e.classBreakInfos.length,a=(r-s)/(o>1?o-1:o);t.forEach((l,c)=>{l.size=r-a*c})}}_isTallSymbol(e){let t=!1,n=!1;if(e)for(let i=0;i<e.length&&(!t||!n);i++){const r=e[i];r.type==="size"&&(r.axis==="height"&&(t=!0),r.axis==="width-and-depth"&&(n=!0))}return t&&n}async _getSymbolPreview(e,t,n){let i=!n?.isDefault&&e.size==null&&this._hasSizeRamp?Zr(Kn.size):e.size;if(this._scaleDrivenSizeVariable&&n?.applyScaleDrivenSize){const{getSize:s}=await J(()=>Promise.resolve().then(()=>up),void 0);i=s(this._scaleDrivenSizeVariable,null,{view:this.view.type,scale:this.scale,shape:e.symbol.type==="simple-marker"?e.symbol.style:null})}const r=!n?.isDefault&&this._hasSizeRamp||!(!this._scaleDrivenSizeVariable||!n?.applyScaleDrivenSize);return zQ(e.symbol,{size:i,opacity:t,scale:!1,symbolConfig:n?.symbolConfig,effectView:n?.effectList,style:"legend",cimOptions:{allowScalingUp:r,viewParams:this.isScaleDriven?{viewingMode:this.view?.type==="2d"?"map":this.view?.viewingMode,scale:this.view?.scale}:null},ariaLabel:e.label&&typeof e.label!="string"?null:await Wa("previewTemplateAriaLabel",e.label)}).then(s=>(e.preview=s,e)).catch(()=>(e.preview=null,e))}_getClusterRenderer(e){this._hasClusterSizeVariable=!1;const t="renderer"in this.layer?this.layer.renderer:null,n=e.renderer?.clone()||t?.clone(),i=w5e(e,this.layerView,this.view);if(i&&n!=null&&"visualVariables"in n&&!n.visualVariables?.some(s=>s.type==="size"&&s.target!=="outline"&&!Jw.test(s.valueExpression))){if("clusterMinSize"in e&&"clusterMaxSize"in e){const{clusterMinSize:o,clusterMaxSize:a}=e;i.legendOptions=new JW({showLegend:o!==a})}const s=n.visualVariables||[];n.visualVariables=s.concat([i]),this._hasClusterSizeVariable=!0}return n}async _loadRenderer(e){const t=[],n=e.clone(),i=await NA(n);if(Fd(n)||jd(n)){const r=(n.classBreakInfos||n.uniqueValueInfos).map(s=>this._fetchSymbol(s.symbol,i).then(o=>{s.symbol=o}).catch(()=>{s.symbol=null}));Array.prototype.push.apply(t,r)}return t.push(this._fetchSymbol(n.symbol||n.defaultSymbol,n.defaultSymbol?null:i).then(r=>{this._applySymbolToRenderer(n,r,kf(n))}).catch(()=>{this._applySymbolToRenderer(n,null,kf(n))})),await Promise.allSettled(t),n}_applySymbolToRenderer(e,t,n){n?e.symbol=t:e.defaultSymbol=t}async _fetchSymbol(e,t){if(!e)throw new Error;if(e.type==="web-style"){const n=this._webStyleSymbolCache;try{const i=await(this.view.type==="2d"?e.fetchCIMSymbol({cache:n}):e.fetchSymbol({cache:n}));return this._getAppliedCloneSymbol(i,t)}catch{throw re.getLogger(this).warn("Fetching web-style failed!"),new Error}}return this._getAppliedCloneSymbol(e,t)}_getAppliedCloneSymbol(e,t){if(!e||!t)return e;const n=e.clone(),i=t&&t.toRgba();return n.type.includes("3d")?this._applyColorTo3dSymbol(n,i):n.type==="cim"?cQ(n,t):n.color&&(n.color=new he(i||n.color)),n}_applyColorTo3dSymbol(e,t){t&&e.symbolLayers.forEach(n=>{n&&(n.material||(n.material={}),n.material.color=new he(t))})}async _getVisualVariableLegendElements(e,t){if(!("visualVariables"in e)||e.type==="vector-field")return null;const n=e.visualVariables??[],i=[],r=[],s=[],o=DA(e);if(o?.sizeStops?.length===2&&(Fd(e)||jd(e))){const[p,m]=o.sizeStops;r.push(new my({field:o.field??void 0,normalizationField:o.normalizationField,minSize:p.size,maxSize:m.size,minDataValue:p.value,maxDataValue:m.value}))}for(const p of n)p.type==="color"?i.push(p):p.type==="size"?r.push(p):p.type==="opacity"&&s.push(p);const a=[...i,...r,...s];let l,c;if(i.length===0&&Fd(e)&&e.classBreakInfos&&e.classBreakInfos.length===1){const p=e.classBreakInfos[0];l=p&&p.symbol}if(i.length===0&&kf(e)&&(l=e.symbol),l)if(l.type.includes("3d")){const p=l.symbolLayers.at(0);p.type==="water"?p.color!=null&&(c=p.color):p.material?.color!=null&&(c=p.material.color)}else l.url||(c=l.color);const h=this.effectList;return(await Promise.all(a.map(async p=>{if(!p.legendOptions||p.legendOptions.showLegend!==!1){const m=zA(e)?p.field:this._getRampTitle(p,t);let y=null;const g=O5e(t,p,this.view.timeZone);if(p.type==="color"){const v=await u8(p,null,g)??[];y={type:"color-ramp",title:m,infos:v,preview:Vd(v.map(b=>b.color),{effectList:h,ariaLabel:await Wa("previewColorRampAriaLabel")})},this._hasColorRamp||(this._hasColorRamp=v.length>0)}else if(p.type==="size"&&p.target!=="outline")Jw.test(p.valueExpression)?this._hasClusterSizeVariable||(this._scaleDrivenSizeVariable=p):(y=await this._getSizeLegendElement(m,p,e,g),this._hasSizeRamp||(this._hasSizeRamp=!(y.infos==null||!y.infos.length)));else if(p.type==="opacity"){const v=await u8(p,c,g)??[];y={type:"opacity-ramp",title:m,infos:v,preview:Vd(v.map(b=>b.color),{effectList:h,ariaLabel:await Wa("previewColorRampAriaLabel")})},this._hasOpacityRamp||(this._hasOpacityRamp=v.length>0)}return y?.infos?y:null}}))).filter(Ji)}_getDomainName(e,t,n){if(e&&typeof e!="function"){const i="getField"in n&&n.getField?.(e),r=i&&"getFieldDomain"in n&&n.getFieldDomain?n.getFieldDomain(i.name,{excludeImpliedDomains:H("esri-widget-legacy-field-domain-calculation")}):null;return r?.type==="coded-value"?r.getName(t):null}return null}_getClusterTitle(e){const t=this.layer,n=e.field;if("featureReduction"in t&&t.featureReduction&&t.featureReduction.type==="cluster"){const i=t.featureReduction,r="popupTemplate"in i&&i.popupTemplate,s=r&&r.fieldInfos;if(s){for(const o of s)if(o.fieldName===n)return n==="cluster_count"?o.label||{showCount:!0}:o.label}}return{showCount:!0}}_getRampTitle(e,t){let n=e.field,i=e.normalizationField,r=!1,s=!1,o=!1,a=null;n=typeof n=="function"?null:n,i=typeof i=="function"?null:i;const l=e.legendOptions?.title;if(l!=null)a=l;else if(e.valueExpressionTitle)a=e.valueExpressionTitle;else{if("renderer"in t&&t.renderer&&"authoringInfo"in t.renderer&&t.renderer.authoringInfo?.visualVariables){const c=t.renderer.authoringInfo.visualVariables;for(let h=0;h<c.length;h++){const p=c[h];if(p.type==="color"){if(p.style==="ratio"){r=!0;break}if(p.style==="percent"){s=!0;break}if(p.style==="percent-of-total"){o=!0;break}}}}a={field:n&&this._getFieldAlias(n,t),normField:i&&this._getFieldAlias(i,t),ratio:r,ratioPercent:s,ratioPercentTotal:o}}return a}_getRendererTitle(e,t){const n=e;if(n.legendOptions?.title)return n.legendOptions.title;if(n.valueExpressionTitle)return n.valueExpressionTitle;let i=n.field,r=null,s=null;if(Fd(n)&&(r=n.normalizationField,s=n.normalizationType==="percent-of-total"),i=typeof i=="function"?null:i,r=typeof r=="function"?null:r,jd(n)){const{field2:a,field3:l,fieldDelimiter:c}=n;let h=i&&this._getFieldAlias(i,t);return a&&(h=`<${h}>${c}<${this._getFieldAlias(a,t)}>`,l&&(h=`${h}${c}<${this._getFieldAlias(l,t)}>`)),h}let o=null;return(i||r)&&(o={field:i&&this._getFieldAlias(i,t),normField:r&&this._getFieldAlias(r,t),normByPct:s}),o}_getFieldAlias(e,t){let r=("popupTemplate"in t?t.popupTemplate:null)?.fieldInfos?.find(h=>e===h.fieldName),s=null;"getField"in t&&t.getField?s=t.getField(e):"fieldsIndex"in t&&t.fieldsIndex&&(s=t.fieldsIndex.get(e));let o=null;const a="featureReduction"in t&&t.featureReduction;a&&(r??="popupTemplate"in a?a.popupTemplate?.fieldInfos?.find(h=>e?.toLowerCase()===h.fieldName?.toLowerCase()):void 0,"fields"in a&&a.fields&&(o=a.fields.find(h=>h.name?.toLowerCase()===e?.toLowerCase())));const l=r||s||o;let c=null;return l&&(c=r?.label||s?.alias||o?.alias||"name"in l&&l.name||"fieldName"in l&&l.fieldName||null),c}_isUnclassedRenderer(e){const t=e.visualVariables;let n=!1;return Fd(e)&&e.classBreakInfos&&e.classBreakInfos.length===1&&t&&(n=e.field?t.some(i=>!(!i||e.field!==i.field||(e.normalizationField||i.normalizationField)&&e.normalizationField!==i.normalizationField)):!!t.length),n}};u([d()],Nn.prototype,"children",void 0),u([d({readOnly:!0})],Nn.prototype,"effectList",null),u([d()],Nn.prototype,"layerView",void 0),u([d()],Nn.prototype,"layer",void 0),u([d()],Nn.prototype,"legendElements",void 0),u([d({readOnly:!0})],Nn.prototype,"opacity",null),u([d()],Nn.prototype,"parent",void 0),u([d({readOnly:!0,dependsOn:[]})],Nn.prototype,"ready",null),u([d()],Nn.prototype,"hideLayersNotInCurrentView",void 0),u([d()],Nn.prototype,"keepCacheOnDestroy",void 0),u([d()],Nn.prototype,"respectLayerDefinitionExpression",void 0),u([d()],Nn.prototype,"respectLayerVisibility",void 0),u([d({readOnly:!0})],Nn.prototype,"scale",null),u([d()],Nn.prototype,"sublayerIds",void 0),u([d({readOnly:!0})],Nn.prototype,"isScaleDriven",null),u([d()],Nn.prototype,"title",void 0),u([d({readOnly:!0,dependsOn:["ready"],value:0})],Nn.prototype,"version",null),u([d()],Nn.prototype,"view",void 0),Nn=u([k("esri.widgets.Legend.support.ActiveLayerInfo")],Nn);const oee=Nn,Kc={state:"state",view:"view",allLayerViews:"all-layer-views",legendProperties:"legend-properties"},aee=we.ofType(oee),$4e=new Set(["esri.layers.BuildingSceneLayer","esri.layers.CatalogLayer","esri.layers.CSVLayer","esri.layers.FeatureLayer","esri.layers.GeoJSONLayer","esri.layers.GeoRSSLayer","esri.layers.GroupLayer","esri.layers.HeatmapLayer","esri.layers.ImageryLayer","esri.layers.ImageryTileLayer","esri.layers.MapImageLayer","esri.layers.OGCFeatureLayer","esri.layers.OrientedImageryLayer","esri.layers.ParquetLayer","esri.layers.PointCloudLayer","esri.layers.StreamLayer","esri.layers.SceneLayer","esri.layers.SubtypeGroupLayer","esri.layers.TileLayer","esri.layers.VoxelLayer","esri.layers.WFSLayer","esri.layers.WMSLayer","esri.layers.WMTSLayer","esri.layers.WCSLayer","esri.layers.LinkChartLayer","esri.layers.catalog.CatalogFootprintLayer","esri.layers.catalog.CatalogDynamicGroupLayer","esri.layers.knowledgeGraph.KnowledgeGraphSublayer","esri.layers.KnowledgeGraphLayer"]),lee="view.basemapView.baseLayerViews",uee="view.groundView.layerViews",cee="view.basemapView.referenceLayerViews",T4e=[lee,uee,"view.layerViews",cee];let ls=class extends Ce{constructor(t){super(t),this._layerViewByLayerId={},this._layerInfosByLayerViewId={},this._activeLayerInfosByLayerViewId={},this._activeLayerInfosWithNoParent=new we,this.activeLayerInfos=new aee,this.basemapLegendVisible=!1,this.groundLegendVisible=!1,this.hideLayersNotInCurrentView=!1,this.keepCacheOnDestroy=!1,this.respectLayerDefinitionExpression=!1,this.respectLayerVisibility=!0,this.layerInfos=[],this.view=null}initialize(){this.addHandles(me(()=>this.view,()=>this._viewHandles(),mt),Kc.view),this.addHandles(VL(()=>this._refresh()))}destroy(){this._destroyViewActiveLayerInfos(),this.view=null}get state(){return this.view?.ready?"ready":"disabled"}_viewHandles(){this.removeHandles(Kc.state),this.view&&this.addHandles(me(()=>this.state,()=>this._stateHandles(),mt),Kc.state)}_stateHandles(){this._resetAll(),this.state==="ready"&&this._watchPropertiesAndAllLayerViews()}_resetAll(){this.removeHandles([Kc.allLayerViews,Kc.legendProperties]),this._destroyViewActiveLayerInfos(),this.activeLayerInfos.removeAll()}_destroyViewActiveLayerInfos(){Object.keys(this._activeLayerInfosByLayerViewId).forEach(this._destroyViewActiveLayerInfo,this)}_destroyViewActiveLayerInfo(t){this.removeHandles(t);const n=this._activeLayerInfosByLayerViewId[t];delete this._activeLayerInfosByLayerViewId[t],n?.parent&&n.parent.children.remove(n)}_watchPropertiesAndAllLayerViews(){const{view:t}=this;if(!t)return;const{allLayerViews:n}=t;n.length&&this._refresh(),this.addHandles(n.on("change",i=>this._allLayerViewsChangeHandle(i)),Kc.allLayerViews),this.addHandles(me(()=>[this.layerInfos,this.basemapLegendVisible,this.groundLegendVisible],()=>this._propertiesChangeHandle()),Kc.legendProperties)}_allLayerViewsChangeHandle(t){t.moved.length?this._propertiesChangeHandle():(t.removed.forEach(n=>this._destroyViewActiveLayerInfo(n.uid)),this._refresh())}_propertiesChangeHandle(){this._destroyViewActiveLayerInfos(),this._refresh()}_refresh(){this._layerInfosByLayerViewId={},this.activeLayerInfos.removeAll(),this._generateLayerViews().filter(this._filterLayerViewsByLayerInfos,this).filter(this._isLayerViewSupported,this).forEach(this._generateActiveLayerInfo,this),this._sortActiveLayerInfos(this.activeLayerInfos)}_sortActiveLayerInfos(t){const n=this.view;if(t.length<2||!n)return;const i=[];t.forEach(s=>{if(!s.parent){const o=s.layer.parent,a=o&&"uid"in o&&this._layerViewByLayerId[o.uid],l=a&&this._activeLayerInfosByLayerViewId[a.uid];l&&t.includes(l)&&(i.push(s),s.parent=l,l.children.add(s),this._sortActiveLayerInfos(l.children))}}),t.removeMany(i);const r={};n.allLayerViews.forEach((s,o)=>r[s.layer.uid]=o),t.sort((s,o)=>{const a=r[s.layer.uid]||0;return(r[o.layer.uid]||0)-a})}_generateLayerViews(){const t=[];return T4e.filter(this._filterLayerViews,this).map(n=>wr(this,n)).filter(n=>n!=null).forEach(this._collectLayerViews("layerViews",t)),t}_filterLayerViews(t){const n=!this.basemapLegendVisible&&(t===lee||t===cee),i=!this.groundLegendVisible&&t===uee;return!n&&!i}_collectLayerViews(t,n){const i=r=>(r&&r.forEach(s=>{n.push(s),i(s[t])}),n);return i}_filterLayerViewsByLayerInfos(t){const n=this.layerInfos;return!n||!n.length||n.some(i=>this._hasLayerInfo(i,t))}_hasLayerInfo(t,n){const i=this._isLayerUIDMatching(t.layer,n.layer.uid);return i&&(this._layerInfosByLayerViewId[n.uid]=t),i}_isLayerUIDMatching(t,n){return t&&(t.uid===n||this._hasLayerUID(t.layers,n))}_hasLayerUID(t,n){return t&&t.some(i=>this._isLayerUIDMatching(i,n))}_isLayerViewSupported(t){return!!$4e.has(t.layer.declaredClass)&&(this._layerViewByLayerId[t.layer.uid]=t,!0)}_generateActiveLayerInfo(t){this._isLayerActive(t)?this._buildActiveLayerInfo(t):(this.removeHandles(t.uid),this.addHandles(me(()=>[t.legendEnabled,t.layer?.legendEnabled],()=>this._layerActiveHandle(t)),t.uid))}_layerActiveHandle(t){this._isLayerActive(t)&&(this.removeHandles(t.uid),this._buildActiveLayerInfo(t))}_isLayerActive(t){return!this.respectLayerVisibility||t.legendEnabled&&t.layer?.legendEnabled}_buildActiveLayerInfo(t){const n=t.layer,i=t.uid,r=this._layerInfosByLayerViewId[i];let s=this._activeLayerInfosByLayerViewId[i];if(!s){const a=r?.title!==void 0&&r.layer.uid===n.uid;s=new oee({layer:n,layerView:t,title:a?r.title:n.title,view:this.view??void 0,respectLayerDefinitionExpression:this.respectLayerDefinitionExpression,respectLayerVisibility:this.respectLayerVisibility,hideLayersNotInCurrentView:this.hideLayersNotInCurrentView,keepCacheOnDestroy:this.keepCacheOnDestroy,sublayerIds:r?.sublayerIds||[]}),this._activeLayerInfosByLayerViewId[i]=s}const o=n.parent&&"uid"in n.parent?this._layerViewByLayerId[n.parent?.uid]:null;if(s.parent=this._activeLayerInfosByLayerViewId[o?.uid],!this.hasHandles(i)){const a=[me(()=>n.title,l=>this._titleHandle(l,s)),me(()=>[n.opacity,"renderer"in n&&n.renderer,"pointSymbol"in n&&n.pointSymbol,"lineSymbol"in n&&n.lineSymbol,"polygonSymbol"in n&&n.polygonSymbol],()=>this._constructLegendElements(s)),sr(()=>this.view?.stationary===!0,()=>this._scaleHandle(s),mt),me(()=>t.layer?zj(t.layer,t.view):null,()=>this._constructLegendElements(s)),me(()=>t.updating,()=>{t.layer!=null&&zj(t.layer,t.view)!=null&&this._constructLegendElements(s)}),me(()=>"effect"in n&&n.effect,()=>this._constructLegendElements(s)),sr(()=>this.view?.timeZone,()=>this._constructLegendElements(s),mt)];if(this.respectLayerVisibility){const l=me(()=>t.legendEnabled,h=>this._legendEnabledHandle(h,s)),c=me(()=>n.legendEnabled,h=>this._legendEnabledHandle(h,s));a.push(l,c)}if(this.respectLayerDefinitionExpression&&"definitionExpression"in n){const l=me(()=>[n.definitionExpression,this.respectLayerDefinitionExpression],()=>{s.respectLayerDefinitionExpression=this.respectLayerDefinitionExpression,this._constructLegendElements(s)});a.push(l)}this.addHandles(a,i)}s.isScaleDriven||this._constructLegendElements(s),this._addActiveLayerInfo(s)}_titleHandle(t,n){n.title=t,this._constructLegendElements(n)}_legendEnabledHandle(t,n){t?this._addActiveLayerInfo(n):this._removeActiveLayerInfo(n)}_scaleHandle(t){(t.isScaleDriven||t.hideLayersNotInCurrentView)&&this._constructLegendElements(t)}_addActiveLayerInfo(t){const{layerView:n,layer:i}=t;if(this._isLayerActive(n)&&!this.activeLayerInfos.includes(t)){const r=t.parent;if(r)r.children.includes(t)||r.children.push(t),this._sortActiveLayerInfos(r.children);else{const s=this.layerInfos?.some(a=>a.layer.uid===i.uid),o=i.parent;o&&"uid"in o&&this._layerViewByLayerId[o.uid]&&!s?this._activeLayerInfosWithNoParent.add(t):(this.activeLayerInfos.add(t),this._sortActiveLayerInfos(this.activeLayerInfos))}if(this._activeLayerInfosWithNoParent.length){const s=[];this._activeLayerInfosWithNoParent.forEach(o=>{const a=o.layer.parent,l=a&&"uid"in a?this._layerViewByLayerId[a?.uid]:null,c=this._activeLayerInfosByLayerViewId[l?.uid];c&&(s.push(o),o.parent=c)}),s.length&&(this._activeLayerInfosWithNoParent.removeMany(s),s.forEach(o=>this._addActiveLayerInfo(o)))}}}_removeActiveLayerInfo(t){const n=t.parent;n?n.children.remove(t):this.activeLayerInfos.remove(t)}_constructLegendElements(t){const n=t.layer;"featureCollections"in n&&n.featureCollections?t.buildLegendElementsForFeatureCollections(n.featureCollections):"featureReduction"in n&&n.featureReduction&&"renderer"in n.featureReduction&&(n.featureReduction.type==="binning"||n.featureReduction.type==="cluster")&&(!this.view||n.featureReduction.maxScale<=this.view.scale)?t.buildLegendElementsForFeatureReduction(n.featureReduction):"renderer"in n&&n.renderer&&!("sublayers"in n)?t.buildLegendElementsForRenderer(n.renderer):"url"in n&&n.url&&n.type!=="catalog"&&n.type!=="knowledge-graph"?t.buildLegendElementsForTools():t.children.forEach(i=>this._constructLegendElements(i))}};u([d({type:aee})],ls.prototype,"activeLayerInfos",void 0),u([d()],ls.prototype,"basemapLegendVisible",void 0),u([d()],ls.prototype,"groundLegendVisible",void 0),u([d()],ls.prototype,"hideLayersNotInCurrentView",void 0),u([d()],ls.prototype,"keepCacheOnDestroy",void 0),u([d()],ls.prototype,"respectLayerDefinitionExpression",void 0),u([d()],ls.prototype,"respectLayerVisibility",void 0),u([d()],ls.prototype,"layerInfos",void 0),u([d({readOnly:!0})],ls.prototype,"state",null),u([d()],ls.prototype,"view",void 0),ls=u([k("esri.widgets.Legend.LegendViewModel")],ls);const E4e=ls,Et="esri-legend--card",Zy="esri-legend",Ue={base:Et,stacked:`${Zy}--stacked`,carouselTitle:`${Et}__carousel-title`,intervalSeparator:`${Et}__interval-separator`,imageryLayerStretchedImage:`${Et}__imagery-layer-image--stretched`,imageLabel:`${Et}__image-label`,layerCaption:`${Et}__layer-caption`,labelElement:`${Et}__label-element`,layerRow:`${Et}__layer-row`,labelCell:`${Et}__label-cell`,message:`${Et}__message`,rampLabel:`${Et}__ramp-label`,section:`${Et}__section`,serviceCaptionText:`${Et}__service-caption-text`,serviceContent:`${Et}__service-content`,service:`${Et}__service`,groupLayer:`${Et}__group-layer`,groupLayerChild:`${Et}__group-layer-child`,symbol:`${Et}__symbol`,sizeRampRow:`${Et}__size-ramp-row`,symbolRow:`${Et}__symbol-row`,symbolCell:`${Et}__symbol-cell`,carousel:`${Et}__carousel`,carouselItem:`${Et}__carousel-item`,intervalSeparatorsContainer:`${Et}__interval-separators-container`,relationshipLabelContainer:`${Et}__relationship-label-container`,labelContainer:`${Et}__label-container`,serviceCaptionContainer:`${Et}__service-caption-container`,symbolContainer:`${Et}__symbol-container`,colorRampContainer:`${Et}__color-ramp-container`,sizeRampContainer:`${Et}__size-ramp-container`,sizeRampPreview:`${Et}__size-ramp-preview`,pieChartRampPreview:`${Et}__pie-chart-ramp-preview`,sizeRampHorizontal:`${Zy}__size-ramp--horizontal`,rampLabelsContainer:`${Zy}__ramp-labels`,layerInfo:`${Zy}__layer-cell ${Zy}__layer-cell--info`,univariateAboveAndBelowColorRamp:"esri-univariate-above-and-below-ramp__color--card"};function I4e(e,t){return t}function Yn(e){const t=this;e.appendChild(t)}function zm(e,t,n){if(!t)return;if(typeof t=="number")return t;if(typeof t=="string")return Ice(t);if("value"in t||"unit"in t)return g0(e.dotValue,t);if("colorName"in t&&"bandName"in t)return e[t.colorName]+": "+(e[t.bandName]||t.bandName);if("showCount"in t)return t.showCount?e.clusterCountTitle:void 0;let i=null;return I4e(t,n)?i=t.ratioPercentTotal?"showRatioPercentTotal":t.ratioPercent?"showRatioPercent":t.ratio?"showRatio":t.normField?"showNormField":t.field?"showField":null:dee(t,n)&&(i=t.normField?"showNormField":t.normByPct?"showNormPct":t.field?"showField":null),i?g0(i==="showField"?"{field}":e[i],{field:t.field,normField:t.normField}):void 0}function dee(e,t){return!t}function hee(e,t){return!!(t&&t==="Stretched"&&"version"in e&&typeof e.version=="number"&&e.version>=10.3&&e.declaredClass==="esri.layers.ImageryLayer")}function C4e(e,t){return e.label?t[e.label]+": "+(typeof e.value=="string"?e.value:Bh(e.value??0,{style:"decimal",notation:e.value?.toString().toLowerCase().includes("e")?"scientific":"standard"})):""}function pee(e,t,n){switch(t){case"heatmap-ramp":return n[e.label]||e.label;case"stretch-ramp":return C4e(e,n);default:return e.label}}function fee(e,t){if(!e.title||typeof e.title=="string")return e.title;const n=e.type==="color-ramp"||e.type==="opacity-ramp",i=e.title,r=zm(t,i,n);return dee(i,n)&&i.title?`${i.title} (${r})`:r}const M4e=25,k4e=25,A4e=100;let zd=class extends jn{constructor(t,n){super(t,n),this.effectList=null,this.legendElement=null,this.opacity=1}render(){const t=this.legendElement.infos.slice().reverse();return N("div",{class:this.classes(Ue.layerRow,Ue.colorRampContainer)},this._renderRampLabel(t[0]),N("div",{class:Ue.symbolContainer},this._renderPreview(t),this._renderMiddleStopRampLabel(t)),this._renderRampLabel(t.at(-1)))}_renderPreview(t){const{opacity:n}=this,i=this.legendElement.type==="heatmap-ramp",r=t.length-1,s=k4e,o=r>2&&!i?M4e*r:A4e,a=o+20,l=10,c=[[{shape:{type:"path",path:`M0 ${s/2} L${l} 0 L${l} ${s} Z`},fill:t[0].color,stroke:{width:0}},{shape:{type:"rect",x:l,y:0,width:o,height:s},fill:{type:"linear",x1:l,y1:0,x2:o+l,y2:0,colors:t.map((m,y)=>({color:m.color,offset:i&&"ratio"in m?m.ratio:y/r}))},stroke:{width:0}},{shape:{type:"path",path:`M${o+l} 0 L${a} ${s/2} L${o+l} ${s} Z`},fill:t[t.length-1].color,stroke:{width:0}}]],h=IQ(c,a,s),p={filter:Ob(this.effectList)??void 0,opacity:n==null?void 0:`${n}`};return N("div",{styles:p},h)}_renderMiddleStopRampLabel(t){const n=t.length%2!=0?t[t.length/2|0]:null;return n?N("div",{class:Ue.intervalSeparatorsContainer},N("div",{class:Ue.intervalSeparator},"|"),this._renderRampLabel(n)):null}_renderRampLabel(t){return N("div",{class:Ue.rampLabel},pee(t,this.legendElement.type,this.messages))}};u([d()],zd.prototype,"effectList",void 0),u([d()],zd.prototype,"legendElement",void 0),u([d()],zd.prototype,"messages",void 0),u([d()],zd.prototype,"opacity",void 0),zd=u([k("esri.widgets.Legend.styles.card.ColorRamp")],zd);const P4e=zd,L4e="#ddd",jp=window.devicePixelRatio;function O4e(e){if(!e)return;if(e.type.includes("3d")){if(!e.symbolLayers?.length)return;const n=e.symbolLayers.at(-1),i=n.resource?.primitive;return i==="circle"||i==="cross"||i==="kite"||i==="sphere"||i==="cube"||i==="diamond"}const t=e.style;return t==="circle"||t==="diamond"||t==="cross"}function R4e(e){if(e){if(e.type.includes("3d")){if(!e.symbolLayers?.length)return;const t=e.symbolLayers.at(-1),n=t?.resource?.primitive;return n==="triangle"||n==="cone"||n==="tetrahedron"}return e.style==="triangle"}}let Bd=class extends jn{constructor(t,n){super(t,n),this.hasIndicators=!1,this.legendElement=null,this.opacity=1}render(){const{legendElement:t,hasIndicators:n,opacity:i}=this,r=t.infos,{label:s,...o}=r.at(0),{label:a,...l}=r.at(-1);let c=o.preview,h=l.preview;const p={"flex-direction":n?"column":"row-reverse"};c&&(c=c.cloneNode(!0),c.style.display="flex"),h&&(h=h.cloneNode(!0),h.style.display="flex");const m={opacity:i!=null?`${i}`:""};return N("div",{class:this.classes(Ue.layerRow,{[Ue.sizeRampRow]:n})},N("div",{class:Ue.rampLabel},n?s:a),N("div",{class:Ue.sizeRampContainer,styles:p},N("div",{afterCreate:Yn,bind:c,class:Ue.sizeRampPreview,styles:m}),this._renderSizeRampLines(t),N("div",{afterCreate:Yn,bind:h,class:Ue.sizeRampContainer,styles:m})),N("div",{class:Ue.rampLabel},n?a:s))}_renderSizeRampLines(t){const n=t.infos,i=n[0],r=n.at(-1),s=i.symbol,o=this.hasIndicators,a=pn(i.size+i.outlineSize)*jp,l=pn(r.size+r.outlineSize)*jp,c=o?a:a+50*jp,h=o?a/2+50*jp:a,p=R4e(s),m=O4e(s),y=document.createElement("canvas");y.width=c,y.height=h,y.style.width=y.width/jp+"px",y.style.height=y.height/jp+"px";const g=y.getContext("2d");if(o){g.beginPath();const v=0,b=0,w=c/2-l/2,S=h;g.moveTo(v,b),g.lineTo(w,S);const x=c,E=0,$=c/2+l/2,I=h;g.moveTo(x,E),g.lineTo($,I)}else{g.beginPath();const v=0,b=h/2-l/2,w=c;g.moveTo(v,b),g.lineTo(w,0);const x=0,E=h/2+l/2,$=c,I=h;g.moveTo(x,E),g.lineTo($,I)}return g.strokeStyle=L4e,g.stroke(),N("div",{afterCreate:Yn,bind:y,styles:o?{display:"flex",marginTop:`-${p?0:m?a/2:0}px`,marginBottom:`-${p?l:m?l/2:0}px`}:{display:"flex",marginRight:`-${p?0:m?a/2:0}px`,marginLeft:`-${p?0:m?l/2:0}px`}})}};u([d()],Bd.prototype,"hasIndicators",void 0),u([d()],Bd.prototype,"legendElement",void 0),u([d()],Bd.prototype,"messages",void 0),u([d()],Bd.prototype,"opacity",void 0),Bd=u([k("esri.widgets.Legend.styles.card.SizeRamp")],Bd);const N4e=Bd,D4e=OS(),mee=10,eR=20,o$=10,tR=20,nR={univariateAboveAndBelowSymbol:"esri-univariate-above-and-below-ramp__symbol",colorRamp:"esri-legend__color-ramp"};function V4e(e="vertical"){const t="stroke:rgb(200, 200, 200);stroke-width:1";return e==="vertical"?N("svg",{height:"4",width:"10"},N("line",{style:t,x1:"0",x2:"10",y1:"2",y2:"2"})):N("svg",{height:"10",width:"10"},N("line",{style:t,x1:"5",x2:"5",y1:"0",y2:"10"}))}function F4e(e,t="vertical"){const n=document.createElement("div");return n.style.height=`${eR}px`,n.className=nR.univariateAboveAndBelowSymbol,e!=null&&(n.style.opacity=e.toString()),D4e.append(n,V4e.bind(null,t)),n}function yee(e,t,n="vertical",i){e.infos.forEach((r,s)=>{if(i&&s===2)r.preview=F4e(t,n);else{const o=pn(r.size)+(n==="horizontal"?tR:o$),a=r.preview,l=a?.tagName.toLowerCase()==="div",c=l?a:document.createElement("div");c.className=nR.univariateAboveAndBelowSymbol,n==="horizontal"?c.style.width=`${o}px`:c.style.height=`${o}px`,!l&&a&&c.appendChild(a),r.preview=c}})}function a$(e,t="classic"){const n=e.infos;return t==="classic"?(pn(n[0].size)+o$)/2:(pn(n[0].size)-pn(n[n.length-1].size))/2}function Bm(e,t){if(!e)return null;const n=e.infos.map(r=>r.color),i=Vd(t.type==="full"?n:t.type==="above"?n.slice(0,3):n.slice(2,5),{width:t.width,height:t.height,align:t.rampAlignment,effectList:t.effectList,ariaLabel:t.ariaLabel});return i.className=nR.colorRamp,t.opacity!=null&&(i.style.opacity=t.opacity.toString()),i}function iR(e,t,n,i="vertical"){let r=0;const s=e.infos,o=Math.floor(s.length/2),a=t==="full"||t==="above"?0:o,l=t==="full"||t==="below"?s.length-1:o;for(let c=a;c<=l;c++)n&&c===o?r+=i==="horizontal"?mee:eR:r+=pn(s[c].size)+(i==="horizontal"?tR:o$);return Math.round(r)}function Um(e,t,n,i="vertical"){const r=iR(e,t,n,i),s=e.infos,o=Math.floor(s.length/2),a=t==="full"||t==="above"?0:o,l=t==="full"||t==="below"?s.length-1:o,c=t==="full"?s[a].size+s[l].size:t==="above"?s[a].size:s[l].size,h=n?i==="vertical"?eR:mee:0,p=i==="vertical"?o$*(t==="full"?2:1):tR*(t==="full"?2:1);return Math.round(r-(pn(c)/2+h/2+p/2))}function gee(e,t,n="vertical"){const i=e.infos;let r=i.find(({type:o})=>o==="size-ramp"),s=i.find(({type:o})=>o==="color-ramp");return r&&(r={...r},r.infos=[...r.infos],yee(r,t,n,!0)),s&&(s={...s},s.infos=[...s.infos]),n==="horizontal"&&(r?.infos.reverse(),s?.infos.reverse()),{sizeRampElement:r,colorRampElement:s}}function vee(e,t="vertical"){const n=e.infos;let i=n.find(({type:s})=>s==="size-ramp"),r=n.find(({type:s})=>s==="color-ramp");return i&&(i={...i},i.infos=[...i.infos],yee(i,null,t,!1)),r&&(r={...r},r.infos=[...r.infos]),t==="horizontal"&&(i?.infos.reverse(),r?.infos.reverse()),{sizeRampElement:i,colorRampElement:r}}const BA={marginLeft:"3px"},qf={display:"table-cell",verticalAlign:"middle"},bee={display:"flex",alignItems:"flex-start"};let Ud=class extends jn{constructor(t,n){super(t,n),this.effectList=null,this.legendElement=null,this.opacity=1}render(){const{legendElement:t,opacity:n,effectList:i,key:r}=this,{sizeRampElement:s,colorRampElement:o}=gee(t,n,"horizontal");if(!s)return null;const a=iR(s,"full",!0,"horizontal"),l=Um(s,"above",!0,"horizontal"),c=Um(s,"below",!0,"horizontal"),h=12,p=this.messages?.previewColorRampAriaLabel,m=Bm(o,{width:l,height:h,rampAlignment:"horizontal",opacity:n,type:"above",effectList:i,ariaLabel:p}),y=Bm(o,{width:c,height:h,rampAlignment:"horizontal",opacity:n,type:"below",effectList:i,ariaLabel:p}),g=a$(s,"card"),v=s.infos.map(I=>I.label),b=v.length-1,w=v.map((I,A)=>A===0||A===b?N("div",{key:A},I):null),S={display:"flex",flexDirection:"column"},x={display:"flex",flexDirection:"row"},E={marginTop:"3px",display:"flex"};Ux(this.container)?E.marginRight=`${g}px`:E.marginLeft=`${g}px`;const $={width:`${a}px`,display:"flex",flexDirection:"row",justifyContent:"space-between"};return N("div",{class:Ue.layerRow,key:`${r}-container`,styles:S},N("div",{class:this.classes(Ue.symbolContainer,Ue.sizeRampHorizontal),styles:x},s.infos.map((I,A)=>N("div",{afterCreate:Yn,bind:I.preview,class:Ue.symbol,key:A}))),m?N("div",{class:Ue.univariateAboveAndBelowColorRamp,key:"color-ramp-preview",styles:E},N("div",{afterCreate:Yn,bind:m}),N("div",{afterCreate:Yn,bind:y})):null,N("div",{class:Ue.layerInfo},N("div",{class:Ue.rampLabelsContainer,styles:$},w)))}};u([d()],Ud.prototype,"effectList",void 0),u([d()],Ud.prototype,"legendElement",void 0),u([d()],Ud.prototype,"messages",void 0),u([d()],Ud.prototype,"opacity",void 0),Ud=u([k("esri.widgets.Legend.styles.card.UnivariateAboveAndBelowRamp")],Ud);const j4e=Ud;let Gd=class extends jn{constructor(t,n){super(t,n),this.effectList=null,this.legendElement=null,this.opacity=1}render(){const{legendElement:t,opacity:n,effectList:i,key:r}=this,{sizeRampElement:s,colorRampElement:o}=vee(t,"horizontal");if(!s)return null;const a=iR(s,"full",!1,"horizontal"),l=Um(s,"full",!1,"horizontal"),c=Bm(o,{width:l,height:12,rampAlignment:"horizontal",opacity:n,type:"full",effectList:i,ariaLabel:this.messages?.previewColorRampAriaLabel}),h=a$(s,"card"),p=s.infos.length-1,m=s.infos.map((w,S)=>S===0||S===p?N("div",{key:S},w.label):null),y={display:"flex",flexDirection:"column"},g={display:"flex",flexDirection:"row"},v={marginTop:"3px",display:"flex"};Ux(this.container)?v.marginRight=`${h}px`:v.marginLeft=`${h}px`;const b={width:`${a}px`,display:"flex",flexDirection:"row",justifyContent:"space-between"};return N("div",{class:Ue.layerRow,key:`${r}-container`,styles:y},N("div",{class:this.classes(Ue.symbolContainer,Ue.sizeRampHorizontal),styles:g},s.infos.map((w,S)=>N("div",{afterCreate:Yn,bind:w.preview,class:Ue.symbol,key:S}))),N("div",{class:Ue.univariateAboveAndBelowColorRamp,key:"color-ramp-preview",styles:v},N("div",{afterCreate:Yn,bind:c})),N("div",{class:Ue.layerInfo},N("div",{class:Ue.rampLabelsContainer,styles:b},m)))}};u([d()],Gd.prototype,"effectList",void 0),u([d()],Gd.prototype,"legendElement",void 0),u([d()],Gd.prototype,"messages",void 0),u([d()],Gd.prototype,"opacity",void 0),Gd=u([k("esri.widgets.Legend.styles.card.UnivariateColorSizeRamp")],Gd);const z4e=Gd;function $_({level:e,class:t,...n},i){const r=wee(e);return N(`h${r}`,{...n,"aria-level":String(r),class:jf(Zn.heading,t),role:"heading"},i)}function wee(e){return ws(Math.ceil(e),1,6)}function B4e(e,t=1){return wee(e+t)}var UA;let Mo=UA=class extends jn{constructor(e,t){super(e,t),this.effectList=null,this.hasIndicators=!1,this.headingLevel=3,this.isChild=!1,this.legendElement=null}render(){const e=this._renderLegendElement(),t=fee(this.legendElement,this.messages),n=this.hasIndicators&&!this.isChild?N("div",null,N($_,{class:Ue.carouselTitle,level:this.headingLevel},this.activeLayerInfo.title),N($_,{class:Ue.layerCaption,level:B4e(this.headingLevel)},t)):t?N($_,{class:Ue.layerCaption,level:this.headingLevel},t):null;return N("section",{"aria-labelledby":this.key,class:Ue.section,id:`${this.key}-panel`,key:this.key,role:"tabpanel",tabIndex:0},n,e)}_renderLegendElement(){switch(this.legendElement.type){case"symbol-table":return this._renderSymbolTable(this.legendElement);case"size-ramp":return N(N4e,{hasIndicators:this.hasIndicators,key:this.key,legendElement:this.legendElement,messages:this.messages,opacity:this.layer.opacity});case"color-ramp":case"opacity-ramp":case"heatmap-ramp":case"stretch-ramp":return N(P4e,{effectList:this.effectList,key:this.key,legendElement:this.legendElement,messages:this.messages,opacity:this.layer.opacity});case"relationship-ramp":return AQ(this.legendElement,this.id,{opacity:this.layer.opacity,effectList:this.effectList,ariaLabel:this.messages.previewRelationshipRampAriaLabel,key:this.key});case"pie-chart-ramp":return N("div",{afterCreate:Yn,bind:this.legendElement.preview,class:Ue.pieChartRampPreview,key:`${this.key}-preview`});case"univariate-above-and-below-ramp":return N(j4e,{effectList:this.effectList,key:this.key,legendElement:this.legendElement,messages:this.messages,opacity:this.layer.opacity});case"univariate-color-size-ramp":return N(z4e,{effectList:this.effectList,key:this.key,legendElement:this.legendElement,messages:this.messages,opacity:this.layer.opacity});default:return null}}_renderSymbolTable(e){const t=e.infos.map(s=>this._renderElementInfo(s,e.legendType)).filter(Boolean);if(!t.length)return null;const n=this.activeLayerInfo.legendElements.some(({type:s})=>s==="relationship-ramp"),i=t[0]?.properties?.classes?.[Ue.symbolRow],r={[Ue.labelContainer]:!i&&!n,[Ue.relationshipLabelContainer]:n};return N("div",{class:this.classes(r)},t)}_renderElementInfo(e,t){const{layer:n}=this,i="label"in e?e.label:null,r=`${this.key}-${i}`;if("type"in e&&e.type)return N(UA,{activeLayerInfo:this.activeLayerInfo,effectList:this.effectList,hasIndicators:this.hasIndicators,headingLevel:this.headingLevel,isChild:!0,key:r,layer:n,legendElement:e,messages:this.messages});if(!("preview"in e&&e.preview||"src"in e&&e.src))return null;const s=hee(n,t),o=zm(this.messages,i,!1)||"";if("src"in e&&e.src)return N("div",{class:Ue.layerRow,key:`${r}-row`},this._renderImage(e,n,s),N("div",{class:Ue.imageLabel},o));if("symbol"in e&&e.preview){if(!e.symbol?.type.includes("simple-fill")){if(!e.label)return N("div",{afterCreate:Yn,bind:e.preview,key:`${r}-row`});const a={[Ue.symbolCell]:this.hasIndicators};return N("div",{class:this.classes(Ue.layerRow,{[Ue.symbolRow]:this.hasIndicators}),key:`${r}-row`},N("div",{afterCreate:Yn,bind:e.preview,class:this.classes(a)}),N("div",{class:this.classes(Ue.imageLabel,{[Ue.labelCell]:this.hasIndicators})},o))}return N("div",{class:Ue.layerRow,key:`${r}-row`},N("div",{class:Ue.labelElement,styles:this._getBackgroundStyles(e)},o))}return null}_getBackgroundStyles(e){const t=e.symbol,n=t.color,i=!!n?.a,r="outline"in t?t.outline:null,s=!!r?.color?.a,o=new he(i&&n?[n.r,n.g,n.b,n.a*this.layer.opacity]:[255,255,255,0]),a=s&&r.color?new he([r.color.r,r.color.g,r.color.b,r.color.a*this.layer.opacity]):new he([255,255,255,0]),l=e.symbol.color?.isBright??!0,c=l?"black":"white",h=l?"rgba(255, 255, 255, .6)":"rgba(0, 0, 0, .6)";return{background:i?o.toCss(!0):"none",color:c,textShadow:`-1px -1px 0 ${h},
                  1px -1px 0 ${h},
                  -1px 1px 0 ${h},
                  1px 1px 0 ${h}`,border:s?`1px solid ${a.toCss(!0)}`:"none",filter:Ob(this.effectList)??void 0}}_renderImage(e,t,n){const{label:i,src:r,opacity:s}=e,o={[Ue.imageryLayerStretchedImage]:n,[Ue.symbol]:!n},a={opacity:`${s??t.opacity}`},l=zm(this.messages,i,!1);return N("img",{alt:l,"aria-label":l,border:0,class:this.classes(o),height:e.height,src:r,styles:a,width:e.width})}};u([d()],Mo.prototype,"activeLayerInfo",void 0),u([d()],Mo.prototype,"effectList",void 0),u([d()],Mo.prototype,"hasIndicators",void 0),u([d()],Mo.prototype,"headingLevel",void 0),u([d()],Mo.prototype,"isChild",void 0),u([d()],Mo.prototype,"layer",void 0),u([d()],Mo.prototype,"legendElement",void 0),u([d()],Mo.prototype,"messages",void 0),Mo=UA=u([k("esri.widgets.Legend.styles.card.LegendElement")],Mo);const p8=Mo,U4e=768;let pa=class extends jn{constructor(e,t){super(e,t),this._hasIndicators=!1,this.activeLayerInfos=null,this.headingLevel=3,this.layout="stack",this.messages=null,this.messagesCommon=null,this.type="card",this.view=null}loadDependencies(){return hp({carousel:()=>J(()=>import("./index-CU5DbpTI.js"),__vite__mapDeps([337,288,289,286,290,3,324,291,294,296,309,287])),"carousel-item":()=>J(()=>import("./index-a2L6Wguo.js"),__vite__mapDeps([338,286,3]))})}render(){this._hasIndicators=this.layout==="auto"&&this.view&&this.view.container.clientWidth<=U4e||this.layout==="stack";const e=this._hasIndicators?this._renderCarousel():this._renderLayers(),t={[Ue.stacked]:this._hasIndicators};return N("div",{class:this.classes(Ue.base,t)},e||N("div",{class:Ue.message},this.messages.noLegend))}_renderCarousel(){const e=[],t=this.activeLayerInfos;if(t)for(const n of t)this._renderSections(n,e);return e?.length?N("calcite-carousel",{class:Ue.carousel,label:this.messages.carousel},e.map((n,i)=>N("calcite-carousel-item",{class:Ue.carouselItem,key:i,label:g0(this.messagesCommon.pagination.pageText,{index:i+1,total:e.length})},n))):null}_renderLayers(){const e=this.activeLayerInfos,t=e?.toArray()?.map(n=>this._renderLegendForLayer(n)).filter(Boolean);return t?.length?t:null}_renderLegendForLayer(e){if(!e.ready)return null;if(e.children.length){const t=e.children.toArray().map(this._renderLegendForLayer,this);return N("section",{class:this.classes(Ue.service,Ue.groupLayer),key:e.layer.uid},N("div",{class:Ue.serviceCaptionContainer},e.title),t)}return this._renderLegendElementsForLayer(e)}_renderLegendElementsForLayer(e){const t=e.legendElements?.filter(Boolean);if(!t?.length)return null;const n=t.map(r=>N(p8,{activeLayerInfo:e,effectList:e.effectList,hasIndicators:this._hasIndicators,headingLevel:this.headingLevel,isChild:!1,key:`${e.layer.uid}-${r.type}`,layer:e.layer,legendElement:r,messages:this.messages})),i={[Ue.groupLayerChild]:!!e.parent};return N("section",{class:this.classes(Ue.service,i),key:e.layer.uid},N("div",{class:Ue.serviceCaptionContainer},N("div",{class:Ue.serviceCaptionText},e.title)),N("div",{class:Ue.serviceContent},n))}_renderSections(e,t){if(!e.ready)return;if(e.children.length)for(const i of e.children)this._renderSections(i,t);const n=e.legendElements;if(n?.length)for(const i of n){const r=N(p8,{activeLayerInfo:e,effectList:e.effectList,hasIndicators:this._hasIndicators,headingLevel:this.headingLevel,isChild:!1,key:`${e.layer.uid}-${i.type}`,layer:e.layer,legendElement:i,messages:this.messages});r&&t.push(r)}}};u([d()],pa.prototype,"activeLayerInfos",void 0),u([d()],pa.prototype,"headingLevel",void 0),u([d()],pa.prototype,"layout",void 0),u([d(),Xs("esri/widgets/Legend/t9n/Legend")],pa.prototype,"messages",void 0),u([d(),Xs("esri/t9n/common")],pa.prototype,"messagesCommon",void 0),u([d({readOnly:!0})],pa.prototype,"type",void 0),u([d()],pa.prototype,"view",void 0),pa=u([k("esri.widgets.Legend.styles.card.CardView")],pa);const dE=pa,qt="esri-legend",qe={service:`${qt}__service`,label:`${qt}__service-label`,layer:`${qt}__layer`,groupLayer:`${qt}__group-layer`,groupLayerChild:`${qt}__group-layer-child`,layerTable:`${qt}__layer-table`,layerTableSizeRamp:`${qt}__layer-table--size-ramp`,layerChildTable:`${qt}__layer-child-table`,layerCaption:`${qt}__layer-caption`,layerBody:`${qt}__layer-body`,layerRow:`${qt}__layer-row`,layerInfo:`${qt}__layer-cell ${qt}__layer-cell--info`,imageryLayerStretchedImage:`${qt}__imagery-layer-image--stretched`,imageryLayerInfoStretched:`${qt}__imagery-layer-info--stretched`,symbolContainer:`${qt}__layer-cell ${qt}__layer-cell--symbols`,symbol:`${qt}__symbol`,rampContainer:`${qt}__ramps`,sizeRamp:`${qt}__size-ramp`,colorRamp:`${qt}__color-ramp`,opacityRamp:`${qt}__opacity-ramp`,rampLabelsContainer:`${qt}__ramp-labels`,rampLabel:`${qt}__ramp-label`,message:`${qt}__message`,univariateAboveAndBelowLabel:"esri-univariate-above-and-below-ramp__label"},G4e=24;let Hd=class extends jn{constructor(e,t){super(e,t),this.legendElement=null,this.opacity=1}get _preview(){const e=this.legendElement.preview;if(!e)return null;const t=this.legendElement.type==="opacity-ramp"?qe.opacityRamp:"";return e.className=`${qe.colorRamp} ${t}`,this.opacity!=null&&(e.style.opacity=this.opacity.toString()),e}render(){const{legendElement:e,_preview:t}=this;if(!t)return null;const n={width:`${G4e}px`},i={height:t.style.height};return N("div",{class:qe.layerRow,key:`${this.key}-row`},N("div",{class:qe.symbolContainer,styles:n},N("div",{afterCreate:Yn,bind:t,class:qe.rampContainer})),N("div",{class:qe.layerInfo},N("div",{class:qe.rampLabelsContainer,styles:i},e.infos.map((r,s)=>this._renderRampLabel(r,s,e.type)))))}_renderRampLabel(e,t,n){return N("div",{class:e.label?qe.rampLabel:void 0,key:`${this.key}-stop-${e.label??t}-label`},pee(e,n,this.messages))}};u([d()],Hd.prototype,"_preview",null),u([d()],Hd.prototype,"legendElement",void 0),u([d()],Hd.prototype,"messages",void 0),u([d()],Hd.prototype,"opacity",void 0),Hd=u([k("esri.widgets.Legend.styles.classic.ColorRamp")],Hd);const H4e=Hd;let uv=class extends jn{constructor(e,t){super(e,t),this.legendElement=null}render(){const e=this.legendElement.infos.map(t=>this._renderRow(t)).filter(Boolean);return e.length?N("div",{class:qe.layerBody},e):null}_renderRow(e){return e.preview?N("div",{class:qe.layerRow,key:`${this.key}-${e.label}-row`},N("div",{class:this.classes(qe.symbolContainer,qe.sizeRamp)},N("div",{afterCreate:Yn,bind:e.preview,class:qe.symbol})),N("div",{class:qe.layerInfo},zm(this.messages,e.label,!1)||"")):null}};u([d()],uv.prototype,"legendElement",void 0),u([d()],uv.prototype,"messages",void 0),uv=u([k("esri.widgets.Legend.styles.classic.SizeRamp")],uv);const q4e=uv;let qd=class extends jn{constructor(e,t){super(e,t),this.effectList=null,this.legendElement=null,this.opacity=1}render(){const{legendElement:e,opacity:t,effectList:n,key:i}=this,{sizeRampElement:r,colorRampElement:s}=gee(e,t);if(!r)return null;const o=this.messages.previewColorRampAriaLabel,a=Um(r,"above",!0),l=Um(r,"below",!0),c=12,h=Bm(s,{width:c,height:a,rampAlignment:"vertical",opacity:t,type:"above",effectList:n,ariaLabel:o}),p=Bm(s,{width:c,height:l,rampAlignment:"vertical",opacity:t,type:"below",effectList:n,ariaLabel:o}),m=a$(r),y=r.infos.map(I=>I.label),g=y.map((I,A)=>A===0?N("div",{class:I?h?qe.univariateAboveAndBelowLabel:qe.rampLabel:void 0,key:`${i}-color-ramp-above-label-${I??A}`},I):A===2?N("div",null):null),v=y.length-1,b=Math.floor(y.length/2),w=y.map((I,A)=>A===b||A===v?N("div",{class:I?h?qe.univariateAboveAndBelowLabel:qe.rampLabel:void 0,key:`${i}-color-ramp-below-label-${I??A}`},I):null),S={display:"table-cell",verticalAlign:"middle"},x={marginTop:`${m}px`},E={height:`${a}px`},$={height:`${l}px`};return N("div",{key:`${i}-container`,styles:bee},N("div",{class:qe.layerBody},r.infos.map((I,A)=>N("div",{class:this.classes(qe.layerRow,qe.sizeRamp),key:`${i}-row-${A}`},N("div",{afterCreate:Yn,bind:I.preview,class:qe.symbol,styles:S}),h||A%2!=0?null:N("div",{class:qe.layerInfo},y[A])))),h?N("div",{styles:x},N("div",{styles:BA},N("div",{styles:qf},N("div",{afterCreate:Yn,bind:h,class:qe.rampContainer})),N("div",{styles:qf},N("div",{class:qe.rampLabelsContainer,styles:E},g))),N("div",{styles:BA},N("div",{styles:qf},N("div",{afterCreate:Yn,bind:p,class:qe.rampContainer})),N("div",{styles:qf},N("div",{class:qe.rampLabelsContainer,styles:$},w)))):null)}};u([d()],qd.prototype,"effectList",void 0),u([d()],qd.prototype,"legendElement",void 0),u([d()],qd.prototype,"messages",void 0),u([d()],qd.prototype,"opacity",void 0),qd=u([k("esri.widgets.Legend.styles.classic.UnivariateAboveAndBelowRamp")],qd);const W4e=qd;let Wd=class extends jn{constructor(t,n){super(t,n),this.effectList=null,this.legendElement=null,this.opacity=1}render(){const{legendElement:t,opacity:n,effectList:i,key:r}=this,{sizeRampElement:s,colorRampElement:o}=vee(t);if(!s)return null;const a=a$(s),l=12,c=Um(s,"full",!1),h=Bm(o,{width:l,height:c,rampAlignment:"vertical",opacity:n,type:"full",effectList:i,ariaLabel:this.messages?.previewColorRampAriaLabel}),p=s.infos.length-1,m=s.infos.map((b,w)=>w===0||w===p?N("div",{class:b.label?o?qe.univariateAboveAndBelowLabel:qe.rampLabel:void 0,key:`${r}-color-ramp-label-${b.label??w}`},b.label):null),y={display:"table-cell",verticalAlign:"middle"},g={marginTop:`${a}px`},v={height:`${c}px`};return N("div",{key:`${r}-container`,styles:bee},N("div",{class:qe.layerBody},s.infos.map((b,w)=>N("div",{class:this.classes(qe.layerRow,qe.sizeRamp),key:`${r}-row-${w}`},N("div",{afterCreate:Yn,bind:b.preview,class:qe.symbol,styles:y})))),N("div",{styles:g},N("div",{styles:BA},N("div",{styles:qf},N("div",{afterCreate:Yn,bind:h,class:qe.rampContainer})),N("div",{styles:qf},N("div",{class:qe.rampLabelsContainer,styles:v},m)))))}};u([d()],Wd.prototype,"effectList",void 0),u([d()],Wd.prototype,"legendElement",void 0),u([d()],Wd.prototype,"messages",void 0),u([d()],Wd.prototype,"opacity",void 0),Wd=u([k("esri.widgets.Legend.styles.classic.UnivariateColorSizeRamp")],Wd);const Z4e=Wd;var GA;let Du=GA=class extends jn{constructor(e,t){super(e,t),this.effectList=null,this.isChild=!1,this.legendElement=null}render(){const e=this._renderLegendElement(),t=fee(this.legendElement,this.messages),n=this.isChild?qe.layerChildTable:qe.layerTable,i=t?N("div",{class:qe.layerCaption},t):null,r={[qe.layerTableSizeRamp]:this.legendElement.type==="size-ramp"||!this.isChild};return N("section",{class:this.classes(n,r),key:`${this.key}-table`},i,e)}_renderLegendElement(){switch(this.legendElement.type){case"symbol-table":return this._renderSymbolTable(this.legendElement);case"size-ramp":return N(q4e,{key:this.key,legendElement:this.legendElement,messages:this.messages});case"color-ramp":case"opacity-ramp":case"heatmap-ramp":case"stretch-ramp":return N(H4e,{key:this.key,legendElement:this.legendElement,messages:this.messages,opacity:this.layer.opacity});case"relationship-ramp":return AQ(this.legendElement,this.id,{opacity:this.layer.opacity,effectList:this.effectList,ariaLabel:this.messages.previewRelationshipRampAriaLabel,key:this.key});case"pie-chart-ramp":return N("div",{afterCreate:Yn,bind:this.legendElement.preview,key:`${this.key}-preview`});case"univariate-above-and-below-ramp":return N(W4e,{effectList:this.effectList,key:this.key,legendElement:this.legendElement,messages:this.messages,opacity:this.layer.opacity});case"univariate-color-size-ramp":return N(Z4e,{effectList:this.effectList,key:this.key,legendElement:this.legendElement,messages:this.messages,opacity:this.layer.opacity});default:return null}}_renderSymbolTable(e){const t=e.infos.map(n=>this._renderElementInfo(n,e.legendType)).filter(Boolean);return t.length?N("div",{class:qe.layerBody},t):null}_renderElementInfo(e,t){const{layer:n}=this,i="label"in e?e.label:null,r=`${this.key}-${i}`;if("type"in e&&e.type)return N(GA,{effectList:this.effectList,isChild:!0,key:r,layer:n,legendElement:e,messages:this.messages});if(!("preview"in e&&e.preview||"src"in e&&e.src))return null;const s=hee(n,t),o={[qe.imageryLayerInfoStretched]:s},a={[qe.imageryLayerInfoStretched]:s};return N("div",{class:qe.layerRow,key:`${r}-row`},N("div",{class:this.classes(qe.symbolContainer,a)},this._renderPreview(e,s)),N("div",{class:this.classes(qe.layerInfo,o)},zm(this.messages,i,!1)||""))}_renderPreview(e,t){const{layer:n}=this;return"preview"in e&&e.preview?N("div",{afterCreate:Yn,bind:e.preview,class:qe.symbol}):"src"in e&&e.src?this._renderImage(e,n,t):null}_renderImage(e,t,n){const{label:i,src:r,opacity:s}=e,o={[qe.imageryLayerStretchedImage]:n,[qe.symbol]:!n},a={opacity:`${s??t.opacity}`},l=zm(this.messages,i,!1);return N("img",{alt:l,"aria-label":l,border:0,class:this.classes(o),height:e.height,src:r,styles:a,width:e.width})}};u([d()],Du.prototype,"effectList",void 0),u([d()],Du.prototype,"isChild",void 0),u([d()],Du.prototype,"layer",void 0),u([d()],Du.prototype,"legendElement",void 0),u([d()],Du.prototype,"messages",void 0),Du=GA=u([k("esri.widgets.Legend.styles.classic.LegendElement")],Du);const Y4e=Du,J4e=`${qt}__`;let Zd=class extends jn{constructor(e,t){super(e,t),this.activeLayerInfos=null,this.headingLevel=3,this.messages=null,this.type="classic"}render(){const e=this.activeLayerInfos,t=e?.toArray().map(n=>this._renderLegendForLayer(n)).filter(Boolean);return t?.length?N("section",null,t):N("div",{class:qe.message,key:"no-legend"},this.messages.noLegend)}_renderLegendForLayer(e,t){if(!e.ready)return null;const n=`${e.layer.uid}-version-${e.version}`,i=`${J4e}${t?`${t}-`:""}${n}`,r=e.title?$_({level:this.headingLevel,class:this.classes(Zn.heading,qe.label)},e.title):null;if(e.children.length){const s=e.children.toArray().map(o=>this._renderLegendForLayer(o,n));return N("section",{class:this.classes(qe.service,qe.groupLayer),key:i},r,s)}return this._renderLegendElementsForLayer(e,r,i)}_renderLegendElementsForLayer(e,t,n){const i=e.legendElements?.filter(Boolean);if(!i?.length)return null;const r=i.map(o=>N(Y4e,{effectList:e.effectList,isChild:!1,key:`${n}-${o.type}`,layer:e.layer,legendElement:o,messages:this.messages})),s={[qe.groupLayerChild]:!!e.parent};return N("section",{class:this.classes(qe.service,s),key:n},t,N("div",{class:qe.layer},r))}};u([d()],Zd.prototype,"activeLayerInfos",void 0),u([d()],Zd.prototype,"headingLevel",void 0),u([d(),Xs("esri/widgets/Legend/t9n/Legend")],Zd.prototype,"messages",void 0),u([d({readOnly:!0})],Zd.prototype,"type",void 0),Zd=u([k("esri.widgets.Legend.styles.classic.ClassicView")],Zd);const zp=Zd,K4e={base:"esri-legend"};let ri=class extends jn{constructor(e,t){super(e,t),this.headingLevel=3,this.messages=null,this.style=new zp,this.viewModel=new E4e}initialize(){this.addHandles([Tr(()=>this.view,"resize",()=>this.scheduleRender()),Tr(()=>this.activeLayerInfos,"change",()=>this._refreshActiveLayerInfos(this.activeLayerInfos)),me(()=>this.headingLevel,e=>{const{style:t}=this;t&&(t.headingLevel=e)}),me(()=>this.style,(e,t)=>{t&&e!==t&&t.destroy(),e&&(e.activeLayerInfos=this.activeLayerInfos,e.type==="card"&&(e.view=this.view),e.headingLevel=this.headingLevel)},mt)])}get activeLayerInfos(){return this.viewModel.activeLayerInfos}set activeLayerInfos(e){this.viewModel.activeLayerInfos=e}get basemapLegendVisible(){return this.viewModel.basemapLegendVisible}set basemapLegendVisible(e){this.viewModel.basemapLegendVisible=e}get groundLegendVisible(){return this.viewModel.groundLegendVisible}set groundLegendVisible(e){this.viewModel.groundLegendVisible=e}get hideLayersNotInCurrentView(){return this.viewModel.hideLayersNotInCurrentView}set hideLayersNotInCurrentView(e){this.viewModel.hideLayersNotInCurrentView=e}get keepCacheOnDestroy(){return this.viewModel.keepCacheOnDestroy}set keepCacheOnDestroy(e){this.viewModel.keepCacheOnDestroy=e}get respectLayerDefinitionExpression(){return this.viewModel.respectLayerDefinitionExpression}set respectLayerDefinitionExpression(e){this.viewModel.respectLayerDefinitionExpression=e}get respectLayerVisibility(){return this.viewModel.respectLayerVisibility}set respectLayerVisibility(e){this.viewModel.respectLayerVisibility=e}get icon(){return"legend"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get layerInfos(){return this.viewModel.layerInfos}set layerInfos(e){this.viewModel.layerInfos=e}castStyle(e){if(e instanceof dE||e instanceof zp)return e;if(typeof e=="string")return e==="card"?new dE:new zp;if(e&&typeof e.type=="string"){const t={...e};return delete t.type,e.type==="card"?new dE(t):new zp(t)}return new zp}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){return N("div",{class:this.classes(K4e.base,Zn.widget,this.style instanceof zp?Zn.panel:null)},this.style.render())}_refreshActiveLayerInfos(e){e.forEach(t=>{this.removeHandles(`version_${t.layer.uid}`),this._renderOnActiveLayerInfoChange(t)}),this.scheduleRender()}_renderOnActiveLayerInfoChange(e){const t=me(()=>e.version,()=>this.scheduleRender());this.addHandles(t,`version_${e.layer.uid}`);const n=Tr(()=>e.children,"change",()=>e.children.forEach(i=>this._renderOnActiveLayerInfoChange(i)),mt);this.addHandles(n,`version_${e.layer.uid}`),e.children.forEach(i=>this._renderOnActiveLayerInfoChange(i))}};u([d()],ri.prototype,"activeLayerInfos",null),u([d()],ri.prototype,"basemapLegendVisible",null),u([d()],ri.prototype,"groundLegendVisible",null),u([d()],ri.prototype,"headingLevel",void 0),u([d()],ri.prototype,"hideLayersNotInCurrentView",null),u([d()],ri.prototype,"keepCacheOnDestroy",null),u([d()],ri.prototype,"respectLayerDefinitionExpression",null),u([d()],ri.prototype,"respectLayerVisibility",null),u([d()],ri.prototype,"icon",null),u([d()],ri.prototype,"label",null),u([d()],ri.prototype,"layerInfos",null),u([d(),Xs("esri/widgets/Legend/t9n/Legend")],ri.prototype,"messages",void 0),u([d()],ri.prototype,"style",void 0),u([pt("style")],ri.prototype,"castStyle",null),u([d()],ri.prototype,"view",null),u([d()],ri.prototype,"viewModel",void 0),ri=u([k("esri.widgets.Legend")],ri);const _ee=ri,X4e=Object.freeze(Object.defineProperty({__proto__:null,default:_ee},Symbol.toStringTag,{value:"Module"})),Nb=(e,t)=>{const n=e.__vccOpts||e;for(const[i,r]of t)n[i]=r;return n},Q4e={name:"MapVue",mounted(){this.initMap()},methods:{initMap(){const e=new kY({basemap:"arcgis/outdoor",layers:this.initLayers()}),t=_te(new RDe({container:"map-view",center:[-51.215,-30.045],zoom:12,map:e}));t.ui.add(this.initExpand(t),"top-left"),t.ui.add(this.initLegend(t),"bottom-left"),this.$store.commit("defineMap",t),this.configureLayerBairro()},initLayers(){const e={title:"Bairro: {bairro}",fontSize:12},t=new Yg({url:"https://arcgis-ope.codexremote.com.br/server/rest/services/Hosted/Camadas_Teste/FeatureServer/4",outFields:["objectid","bairro"],popupTemplate:e,visible:!0,definitionExpression:"1=1"}),n=new Yg({url:"https://arcgis-ope.codexremote.com.br/server/rest/services/Hosted/Camadas_Teste/FeatureServer/2",visible:!1}),i=new Yg({url:"https://arcgis-ope.codexremote.com.br/server/rest/services/Hosted/Camadas_Teste/FeatureServer/3",visible:!1});return[new Yg({url:"https://arcgis-ope.codexremote.com.br/server/rest/services/Hosted/Camadas_Teste/FeatureServer/1",visible:!1}),i,n,t]},initExpand(e){var t=new dVe({view:e}),n=new FDe({view:e,content:t,expanded:!1});return n},initLegend(e){var t=new _ee({view:e});return t},applyFilter(e,t){const n=this.$store.getters.layerBairro,i=`bairro = '${e}'`;n.queryFeatures({where:i,outFields:["objectid","bairro"],returnGeometry:!0}).then(r=>{if(r.features.length>0){const s=r.features[0];this.$store.getters.mapView.goTo(s.geometry.extent),this.$store.getters.mapView.openPopup({features:[s],location:s.geometry.centroid}),this.$store.commit("changeData",{id:s.attributes.objectid,bairro:s.attributes.bairro})}}).catch(r=>{console.error(r)}),t()},configureLayerBairro(){const e=this.$store.getters.mapView,t=this.$store.getters.layerBairro;e.on("click",n=>{e.hitTest(n).then(i=>{const r=i.results[0]?.graphic;r.layer===t?this.$store.commit("changeData",{id:r.attributes.objectid,bairro:r.attributes.bairro}):this.$store.commit("setDrawer",!1)})})}}},e6e={id:"map-view",class:"map-view"};function t6e(e,t,n,i,r,s){return Hm(),ZA("div",e6e)}const n6e=Nb(Q4e,[["render",t6e]]),i6e={name:"HeaderVue",data(){return{titulo:"arcgis geospatial platform"}}};function r6e(e,t,n,i,r,s){const o=Dn("v-app-bar-title"),a=Dn("v-btn"),l=Dn("v-app-bar"),c=Dn("v-layout");return Hm(),YA(c,null,{default:cs(()=>[_(l,{elevation:7,style:{position:"relative"}},{default:cs(()=>[_(o,null,{default:cs(()=>[fs(xa(r.titulo),1)]),_:1}),_(a,{id:"filter-btn",icon:"mdi-filter"}),_(a,{icon:"mdi-menu",onClick:t[0]||(t[0]=h=>this.$store.commit("changeDrawerVisibility"))})]),_:1})]),_:1})}const s6e=Nb(i6e,[["render",r6e]]),o6e={name:"FilterVue",data(){return{statement:"",isActive:!1}},methods:{searchBairro(){this.$emit("searchBairro",this.statement.toUpperCase(),this.closeFilter)},closeFilter(){this.isActive=!1}}};function a6e(e,t,n,i,r,s){const o=Dn("v-card-title"),a=Dn("v-divider"),l=Dn("v-text-field"),c=Dn("v-btn"),h=Dn("v-card-text"),p=Dn("v-card"),m=Dn("v-dialog"),y=Dn("v-layout");return Hm(),YA(y,null,{default:cs(()=>[_(m,{ref:"dialog",activator:"#filter-btn","max-width":"500",modelValue:r.isActive,"onUpdate:modelValue":t[1]||(t[1]=g=>r.isActive=g)},{default:cs(()=>[_(p,{rounded:"lg"},{default:cs(()=>[_(o,{class:"d-flex justify-center pa-4 text-h5"},{default:cs(()=>t[2]||(t[2]=[cv("div",null,"Buscar Bairro",-1)])),_:1}),_(a,{class:"mb-1"}),_(h,{class:"pa-4"},{default:cs(()=>[_(l,{modelValue:r.statement,"onUpdate:modelValue":t[0]||(t[0]=g=>r.statement=g),label:"Nome do Bairro"},null,8,["modelValue"]),_(c,{"prepend-icon":"mdi-magnify",block:"",onClick:s.searchBairro},{default:cs(()=>t[3]||(t[3]=[fs("Buscar")])),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const l6e=Nb(o6e,[["render",a6e]]),u6e={name:"DrawerVue",computed:{drawer:{get(){return this.$store.state.drawer},set(e){this.$store.commit("setDrawer",e)}}}};function c6e(e,t,n,i,r,s){const o=Dn("v-list-item"),a=Dn("v-divider"),l=Dn("v-navigation-drawer"),c=Dn("v-layout");return Hm(),YA(c,null,{default:cs(()=>[_(l,{modelValue:s.drawer,"onUpdate:modelValue":t[0]||(t[0]=h=>s.drawer=h),location:"right",elevation:"7",width:"300",style:{height:"92vh",top:"64px",position:"fixed"}},{default:cs(()=>[_(o,{lines:"two",class:"text-h5"},{default:cs(()=>t[1]||(t[1]=[fs(" Dados do Bairro ")])),_:1}),_(a,{class:"mb-1"}),_(o,{lines:"one",style:{"text-transform":"capitalize"}},{default:cs(()=>[t[2]||(t[2]=cv("b",null,"ID",-1)),fs(": "+xa(this.$store.state.data.id)+" ",1),t[3]||(t[3]=cv("br",null,null,-1)),t[4]||(t[4]=cv("b",null,"Bairro",-1)),fs(": "+xa(this.$store.state.data.bairro),1)]),_:1})]),_:1},8,["modelValue"])]),_:1})}const d6e=Nb(u6e,[["render",c6e]]),h6e={name:"PanelVue",components:{MapVue:n6e,HeaderVue:s6e,FilterVue:l6e,DrawerVue:d6e},methods:{searchBairro(e,t){this.$refs.mapView.applyFilter(e,t)}}},p6e={class:"panel"},f6e={class:"principal"};function m6e(e,t,n,i,r,s){const o=Dn("HeaderVue"),a=Dn("FilterVue"),l=Dn("MapVue"),c=Dn("DrawerVue");return Hm(),ZA("section",p6e,[_(o),_(a,{onSearchBairro:s.searchBairro},null,8,["onSearchBairro"]),cv("div",f6e,[_(l,{ref:"mapView"},null,512),_(c)])])}const y6e=Nb(h6e,[["render",m6e]]),g6e={__name:"App",setup(e){return(t,n)=>(Hm(),ZA("div",null,[_(y6e)]))}},v6e=tz({components:Yue,directives:ace,icons:{defaultSet:"mdi"}});Ste(g6e).use(v6e).use(lce).mount("#app");export{Z1e as $,fn as A,bxe as B,or as C,Nx as D,bEe as E,p2e as F,Ji as G,rLe as H,li as I,f2e as J,m2e as K,OUe as L,H as M,j as N,uW as O,Lt as P,Kke as Q,Dl as R,aWe as S,te as T,Ac as U,ybe as V,uy as W,l3 as X,O1e as Y,dW as Z,J as _,vEe as a,oSe as a$,u as a0,d as a1,k as a2,xUe as a3,SUe as a4,bs as a5,we as a6,lAe as a7,gc as a8,NSe as a9,$x as aA,kPe as aB,sx as aC,bbe as aD,wbe as aE,_be as aF,rH as aG,L1e as aH,nLe as aI,K0 as aJ,cq as aK,vh as aL,r3 as aM,uq as aN,xV as aO,jBe as aP,Vze as aQ,np as aR,_ce as aS,ut as aT,Gge as aU,at as aV,Ve as aW,et as aX,zh as aY,yb as aZ,aSe as a_,OSe as aa,re as ab,yUe as ac,$m as ad,o9e as ae,A8e as af,ay as ag,ui as ah,Oh as ai,Ea as aj,T$e as ak,Er as al,B$e as am,pK as an,N$e as ao,GPe as ap,hLe as aq,mA as ar,YZ as as,P$e as at,JZ as au,ZZ as av,U$e as aw,D$e as ax,x$e as ay,E$e as az,N2 as b,AJ as b$,Rl as b0,Jn as b1,Nqe as b2,lWe as b3,wX as b4,_X as b5,zqe as b6,Qqe as b7,iWe as b8,um as b9,kt as bA,lq as bB,GHe as bC,uOe as bD,N6 as bE,R6 as bF,O6 as bG,L6 as bH,Mn as bI,n7e as bJ,e7e as bK,t7e as bL,ob as bM,Fo as bN,Wo as bO,ws as bP,Cqe as bQ,va as bR,D6 as bS,P6 as bT,UU as bU,Fm as bV,ZJ as bW,xr as bX,Nw as bY,Qze as bZ,_r as b_,Dm as ba,bS as bb,on as bc,Ws as bd,XP as be,Ut as bf,ib as bg,Na as bh,PZ as bi,ba as bj,dt as bk,Uge as bl,Cy as bm,Vo as bn,kge as bo,k5e as bp,Bh as bq,lUe as br,Cge as bs,J0 as bt,M5e as bu,YG as bv,Ia as bw,K6 as bx,qS as by,Tqe as bz,gN as c,mY as c$,uh as c0,T0e as c1,DF as c2,NF as c3,St as c4,Tk as c5,oje as c6,gGe as c7,Xke as c8,le as c9,dHe as cA,rt as cB,pHe as cC,Eqe as cD,lJ as cE,Sc as cF,Tr as cG,I8e as cH,nx as cI,nn as cJ,me as cK,mt as cL,ly as cM,gTe as cN,Il as cO,sr as cP,Bt as cQ,Pa as cR,Nc as cS,_c as cT,Dc as cU,TI as cV,rn as cW,no as cX,uS as cY,$I as cZ,II as c_,MIe as ca,LN as cb,ur as cc,Hwe as cd,AU as ce,xm as cf,Wje as cg,w3 as ch,je as ci,tw as cj,Gr as ck,F6e as cl,Gt as cm,gx as cn,ab as co,He as cp,EIe as cq,o8e as cr,l8e as cs,a8e as ct,u8e as cu,c8e as cv,d8e as cw,OI as cx,Ov as cy,Z3e as cz,oy as d,LL as d$,PK as d0,Re as d1,M0 as d2,si as d3,GS as d4,wA as d5,Ake as d6,Zt as d7,B6 as d8,h1 as d9,L0 as dA,he as dB,iFe as dC,jv as dD,_Q as dE,BWe as dF,Rb as dG,cFe as dH,qBe as dI,D9e as dJ,Zr as dK,MBe as dL,GBe as dM,bye as dN,Y9e as dO,AC as dP,Z9e as dQ,nb as dR,Ks as dS,FBe as dT,Kze as dU,z8e as dV,NU as dW,ex as dX,tx as dY,Sye as dZ,PL as d_,gb as da,WC as db,tBe as dc,SBe as dd,BBe as de,Nl as df,dq as dg,T0 as dh,Fr as di,Ii as dj,mh as dk,WE as dl,I6e as dm,X3e as dn,CU as dp,O_e as dq,kEe as dr,YL as ds,ySe as dt,D4 as du,Ce as dv,JFe as dw,pn as dx,Kn as dy,uFe as dz,HNe as e,Ix as e$,_ye as e0,Mb as e1,x0 as e2,tO as e3,j8e as e4,IG as e5,OZ as e6,Qwe as e7,lge as e8,k8e as e9,Kje as eA,yce as eB,$6e as eC,Tme as eD,Sm as eE,$L as eF,nbe as eG,sK as eH,Oc as eI,JPe as eJ,T1e as eK,APe as eL,cK as eM,oLe as eN,H8e as eO,vS as eP,D2 as eQ,V2 as eR,pt as eS,s9e as eT,rb as eU,zje as eV,Dme as eW,qV as eX,$G as eY,f8e as eZ,EUe as e_,Ma as ea,mb as eb,s3 as ec,Zye as ed,WG as ee,_ge as ef,L8e as eg,ps as eh,P8e as ei,ZG as ej,NL as ek,W8e as el,vG as em,fye as en,kL as eo,Us as ep,px as eq,oK as er,hK as es,PPe as et,uK as eu,dK as ev,WP as ew,ZP as ex,qN as ey,Js as ez,Rqe as f,Pje as f$,rje as f0,QP as f1,Cc as f2,MEe as f3,LTe as f4,_Ee as f5,_H as f6,$Se as f7,_Se as f8,Cr as f9,We as fA,N_ as fB,hc as fC,ge as fD,LEe as fE,Vs as fF,OWe as fG,fUe as fH,IY as fI,UEe as fJ,fS as fK,wt as fL,hy as fM,Yg as fN,zze as fO,sEe as fP,D0e as fQ,Xze as fR,$i as fS,gV as fT,Bu as fU,o0 as fV,iS as fW,zhe as fX,lb as fY,Aje as fZ,Hl as f_,Vi as fa,ir as fb,xb as fc,ql as fd,wSe as fe,r1e as ff,R_e as fg,i1e as fh,DPe as fi,VPe as fj,aLe as fk,SSe as fl,x9 as fm,Jje as fn,F2 as fo,hb as fp,a0 as fq,Ju as fr,gs as fs,Fme as ft,X2 as fu,IL as fv,jme as fw,aY as fx,Uje as fy,ka as fz,nWe as g,R9e as g$,Rf as g0,Lje as g1,gh as g2,S6e as g3,x6e as g4,_6e as g5,e0 as g6,Mm as g7,_h as g8,B2 as g9,Ol as gA,axe as gB,qwe as gC,_Ue as gD,Q_e as gE,wUe as gF,X_e as gG,l9 as gH,u9e as gI,k1 as gJ,jk as gK,Of as gL,fx as gM,nBe as gN,op as gO,gA as gP,HS as gQ,Pp as gR,PU as gS,OU as gT,RU as gU,A6e as gV,B6e as gW,fqe as gX,F9e as gY,B9e as gZ,z9e as g_,Lce as ga,oc as gb,q6e as gc,n8e as gd,i8e as ge,I0 as gf,bn as gg,xJ as gh,Mc as gi,_5 as gj,g5 as gk,Cze as gl,Pm as gm,pY as gn,mO as go,mUe as gp,tLe as gq,a9 as gr,G9 as gs,ade as gt,bce as gu,QWe as gv,cEe as gw,a_ as gx,h8e as gy,Zje as gz,Xqe as h,ML as h$,b8e as h0,UVe as h1,b9e as h2,w9e as h3,J3 as h4,oAe as h5,Mze as h6,NHe as h7,Ik as h8,B8e as h9,UTe as hA,G as hB,x1e as hC,BTe as hD,Tx as hE,lW as hF,E6e as hG,s1 as hH,R6e as hI,XPe as hJ,zPe as hK,tAe as hL,dS as hM,vBe as hN,gBe as hO,Cbe as hP,HH as hQ,z3 as hR,TIe as hS,xIe as hT,_Ie as hU,Ff as hV,b4 as hW,qr as hX,CIe as hY,Tb as hZ,Gme as h_,ZHe as ha,DBe as hb,TBe as hc,Bze as hd,tT as he,X0 as hf,t0 as hg,uSe as hh,Xm as hi,tb as hj,Si as hk,HAe as hl,Z8e as hm,AAe as hn,KPe as ho,wze as hp,OD as hq,TG as hr,EG as hs,_n as ht,q8e as hu,v1e as hv,cW as hw,BPe as hx,hW as hy,gye as hz,Vqe as i,vGe as i$,qme as i0,Wme as i1,Ph as i2,DTe as i3,Y_e as i4,ATe as i5,hSe as i6,REe as i7,DD as i8,FG as i9,xSe as iA,Rye as iB,Iye as iC,NG as iD,rWe as iE,zUe as iF,pBe as iG,DS as iH,lBe as iI,LSe as iJ,LWe as iK,PSe as iL,Eze as iM,Zqe as iN,bX as iO,Bc as iP,_i as iQ,yOe as iR,bA as iS,j6 as iT,hqe as iU,F6 as iV,Gs as iW,AK as iX,wl as iY,Co as iZ,h_ as i_,HEe as ia,ISe as ib,NEe as ic,kx as id,_T as ie,Ib as ig,HM as ih,Mx as ii,hTe as ij,Cb as ik,bSe as il,nO as im,yx as io,Ice as ip,bV as iq,EY as ir,Kf as is,kme as it,Ta as iu,jo as iv,S0 as iw,U3 as ix,ESe as iy,TSe as iz,Kqe as j,gxe as j$,HJ as j0,wO as j1,aA as j2,DAe as j3,qJ as j4,nj as j5,A6 as j6,U6e as j7,yde as j8,vs as j9,NPe as jA,aK as jB,MS as jC,cp as jD,qPe as jE,vi as jF,lY as jG,Vde as jH,jve as jI,jxe as jJ,nSe as jK,G2e as jL,vZ as jM,exe as jN,J7 as jO,nG as jP,fEe as jQ,LZ as jR,o7e as jS,TZ as jT,nL as jU,Va as jV,af as jW,z2e as jX,y7e as jY,yxe as jZ,OTe as j_,_je as ja,bm as jb,bL as jc,Nme as jd,Fze as je,bi as jf,LAe as jg,RAe as jh,GJ as ji,w6e as jj,Nv as jk,vA as jl,FJ as jm,S3 as jn,vbe as jo,mbe as jp,RPe as jq,dLe as jr,pLe as js,UAe as jt,Vx as ju,F$e as jv,cY as jw,vye as jx,Tye as jy,NS as jz,ai as k,V0e as k$,Oo as k0,RWe as k1,ey as k2,AZ as k3,j3 as k4,Wl as k5,XWe as k6,KWe as k7,cQ as k8,oE as k9,Xje as kA,khe as kB,D6e as kC,V6e as kD,N6e as kE,xme as kF,sp as kG,mx as kH,ua as kI,b0e as kJ,Pze as kK,GH as kL,jO as kM,QS as kN,jn as kO,zDe as kP,Ao as kQ,YDe as kR,JDe as kS,hp as kT,N as kU,Zn as kV,Av as kW,uVe as kX,sVe as kY,Xs as kZ,NDe as k_,BEe as ka,txe as kb,sxe as kc,sZ as kd,R3 as ke,xS as kf,vSe as kg,an as kh,cxe as ki,B2e as kj,U2e as kk,q2e as kl,W2e as km,rxe as kn,Z2e as ko,Y2e as kp,J2e as kq,K2e as kr,X2e as ks,Q2e as kt,TY as ku,c9e as kv,kce as kw,vr as kx,fY as ky,ZD as kz,l7e as l,Y0 as l$,F0e as l0,_xe as l1,sWe as l2,Oqe as l3,k6 as l4,MHe as l5,CHe as l6,IHe as l7,EHe as l8,AHe as l9,pqe as lA,t0e as lB,l0e as lC,fb as lD,_ze as lE,mVe as lF,Gj as lG,Rh as lH,VAe as lI,PN as lJ,xHe as lK,e2 as lL,t1 as lM,g0e as lN,Zze as lO,tL as lP,pje as lQ,hje as lR,B_e as lS,Sde as lT,_de as lU,Gze as lV,Q$e as lW,k6e as lX,Iqe as lY,ht as lZ,t8e as l_,kHe as la,THe as lb,$He as lc,xc as ld,C as le,ZL as lf,r0e as lg,F_ as lh,eve as li,ude as lj,aje as lk,l9e as ll,a9e as lm,_Z as ln,bZ as lo,Hme as lp,jWe as lq,c3 as lr,$Be as ls,_Be as lt,lPe as lu,uPe as lv,t8 as lw,lK as lx,Pke as ly,V6 as lz,XNe as m,r9e as m$,g0 as m0,dWe as m1,v7e as m2,pRe as m3,Sce as m4,Bje as m5,lme as m6,K2 as m7,Yje as m8,bge as m9,fOe as mA,ac as mB,ROe as mC,DOe as mD,VOe as mE,Fj as mF,pb as mG,M6 as mH,k0e as mI,NAe as mJ,Bo as mK,QL as mL,e3 as mM,US as mN,ZH as mO,FHe as mP,DHe as mQ,VHe as mR,lOe as mS,UUe as mT,GUe as mU,BUe as mV,uve as mW,$0 as mX,ixe as mY,w8e as mZ,hxe as m_,wge as ma,oq as mb,M0e as mc,Rze as md,Eq as me,eK as mf,Qje as mg,fce as mh,kje as mi,qx as mj,I7e as mk,E7e as ml,SJ as mm,wJ as mn,lke as mo,cke as mp,Fv as mq,wr as mr,XDe as ms,YX as mt,gH as mu,yH as mv,lx as mw,BDe as mx,Vj as my,KUe as mz,eWe as n,U8e as n$,i9e as n0,X5 as n1,sc as n2,p0 as n3,PEe as n4,E1e as n5,g1e as n6,b1e as n7,ig as n8,$l as n9,Ro as nA,nme as nB,Y8e as nC,Qu as nD,wq as nE,dEe as nF,Aze as nG,kze as nH,vb as nI,bb as nJ,wb as nK,K$e as nL,nTe as nM,S1e as nN,w1e as nO,_1e as nP,wBe as nQ,bBe as nR,SL as nS,R1e as nT,P1e as nU,UPe as nV,A1e as nW,Pbe as nX,OAe as nY,Pb as nZ,mke as n_,Nq as na,m3 as nb,dy as nc,Kbe as nd,mPe as ne,YHe as nf,vje as ng,CJ as nh,FS as ni,Vm as nj,wa as nk,hO as nl,sA as nm,gJ as nn,Ab as no,v8e as np,LU as nq,rG as nr,TL as ns,jje as nt,CG as nu,ED as nv,uG as nw,sRe as nx,Nje as ny,rp as nz,tWe as o,oh as o$,Gje as o0,o9 as o1,HCe as o2,GWe as o3,Lke as o4,V3 as o5,HSe as o6,DWe as o7,D8e as o8,e8e as o9,C6e as oA,CBe as oB,IBe as oC,mqe as oD,CUe as oE,eIe as oF,fq as oG,MUe as oH,yy as oI,A3 as oJ,zSe as oK,jSe as oL,my as oM,YW as oN,BFe as oO,s2e as oP,UFe as oQ,nZ as oR,IS as oS,qW as oT,xv as oU,C0 as oV,iPe as oW,A2e as oX,k2e as oY,rZe as oZ,sZe as o_,aL as oa,IZ as ob,vc as oc,P_e as od,J_e as oe,K_e as of,L_e as og,dSe as oh,bTe as oi,NTe as oj,Tp as ok,z6 as ol,rRe as om,dqe as on,mOe as oo,q6 as op,H6 as oq,FAe as or,UWe as os,pp as ot,tFe as ou,Vy as ov,gr as ow,cm as ox,M6e as oy,vce as oz,Ume as p,Oze as p$,dx as p0,iZe as p1,jL as p2,sje as p3,nZe as p4,tZe as p5,NW as p6,L6e as p7,VJ as p8,tUe as p9,ap as pA,LUe as pB,G6e as pC,Hze as pD,UBe as pE,Lc as pF,Oje as pG,Hxe as pH,Ca as pI,Nh as pJ,rqe as pK,MK as pL,Ize as pM,CS as pN,V9e as pO,oqe as pP,sqe as pQ,vHe as pR,bHe as pS,VF as pT,Wx as pU,Lb as pV,RH as pW,m8e as pX,Mke as pY,bke as pZ,wke as p_,nUe as pa,iUe as pb,RHe as pc,X6 as pd,wHe as pe,SDe as pf,Zs as pg,Jx as ph,DJ as pi,jJ as pj,pAe as pk,bGe as pl,SAe as pm,wGe as pn,h1e as po,Sze as pp,rO as pq,yke as pr,Oke as ps,nE as pt,xze as pu,VS as pv,sLe as pw,vke as px,i$ as py,Sb as pz,Hje as q,e5 as q$,Nke as q0,Qd as q1,ij as q2,DK as q3,eqe as q4,tqe as q5,nqe as q6,iqe as q7,zHe as q8,UHe as q9,aBe as qA,cS as qB,$qe as qC,oi as qD,Cx as qE,zj as qF,W9e as qG,gHe as qH,jF as qI,cSe as qJ,G_e as qK,QUe as qL,M8e as qM,S8e as qN,T8e as qO,x8e as qP,E8e as qQ,$8e as qR,C8e as qS,$r as qT,Dhe as qU,Mje as qV,xqe as qW,e9e as qX,wN as qY,_8e as qZ,s5 as q_,BHe as qa,NOe as qb,Oye as qc,Cl as qd,Wke as qe,pO as qf,I0e as qg,Lze as qh,p8e as qi,E0 as qj,m9 as qk,o6 as ql,ske as qm,oke as qn,kI as qo,uUe as qp,y8e as qq,s8e as qr,r8e as qs,Lye as qt,jf as qu,uJ as qv,vde as qw,gde as qx,Ux as qy,fRe as qz,PUe as r,ej as r$,S0e as r0,t5 as r1,v5 as r2,n5 as r3,eBe as r4,l5 as r5,E5 as r6,I5 as r7,C5 as r8,z0e as r9,N5 as rA,u5 as rB,GF as rC,UF as rD,BF as rE,JF as rF,wx as rG,JHe as rH,I9e as rI,C9e as rJ,U9e as rK,Ek as rL,$9e as rM,v9e as rN,NZ as rO,Dx as rP,E9e as rQ,m$e as rR,T9e as rS,WHe as rT,f$e as rU,Zx as rV,g$e as rW,qHe as rX,_9e as rY,xOe as rZ,HHe as r_,Nze as ra,$0e as rb,kC as rc,M5 as rd,Dze as re,kAe as rf,S9e as rg,j9e as rh,x9e as ri,N9e as rj,jze as rk,G9e as rl,qze as rm,jHe as rn,P9e as ro,A9e as rp,L9e as rq,O9e as rr,U5 as rs,G5 as rt,H5 as ru,k9e as rv,M9e as rw,D5 as rx,KF as ry,F5 as rz,B as s,_qe as s$,_He as s0,SHe as s1,KHe as s2,XHe as s3,aqe as s4,lqe as s5,PHe as s6,uqe as s7,cqe as s8,aOe as s9,$De as sA,eZe as sB,IWe as sC,jDe as sD,Jze as sE,oGe as sF,tTe as sG,z1e as sH,_J as sI,yq as sJ,h9 as sK,j1e as sL,qTe as sM,$ke as sN,FWe as sO,VWe as sP,wVe as sQ,GD as sR,sUe as sS,iOe as sT,MG as sU,Yze as sV,vUe as sW,wwe as sX,WUe as sY,qUe as sZ,C6 as s_,dOe as sa,YK as sb,wm as sc,QHe as sd,qje as se,jAe as sf,Bye as sg,zye as sh,g8e as si,Bde as sj,u8 as sk,j5e as sl,Pge as sm,A7e as sn,P7e as so,$_ as sp,zL as sq,rve as sr,KK as ss,c0 as st,h0 as su,Cm as sv,Oge as sw,j6e as sx,wd as sy,VDe as sz,GEe as t,cZ as t$,wqe as t0,bqe as t1,LOe as t2,NK as t3,OHe as t4,LHe as t5,kOe as t6,Sqe as t7,yHe as t8,jhe as t9,p0e as tA,EBe as tB,Uze as tC,VBe as tD,Om as tE,eMe as tF,fPe as tG,QJ as tH,gje as tI,bw as tJ,h4 as tK,_x as tL,HUe as tM,yc as tN,sQ as tO,zWe as tP,xk as tQ,FPe as tR,ABe as tS,f1e as tT,xBe as tU,kFe as tV,g9e as tW,lQ as tX,Nf as tY,Vbe as tZ,kbe as t_,mq as ta,GAe as tb,Jme as tc,RBe as td,NBe as te,K1e as tf,J1e as tg,cLe as th,oWe as ti,D1e as tj,Y1e as tk,WZ as tl,uBe as tm,X$e as tn,TUe as to,YMe as tp,pGe as tq,r2e as tr,Ube as ts,zBe as tt,PBe as tu,kBe as tv,z6e as tw,KBe as tx,JBe as ty,O6e as tz,a7e as u,DQ as u0,VQ as u1,N2e as u2,Ike as u3,G8e as u4,hke as u5,Mbe as u6,lje as u7,VL as u8,qWe as u9,s7e as uA,w7e as uB,Mqe as uC,PA as ua,b3 as ub,hBe as uc,WWe as ud,ZWe as ue,LBe as uf,dBe as ug,U4 as uh,cBe as ui,Wze as uj,B4 as uk,Q3 as ul,HU as um,H6e as un,OBe as uo,C1e as up,$1e as uq,YWe as ur,HWe as us,r$ as ut,z4 as uu,JWe as uv,N1e as uw,up as ux,XUe as uy,i7e as uz,SY as v,gEe as w,jqe as x,Tv as y,nt as z};
